{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Location\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./location.scss\";\nimport Layout from \"../../hoc/layout\";\nimport { findLocation } from \"../../actions/product_actions\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport Geocode from \"react-geocode\"; // import {\n//     StaticGoogleMap,\n//     Marker,\n//     Path,\n//   } from 'react-static-google-map';\n\nGeocode.setApiKey(\"AIzaSyC2UANhvpqKx54aeIVGQk8q0FBCJThlVm4\");\n\nclass Location extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      isLoading: false,\n      lat: \"\",\n      long: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const name = this.props.match.params.name;\n    this.setState({\n      name: name\n    });\n    this.props.dispatch(findLocation(name));\n  } // followTag(id,previousState) {\n  //     this.props.dispatch(followTag(id, previousState));\n  // }\n  // unfollowTag(id, previousState) {\n  //     this.props.dispatch(unfollowTag(id, previousState));\n  // }\n  // LoadmoreCards = () => {\n  //     let skip = this.state.skip + this.state.limit;\n  //     this.props.dispatch(getTag(\n  //         this.state.id,\n  //         this.state.skip,\n  //         this.state.limit\n  //     ))\n  //     .then(() => {\n  //         this.setState({\n  //             isLoading: false,\n  //             skip\n  //         })\n  //     })\n  // }\n  // handleScroll() {\n  //     const windowHeight = \"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\n  //     const body = document.body;\n  //     const html = document.documentElement;\n  //     const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n  //     const windowBottom = Math.ceil(windowHeight + window.pageYOffset);\n  //     console.log(windowBottom, docHeight, windowHeight)\n  //     if (windowBottom >= docHeight) {\n  //         this.setState({ isLoading: true }, () => { this.LoadmoreCards()});\n  //         console.log('bottom reached');\n  //     }\n  // }\n\n\n  render() {\n    Geocode.fromAddress(this.state.name).then(response => {\n      const {\n        lat,\n        lng\n      } = response.results[0].geometry.location;\n      this.setState({\n        lat: lat,\n        long: lng\n      });\n      console.log(lat, lng);\n    }, error => {\n      console.error(error);\n    });\n    console.log(this.props.products);\n    return this.props.products.matchlocation ? /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"TagPage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tag_info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tag_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, this.state.name), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, this.props.products.matchlocation.length, \" B\\xE0i vi\\u1EBFt\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"posts\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, this.props.products ? this.props.products.matchlocation.map(item => {\n      return item.hidden ? null : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-xl-4 col-md-4  pb-3 pt-3 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-wrapper\",\n        onClick: () => {\n          this.props.history.push(`/postDetail/${item._id}`);\n        },\n        style: {\n          backgroundImage: `url(${item.images[0].url})`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }\n      }));\n    }) : \"\")), this.state.isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main_loader\",\n      style: {\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translateX(-50 %) translateY(- 50 %)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      style: {\n        color: \"#5477D5\"\n      },\n      thickness: 7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    })) : \"\")) : \"\";\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    products: state.products\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(Location));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Location/index.js"],"names":["React","Component","connect","Layout","findLocation","CircularProgress","Link","withRouter","Geocode","setApiKey","Location","state","name","isLoading","lat","long","componentDidMount","props","match","params","setState","dispatch","render","fromAddress","then","response","lng","results","geometry","location","console","log","error","products","matchlocation","length","map","item","hidden","history","push","_id","backgroundImage","images","url","position","top","left","transform","color","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./location.scss\";\nimport Layout from \"../../hoc/layout\";\nimport { findLocation } from \"../../actions/product_actions\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport Geocode from \"react-geocode\";\n\n// import {\n//     StaticGoogleMap,\n//     Marker,\n//     Path,\n//   } from 'react-static-google-map';\nGeocode.setApiKey(\"AIzaSyC2UANhvpqKx54aeIVGQk8q0FBCJThlVm4\");\nclass Location extends Component {\n  state = {\n    name: \"\",\n    isLoading: false,\n    lat: \"\",\n    long: \"\",\n  };\n\n  componentDidMount() {\n    const name = this.props.match.params.name;\n    this.setState({\n      name: name,\n    });\n    this.props.dispatch(findLocation(name));\n  }\n\n  // followTag(id,previousState) {\n  //     this.props.dispatch(followTag(id, previousState));\n  // }\n\n  // unfollowTag(id, previousState) {\n  //     this.props.dispatch(unfollowTag(id, previousState));\n  // }\n\n  // LoadmoreCards = () => {\n  //     let skip = this.state.skip + this.state.limit;\n  //     this.props.dispatch(getTag(\n  //         this.state.id,\n  //         this.state.skip,\n  //         this.state.limit\n  //     ))\n  //     .then(() => {\n  //         this.setState({\n  //             isLoading: false,\n  //             skip\n  //         })\n  //     })\n  // }\n\n  // handleScroll() {\n  //     const windowHeight = \"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\n  //     const body = document.body;\n  //     const html = document.documentElement;\n  //     const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n  //     const windowBottom = Math.ceil(windowHeight + window.pageYOffset);\n  //     console.log(windowBottom, docHeight, windowHeight)\n  //     if (windowBottom >= docHeight) {\n  //         this.setState({ isLoading: true }, () => { this.LoadmoreCards()});\n  //         console.log('bottom reached');\n  //     }\n  // }\n\n  render() {\n    Geocode.fromAddress(this.state.name).then(\n      (response) => {\n        const { lat, lng } = response.results[0].geometry.location;\n        this.setState({ lat: lat, long: lng });\n        console.log(lat, lng);\n      },\n      (error) => {\n        console.error(error);\n      }\n    );\n    console.log(this.props.products);\n    return this.props.products.matchlocation ? (\n      <Layout>\n        <div className=\"TagPage\">\n          <div className=\"tag_info\">\n            {/* <StaticGoogleMap size=\"600x300\" apiKey=\"AIzaSyC2UANhvpqKx54aeIVGQk8q0FBCJThlVm4\">\n  <Marker\n    location={{ lat: this.state.lat, lng: this.state.long }}\n    color=\"blue\"\n    label=\"P\"\n  />\n  <Path\n    points={[\n        this.state.lat, this.state.long,\n        this.state.lat, this.state.long,\n        this.state.lat, this.state.long,\n        this.state.lat, this.state.long,\n    ]}\n  />\n</StaticGoogleMap> */}\n\n            <div className=\"tag_name\">\n              <h3>{this.state.name}</h3>\n              <h6>{this.props.products.matchlocation.length} Bài viết</h6>\n            </div>\n          </div>\n          <div className=\"posts\">\n            <div className=\"row\">\n              {this.props.products\n                ? this.props.products.matchlocation.map((item) => {\n                    return item.hidden ? null : (\n                      <div className=\"col-xl-4 col-md-4  pb-3 pt-3 \">\n                        <div\n                          className=\"image-wrapper\"\n                          onClick={() => {\n                            this.props.history.push(`/postDetail/${item._id}`);\n                          }}\n                          style={{\n                            backgroundImage: `url(${item.images[0].url})`,\n                          }}\n                        ></div>\n                      </div>\n                    );\n                  })\n                : \"\"}\n            </div>\n          </div>\n          {this.state.isLoading ? (\n            <div\n              className=\"main_loader\"\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                transform: \"translateX(-50 %) translateY(- 50 %)\",\n              }}\n            >\n              <CircularProgress style={{ color: \"#5477D5\" }} thickness={7} />\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n      </Layout>\n    ) : (\n      \"\"\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    products: state.products,\n  };\n}\nexport default connect(mapStateToProps)(withRouter(Location));\n"]},"metadata":{},"sourceType":"module"}