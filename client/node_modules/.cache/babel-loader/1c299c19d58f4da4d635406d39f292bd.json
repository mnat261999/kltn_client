{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Admin\\\\dashboard\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Layout from '../Layout/index';\nimport './dashboard.scss';\nimport { getAll, sort } from '../../../actions/report_actions';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { withRouter } from 'react-router-dom';\nimport moment from 'moment';\nimport { CircleCheck, Receipt } from 'tabler-icons-react';\n\nclass Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      limit: 8,\n      skip: 0,\n      filter: [\"all\"],\n      sortBy: {\n        type: \"date\",\n        order: 1\n      },\n      isloading: false\n    };\n\n    this.renderReportContent = item => {\n      switch (item.reportType) {\n        case \"post\":\n          return /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            className: \"name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 25\n            }\n          }, item.sentBy[0].userName), \" \\u0111\\xE3 b\\xE1o c\\xE1o m\\u1ED9t b\\xE0i vi\\u1EBFt c\\u1EE7a \", /*#__PURE__*/React.createElement(\"b\", {\n            className: \"name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 104\n            }\n          }, item.post.postedBy[0].userName));\n\n        case \"user\":\n          return /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 25\n            }\n          }, item.sentBy[0].userName), \" \\u0111\\xE3 b\\xE1o c\\xE1o ng\\u01B0\\u1EDDi d\\xF9ng  \", /*#__PURE__*/React.createElement(\"b\", {\n            className: \"name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 81\n            }\n          }, item.userId[0].userName));\n\n        case \"comment\":\n          return /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            className: \"name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 25\n            }\n          }, item.sentBy[0].userName), \" \\u0111\\xE3 b\\xE1o c\\xE1o b\\xECnh lu\\u1EADn vi\\u1EBFt c\\u1EE7a \", /*#__PURE__*/React.createElement(\"b\", {\n            className: \"name\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 106\n            }\n          }, item.comment.postedBy[0].userName));\n      }\n    };\n\n    this.renderType = type => {\n      switch (type) {\n        case \"user\":\n          return \"Người dùng\";\n\n        case \"post\":\n          return \"Bài viết\";\n\n        case \"comment\":\n          return \"Bình luận\";\n      }\n    };\n\n    this.loadmore = () => {\n      this.setState({\n        isloading: true\n      });\n      let skip = this.state.skip + this.state.limit;\n      this.props.dispatch(getAll(this.state.limit, skip, this.state.filter, this.props.reports.list)).then(() => {\n        sort(this.state.sortBy, this.props.reports.list);\n        this.setState({\n          skip: skip,\n          isloading: false\n        }, () => {\n          console.log(\"here\", this.props.reports.list);\n        });\n      });\n    };\n\n    this.filter = type => {\n      this.setState({\n        isloading: true\n      });\n      const filter = [type];\n      this.props.dispatch(getAll(4, 0, filter, [])).then(() => this.setState({\n        limit: 4,\n        skip: 0,\n        filter: [type],\n        isloading: false\n      }));\n    };\n\n    this.order = type => {\n      switch (type) {\n        case \"date\":\n          if (this.state.sortBy.type == \"date\") {\n            this.setState({\n              sortBy: {\n                type: \"date\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.reports.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"date\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.reports.list);\n            });\n          }\n\n          break;\n\n        case \"status\":\n          if (this.state.sortBy.type == \"status\") {\n            this.setState({\n              sortBy: {\n                type: \"status\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.reports.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"status\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.reports.list);\n            });\n          }\n\n          break;\n\n        case \"type\":\n          if (this.state.sortBy.type == \"reportType\") {\n            this.setState({\n              sortBy: {\n                type: \"reportType\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.reports.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"reportType\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.reports.list);\n            });\n          }\n\n          break;\n      }\n    };\n\n    this.toDetail = item => {\n      this.props.history.push(`/Admin/ReportDetail/${item._id}`);\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getAll(this.state.limit, this.state.skip, this.state.filter));\n  }\n\n  postedDate(day) {\n    console.log(day);\n    day = parseInt(day);\n    console.log(typeof day);\n\n    if (day < 30) {\n      return day + \" ngày\";\n    } else if (day <= 1 && day > 0.0417) {\n      console.log(day);\n      return day * 24 + \" giờ\";\n    } else if (day <= 0.0417) {\n      console.log(day);\n      return day * 24 * 60 + \" phút\";\n    }\n  }\n\n  render() {\n    const {\n      reports\n    } = this.props;\n    console.log();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      page: \"report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"page_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }\n    }, \"Danh s\\xE1ch b\\xE1o c\\xE1o\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"dropdown filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-secondary dropdown-toggle\",\n      type: \"button\",\n      id: \"dropdownMenuButton\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }, this.state.filter[0]), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"dropdown-menu\",\n      \"aria-labelledby\": \"dropdownMenuButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.filter(\"all\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 37\n      }\n    }, \"T\\u1EA5t c\\u1EA3\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.filter(\"user\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 37\n      }\n    }, \"Ng\\u01B0\\u1EDDi d\\xF9ng\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.filter(\"post\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 37\n      }\n    }, \"B\\xE0i vi\\u1EBFt\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.filter(\"comment\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }, \"B\\xECnh lu\\u1EADn\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"dropdown filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-secondary dropdown-toggle\",\n      type: \"button\",\n      id: \"dropdownMenuButton\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 33\n      }\n    }, this.state.sortBy.type), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"dropdown-menu\",\n      \"aria-labelledby\": \"dropdownMenuButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"date\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 37\n      }\n    }, \"M\\u1EDBi nh\\u1EA5t\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"type\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 37\n      }\n    }, \"Lo\\u1EA1i\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"status\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 37\n      }\n    }, \"Tr\\u1EA1ng th\\xE1i\")))), reports.list ? /*#__PURE__*/React.createElement(\"table\", {\n      className: \"report-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"table-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 37\n      }\n    }, \"B\\xE1o c\\xE1o\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 37\n      }\n    }, \"Lo\\u1EA1i\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 37\n      }\n    }, \"T\\xECnh tr\\u1EA1ng\")), reports.list.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"table-content\",\n      onClick: () => this.toDetail(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"report\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.sentBy[0].avt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 66\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"report_info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 45\n      }\n    }, this.renderReportContent(item), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 49\n      }\n    }, moment(item.createdAt).fromNow(), \" \")))), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 41\n      }\n    }, this.renderType(item.reportType)), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 41\n      }\n    }, item.status ? /*#__PURE__*/React.createElement(CircleCheck, {\n      size: 25,\n      strokeWidth: 2,\n      color: 'rgb(40, 153, 36)',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 45\n      }\n    }) : /*#__PURE__*/React.createElement(Receipt, {\n      size: 25,\n      strokeWidth: 2,\n      color: 'rgb(252, 168, 42)',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 46\n      }\n    }))))) : /*#__PURE__*/React.createElement(LinearProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 31\n      }\n    }), this.state.isloading ? /*#__PURE__*/React.createElement(LinearProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 33\n      }\n    }) : reports.size >= this.state.limit ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loadmore\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"loadmore-btn\",\n      onClick: () => {\n        this.loadmore();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 37\n      }\n    }, \"Load more\")) : \"\")));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    reports: state.reports,\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(Dashboard));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Admin/dashboard/index.js"],"names":["React","Component","connect","Layout","getAll","sort","LinearProgress","withRouter","moment","CircleCheck","Receipt","Dashboard","state","limit","skip","filter","sortBy","type","order","isloading","renderReportContent","item","reportType","sentBy","userName","post","postedBy","userId","comment","renderType","loadmore","setState","props","dispatch","reports","list","then","console","log","toDetail","history","push","_id","componentDidMount","postedDate","day","parseInt","render","map","avt","createdAt","fromNow","status","size","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Layout from '../Layout/index';\r\nimport './dashboard.scss'\r\nimport { getAll, sort} from '../../../actions/report_actions';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { withRouter } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport {CircleCheck, Receipt} from 'tabler-icons-react'\r\nclass Dashboard extends Component {\r\n    state={\r\n        limit: 8,\r\n        skip: 0,\r\n        filter: [\"all\"],\r\n        sortBy: {type: \"date\", order: 1},\r\n        isloading: false,\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        this.props.dispatch(getAll(\r\n            this.state.limit, this.state.skip, this.state.filter\r\n        ));\r\n    }\r\n\r\n    renderReportContent = (item) => {\r\n        switch(item.reportType){\r\n            case \"post\":\r\n                return (\r\n                    <p>\r\n                        <b className=\"name\" >{item.sentBy[0].userName}</b> đã báo cáo một bài viết của <b className=\"name\" >{item.post.postedBy[0].userName}</b> \r\n                    </p>\r\n                )\r\n            case \"user\":\r\n                return (\r\n                    <p>\r\n                        <b>{item.sentBy[0].userName}</b> đã báo cáo người dùng  <b className=\"name\" >{item.userId[0].userName}</b>\r\n                    </p>\r\n                )\r\n            case \"comment\":\r\n                return (\r\n                    <p>\r\n                        <b className=\"name\" >{item.sentBy[0].userName}</b> đã báo cáo bình luận viết của <b className=\"name\" >{item.comment.postedBy[0].userName}</b>\r\n                    </p>\r\n                )\r\n        }\r\n    }\r\n    \r\n    renderType = (type) =>{\r\n        switch(type){\r\n            case \"user\":\r\n                return \"Người dùng\"\r\n            case \"post\":\r\n                return \"Bài viết\"\r\n            case \"comment\":\r\n                return \"Bình luận\"\r\n        }\r\n    }\r\n\r\n    loadmore = () =>{\r\n        this.setState({ isloading: true });\r\n        let skip = this.state.skip + this.state.limit;\r\n        this.props.dispatch(getAll(\r\n            this.state.limit,\r\n            skip,\r\n            this.state.filter,\r\n            this.props.reports.list,\r\n        )).then(() => {\r\n            sort(this.state.sortBy, this.props.reports.list)\r\n            this.setState({\r\n                skip: skip,\r\n                isloading: false\r\n            }, () => {console.log(\"here\",this.props.reports.list)})\r\n        })\r\n    }\r\n\r\n    filter = (type) => {\r\n        this.setState({isloading: true});\r\n        const filter = [type]\r\n        this.props.dispatch(getAll(\r\n            4,\r\n            0,\r\n            filter,\r\n            [],\r\n        )).then(() =>\r\n            this.setState({\r\n                limit: 4,\r\n                skip: 0,\r\n                filter: [type],\r\n                isloading: false\r\n            })\r\n        )\r\n    }\r\n\r\n    order = (type) =>{\r\n        switch (type){\r\n            case \"date\":\r\n                if (this.state.sortBy.type==\"date\"){\r\n                    this.setState({sortBy: {type: \"date\",order: this.state.sortBy.order*-1}},()=>{\r\n                       sort(this.state.sortBy,this.props.reports.list)\r\n                })\r\n                }else{\r\n                    this.setState({ sortBy: { type: \"date\", order: 1 }}, () => {\r\n                        sort(this.state.sortBy, this.props.reports.list)\r\n                    })\r\n                }\r\n                break;\r\n            case \"status\":\r\n                if (this.state.sortBy.type ==\"status\") {\r\n                    this.setState({ sortBy: { type: \"status\", order: this.state.sortBy.order * -1 } }, () => {\r\n                        sort(this.state.sortBy, this.props.reports.list)\r\n                    })\r\n                } else {\r\n                    this.setState({ sortBy: { type: \"status\", order: 1}}, () => {\r\n                        sort(this.state.sortBy, this.props.reports.list)\r\n                    })\r\n                }\r\n                break;\r\n            case \"type\":\r\n                if (this.state.sortBy.type ==\"reportType\") {\r\n                    this.setState({ sortBy: { type: \"reportType\", order: this.state.sortBy.order * -1 }}, () => {\r\n                        sort(this.state.sortBy, this.props.reports.list)\r\n                    })\r\n                } else {\r\n                    this.setState({ sortBy: { type: \"reportType\", order: 1 }}, () => {\r\n                        sort(this.state.sortBy, this.props.reports.list)\r\n                    })\r\n                }\r\n                break;     \r\n        }\r\n      \r\n    }\r\n    \r\n    postedDate(day) {\r\n        console.log(day);\r\n        day = parseInt(day);\r\n        console.log(typeof day)\r\n        if (day < 30) {\r\n            return day + \" ngày\";\r\n        } else if (day <= 1 && day > 0.0417) {\r\n            console.log(day);\r\n            return (day * 24) + \" giờ\";\r\n        } else if (day <= 0.0417) {\r\n            console.log(day);\r\n            return (day * 24 * 60) + \" phút\";\r\n        }\r\n    }\r\n    \r\n    toDetail = (item) => {\r\n        this.props.history.push(`/Admin/ReportDetail/${item._id}`);\r\n    }\r\n    \r\n    render() {\r\n        const {reports} = this.props\r\n        console.log()\r\n        return (\r\n            <div>\r\n                <Layout page=\"report\">\r\n                    <div className=\"dashboard\">\r\n                        <h2 className=\"page_title\">Danh sách báo cáo</h2>\r\n                        <div className=\"button\">\r\n                            <div class=\"dropdown filter\">\r\n                                <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                {\r\n                                    this.state.filter[0]\r\n                                }\r\n                                </button>\r\n                                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={()=>this.filter(\"all\")}>Tất cả</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() =>this.filter(\"user\")}>Người dùng</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() =>this.filter(\"post\")}>Bài viết</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() =>this.filter(\"comment\")}>Bình luận</a>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"dropdown filter\">\r\n                                <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    { this.state.sortBy.type }\r\n                                </button>\r\n                                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() => this.order(\"date\")}>Mới nhất</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() => this.order(\"type\")}>Loại</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() => this.order(\"status\")}>Trạng thái</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                      \r\n                        {\r\n                            reports.list ? \r\n                            <table className=\"report-list\">\r\n                                <tr className=\"table-header\">\r\n                                    <th className=\"report\">Báo cáo</th>\r\n                                    <th className=\"status\">Loại</th>\r\n                                    <th className=\"admin\" >Tình trạng</th>\r\n                                </tr>\r\n                                {\r\n                                    reports.list.map((item) => (\r\n                                    <tr className=\"table-content\" onClick={()=>this.toDetail(item)}>\r\n                                        <td className=\"report\">\r\n                                        <div className=\"wrapper\">\r\n                                            <div className=\"avt\"><img src={item.sentBy[0].avt}/></div>\r\n                                            <div className=\"report_info\">\r\n                                                {this.renderReportContent(item)}\r\n                                                {/* <p className=\"date\">{item.dateDifference >= 30 ? item.createdAt : this.postedDate(item.dateDifference)}</p> */}\r\n                                                <p>{moment(item.createdAt).fromNow()} </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        </td>\r\n                                        <td className=\"admin\">{  this.renderType(item.reportType)}</td>\r\n                                        <td className=\"status\">{item.status?\r\n                                            <CircleCheck\r\n                                            size={25}\r\n                                            strokeWidth={2}\r\n                                            color={'rgb(40, 153, 36)'}\r\n                                            />\r\n                                            :<Receipt\r\n                                                size={25}\r\n                                                strokeWidth={2}\r\n                                                color={'rgb(252, 168, 42)'}\r\n                                            />\r\n                                        }</td>\r\n                                    </tr>\r\n                                    ))\r\n                                }\r\n                            </table>\r\n                            : <LinearProgress />\r\n                        }\r\n                        {\r\n                            this.state.isloading ?\r\n                                <LinearProgress />\r\n                            :\r\n                            reports.size >= this.state.limit ?\r\n                                <div className=\"loadmore\">\r\n                                    <button className=\"loadmore-btn\" onClick={()=>{this.loadmore()}}>Load more</button>\r\n                                </div>\r\n                                : \"\"\r\n                        }\r\n                    </div>\r\n                </Layout>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        reports: state.reports,\r\n        user: state.user\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(Dashboard));"]},"metadata":{},"sourceType":"module"}