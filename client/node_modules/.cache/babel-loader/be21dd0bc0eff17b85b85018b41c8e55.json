{"ast":null,"code":"import axios from 'axios';\nimport { TAG_SERVER } from '../components/ultils/mise';\nimport { GET_ALL_TAGS, GET_TOP10_TAGS, ADD_TAG, GET_USER_TAG, GET_TAG_POSTS, FOLLOW_TAG, UN_FOLLOW_TAG } from './types';\nexport function getAllTags() {\n  const request = axios.get(`${TAG_SERVER}/getAllTags`).then(response => response.data);\n  return {\n    type: GET_ALL_TAGS,\n    payload: request\n  };\n}\nexport function getUserTag() {\n  const request = axios.get(`${TAG_SERVER}/getFollowers`).then(response => response.data);\n  return {\n    type: GET_USER_TAG,\n    payload: request\n  };\n}\nexport function getTopTenTags(skip, limit) {\n  let previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  const data = {\n    skip,\n    limit\n  };\n  const request = axios.get(`${TAG_SERVER}/getTop10Tags`, data).then(response => {\n    let newState = [...previousState, ...response.data.topTenTags];\n    return newState;\n  });\n  return {\n    type: GET_TOP10_TAGS,\n    payload: request\n  };\n}\nexport function addTag(dataToSubmit, existingTag) {\n  const request = axios.post(`${TAG_SERVER}/addTag`, dataToSubmit).then(response => {\n    let tags = [...existingTag, response.data.tags];\n    return {\n      success: response.data.success,\n      tags\n    };\n  });\n  return {\n    type: ADD_TAG,\n    payload: request\n  };\n}\nexport function getTag(id, skip, limit) {\n  let previousState = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  const data = {\n    id,\n    skip,\n    limit\n  };\n  const request = axios.post(`${TAG_SERVER}/getTag`, data).then(response => {\n    console.log(response.data);\n    let newState = {\n      tag: response.data.tag,\n      posts: [...previousState, ...response.data.posts]\n    };\n    return newState;\n  });\n  return {\n    type: GET_TAG_POSTS,\n    payload: request\n  };\n}\nexport function followTag(tagId) {\n  let previousState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const data = {\n    tagId\n  };\n  const request = axios.put(`${TAG_SERVER}/follow`, data).then(response => {\n    console.log(response.data);\n    return { ...previousState,\n      tag: response.data.tag\n    };\n  });\n  return {\n    type: FOLLOW_TAG,\n    payload: request\n  };\n}\nexport function unfollowTag(tagId) {\n  let previousState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const data = {\n    tagId\n  };\n  const request = axios.put(`${TAG_SERVER}/unfollow`, data).then(response => {\n    console.log(response.data);\n    return { ...previousState,\n      tag: response.data.tag\n    };\n  });\n  return {\n    type: FOLLOW_TAG,\n    payload: request\n  };\n}\nexport function getTagId(hashtag) {\n  console.log(hashtag);\n  const data = {\n    hashtag\n  };\n  const request = axios.post(`${TAG_SERVER}/getTagId`, data).then(response => {\n    console.log(response.data);\n    return response.data;\n  });\n  return request;\n}","map":{"version":3,"names":["axios","TAG_SERVER","GET_ALL_TAGS","GET_TOP10_TAGS","ADD_TAG","GET_USER_TAG","GET_TAG_POSTS","FOLLOW_TAG","UN_FOLLOW_TAG","getAllTags","request","get","then","response","data","type","payload","getUserTag","getTopTenTags","skip","limit","previousState","newState","topTenTags","addTag","dataToSubmit","existingTag","post","tags","success","getTag","id","console","log","tag","posts","followTag","tagId","put","unfollowTag","getTagId","hashtag"],"sources":["D:/Kltn/test/social-media/client/src/actions/tag_actions.js"],"sourcesContent":["import axios from 'axios';\r\nimport { TAG_SERVER } from '../components/ultils/mise';\r\n\r\nimport {\r\n    GET_ALL_TAGS,\r\n    GET_TOP10_TAGS,\r\n    ADD_TAG,\r\n    GET_USER_TAG, \r\n    GET_TAG_POSTS,\r\n    FOLLOW_TAG,\r\n    UN_FOLLOW_TAG,\r\n} from './types';\r\n\r\nexport function getAllTags() {\r\n    const request = axios.get(`${TAG_SERVER}/getAllTags`)\r\n    .then(response => response.data)\r\n    return {\r\n        type: GET_ALL_TAGS,\r\n        payload: request,\r\n    }\r\n}\r\n\r\nexport function getUserTag() {\r\n    const request = axios.get(`${TAG_SERVER}/getFollowers`)\r\n        .then(response => response.data)\r\n    return {\r\n        type: GET_USER_TAG,\r\n        payload: request,\r\n    }\r\n}\r\n\r\nexport function getTopTenTags(skip,limit,previousState=[]) {\r\n    const data={\r\n        skip,\r\n        limit\r\n    };\r\n    const request = axios.get(`${TAG_SERVER}/getTop10Tags`, data)\r\n    .then(response => {\r\n        let newState = [\r\n            ...previousState,\r\n            ...response.data.topTenTags\r\n        ]\r\n        return  newState;\r\n    })\r\n    return {\r\n        type: GET_TOP10_TAGS,\r\n        payload: request,\r\n    }\r\n}\r\nexport function addTag(dataToSubmit, existingTag) {\r\n    const request = axios.post(`${TAG_SERVER}/addTag`, dataToSubmit)\r\n        .then(response => {\r\n            let tags = [\r\n                ...existingTag,\r\n                response.data.tags\r\n            ];\r\n            return {\r\n                success: response.data.success,\r\n                tags\r\n            }\r\n        });\r\n\r\n    return {\r\n        type: ADD_TAG,\r\n        payload: request\r\n    }\r\n}\r\nexport function getTag(id,skip, limit, previousState = []){\r\n    const data = {\r\n        id,\r\n        skip,\r\n        limit,\r\n    }\r\n    const request = axios.post(`${TAG_SERVER}/getTag`, data)\r\n        .then(response => {\r\n            console.log(response.data);\r\n            let newState = {\r\n                tag: response.data.tag,\r\n                posts: [...previousState,...response.data.posts]\r\n            }\r\n            return newState\r\n        })\r\n    return {\r\n        type: GET_TAG_POSTS,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function followTag(tagId, previousState=[]) {\r\n    \r\n    const data = { tagId }\r\n    \r\n    const request = axios.put(`${TAG_SERVER}/follow`, data)\r\n    .then( response => {\r\n        console.log(response.data);\r\n        return {\r\n            ...previousState,\r\n            tag: response.data.tag,\r\n        }\r\n    })\r\n    \r\n    return {\r\n        type: FOLLOW_TAG,\r\n        payload: request\r\n    }\r\n\r\n}\r\n\r\nexport function unfollowTag(tagId, previousState = []){\r\n\r\n    const data = { tagId }\r\n\r\n    const request = axios.put(`${TAG_SERVER}/unfollow`, data)\r\n        .then(response => {\r\n            console.log(response.data);\r\n            return {\r\n                ...previousState,\r\n                tag: response.data.tag,\r\n            }\r\n        })\r\n\r\n    return {\r\n        type: FOLLOW_TAG,\r\n        payload: request\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function getTagId(hashtag) {\r\n    console.log(hashtag)\r\n    const data = {hashtag}\r\n    const request = axios.post(`${TAG_SERVER}/getTagId`, data)\r\n        .then(response => {\r\n            console.log(response.data);\r\n            return response.data\r\n        })\r\n    return request;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}