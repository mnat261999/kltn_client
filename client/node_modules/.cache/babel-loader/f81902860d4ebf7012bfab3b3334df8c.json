{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Profile\\\\HighLightStory.js\";\nimport React, { Component } from \"react\";\nimport \"./Story.scss\";\nimport { connect } from \"react-redux\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { Snackbar } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { deleteHighLightStory, editHighLightStory } from \"../../actions/user_action\";\nimport FormField from \"../ultils/Form/FormField\";\nimport { populateOptionFields, update, ifFormValid, generateData, resetFields } from \"../ultils/Form/FormActions\";\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 10\n    }\n  }));\n});\n\nclass HighLightStory extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      AdvancedBtn: \"\",\n      dialogType: \"\",\n      DialogShowing: false,\n      commentSelected: \"\",\n      confirmDialogShowing: false,\n      storyId: \"\",\n      setSnack: false,\n      Success: false,\n      Message: \"\",\n      highLightStory: [],\n      editHighlightStoryDiaglog: false,\n      formSuccess: false,\n      formMessage: \"\",\n      formData: {\n        name: {\n          element: \"input\",\n          value: \"\",\n          config: {\n            placeholder: \"Tên\",\n            label: \"Tên\",\n            name: \"name\",\n            options: []\n          },\n          validation: {\n            required: true\n          },\n          valid: false,\n          touched: false,\n          validationMessage: \"\",\n          showlabel: false\n        }\n      }\n    };\n\n    this.updateForm = element => {\n      const newFormdata = update(element, this.state.formData, \"story_name\");\n\n      if (newFormdata.name.value.trim() != \"\") {\n        this.setState({\n          formSuccess: true,\n          formData: newFormdata\n        });\n      } else {\n        this.setState({\n          formSuccess: false,\n          formData: newFormdata\n        });\n      }\n    };\n  }\n\n  pullStory(item) {\n    let newhighLightStory = [...this.state.highLightStory];\n    newhighLightStory.splice(this.state.highLightStory.indexOf(item), 1);\n    console.log(newhighLightStory);\n    this.setState({\n      highLightStory: newhighLightStory\n    });\n  }\n\n  pushStory(item) {\n    let newhighLightStory = [...this.state.highLightStory];\n    newhighLightStory.push(item);\n    console.log(newhighLightStory);\n    this.setState({\n      highLightStory: newhighLightStory\n    });\n  }\n\n  render() {\n    console.log(this.props.list);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"highlightStory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stories\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, this.props.list ? this.props.list.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        onMouseEnter: () => this.setState({\n          AdvancedBtn: item._id\n        }),\n        onMouseLeave: () => this.setState({\n          AdvancedBtn: \"\"\n        }),\n        className: \"has-story\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"story_wrapper\",\n        onClick: () => {\n          this.props.setIndex(index);\n          this.props.openDialog();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.storyList[0].image.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 23\n        }\n      }, item.name), /*#__PURE__*/React.createElement(\"img\", {\n        onClick: () => {\n          this.setState({\n            DialogShowing: true,\n            storyId: item._id,\n            highLightStory: [...item.storyList.map(item => item._id)],\n            formData: { ...this.state.formData,\n              name: { ...this.state.formData.name,\n                value: item.name\n              }\n            },\n            formSuccess: true,\n            formMessage: \"Thêm thành công\"\n          });\n        },\n        className: `adavnced-btn ${this.state.AdvancedBtn == item._id ? \"btn-displayed\" : \"btn-hiden\"}`,\n        src: require(\"../../asset/headerIcon/advance_button2x.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 23\n        }\n      }));\n    }) : \"\", this.props.createButton ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"has-story\",\n      onClick: this.props.open,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story_add_button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar\",\n      onClick: () => {\n        this.props.openCreateHighlightStoryDiaglog();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"add_icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, \"+\"))), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, \"New\")) : null)), this.state.DialogShowing ? /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.DialogShowing,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: () => {\n        this.setState({\n          DialogShowing: false\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"commentHandle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"delete_button\",\n      onClick: () => {\n        this.setState({\n          confirmDialogShowing: true,\n          DialogShowing: false\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, \"X\\xF3a\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"report_button\",\n      onClick: () => {\n        this.setState({\n          editHighlightStoryDiaglog: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }\n    }, \"Ch\\u1EC9nh s\\u1EEDa\")))) : \"\", this.state.confirmDialogShowing ? /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.confirmDialogShowing,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: () => {\n        this.setState({\n          confirmDialogShowing: false,\n          DialogShowing: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"commentHandle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"deleteConfirm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 19\n      }\n    }, \" B\\u1EA1n ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn_wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"cancel_btn\",\n      onClick: () => this.setState({\n        confirmDialogShowing: false,\n        DialogShowing: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, \"H\\u1EE7y\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"confirm_btn\",\n      onClick: () => this.props.dispatch(deleteHighLightStory(this.state.storyId)).then(response => {\n        console.log(response);\n\n        if (response.payload.success) {\n          this.setState({\n            setSnack: true,\n            Success: true,\n            Message: \"Xóa thành công\",\n            DialogShowing: false,\n            confirmDialogShowing: false\n          });\n        } else {\n          this.setState({\n            setSnack: true,\n            Success: false,\n            Message: \"Đã xãy ra lỗi!\",\n            DialogShowing: true,\n            confirmDialogShowing: false\n          });\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }\n    }, \"X\\xF3a\"))))) : \"\", /*#__PURE__*/React.createElement(Dialog, {\n      fullWidth: true,\n      maxWidth: \"lg\",\n      className: \"createHighLightStoryForm\",\n      onClose: () => {\n        this.setState({\n          editHighlightStoryDiaglog: false\n        });\n      },\n      open: this.state.editHighlightStoryDiaglog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row no-gutters form-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 19\n      }\n    }, \"Ch\\u1EC9nh s\\u1EEDa\"), /*#__PURE__*/React.createElement(FormField, {\n      id: \"name\",\n      formData: this.state.formData.name,\n      change: element => this.updateForm(element),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-feature\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-cancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 21\n      }\n    }, \"H\\u1EE7y\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: () => {\n        if (this.state.formSuccess && this.state.highLightStory.length != 0) {\n          let dataToSubmit = {\n            name: this.state.formData.name.value,\n            storyList: [...this.state.highLightStory],\n            storyId: this.state.storyId\n          };\n          console.log(\"dô\", dataToSubmit);\n          this.props.dispatch(editHighLightStory(dataToSubmit)).then(response => {\n            if (response.payload.success) {\n              this.setState({\n                setSnack: true,\n                Success: true,\n                Message: \"Chỉnh sửa thành công\",\n                DialogShowing: false,\n                editHighlightStoryDiaglog: false\n              });\n            } else {\n              this.setState({\n                Success: true,\n                Message: \"Lỗi! Vui lòng thử lại\",\n                setSnack: true\n              });\n            }\n          });\n        } else {\n          console.log(this.state.formError, this.state.highlightStory);\n          this.setState({\n            addStorySuccess: false,\n            formMessage: \"Vui lòng kiểm tra thông lại thông tin :(\",\n            setSnack: true\n          });\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }\n    }, \"L\\u01B0u\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-9 no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 15\n      }\n    }, this.props.storyList ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row no-gutters form-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 19\n      }\n    }, this.props.storyList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => {\n          this.state.highLightStory.includes(item._id) ? this.pullStory(item._id) : this.pushStory(item._id);\n        },\n        className: `col-lg-3 no-gutters image-wrapper`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: `story-item ${this.state.highLightStory.includes(item._id) ? \"story_selected\" : \"unselected_story\"}`,\n        src: item.image.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 27\n        }\n      }));\n    })) : \"loading\")))), /*#__PURE__*/React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      open: this.state.setSnack,\n      onClose: () => this.setState({\n        setSnack: false\n      }),\n      autoHideDuration: 1000,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      severity: `${this.state.Success ? \"success\" : \"warning\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }\n    }, this.state.Message)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(HighLightStory));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Profile/HighLightStory.js"],"names":["React","Component","connect","Link","withRouter","Dialog","Slide","Snackbar","MuiAlert","deleteHighLightStory","editHighLightStory","FormField","populateOptionFields","update","ifFormValid","generateData","resetFields","Transition","forwardRef","props","ref","HighLightStory","state","AdvancedBtn","dialogType","DialogShowing","commentSelected","confirmDialogShowing","storyId","setSnack","Success","Message","highLightStory","editHighlightStoryDiaglog","formSuccess","formMessage","formData","name","element","value","config","placeholder","label","options","validation","required","valid","touched","validationMessage","showlabel","updateForm","newFormdata","trim","setState","pullStory","item","newhighLightStory","splice","indexOf","console","log","pushStory","push","render","list","map","index","_id","setIndex","openDialog","storyList","image","url","require","createButton","open","openCreateHighlightStoryDiaglog","dispatch","then","response","payload","success","length","dataToSubmit","formError","highlightStory","addStorySuccess","includes","vertical","horizontal","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Story.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport {\r\n  deleteHighLightStory,\r\n  editHighLightStory,\r\n} from \"../../actions/user_action\";\r\nimport FormField from \"../ultils/Form/FormField\";\r\nimport {\r\n  populateOptionFields,\r\n  update,\r\n  ifFormValid,\r\n  generateData,\r\n  resetFields,\r\n} from \"../ultils/Form/FormActions\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass HighLightStory extends Component {\r\n  state = {\r\n    AdvancedBtn: \"\",\r\n    dialogType: \"\",\r\n\r\n    DialogShowing: false,\r\n    commentSelected: \"\",\r\n\r\n    confirmDialogShowing: false,\r\n    storyId: \"\",\r\n\r\n    setSnack: false,\r\n    Success: false,\r\n    Message: \"\",\r\n\r\n    highLightStory: [],\r\n    editHighlightStoryDiaglog: false,\r\n\r\n    formSuccess: false,\r\n    formMessage: \"\",\r\n    formData: {\r\n      name: {\r\n        element: \"input\",\r\n        value: \"\",\r\n        config: {\r\n          placeholder: \"Tên\",\r\n          label: \"Tên\",\r\n          name: \"name\",\r\n          options: [],\r\n        },\r\n        validation: {\r\n          required: true,\r\n        },\r\n        valid: false,\r\n        touched: false,\r\n        validationMessage: \"\",\r\n        showlabel: false,\r\n      },\r\n    },\r\n  };\r\n\r\n  pullStory(item) {\r\n    let newhighLightStory = [...this.state.highLightStory];\r\n    newhighLightStory.splice(this.state.highLightStory.indexOf(item), 1);\r\n    console.log(newhighLightStory);\r\n    this.setState({ highLightStory: newhighLightStory });\r\n  }\r\n\r\n  pushStory(item) {\r\n    let newhighLightStory = [...this.state.highLightStory];\r\n    newhighLightStory.push(item);\r\n    console.log(newhighLightStory);\r\n    this.setState({ highLightStory: newhighLightStory });\r\n  }\r\n\r\n  updateForm = (element) => {\r\n    const newFormdata = update(element, this.state.formData, \"story_name\");\r\n    if (newFormdata.name.value.trim() != \"\") {\r\n      this.setState({\r\n        formSuccess: true,\r\n        formData: newFormdata,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        formSuccess: false,\r\n        formData: newFormdata,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props.list);\r\n    return (\r\n      <div className=\"highlightStory\">\r\n        <div className=\"stories\">\r\n          <ul>\r\n            {this.props.list\r\n              ? this.props.list.map((item, index) => {\r\n                  return (\r\n                    <li\r\n                      onMouseEnter={() =>\r\n                        this.setState({ AdvancedBtn: item._id })\r\n                      }\r\n                      onMouseLeave={() => this.setState({ AdvancedBtn: \"\" })}\r\n                      className=\"has-story\"\r\n                    >\r\n                      <div\r\n                        className=\"story_wrapper\"\r\n                        onClick={() => {\r\n                          this.props.setIndex(index);\r\n                          this.props.openDialog();\r\n                        }}\r\n                      >\r\n                        <img src={item.storyList[0].image.url} />\r\n                      </div>\r\n                      <span className=\"user\">{item.name}</span>\r\n\r\n                      <img\r\n                        onClick={() => {\r\n                          this.setState({\r\n                            DialogShowing: true,\r\n                            storyId: item._id,\r\n                            highLightStory: [\r\n                              ...item.storyList.map((item) => item._id),\r\n                            ],\r\n                            formData: {\r\n                              ...this.state.formData,\r\n                              name: {\r\n                                ...this.state.formData.name,\r\n                                value: item.name,\r\n                              },\r\n                            },\r\n                            formSuccess: true,\r\n                            formMessage: \"Thêm thành công\",\r\n                          });\r\n                        }}\r\n                        className={`adavnced-btn ${\r\n                          this.state.AdvancedBtn == item._id\r\n                            ? \"btn-displayed\"\r\n                            : \"btn-hiden\"\r\n                        }`}\r\n                        src={require(\"../../asset/headerIcon/advance_button2x.png\")}\r\n                      />\r\n                    </li>\r\n                  );\r\n                })\r\n              : \"\"}\r\n            {this.props.createButton ? (\r\n              <li className=\"has-story\" onClick={this.props.open}>\r\n                <div className=\"story_add_button\">\r\n                  <div\r\n                    className=\"avatar\"\r\n                    onClick={() => {\r\n                      this.props.openCreateHighlightStoryDiaglog();\r\n                    }}\r\n                  >\r\n                    <div className=\"add_icon\">+</div>\r\n                  </div>\r\n                </div>\r\n                <span className=\"user\">New</span>\r\n              </li>\r\n            ) : null}\r\n          </ul>\r\n        </div>\r\n        {this.state.DialogShowing ? (\r\n          <Dialog\r\n            open={this.state.DialogShowing}\r\n            TransitionComponent={Transition}\r\n            keepMounted\r\n            onClose={() => {\r\n              this.setState({ DialogShowing: false });\r\n            }}\r\n          >\r\n            <div className=\"commentHandle\">\r\n              {\r\n                <div>\r\n                  <p\r\n                    className=\"delete_button\"\r\n                    onClick={() => {\r\n                      this.setState({\r\n                        confirmDialogShowing: true,\r\n                        DialogShowing: false,\r\n                      });\r\n                    }}\r\n                  >\r\n                    Xóa\r\n                  </p>\r\n                  <hr />\r\n                  <p\r\n                    className=\"report_button\"\r\n                    onClick={() => {\r\n                      this.setState({\r\n                        editHighlightStoryDiaglog: true,\r\n                      });\r\n                    }}\r\n                  >\r\n                    Chỉnh sửa\r\n                  </p>\r\n                </div>\r\n              }\r\n            </div>\r\n          </Dialog>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {this.state.confirmDialogShowing ? (\r\n          <Dialog\r\n            open={this.state.confirmDialogShowing}\r\n            TransitionComponent={Transition}\r\n            keepMounted\r\n            onClose={() => {\r\n              this.setState({\r\n                confirmDialogShowing: false,\r\n                DialogShowing: true,\r\n              });\r\n            }}\r\n          >\r\n            <div className=\"commentHandle\">\r\n              {\r\n                <div className=\"deleteConfirm\">\r\n                  <h5> Bạn chắc chắn muốn xóa?</h5>\r\n                  <div className=\"btn_wrapper\">\r\n                    <p\r\n                      className=\"cancel_btn\"\r\n                      onClick={() =>\r\n                        this.setState({\r\n                          confirmDialogShowing: false,\r\n                          DialogShowing: true,\r\n                        })\r\n                      }\r\n                    >\r\n                      Hủy\r\n                    </p>\r\n                    <p\r\n                      className=\"confirm_btn\"\r\n                      onClick={() =>\r\n                        this.props\r\n                          .dispatch(deleteHighLightStory(this.state.storyId))\r\n                          .then((response) => {\r\n                            console.log(response);\r\n                            if (response.payload.success) {\r\n                              this.setState({\r\n                                setSnack: true,\r\n                                Success: true,\r\n                                Message: \"Xóa thành công\",\r\n                                DialogShowing: false,\r\n                                confirmDialogShowing: false,\r\n                              });\r\n                            } else {\r\n                              this.setState({\r\n                                setSnack: true,\r\n                                Success: false,\r\n                                Message: \"Đã xãy ra lỗi!\",\r\n                                DialogShowing: true,\r\n                                confirmDialogShowing: false,\r\n                              });\r\n                            }\r\n                          })\r\n                      }\r\n                    >\r\n                      Xóa\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              }\r\n            </div>\r\n          </Dialog>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <Dialog\r\n          fullWidth={true}\r\n          maxWidth=\"lg\"\r\n          className=\"createHighLightStoryForm\"\r\n          onClose={() => {\r\n            this.setState({ editHighlightStoryDiaglog: false });\r\n          }}\r\n          open={this.state.editHighlightStoryDiaglog}\r\n        >\r\n          <div className=\"wrapper\">\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-lg-3 no-gutters\">\r\n                <div className=\"row no-gutters form-header\">\r\n                  <h5>Chỉnh sửa</h5>\r\n                  <FormField\r\n                    id={\"name\"}\r\n                    formData={this.state.formData.name}\r\n                    change={(element) => this.updateForm(element)}\r\n                  />\r\n                  <div className=\"header-feature\">\r\n                    <button className=\"btn btn-cancel\">Hủy</button>\r\n                    <button\r\n                      className=\"btn\"\r\n                      onClick={() => {\r\n                        if (\r\n                          this.state.formSuccess &&\r\n                          this.state.highLightStory.length != 0\r\n                        ) {\r\n                          let dataToSubmit = {\r\n                            name: this.state.formData.name.value,\r\n                            storyList: [...this.state.highLightStory],\r\n                            storyId: this.state.storyId,\r\n                          };\r\n                          console.log(\"dô\", dataToSubmit);\r\n                          this.props\r\n                            .dispatch(editHighLightStory(dataToSubmit))\r\n                            .then((response) => {\r\n                              if (response.payload.success) {\r\n                                this.setState({\r\n                                  setSnack: true,\r\n                                  Success: true,\r\n                                  Message: \"Chỉnh sửa thành công\",\r\n                                  DialogShowing: false,\r\n                                  editHighlightStoryDiaglog: false,\r\n                                });\r\n                              } else {\r\n                                this.setState({\r\n                                  Success: true,\r\n                                  Message: \"Lỗi! Vui lòng thử lại\",\r\n                                  setSnack: true,\r\n                                });\r\n                              }\r\n                            });\r\n                        } else {\r\n                          console.log(\r\n                            this.state.formError,\r\n                            this.state.highlightStory\r\n                          );\r\n                          this.setState({\r\n                            addStorySuccess: false,\r\n                            formMessage:\r\n                              \"Vui lòng kiểm tra thông lại thông tin :(\",\r\n                            setSnack: true,\r\n                          });\r\n                        }\r\n                      }}\r\n                    >\r\n                      Lưu\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-9 no-gutters\">\r\n                {this.props.storyList ? (\r\n                  <div className=\"row no-gutters form-content\">\r\n                    {this.props.storyList.map((item, index) => {\r\n                      return (\r\n                        <div\r\n                          onClick={() => {\r\n                            this.state.highLightStory.includes(item._id)\r\n                              ? this.pullStory(item._id)\r\n                              : this.pushStory(item._id);\r\n                          }}\r\n                          className={`col-lg-3 no-gutters image-wrapper`}\r\n                        >\r\n                          <img\r\n                            className={`story-item ${\r\n                              this.state.highLightStory.includes(item._id)\r\n                                ? \"story_selected\"\r\n                                : \"unselected_story\"\r\n                            }`}\r\n                            src={item.image.url}\r\n                          />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : (\r\n                  \"loading\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Dialog>\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"left\",\r\n          }}\r\n          open={this.state.setSnack}\r\n          onClose={() => this.setState({ setSnack: false })}\r\n          autoHideDuration={1000}\r\n        >\r\n          <MuiAlert\r\n            elevation={6}\r\n            variant=\"filled\"\r\n            severity={`${this.state.Success ? \"success\" : \"warning\"}`}\r\n          >\r\n            {this.state.Message}\r\n          </MuiAlert>\r\n        </Snackbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(HighLightStory));\r\n"]},"metadata":{},"sourceType":"module"}