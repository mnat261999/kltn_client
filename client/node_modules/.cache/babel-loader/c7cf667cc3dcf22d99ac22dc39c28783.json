{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\FacebookLoginButton\\\\FacebookLoginButton.js\";\nimport React, { Component } from \"react\";\nimport \"./FacebookLoginButton.scss\";\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { loginByFaceGoogle, storeInfoForRegister } from \"../../actions/user_action\";\n\nclass FacebookLoginButton extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      authFailed: false,\n      name: \"\",\n      email: \"\",\n      picture: \"\"\n    };\n\n    this.componentClicked = () => {\n      console.log(\"Facebook Authentication\");\n    };\n\n    this.responseFacebook = response => {\n      if (response) {\n        console.log(response);\n        this.props.dispatch(loginByFaceGoogle(response.email)).then(res => {\n          if (res.payload.loginSuccess) {\n            this.props.history.push(\"/newfeed\");\n          } else {\n            console.log(response); // let data = {\n            //     name: response.name,\n            //     email: response.email,\n            //     picture: response.image.url,\n            // }\n            // this.props.dispatch(storeInfoForRegister(data));\n            // this.props.history.push('/register');\n          }\n        });\n      } else {\n        console.log(response);\n      }\n    };\n\n    this.responseGoogle = response => {\n      console.log(response);\n    };\n  }\n\n  render() {\n    let template;\n    this.state.authFailed ? template = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }) : template = /*#__PURE__*/React.createElement(FacebookLogin, {\n      appId: \"413244283385621\",\n      fields: \"name,email,picture\",\n      callback: this.responseFacebook,\n      render: renderProps => /*#__PURE__*/React.createElement(\"button\", {\n        className: \"facebook_signin_button\",\n        onClick: renderProps.onClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require(\"../../asset/login-page/fb_Icon2x.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }), \"\\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Facebook\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, template);\n  }\n\n}\n\nexport default connect()(withRouter(FacebookLoginButton));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/FacebookLoginButton/FacebookLoginButton.js"],"names":["React","Component","FacebookLogin","withRouter","connect","loginByFaceGoogle","storeInfoForRegister","FacebookLoginButton","state","authFailed","name","email","picture","componentClicked","console","log","responseFacebook","response","props","dispatch","then","res","payload","loginSuccess","history","push","responseGoogle","render","template","renderProps","onClick","require"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,4BAAP;AACA,OAAOC,aAAP,MAA0B,uDAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACEC,iBADF,EAEEC,oBAFF,QAGO,2BAHP;;AAKA,MAAMC,mBAAN,SAAkCN,SAAlC,CAA4C;AAAA;AAAA;AAAA,SAC1CO,KAD0C,GAClC;AACNC,MAAAA,UAAU,EAAE,KADN;AAENC,MAAAA,IAAI,EAAE,EAFA;AAGNC,MAAAA,KAAK,EAAE,EAHD;AAINC,MAAAA,OAAO,EAAE;AAJH,KADkC;;AAAA,SAQ1CC,gBAR0C,GAQvB,MAAM;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD,KAVyC;;AAAA,SAY1CC,gBAZ0C,GAYtBC,QAAD,IAAc;AAC/B,UAAIA,QAAJ,EAAc;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ;AACA,aAAKC,KAAL,CAAWC,QAAX,CAAoBd,iBAAiB,CAACY,QAAQ,CAACN,KAAV,CAArC,EAAuDS,IAAvD,CAA6DC,GAAD,IAAS;AACnE,cAAIA,GAAG,CAACC,OAAJ,CAAYC,YAAhB,EAA8B;AAC5B,iBAAKL,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACD,WAFD,MAEO;AACLX,YAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ,EADK,CAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AACF,SAbD;AAcD,OAhBD,MAgBO;AACLH,QAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ;AACD;AACF,KAhCyC;;AAAA,SAkC1CS,cAlC0C,GAkCxBT,QAAD,IAAc;AAC7BH,MAAAA,OAAO,CAACC,GAAR,CAAYE,QAAZ;AACD,KApCyC;AAAA;;AAsC1CU,EAAAA,MAAM,GAAG;AACP,QAAIC,QAAJ;AACA,SAAKpB,KAAL,CAAWC,UAAX,GACKmB,QAAQ,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADhB,GAEKA,QAAQ,gBACP,oBAAC,aAAD;AACE,MAAA,KAAK,EAAC,iBADR;AAEE,MAAA,MAAM,EAAC,oBAFT;AAGE,MAAA,QAAQ,EAAE,KAAKZ,gBAHjB;AAIE,MAAA,MAAM,EAAGa,WAAD,iBACN;AACE,QAAA,SAAS,EAAC,wBADZ;AAEE,QAAA,OAAO,EAAEA,WAAW,CAACC,OAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAIE;AAAK,QAAA,GAAG,EAAEC,OAAO,CAAC,sCAAD,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,gDALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHN;AAkBA,wBAAO,0CAAGH,QAAH,CAAP;AACD;;AA3DyC;;AA8D5C,eAAexB,OAAO,GAAGD,UAAU,CAACI,mBAAD,CAAb,CAAtB","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./FacebookLoginButton.scss\";\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  loginByFaceGoogle,\r\n  storeInfoForRegister,\r\n} from \"../../actions/user_action\";\r\n\r\nclass FacebookLoginButton extends Component {\r\n  state = {\r\n    authFailed: false,\r\n    name: \"\",\r\n    email: \"\",\r\n    picture: \"\",\r\n  };\r\n\r\n  componentClicked = () => {\r\n    console.log(\"Facebook Authentication\");\r\n  };\r\n\r\n  responseFacebook = (response) => {\r\n    if (response) {\r\n      console.log(response);\r\n      this.props.dispatch(loginByFaceGoogle(response.email)).then((res) => {\r\n        if (res.payload.loginSuccess) {\r\n          this.props.history.push(\"/newfeed\");\r\n        } else {\r\n          console.log(response);\r\n          // let data = {\r\n          //     name: response.name,\r\n          //     email: response.email,\r\n          //     picture: response.image.url,\r\n          // }\r\n          // this.props.dispatch(storeInfoForRegister(data));\r\n          // this.props.history.push('/register');\r\n        }\r\n      });\r\n    } else {\r\n      console.log(response);\r\n    }\r\n  };\r\n\r\n  responseGoogle = (response) => {\r\n    console.log(response);\r\n  };\r\n\r\n  render() {\r\n    let template;\r\n    this.state.authFailed\r\n      ? (template = <div></div>)\r\n      : (template = (\r\n          <FacebookLogin\r\n            appId=\"413244283385621\"\r\n            fields=\"name,email,picture\"\r\n            callback={this.responseFacebook}\r\n            render={(renderProps) => (\r\n              <button\r\n                className=\"facebook_signin_button\"\r\n                onClick={renderProps.onClick}\r\n              >\r\n                <img src={require(\"../../asset/login-page/fb_Icon2x.png\")} />\r\n                Đăng nhập bằng Facebook\r\n              </button>\r\n            )}\r\n          />\r\n        ));\r\n    return <>{template}</>;\r\n  }\r\n}\r\n\r\nexport default connect()(withRouter(FacebookLoginButton));\r\n"]},"metadata":{},"sourceType":"module"}