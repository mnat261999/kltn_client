{"ast":null,"code":"/*!\n * tui-image-editor.js\n * @version 3.14.2\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"fabric\")[\"fabric\"], require(\"tui-code-snippet\"), require(\"tui-color-picker\"));else if (typeof define === 'function' && define.amd) define([\"fabric\", \"tui-code-snippet\", \"tui-color-picker\"], factory);else if (typeof exports === 'object') exports[\"ImageEditor\"] = factory(require(\"fabric\")[\"fabric\"], require(\"tui-code-snippet\"), require(\"tui-color-picker\"));else root[\"tui\"] = root[\"tui\"] || {}, root[\"tui\"][\"ImageEditor\"] = factory(root[\"fabric\"], root[\"tui\"][\"util\"], root[\"tui\"][\"colorPicker\"]);\n})(window, function (__WEBPACK_EXTERNAL_MODULE_fabric__, __WEBPACK_EXTERNAL_MODULE_tui_code_snippet__, __WEBPACK_EXTERNAL_MODULE_tui_color_picker__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n          return value[key];\n        }.bind(null, key));\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"/dist\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n      /******/\n    }\n    /************************************************************************/\n\n    /******/\n    ({\n      /***/\n      \"./node_modules/core-js-pure/es/promise/index.js\":\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js-pure/es/promise/index.js ***!\n        \\*******************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        __webpack_require__(\n        /*! ../../modules/es.object.to-string */\n        \"./node_modules/core-js-pure/modules/es.object.to-string.js\");\n\n        __webpack_require__(\n        /*! ../../modules/es.string.iterator */\n        \"./node_modules/core-js-pure/modules/es.string.iterator.js\");\n\n        __webpack_require__(\n        /*! ../../modules/web.dom-collections.iterator */\n        \"./node_modules/core-js-pure/modules/web.dom-collections.iterator.js\");\n\n        __webpack_require__(\n        /*! ../../modules/es.promise */\n        \"./node_modules/core-js-pure/modules/es.promise.js\");\n\n        __webpack_require__(\n        /*! ../../modules/es.promise.all-settled */\n        \"./node_modules/core-js-pure/modules/es.promise.all-settled.js\");\n\n        __webpack_require__(\n        /*! ../../modules/es.promise.finally */\n        \"./node_modules/core-js-pure/modules/es.promise.finally.js\");\n\n        var path = __webpack_require__(\n        /*! ../../internals/path */\n        \"./node_modules/core-js-pure/internals/path.js\");\n\n        module.exports = path.Promise;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/features/promise/index.js\":\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js-pure/features/promise/index.js ***!\n        \\*************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var parent = __webpack_require__(\n        /*! ../../es/promise */\n        \"./node_modules/core-js-pure/es/promise/index.js\");\n\n        __webpack_require__(\n        /*! ../../modules/esnext.aggregate-error */\n        \"./node_modules/core-js-pure/modules/esnext.aggregate-error.js\"); // TODO: Remove from `core-js@4`\n\n\n        __webpack_require__(\n        /*! ../../modules/esnext.promise.all-settled */\n        \"./node_modules/core-js-pure/modules/esnext.promise.all-settled.js\");\n\n        __webpack_require__(\n        /*! ../../modules/esnext.promise.try */\n        \"./node_modules/core-js-pure/modules/esnext.promise.try.js\");\n\n        __webpack_require__(\n        /*! ../../modules/esnext.promise.any */\n        \"./node_modules/core-js-pure/modules/esnext.promise.any.js\");\n\n        module.exports = parent;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/a-function.js\":\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/a-function.js ***!\n        \\***********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = function (it) {\n          if (typeof it != 'function') {\n            throw TypeError(String(it) + ' is not a function');\n          }\n\n          return it;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/a-possible-prototype.js\":\n      /*!*********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/a-possible-prototype.js ***!\n        \\*********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var isObject = __webpack_require__(\n        /*! ../internals/is-object */\n        \"./node_modules/core-js-pure/internals/is-object.js\");\n\n        module.exports = function (it) {\n          if (!isObject(it) && it !== null) {\n            throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n          }\n\n          return it;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/add-to-unscopables.js\":\n      /*!*******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/add-to-unscopables.js ***!\n        \\*******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = function () {\n          /* empty */\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/an-instance.js\":\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/an-instance.js ***!\n        \\************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = function (it, Constructor, name) {\n          if (!(it instanceof Constructor)) {\n            throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n          }\n\n          return it;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/an-object.js\":\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/an-object.js ***!\n        \\**********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var isObject = __webpack_require__(\n        /*! ../internals/is-object */\n        \"./node_modules/core-js-pure/internals/is-object.js\");\n\n        module.exports = function (it) {\n          if (!isObject(it)) {\n            throw TypeError(String(it) + ' is not an object');\n          }\n\n          return it;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/array-includes.js\":\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/array-includes.js ***!\n        \\***************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var toIndexedObject = __webpack_require__(\n        /*! ../internals/to-indexed-object */\n        \"./node_modules/core-js-pure/internals/to-indexed-object.js\");\n\n        var toLength = __webpack_require__(\n        /*! ../internals/to-length */\n        \"./node_modules/core-js-pure/internals/to-length.js\");\n\n        var toAbsoluteIndex = __webpack_require__(\n        /*! ../internals/to-absolute-index */\n        \"./node_modules/core-js-pure/internals/to-absolute-index.js\"); // `Array.prototype.{ indexOf, includes }` methods implementation\n\n\n        var createMethod = function (IS_INCLUDES) {\n          return function ($this, el, fromIndex) {\n            var O = toIndexedObject($this);\n            var length = toLength(O.length);\n            var index = toAbsoluteIndex(fromIndex, length);\n            var value; // Array#includes uses SameValueZero equality algorithm\n            // eslint-disable-next-line no-self-compare\n\n            if (IS_INCLUDES && el != el) while (length > index) {\n              value = O[index++]; // eslint-disable-next-line no-self-compare\n\n              if (value != value) return true; // Array#indexOf ignores holes, Array#includes - not\n            } else for (; length > index; index++) {\n              if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n            }\n            return !IS_INCLUDES && -1;\n          };\n        };\n\n        module.exports = {\n          // `Array.prototype.includes` method\n          // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n          includes: createMethod(true),\n          // `Array.prototype.indexOf` method\n          // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n          indexOf: createMethod(false)\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js\":\n      /*!*********************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js ***!\n        \\*********************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var anObject = __webpack_require__(\n        /*! ../internals/an-object */\n        \"./node_modules/core-js-pure/internals/an-object.js\"); // call something on iterator step with safe closing on error\n\n\n        module.exports = function (iterator, fn, value, ENTRIES) {\n          try {\n            return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value); // 7.4.6 IteratorClose(iterator, completion)\n          } catch (error) {\n            var returnMethod = iterator['return'];\n            if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n            throw error;\n          }\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/check-correctness-of-iteration.js\":\n      /*!*******************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/check-correctness-of-iteration.js ***!\n        \\*******************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var ITERATOR = wellKnownSymbol('iterator');\n        var SAFE_CLOSING = false;\n\n        try {\n          var called = 0;\n          var iteratorWithReturn = {\n            next: function () {\n              return {\n                done: !!called++\n              };\n            },\n            'return': function () {\n              SAFE_CLOSING = true;\n            }\n          };\n\n          iteratorWithReturn[ITERATOR] = function () {\n            return this;\n          }; // eslint-disable-next-line no-throw-literal\n\n\n          Array.from(iteratorWithReturn, function () {\n            throw 2;\n          });\n        } catch (error) {\n          /* empty */\n        }\n\n        module.exports = function (exec, SKIP_CLOSING) {\n          if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n          var ITERATION_SUPPORT = false;\n\n          try {\n            var object = {};\n\n            object[ITERATOR] = function () {\n              return {\n                next: function () {\n                  return {\n                    done: ITERATION_SUPPORT = true\n                  };\n                }\n              };\n            };\n\n            exec(object);\n          } catch (error) {\n            /* empty */\n          }\n\n          return ITERATION_SUPPORT;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/classof-raw.js\":\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/classof-raw.js ***!\n        \\************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        var toString = {}.toString;\n\n        module.exports = function (it) {\n          return toString.call(it).slice(8, -1);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/classof.js\":\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/classof.js ***!\n        \\********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var TO_STRING_TAG_SUPPORT = __webpack_require__(\n        /*! ../internals/to-string-tag-support */\n        \"./node_modules/core-js-pure/internals/to-string-tag-support.js\");\n\n        var classofRaw = __webpack_require__(\n        /*! ../internals/classof-raw */\n        \"./node_modules/core-js-pure/internals/classof-raw.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag'); // ES3 wrong here\n\n        var CORRECT_ARGUMENTS = classofRaw(function () {\n          return arguments;\n        }()) == 'Arguments'; // fallback for IE11 Script Access Denied error\n\n        var tryGet = function (it, key) {\n          try {\n            return it[key];\n          } catch (error) {\n            /* empty */\n          }\n        }; // getting tag from ES6+ `Object.prototype.toString`\n\n\n        module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n          var O, tag, result;\n          return it === undefined ? 'Undefined' : it === null ? 'Null' // @@toStringTag case\n          : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag // builtinTag case\n          : CORRECT_ARGUMENTS ? classofRaw(O) // ES3 arguments fallback\n          : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/correct-prototype-getter.js\":\n      /*!*************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/correct-prototype-getter.js ***!\n        \\*************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var fails = __webpack_require__(\n        /*! ../internals/fails */\n        \"./node_modules/core-js-pure/internals/fails.js\");\n\n        module.exports = !fails(function () {\n          function F() {\n            /* empty */\n          }\n\n          F.prototype.constructor = null;\n          return Object.getPrototypeOf(new F()) !== F.prototype;\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/create-iterator-constructor.js\":\n      /*!****************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/create-iterator-constructor.js ***!\n        \\****************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var IteratorPrototype = __webpack_require__(\n        /*! ../internals/iterators-core */\n        \"./node_modules/core-js-pure/internals/iterators-core.js\").IteratorPrototype;\n\n        var create = __webpack_require__(\n        /*! ../internals/object-create */\n        \"./node_modules/core-js-pure/internals/object-create.js\");\n\n        var createPropertyDescriptor = __webpack_require__(\n        /*! ../internals/create-property-descriptor */\n        \"./node_modules/core-js-pure/internals/create-property-descriptor.js\");\n\n        var setToStringTag = __webpack_require__(\n        /*! ../internals/set-to-string-tag */\n        \"./node_modules/core-js-pure/internals/set-to-string-tag.js\");\n\n        var Iterators = __webpack_require__(\n        /*! ../internals/iterators */\n        \"./node_modules/core-js-pure/internals/iterators.js\");\n\n        var returnThis = function () {\n          return this;\n        };\n\n        module.exports = function (IteratorConstructor, NAME, next) {\n          var TO_STRING_TAG = NAME + ' Iterator';\n          IteratorConstructor.prototype = create(IteratorPrototype, {\n            next: createPropertyDescriptor(1, next)\n          });\n          setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n          Iterators[TO_STRING_TAG] = returnThis;\n          return IteratorConstructor;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\":\n      /*!*******************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/create-non-enumerable-property.js ***!\n        \\*******************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(\n        /*! ../internals/descriptors */\n        \"./node_modules/core-js-pure/internals/descriptors.js\");\n\n        var definePropertyModule = __webpack_require__(\n        /*! ../internals/object-define-property */\n        \"./node_modules/core-js-pure/internals/object-define-property.js\");\n\n        var createPropertyDescriptor = __webpack_require__(\n        /*! ../internals/create-property-descriptor */\n        \"./node_modules/core-js-pure/internals/create-property-descriptor.js\");\n\n        module.exports = DESCRIPTORS ? function (object, key, value) {\n          return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n        } : function (object, key, value) {\n          object[key] = value;\n          return object;\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/create-property-descriptor.js\":\n      /*!***************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/create-property-descriptor.js ***!\n        \\***************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = function (bitmap, value) {\n          return {\n            enumerable: !(bitmap & 1),\n            configurable: !(bitmap & 2),\n            writable: !(bitmap & 4),\n            value: value\n          };\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/define-iterator.js\":\n      /*!****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/define-iterator.js ***!\n        \\****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(\n        /*! ../internals/export */\n        \"./node_modules/core-js-pure/internals/export.js\");\n\n        var createIteratorConstructor = __webpack_require__(\n        /*! ../internals/create-iterator-constructor */\n        \"./node_modules/core-js-pure/internals/create-iterator-constructor.js\");\n\n        var getPrototypeOf = __webpack_require__(\n        /*! ../internals/object-get-prototype-of */\n        \"./node_modules/core-js-pure/internals/object-get-prototype-of.js\");\n\n        var setPrototypeOf = __webpack_require__(\n        /*! ../internals/object-set-prototype-of */\n        \"./node_modules/core-js-pure/internals/object-set-prototype-of.js\");\n\n        var setToStringTag = __webpack_require__(\n        /*! ../internals/set-to-string-tag */\n        \"./node_modules/core-js-pure/internals/set-to-string-tag.js\");\n\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        var redefine = __webpack_require__(\n        /*! ../internals/redefine */\n        \"./node_modules/core-js-pure/internals/redefine.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var IS_PURE = __webpack_require__(\n        /*! ../internals/is-pure */\n        \"./node_modules/core-js-pure/internals/is-pure.js\");\n\n        var Iterators = __webpack_require__(\n        /*! ../internals/iterators */\n        \"./node_modules/core-js-pure/internals/iterators.js\");\n\n        var IteratorsCore = __webpack_require__(\n        /*! ../internals/iterators-core */\n        \"./node_modules/core-js-pure/internals/iterators-core.js\");\n\n        var IteratorPrototype = IteratorsCore.IteratorPrototype;\n        var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\n        var ITERATOR = wellKnownSymbol('iterator');\n        var KEYS = 'keys';\n        var VALUES = 'values';\n        var ENTRIES = 'entries';\n\n        var returnThis = function () {\n          return this;\n        };\n\n        module.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n          createIteratorConstructor(IteratorConstructor, NAME, next);\n\n          var getIterationMethod = function (KIND) {\n            if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n            if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n\n            switch (KIND) {\n              case KEYS:\n                return function keys() {\n                  return new IteratorConstructor(this, KIND);\n                };\n\n              case VALUES:\n                return function values() {\n                  return new IteratorConstructor(this, KIND);\n                };\n\n              case ENTRIES:\n                return function entries() {\n                  return new IteratorConstructor(this, KIND);\n                };\n            }\n\n            return function () {\n              return new IteratorConstructor(this);\n            };\n          };\n\n          var TO_STRING_TAG = NAME + ' Iterator';\n          var INCORRECT_VALUES_NAME = false;\n          var IterablePrototype = Iterable.prototype;\n          var nativeIterator = IterablePrototype[ITERATOR] || IterablePrototype['@@iterator'] || DEFAULT && IterablePrototype[DEFAULT];\n          var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n          var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n          var CurrentIteratorPrototype, methods, KEY; // fix native\n\n          if (anyNativeIterator) {\n            CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n\n            if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n              if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n                if (setPrototypeOf) {\n                  setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n                } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n                  createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n                }\n              } // Set @@toStringTag to native iterators\n\n\n              setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n              if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n            }\n          } // fix Array#{values, @@iterator}.name in V8 / FF\n\n\n          if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n            INCORRECT_VALUES_NAME = true;\n\n            defaultIterator = function values() {\n              return nativeIterator.call(this);\n            };\n          } // define iterator\n\n\n          if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n            createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n          }\n\n          Iterators[NAME] = defaultIterator; // export additional methods\n\n          if (DEFAULT) {\n            methods = {\n              values: getIterationMethod(VALUES),\n              keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n              entries: getIterationMethod(ENTRIES)\n            };\n            if (FORCED) for (KEY in methods) {\n              if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n                redefine(IterablePrototype, KEY, methods[KEY]);\n              }\n            } else $({\n              target: NAME,\n              proto: true,\n              forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME\n            }, methods);\n          }\n\n          return methods;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/descriptors.js\":\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/descriptors.js ***!\n        \\************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var fails = __webpack_require__(\n        /*! ../internals/fails */\n        \"./node_modules/core-js-pure/internals/fails.js\"); // Thank's IE8 for his funny defineProperty\n\n\n        module.exports = !fails(function () {\n          return Object.defineProperty({}, 1, {\n            get: function () {\n              return 7;\n            }\n          })[1] != 7;\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/document-create-element.js\":\n      /*!************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/document-create-element.js ***!\n        \\************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var isObject = __webpack_require__(\n        /*! ../internals/is-object */\n        \"./node_modules/core-js-pure/internals/is-object.js\");\n\n        var document = global.document; // typeof document.createElement is 'object' in old IE\n\n        var EXISTS = isObject(document) && isObject(document.createElement);\n\n        module.exports = function (it) {\n          return EXISTS ? document.createElement(it) : {};\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/dom-iterables.js\":\n      /*!**************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/dom-iterables.js ***!\n        \\**************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        // iterable DOM collections\n        // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\n        module.exports = {\n          CSSRuleList: 0,\n          CSSStyleDeclaration: 0,\n          CSSValueList: 0,\n          ClientRectList: 0,\n          DOMRectList: 0,\n          DOMStringList: 0,\n          DOMTokenList: 1,\n          DataTransferItemList: 0,\n          FileList: 0,\n          HTMLAllCollection: 0,\n          HTMLCollection: 0,\n          HTMLFormElement: 0,\n          HTMLSelectElement: 0,\n          MediaList: 0,\n          MimeTypeArray: 0,\n          NamedNodeMap: 0,\n          NodeList: 1,\n          PaintRequestList: 0,\n          Plugin: 0,\n          PluginArray: 0,\n          SVGLengthList: 0,\n          SVGNumberList: 0,\n          SVGPathSegList: 0,\n          SVGPointList: 0,\n          SVGStringList: 0,\n          SVGTransformList: 0,\n          SourceBufferList: 0,\n          StyleSheetList: 0,\n          TextTrackCueList: 0,\n          TextTrackList: 0,\n          TouchList: 0\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/engine-is-ios.js\":\n      /*!**************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/engine-is-ios.js ***!\n        \\**************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var userAgent = __webpack_require__(\n        /*! ../internals/engine-user-agent */\n        \"./node_modules/core-js-pure/internals/engine-user-agent.js\");\n\n        module.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/engine-user-agent.js\":\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/engine-user-agent.js ***!\n        \\******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var getBuiltIn = __webpack_require__(\n        /*! ../internals/get-built-in */\n        \"./node_modules/core-js-pure/internals/get-built-in.js\");\n\n        module.exports = getBuiltIn('navigator', 'userAgent') || '';\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/engine-v8-version.js\":\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/engine-v8-version.js ***!\n        \\******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var userAgent = __webpack_require__(\n        /*! ../internals/engine-user-agent */\n        \"./node_modules/core-js-pure/internals/engine-user-agent.js\");\n\n        var process = global.process;\n        var versions = process && process.versions;\n        var v8 = versions && versions.v8;\n        var match, version;\n\n        if (v8) {\n          match = v8.split('.');\n          version = match[0] + match[1];\n        } else if (userAgent) {\n          match = userAgent.match(/Edge\\/(\\d+)/);\n\n          if (!match || match[1] >= 74) {\n            match = userAgent.match(/Chrome\\/(\\d+)/);\n            if (match) version = match[1];\n          }\n        }\n\n        module.exports = version && +version;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/enum-bug-keys.js\":\n      /*!**************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/enum-bug-keys.js ***!\n        \\**************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        // IE8- don't enum bug keys\n        module.exports = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'];\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/export.js\":\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/export.js ***!\n        \\*******************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var getOwnPropertyDescriptor = __webpack_require__(\n        /*! ../internals/object-get-own-property-descriptor */\n        \"./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js\").f;\n\n        var isForced = __webpack_require__(\n        /*! ../internals/is-forced */\n        \"./node_modules/core-js-pure/internals/is-forced.js\");\n\n        var path = __webpack_require__(\n        /*! ../internals/path */\n        \"./node_modules/core-js-pure/internals/path.js\");\n\n        var bind = __webpack_require__(\n        /*! ../internals/function-bind-context */\n        \"./node_modules/core-js-pure/internals/function-bind-context.js\");\n\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        var has = __webpack_require__(\n        /*! ../internals/has */\n        \"./node_modules/core-js-pure/internals/has.js\");\n\n        var wrapConstructor = function (NativeConstructor) {\n          var Wrapper = function (a, b, c) {\n            if (this instanceof NativeConstructor) {\n              switch (arguments.length) {\n                case 0:\n                  return new NativeConstructor();\n\n                case 1:\n                  return new NativeConstructor(a);\n\n                case 2:\n                  return new NativeConstructor(a, b);\n              }\n\n              return new NativeConstructor(a, b, c);\n            }\n\n            return NativeConstructor.apply(this, arguments);\n          };\n\n          Wrapper.prototype = NativeConstructor.prototype;\n          return Wrapper;\n        };\n        /*\n          options.target      - name of the target object\n          options.global      - target is the global object\n          options.stat        - export as static methods of target\n          options.proto       - export as prototype methods of target\n          options.real        - real prototype method for the `pure` version\n          options.forced      - export even if the native feature is available\n          options.bind        - bind methods to the target, required for the `pure` version\n          options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n          options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n          options.sham        - add a flag to not completely full polyfills\n          options.enumerable  - export as enumerable property\n          options.noTargetGet - prevent calling a getter on target\n        */\n\n\n        module.exports = function (options, source) {\n          var TARGET = options.target;\n          var GLOBAL = options.global;\n          var STATIC = options.stat;\n          var PROTO = options.proto;\n          var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n          var target = GLOBAL ? path : path[TARGET] || (path[TARGET] = {});\n          var targetPrototype = target.prototype;\n          var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n          var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n          for (key in source) {\n            FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced); // contains in native\n\n            USE_NATIVE = !FORCED && nativeSource && has(nativeSource, key);\n            targetProperty = target[key];\n            if (USE_NATIVE) if (options.noTargetGet) {\n              descriptor = getOwnPropertyDescriptor(nativeSource, key);\n              nativeProperty = descriptor && descriptor.value;\n            } else nativeProperty = nativeSource[key]; // export native or implementation\n\n            sourceProperty = USE_NATIVE && nativeProperty ? nativeProperty : source[key];\n            if (USE_NATIVE && typeof targetProperty === typeof sourceProperty) continue; // bind timers to global for call from export context\n\n            if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global); // wrap global constructors for prevent changs in this version\n            else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty); // make static versions for prototype methods\n            else if (PROTO && typeof sourceProperty == 'function') resultProperty = bind(Function.call, sourceProperty); // default case\n            else resultProperty = sourceProperty; // add a flag to not completely full polyfills\n\n            if (options.sham || sourceProperty && sourceProperty.sham || targetProperty && targetProperty.sham) {\n              createNonEnumerableProperty(resultProperty, 'sham', true);\n            }\n\n            target[key] = resultProperty;\n\n            if (PROTO) {\n              VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n\n              if (!has(path, VIRTUAL_PROTOTYPE)) {\n                createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n              } // export virtual prototype methods\n\n\n              path[VIRTUAL_PROTOTYPE][key] = sourceProperty; // export real prototype methods\n\n              if (options.real && targetPrototype && !targetPrototype[key]) {\n                createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n              }\n            }\n          }\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/fails.js\":\n      /*!******************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/fails.js ***!\n        \\******************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = function (exec) {\n          try {\n            return !!exec();\n          } catch (error) {\n            return true;\n          }\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/function-bind-context.js\":\n      /*!**********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/function-bind-context.js ***!\n        \\**********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var aFunction = __webpack_require__(\n        /*! ../internals/a-function */\n        \"./node_modules/core-js-pure/internals/a-function.js\"); // optional / simple context binding\n\n\n        module.exports = function (fn, that, length) {\n          aFunction(fn);\n          if (that === undefined) return fn;\n\n          switch (length) {\n            case 0:\n              return function () {\n                return fn.call(that);\n              };\n\n            case 1:\n              return function (a) {\n                return fn.call(that, a);\n              };\n\n            case 2:\n              return function (a, b) {\n                return fn.call(that, a, b);\n              };\n\n            case 3:\n              return function (a, b, c) {\n                return fn.call(that, a, b, c);\n              };\n          }\n\n          return function\n            /* ...args */\n          () {\n            return fn.apply(that, arguments);\n          };\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/get-built-in.js\":\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/get-built-in.js ***!\n        \\*************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var path = __webpack_require__(\n        /*! ../internals/path */\n        \"./node_modules/core-js-pure/internals/path.js\");\n\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var aFunction = function (variable) {\n          return typeof variable == 'function' ? variable : undefined;\n        };\n\n        module.exports = function (namespace, method) {\n          return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace]) : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/get-iterator-method.js\":\n      /*!********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/get-iterator-method.js ***!\n        \\********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var classof = __webpack_require__(\n        /*! ../internals/classof */\n        \"./node_modules/core-js-pure/internals/classof.js\");\n\n        var Iterators = __webpack_require__(\n        /*! ../internals/iterators */\n        \"./node_modules/core-js-pure/internals/iterators.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var ITERATOR = wellKnownSymbol('iterator');\n\n        module.exports = function (it) {\n          if (it != undefined) return it[ITERATOR] || it['@@iterator'] || Iterators[classof(it)];\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/global.js\":\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/global.js ***!\n        \\*******************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        /* WEBPACK VAR INJECTION */\n        (function (global) {\n          var check = function (it) {\n            return it && it.Math == Math && it;\n          }; // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\n\n          module.exports = // eslint-disable-next-line no-undef\n          check(typeof globalThis == 'object' && globalThis) || check(typeof window == 'object' && window) || check(typeof self == 'object' && self) || check(typeof global == 'object' && global) || // eslint-disable-next-line no-new-func\n          Function('return this')();\n          /* WEBPACK VAR INJECTION */\n        }).call(this, __webpack_require__(\n        /*! ./../../webpack/buildin/global.js */\n        \"./node_modules/webpack/buildin/global.js\"));\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/has.js\":\n      /*!****************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/has.js ***!\n        \\****************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        var hasOwnProperty = {}.hasOwnProperty;\n\n        module.exports = function (it, key) {\n          return hasOwnProperty.call(it, key);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/hidden-keys.js\":\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/hidden-keys.js ***!\n        \\************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = {};\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/host-report-errors.js\":\n      /*!*******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/host-report-errors.js ***!\n        \\*******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        module.exports = function (a, b) {\n          var console = global.console;\n\n          if (console && console.error) {\n            arguments.length === 1 ? console.error(a) : console.error(a, b);\n          }\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/html.js\":\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/html.js ***!\n        \\*****************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var getBuiltIn = __webpack_require__(\n        /*! ../internals/get-built-in */\n        \"./node_modules/core-js-pure/internals/get-built-in.js\");\n\n        module.exports = getBuiltIn('document', 'documentElement');\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/ie8-dom-define.js\":\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/ie8-dom-define.js ***!\n        \\***************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(\n        /*! ../internals/descriptors */\n        \"./node_modules/core-js-pure/internals/descriptors.js\");\n\n        var fails = __webpack_require__(\n        /*! ../internals/fails */\n        \"./node_modules/core-js-pure/internals/fails.js\");\n\n        var createElement = __webpack_require__(\n        /*! ../internals/document-create-element */\n        \"./node_modules/core-js-pure/internals/document-create-element.js\"); // Thank's IE8 for his funny defineProperty\n\n\n        module.exports = !DESCRIPTORS && !fails(function () {\n          return Object.defineProperty(createElement('div'), 'a', {\n            get: function () {\n              return 7;\n            }\n          }).a != 7;\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/indexed-object.js\":\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/indexed-object.js ***!\n        \\***************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var fails = __webpack_require__(\n        /*! ../internals/fails */\n        \"./node_modules/core-js-pure/internals/fails.js\");\n\n        var classof = __webpack_require__(\n        /*! ../internals/classof-raw */\n        \"./node_modules/core-js-pure/internals/classof-raw.js\");\n\n        var split = ''.split; // fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n        module.exports = fails(function () {\n          // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n          // eslint-disable-next-line no-prototype-builtins\n          return !Object('z').propertyIsEnumerable(0);\n        }) ? function (it) {\n          return classof(it) == 'String' ? split.call(it, '') : Object(it);\n        } : Object;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/inspect-source.js\":\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/inspect-source.js ***!\n        \\***************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var store = __webpack_require__(\n        /*! ../internals/shared-store */\n        \"./node_modules/core-js-pure/internals/shared-store.js\");\n\n        var functionToString = Function.toString; // this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\n\n        if (typeof store.inspectSource != 'function') {\n          store.inspectSource = function (it) {\n            return functionToString.call(it);\n          };\n        }\n\n        module.exports = store.inspectSource;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/internal-state.js\":\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/internal-state.js ***!\n        \\***************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var NATIVE_WEAK_MAP = __webpack_require__(\n        /*! ../internals/native-weak-map */\n        \"./node_modules/core-js-pure/internals/native-weak-map.js\");\n\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var isObject = __webpack_require__(\n        /*! ../internals/is-object */\n        \"./node_modules/core-js-pure/internals/is-object.js\");\n\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        var objectHas = __webpack_require__(\n        /*! ../internals/has */\n        \"./node_modules/core-js-pure/internals/has.js\");\n\n        var sharedKey = __webpack_require__(\n        /*! ../internals/shared-key */\n        \"./node_modules/core-js-pure/internals/shared-key.js\");\n\n        var hiddenKeys = __webpack_require__(\n        /*! ../internals/hidden-keys */\n        \"./node_modules/core-js-pure/internals/hidden-keys.js\");\n\n        var WeakMap = global.WeakMap;\n        var set, get, has;\n\n        var enforce = function (it) {\n          return has(it) ? get(it) : set(it, {});\n        };\n\n        var getterFor = function (TYPE) {\n          return function (it) {\n            var state;\n\n            if (!isObject(it) || (state = get(it)).type !== TYPE) {\n              throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n            }\n\n            return state;\n          };\n        };\n\n        if (NATIVE_WEAK_MAP) {\n          var store = new WeakMap();\n          var wmget = store.get;\n          var wmhas = store.has;\n          var wmset = store.set;\n\n          set = function (it, metadata) {\n            wmset.call(store, it, metadata);\n            return metadata;\n          };\n\n          get = function (it) {\n            return wmget.call(store, it) || {};\n          };\n\n          has = function (it) {\n            return wmhas.call(store, it);\n          };\n        } else {\n          var STATE = sharedKey('state');\n          hiddenKeys[STATE] = true;\n\n          set = function (it, metadata) {\n            createNonEnumerableProperty(it, STATE, metadata);\n            return metadata;\n          };\n\n          get = function (it) {\n            return objectHas(it, STATE) ? it[STATE] : {};\n          };\n\n          has = function (it) {\n            return objectHas(it, STATE);\n          };\n        }\n\n        module.exports = {\n          set: set,\n          get: get,\n          has: has,\n          enforce: enforce,\n          getterFor: getterFor\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/is-array-iterator-method.js\":\n      /*!*************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/is-array-iterator-method.js ***!\n        \\*************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var Iterators = __webpack_require__(\n        /*! ../internals/iterators */\n        \"./node_modules/core-js-pure/internals/iterators.js\");\n\n        var ITERATOR = wellKnownSymbol('iterator');\n        var ArrayPrototype = Array.prototype; // check on default Array iterator\n\n        module.exports = function (it) {\n          return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/is-forced.js\":\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/is-forced.js ***!\n        \\**********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var fails = __webpack_require__(\n        /*! ../internals/fails */\n        \"./node_modules/core-js-pure/internals/fails.js\");\n\n        var replacement = /#|\\.prototype\\./;\n\n        var isForced = function (feature, detection) {\n          var value = data[normalize(feature)];\n          return value == POLYFILL ? true : value == NATIVE ? false : typeof detection == 'function' ? fails(detection) : !!detection;\n        };\n\n        var normalize = isForced.normalize = function (string) {\n          return String(string).replace(replacement, '.').toLowerCase();\n        };\n\n        var data = isForced.data = {};\n        var NATIVE = isForced.NATIVE = 'N';\n        var POLYFILL = isForced.POLYFILL = 'P';\n        module.exports = isForced;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/is-object.js\":\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/is-object.js ***!\n        \\**********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = function (it) {\n          return typeof it === 'object' ? it !== null : typeof it === 'function';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/is-pure.js\":\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/is-pure.js ***!\n        \\********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = true;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/iterate.js\":\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/iterate.js ***!\n        \\********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var anObject = __webpack_require__(\n        /*! ../internals/an-object */\n        \"./node_modules/core-js-pure/internals/an-object.js\");\n\n        var isArrayIteratorMethod = __webpack_require__(\n        /*! ../internals/is-array-iterator-method */\n        \"./node_modules/core-js-pure/internals/is-array-iterator-method.js\");\n\n        var toLength = __webpack_require__(\n        /*! ../internals/to-length */\n        \"./node_modules/core-js-pure/internals/to-length.js\");\n\n        var bind = __webpack_require__(\n        /*! ../internals/function-bind-context */\n        \"./node_modules/core-js-pure/internals/function-bind-context.js\");\n\n        var getIteratorMethod = __webpack_require__(\n        /*! ../internals/get-iterator-method */\n        \"./node_modules/core-js-pure/internals/get-iterator-method.js\");\n\n        var callWithSafeIterationClosing = __webpack_require__(\n        /*! ../internals/call-with-safe-iteration-closing */\n        \"./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js\");\n\n        var Result = function (stopped, result) {\n          this.stopped = stopped;\n          this.result = result;\n        };\n\n        var iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n          var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n          var iterator, iterFn, index, length, result, next, step;\n\n          if (IS_ITERATOR) {\n            iterator = iterable;\n          } else {\n            iterFn = getIteratorMethod(iterable);\n            if (typeof iterFn != 'function') throw TypeError('Target is not iterable'); // optimisation for array iterators\n\n            if (isArrayIteratorMethod(iterFn)) {\n              for (index = 0, length = toLength(iterable.length); length > index; index++) {\n                result = AS_ENTRIES ? boundFunction(anObject(step = iterable[index])[0], step[1]) : boundFunction(iterable[index]);\n                if (result && result instanceof Result) return result;\n              }\n\n              return new Result(false);\n            }\n\n            iterator = iterFn.call(iterable);\n          }\n\n          next = iterator.next;\n\n          while (!(step = next.call(iterator)).done) {\n            result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n            if (typeof result == 'object' && result && result instanceof Result) return result;\n          }\n\n          return new Result(false);\n        };\n\n        iterate.stop = function (result) {\n          return new Result(true, result);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/iterators-core.js\":\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/iterators-core.js ***!\n        \\***************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var getPrototypeOf = __webpack_require__(\n        /*! ../internals/object-get-prototype-of */\n        \"./node_modules/core-js-pure/internals/object-get-prototype-of.js\");\n\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        var has = __webpack_require__(\n        /*! ../internals/has */\n        \"./node_modules/core-js-pure/internals/has.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var IS_PURE = __webpack_require__(\n        /*! ../internals/is-pure */\n        \"./node_modules/core-js-pure/internals/is-pure.js\");\n\n        var ITERATOR = wellKnownSymbol('iterator');\n        var BUGGY_SAFARI_ITERATORS = false;\n\n        var returnThis = function () {\n          return this;\n        }; // `%IteratorPrototype%` object\n        // https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\n\n\n        var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n        if ([].keys) {\n          arrayIterator = [].keys(); // Safari 8 has buggy iterators w/o `next`\n\n          if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;else {\n            PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n            if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n          }\n        }\n\n        if (IteratorPrototype == undefined) IteratorPrototype = {}; // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n\n        if (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n          createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n        }\n\n        module.exports = {\n          IteratorPrototype: IteratorPrototype,\n          BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/iterators.js\":\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/iterators.js ***!\n        \\**********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = {};\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/microtask.js\":\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/microtask.js ***!\n        \\**********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var getOwnPropertyDescriptor = __webpack_require__(\n        /*! ../internals/object-get-own-property-descriptor */\n        \"./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js\").f;\n\n        var classof = __webpack_require__(\n        /*! ../internals/classof-raw */\n        \"./node_modules/core-js-pure/internals/classof-raw.js\");\n\n        var macrotask = __webpack_require__(\n        /*! ../internals/task */\n        \"./node_modules/core-js-pure/internals/task.js\").set;\n\n        var IS_IOS = __webpack_require__(\n        /*! ../internals/engine-is-ios */\n        \"./node_modules/core-js-pure/internals/engine-is-ios.js\");\n\n        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n        var process = global.process;\n        var Promise = global.Promise;\n        var IS_NODE = classof(process) == 'process'; // Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\n\n        var queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\n        var queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n        var flush, head, last, notify, toggle, node, promise, then; // modern engines have queueMicrotask method\n\n        if (!queueMicrotask) {\n          flush = function () {\n            var parent, fn;\n            if (IS_NODE && (parent = process.domain)) parent.exit();\n\n            while (head) {\n              fn = head.fn;\n              head = head.next;\n\n              try {\n                fn();\n              } catch (error) {\n                if (head) notify();else last = undefined;\n                throw error;\n              }\n            }\n\n            last = undefined;\n            if (parent) parent.enter();\n          }; // Node.js\n\n\n          if (IS_NODE) {\n            notify = function () {\n              process.nextTick(flush);\n            }; // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n\n          } else if (MutationObserver && !IS_IOS) {\n            toggle = true;\n            node = document.createTextNode('');\n            new MutationObserver(flush).observe(node, {\n              characterData: true\n            });\n\n            notify = function () {\n              node.data = toggle = !toggle;\n            }; // environments with maybe non-completely correct, but existent Promise\n\n          } else if (Promise && Promise.resolve) {\n            // Promise.resolve without an argument throws an error in LG WebOS 2\n            promise = Promise.resolve(undefined);\n            then = promise.then;\n\n            notify = function () {\n              then.call(promise, flush);\n            }; // for other environments - macrotask based on:\n            // - setImmediate\n            // - MessageChannel\n            // - window.postMessag\n            // - onreadystatechange\n            // - setTimeout\n\n          } else {\n            notify = function () {\n              // strange IE + webpack dev server bug - use .call(global)\n              macrotask.call(global, flush);\n            };\n          }\n        }\n\n        module.exports = queueMicrotask || function (fn) {\n          var task = {\n            fn: fn,\n            next: undefined\n          };\n          if (last) last.next = task;\n\n          if (!head) {\n            head = task;\n            notify();\n          }\n\n          last = task;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/native-promise-constructor.js\":\n      /*!***************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/native-promise-constructor.js ***!\n        \\***************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        module.exports = global.Promise;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/native-symbol.js\":\n      /*!**************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/native-symbol.js ***!\n        \\**************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var fails = __webpack_require__(\n        /*! ../internals/fails */\n        \"./node_modules/core-js-pure/internals/fails.js\");\n\n        module.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n          // Chrome 38 Symbol has incorrect toString conversion\n          // eslint-disable-next-line no-undef\n          return !String(Symbol());\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/native-weak-map.js\":\n      /*!****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/native-weak-map.js ***!\n        \\****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var inspectSource = __webpack_require__(\n        /*! ../internals/inspect-source */\n        \"./node_modules/core-js-pure/internals/inspect-source.js\");\n\n        var WeakMap = global.WeakMap;\n        module.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/new-promise-capability.js\":\n      /*!***********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/new-promise-capability.js ***!\n        \\***********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var aFunction = __webpack_require__(\n        /*! ../internals/a-function */\n        \"./node_modules/core-js-pure/internals/a-function.js\");\n\n        var PromiseCapability = function (C) {\n          var resolve, reject;\n          this.promise = new C(function ($$resolve, $$reject) {\n            if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n            resolve = $$resolve;\n            reject = $$reject;\n          });\n          this.resolve = aFunction(resolve);\n          this.reject = aFunction(reject);\n        }; // 25.4.1.5 NewPromiseCapability(C)\n\n\n        module.exports.f = function (C) {\n          return new PromiseCapability(C);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-create.js\":\n      /*!**************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-create.js ***!\n        \\**************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var anObject = __webpack_require__(\n        /*! ../internals/an-object */\n        \"./node_modules/core-js-pure/internals/an-object.js\");\n\n        var defineProperties = __webpack_require__(\n        /*! ../internals/object-define-properties */\n        \"./node_modules/core-js-pure/internals/object-define-properties.js\");\n\n        var enumBugKeys = __webpack_require__(\n        /*! ../internals/enum-bug-keys */\n        \"./node_modules/core-js-pure/internals/enum-bug-keys.js\");\n\n        var hiddenKeys = __webpack_require__(\n        /*! ../internals/hidden-keys */\n        \"./node_modules/core-js-pure/internals/hidden-keys.js\");\n\n        var html = __webpack_require__(\n        /*! ../internals/html */\n        \"./node_modules/core-js-pure/internals/html.js\");\n\n        var documentCreateElement = __webpack_require__(\n        /*! ../internals/document-create-element */\n        \"./node_modules/core-js-pure/internals/document-create-element.js\");\n\n        var sharedKey = __webpack_require__(\n        /*! ../internals/shared-key */\n        \"./node_modules/core-js-pure/internals/shared-key.js\");\n\n        var GT = '>';\n        var LT = '<';\n        var PROTOTYPE = 'prototype';\n        var SCRIPT = 'script';\n        var IE_PROTO = sharedKey('IE_PROTO');\n\n        var EmptyConstructor = function () {\n          /* empty */\n        };\n\n        var scriptTag = function (content) {\n          return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n        }; // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n\n\n        var NullProtoObjectViaActiveX = function (activeXDocument) {\n          activeXDocument.write(scriptTag(''));\n          activeXDocument.close();\n          var temp = activeXDocument.parentWindow.Object;\n          activeXDocument = null; // avoid memory leak\n\n          return temp;\n        }; // Create object with fake `null` prototype: use iframe Object with cleared prototype\n\n\n        var NullProtoObjectViaIFrame = function () {\n          // Thrash, waste and sodomy: IE GC bug\n          var iframe = documentCreateElement('iframe');\n          var JS = 'java' + SCRIPT + ':';\n          var iframeDocument;\n          iframe.style.display = 'none';\n          html.appendChild(iframe); // https://github.com/zloirock/core-js/issues/475\n\n          iframe.src = String(JS);\n          iframeDocument = iframe.contentWindow.document;\n          iframeDocument.open();\n          iframeDocument.write(scriptTag('document.F=Object'));\n          iframeDocument.close();\n          return iframeDocument.F;\n        }; // Check for document.domain and active x support\n        // No need to use active x approach when document.domain is not set\n        // see https://github.com/es-shims/es5-shim/issues/150\n        // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n        // avoid IE GC bug\n\n\n        var activeXDocument;\n\n        var NullProtoObject = function () {\n          try {\n            /* global ActiveXObject */\n            activeXDocument = document.domain && new ActiveXObject('htmlfile');\n          } catch (error) {\n            /* ignore */\n          }\n\n          NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n          var length = enumBugKeys.length;\n\n          while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n\n          return NullProtoObject();\n        };\n\n        hiddenKeys[IE_PROTO] = true; // `Object.create` method\n        // https://tc39.github.io/ecma262/#sec-object.create\n\n        module.exports = Object.create || function create(O, Properties) {\n          var result;\n\n          if (O !== null) {\n            EmptyConstructor[PROTOTYPE] = anObject(O);\n            result = new EmptyConstructor();\n            EmptyConstructor[PROTOTYPE] = null; // add \"__proto__\" for Object.getPrototypeOf polyfill\n\n            result[IE_PROTO] = O;\n          } else result = NullProtoObject();\n\n          return Properties === undefined ? result : defineProperties(result, Properties);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-define-properties.js\":\n      /*!*************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-define-properties.js ***!\n        \\*************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(\n        /*! ../internals/descriptors */\n        \"./node_modules/core-js-pure/internals/descriptors.js\");\n\n        var definePropertyModule = __webpack_require__(\n        /*! ../internals/object-define-property */\n        \"./node_modules/core-js-pure/internals/object-define-property.js\");\n\n        var anObject = __webpack_require__(\n        /*! ../internals/an-object */\n        \"./node_modules/core-js-pure/internals/an-object.js\");\n\n        var objectKeys = __webpack_require__(\n        /*! ../internals/object-keys */\n        \"./node_modules/core-js-pure/internals/object-keys.js\"); // `Object.defineProperties` method\n        // https://tc39.github.io/ecma262/#sec-object.defineproperties\n\n\n        module.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n          anObject(O);\n          var keys = objectKeys(Properties);\n          var length = keys.length;\n          var index = 0;\n          var key;\n\n          while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n\n          return O;\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-define-property.js\":\n      /*!***********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-define-property.js ***!\n        \\***********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(\n        /*! ../internals/descriptors */\n        \"./node_modules/core-js-pure/internals/descriptors.js\");\n\n        var IE8_DOM_DEFINE = __webpack_require__(\n        /*! ../internals/ie8-dom-define */\n        \"./node_modules/core-js-pure/internals/ie8-dom-define.js\");\n\n        var anObject = __webpack_require__(\n        /*! ../internals/an-object */\n        \"./node_modules/core-js-pure/internals/an-object.js\");\n\n        var toPrimitive = __webpack_require__(\n        /*! ../internals/to-primitive */\n        \"./node_modules/core-js-pure/internals/to-primitive.js\");\n\n        var nativeDefineProperty = Object.defineProperty; // `Object.defineProperty` method\n        // https://tc39.github.io/ecma262/#sec-object.defineproperty\n\n        exports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n          anObject(O);\n          P = toPrimitive(P, true);\n          anObject(Attributes);\n          if (IE8_DOM_DEFINE) try {\n            return nativeDefineProperty(O, P, Attributes);\n          } catch (error) {\n            /* empty */\n          }\n          if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n          if ('value' in Attributes) O[P] = Attributes.value;\n          return O;\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js\":\n      /*!***********************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js ***!\n        \\***********************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var DESCRIPTORS = __webpack_require__(\n        /*! ../internals/descriptors */\n        \"./node_modules/core-js-pure/internals/descriptors.js\");\n\n        var propertyIsEnumerableModule = __webpack_require__(\n        /*! ../internals/object-property-is-enumerable */\n        \"./node_modules/core-js-pure/internals/object-property-is-enumerable.js\");\n\n        var createPropertyDescriptor = __webpack_require__(\n        /*! ../internals/create-property-descriptor */\n        \"./node_modules/core-js-pure/internals/create-property-descriptor.js\");\n\n        var toIndexedObject = __webpack_require__(\n        /*! ../internals/to-indexed-object */\n        \"./node_modules/core-js-pure/internals/to-indexed-object.js\");\n\n        var toPrimitive = __webpack_require__(\n        /*! ../internals/to-primitive */\n        \"./node_modules/core-js-pure/internals/to-primitive.js\");\n\n        var has = __webpack_require__(\n        /*! ../internals/has */\n        \"./node_modules/core-js-pure/internals/has.js\");\n\n        var IE8_DOM_DEFINE = __webpack_require__(\n        /*! ../internals/ie8-dom-define */\n        \"./node_modules/core-js-pure/internals/ie8-dom-define.js\");\n\n        var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor; // `Object.getOwnPropertyDescriptor` method\n        // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n\n        exports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n          O = toIndexedObject(O);\n          P = toPrimitive(P, true);\n          if (IE8_DOM_DEFINE) try {\n            return nativeGetOwnPropertyDescriptor(O, P);\n          } catch (error) {\n            /* empty */\n          }\n          if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-get-prototype-of.js\":\n      /*!************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-get-prototype-of.js ***!\n        \\************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var has = __webpack_require__(\n        /*! ../internals/has */\n        \"./node_modules/core-js-pure/internals/has.js\");\n\n        var toObject = __webpack_require__(\n        /*! ../internals/to-object */\n        \"./node_modules/core-js-pure/internals/to-object.js\");\n\n        var sharedKey = __webpack_require__(\n        /*! ../internals/shared-key */\n        \"./node_modules/core-js-pure/internals/shared-key.js\");\n\n        var CORRECT_PROTOTYPE_GETTER = __webpack_require__(\n        /*! ../internals/correct-prototype-getter */\n        \"./node_modules/core-js-pure/internals/correct-prototype-getter.js\");\n\n        var IE_PROTO = sharedKey('IE_PROTO');\n        var ObjectPrototype = Object.prototype; // `Object.getPrototypeOf` method\n        // https://tc39.github.io/ecma262/#sec-object.getprototypeof\n\n        module.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n          O = toObject(O);\n          if (has(O, IE_PROTO)) return O[IE_PROTO];\n\n          if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n            return O.constructor.prototype;\n          }\n\n          return O instanceof Object ? ObjectPrototype : null;\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-keys-internal.js\":\n      /*!*********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-keys-internal.js ***!\n        \\*********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var has = __webpack_require__(\n        /*! ../internals/has */\n        \"./node_modules/core-js-pure/internals/has.js\");\n\n        var toIndexedObject = __webpack_require__(\n        /*! ../internals/to-indexed-object */\n        \"./node_modules/core-js-pure/internals/to-indexed-object.js\");\n\n        var indexOf = __webpack_require__(\n        /*! ../internals/array-includes */\n        \"./node_modules/core-js-pure/internals/array-includes.js\").indexOf;\n\n        var hiddenKeys = __webpack_require__(\n        /*! ../internals/hidden-keys */\n        \"./node_modules/core-js-pure/internals/hidden-keys.js\");\n\n        module.exports = function (object, names) {\n          var O = toIndexedObject(object);\n          var i = 0;\n          var result = [];\n          var key;\n\n          for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key); // Don't enum bug & hidden keys\n\n\n          while (names.length > i) if (has(O, key = names[i++])) {\n            ~indexOf(result, key) || result.push(key);\n          }\n\n          return result;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-keys.js\":\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-keys.js ***!\n        \\************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var internalObjectKeys = __webpack_require__(\n        /*! ../internals/object-keys-internal */\n        \"./node_modules/core-js-pure/internals/object-keys-internal.js\");\n\n        var enumBugKeys = __webpack_require__(\n        /*! ../internals/enum-bug-keys */\n        \"./node_modules/core-js-pure/internals/enum-bug-keys.js\"); // `Object.keys` method\n        // https://tc39.github.io/ecma262/#sec-object.keys\n\n\n        module.exports = Object.keys || function keys(O) {\n          return internalObjectKeys(O, enumBugKeys);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-property-is-enumerable.js\":\n      /*!******************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-property-is-enumerable.js ***!\n        \\******************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var nativePropertyIsEnumerable = {}.propertyIsEnumerable;\n        var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor; // Nashorn ~ JDK8 bug\n\n        var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({\n          1: 2\n        }, 1); // `Object.prototype.propertyIsEnumerable` method implementation\n        // https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\n\n        exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n          var descriptor = getOwnPropertyDescriptor(this, V);\n          return !!descriptor && descriptor.enumerable;\n        } : nativePropertyIsEnumerable;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-set-prototype-of.js\":\n      /*!************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-set-prototype-of.js ***!\n        \\************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var anObject = __webpack_require__(\n        /*! ../internals/an-object */\n        \"./node_modules/core-js-pure/internals/an-object.js\");\n\n        var aPossiblePrototype = __webpack_require__(\n        /*! ../internals/a-possible-prototype */\n        \"./node_modules/core-js-pure/internals/a-possible-prototype.js\"); // `Object.setPrototypeOf` method\n        // https://tc39.github.io/ecma262/#sec-object.setprototypeof\n        // Works with __proto__ only. Old v8 can't work with null proto objects.\n\n        /* eslint-disable no-proto */\n\n\n        module.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n          var CORRECT_SETTER = false;\n          var test = {};\n          var setter;\n\n          try {\n            setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n            setter.call(test, []);\n            CORRECT_SETTER = test instanceof Array;\n          } catch (error) {\n            /* empty */\n          }\n\n          return function setPrototypeOf(O, proto) {\n            anObject(O);\n            aPossiblePrototype(proto);\n            if (CORRECT_SETTER) setter.call(O, proto);else O.__proto__ = proto;\n            return O;\n          };\n        }() : undefined);\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/object-to-string.js\":\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/object-to-string.js ***!\n        \\*****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var TO_STRING_TAG_SUPPORT = __webpack_require__(\n        /*! ../internals/to-string-tag-support */\n        \"./node_modules/core-js-pure/internals/to-string-tag-support.js\");\n\n        var classof = __webpack_require__(\n        /*! ../internals/classof */\n        \"./node_modules/core-js-pure/internals/classof.js\"); // `Object.prototype.toString` method implementation\n        // https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n\n\n        module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n          return '[object ' + classof(this) + ']';\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/path.js\":\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/path.js ***!\n        \\*****************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = {};\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/perform.js\":\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/perform.js ***!\n        \\********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = function (exec) {\n          try {\n            return {\n              error: false,\n              value: exec()\n            };\n          } catch (error) {\n            return {\n              error: true,\n              value: error\n            };\n          }\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/promise-resolve.js\":\n      /*!****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/promise-resolve.js ***!\n        \\****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var anObject = __webpack_require__(\n        /*! ../internals/an-object */\n        \"./node_modules/core-js-pure/internals/an-object.js\");\n\n        var isObject = __webpack_require__(\n        /*! ../internals/is-object */\n        \"./node_modules/core-js-pure/internals/is-object.js\");\n\n        var newPromiseCapability = __webpack_require__(\n        /*! ../internals/new-promise-capability */\n        \"./node_modules/core-js-pure/internals/new-promise-capability.js\");\n\n        module.exports = function (C, x) {\n          anObject(C);\n          if (isObject(x) && x.constructor === C) return x;\n          var promiseCapability = newPromiseCapability.f(C);\n          var resolve = promiseCapability.resolve;\n          resolve(x);\n          return promiseCapability.promise;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/redefine-all.js\":\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/redefine-all.js ***!\n        \\*************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var redefine = __webpack_require__(\n        /*! ../internals/redefine */\n        \"./node_modules/core-js-pure/internals/redefine.js\");\n\n        module.exports = function (target, src, options) {\n          for (var key in src) {\n            if (options && options.unsafe && target[key]) target[key] = src[key];else redefine(target, key, src[key], options);\n          }\n\n          return target;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/redefine.js\":\n      /*!*********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/redefine.js ***!\n        \\*********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        module.exports = function (target, key, value, options) {\n          if (options && options.enumerable) target[key] = value;else createNonEnumerableProperty(target, key, value);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/require-object-coercible.js\":\n      /*!*************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/require-object-coercible.js ***!\n        \\*************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        // `RequireObjectCoercible` abstract operation\n        // https://tc39.github.io/ecma262/#sec-requireobjectcoercible\n        module.exports = function (it) {\n          if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n          return it;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/set-global.js\":\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/set-global.js ***!\n        \\***********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        module.exports = function (key, value) {\n          try {\n            createNonEnumerableProperty(global, key, value);\n          } catch (error) {\n            global[key] = value;\n          }\n\n          return value;\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/set-species.js\":\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/set-species.js ***!\n        \\************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var getBuiltIn = __webpack_require__(\n        /*! ../internals/get-built-in */\n        \"./node_modules/core-js-pure/internals/get-built-in.js\");\n\n        var definePropertyModule = __webpack_require__(\n        /*! ../internals/object-define-property */\n        \"./node_modules/core-js-pure/internals/object-define-property.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var DESCRIPTORS = __webpack_require__(\n        /*! ../internals/descriptors */\n        \"./node_modules/core-js-pure/internals/descriptors.js\");\n\n        var SPECIES = wellKnownSymbol('species');\n\n        module.exports = function (CONSTRUCTOR_NAME) {\n          var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n          var defineProperty = definePropertyModule.f;\n\n          if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n            defineProperty(Constructor, SPECIES, {\n              configurable: true,\n              get: function () {\n                return this;\n              }\n            });\n          }\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/set-to-string-tag.js\":\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/set-to-string-tag.js ***!\n        \\******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var TO_STRING_TAG_SUPPORT = __webpack_require__(\n        /*! ../internals/to-string-tag-support */\n        \"./node_modules/core-js-pure/internals/to-string-tag-support.js\");\n\n        var defineProperty = __webpack_require__(\n        /*! ../internals/object-define-property */\n        \"./node_modules/core-js-pure/internals/object-define-property.js\").f;\n\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        var has = __webpack_require__(\n        /*! ../internals/has */\n        \"./node_modules/core-js-pure/internals/has.js\");\n\n        var toString = __webpack_require__(\n        /*! ../internals/object-to-string */\n        \"./node_modules/core-js-pure/internals/object-to-string.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\n        module.exports = function (it, TAG, STATIC, SET_METHOD) {\n          if (it) {\n            var target = STATIC ? it : it.prototype;\n\n            if (!has(target, TO_STRING_TAG)) {\n              defineProperty(target, TO_STRING_TAG, {\n                configurable: true,\n                value: TAG\n              });\n            }\n\n            if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n              createNonEnumerableProperty(target, 'toString', toString);\n            }\n          }\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/shared-key.js\":\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/shared-key.js ***!\n        \\***********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var shared = __webpack_require__(\n        /*! ../internals/shared */\n        \"./node_modules/core-js-pure/internals/shared.js\");\n\n        var uid = __webpack_require__(\n        /*! ../internals/uid */\n        \"./node_modules/core-js-pure/internals/uid.js\");\n\n        var keys = shared('keys');\n\n        module.exports = function (key) {\n          return keys[key] || (keys[key] = uid(key));\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/shared-store.js\":\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/shared-store.js ***!\n        \\*************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var setGlobal = __webpack_require__(\n        /*! ../internals/set-global */\n        \"./node_modules/core-js-pure/internals/set-global.js\");\n\n        var SHARED = '__core-js_shared__';\n        var store = global[SHARED] || setGlobal(SHARED, {});\n        module.exports = store;\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/shared.js\":\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/shared.js ***!\n        \\*******************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var IS_PURE = __webpack_require__(\n        /*! ../internals/is-pure */\n        \"./node_modules/core-js-pure/internals/is-pure.js\");\n\n        var store = __webpack_require__(\n        /*! ../internals/shared-store */\n        \"./node_modules/core-js-pure/internals/shared-store.js\");\n\n        (module.exports = function (key, value) {\n          return store[key] || (store[key] = value !== undefined ? value : {});\n        })('versions', []).push({\n          version: '3.6.4',\n          mode: IS_PURE ? 'pure' : 'global',\n          copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/species-constructor.js\":\n      /*!********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/species-constructor.js ***!\n        \\********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var anObject = __webpack_require__(\n        /*! ../internals/an-object */\n        \"./node_modules/core-js-pure/internals/an-object.js\");\n\n        var aFunction = __webpack_require__(\n        /*! ../internals/a-function */\n        \"./node_modules/core-js-pure/internals/a-function.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var SPECIES = wellKnownSymbol('species'); // `SpeciesConstructor` abstract operation\n        // https://tc39.github.io/ecma262/#sec-speciesconstructor\n\n        module.exports = function (O, defaultConstructor) {\n          var C = anObject(O).constructor;\n          var S;\n          return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/string-multibyte.js\":\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/string-multibyte.js ***!\n        \\*****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var toInteger = __webpack_require__(\n        /*! ../internals/to-integer */\n        \"./node_modules/core-js-pure/internals/to-integer.js\");\n\n        var requireObjectCoercible = __webpack_require__(\n        /*! ../internals/require-object-coercible */\n        \"./node_modules/core-js-pure/internals/require-object-coercible.js\"); // `String.prototype.{ codePointAt, at }` methods implementation\n\n\n        var createMethod = function (CONVERT_TO_STRING) {\n          return function ($this, pos) {\n            var S = String(requireObjectCoercible($this));\n            var position = toInteger(pos);\n            var size = S.length;\n            var first, second;\n            if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n            first = S.charCodeAt(position);\n            return first < 0xD800 || first > 0xDBFF || position + 1 === size || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF ? CONVERT_TO_STRING ? S.charAt(position) : first : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n          };\n        };\n\n        module.exports = {\n          // `String.prototype.codePointAt` method\n          // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n          codeAt: createMethod(false),\n          // `String.prototype.at` method\n          // https://github.com/mathiasbynens/String.prototype.at\n          charAt: createMethod(true)\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/task.js\":\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/task.js ***!\n        \\*****************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var fails = __webpack_require__(\n        /*! ../internals/fails */\n        \"./node_modules/core-js-pure/internals/fails.js\");\n\n        var classof = __webpack_require__(\n        /*! ../internals/classof-raw */\n        \"./node_modules/core-js-pure/internals/classof-raw.js\");\n\n        var bind = __webpack_require__(\n        /*! ../internals/function-bind-context */\n        \"./node_modules/core-js-pure/internals/function-bind-context.js\");\n\n        var html = __webpack_require__(\n        /*! ../internals/html */\n        \"./node_modules/core-js-pure/internals/html.js\");\n\n        var createElement = __webpack_require__(\n        /*! ../internals/document-create-element */\n        \"./node_modules/core-js-pure/internals/document-create-element.js\");\n\n        var IS_IOS = __webpack_require__(\n        /*! ../internals/engine-is-ios */\n        \"./node_modules/core-js-pure/internals/engine-is-ios.js\");\n\n        var location = global.location;\n        var set = global.setImmediate;\n        var clear = global.clearImmediate;\n        var process = global.process;\n        var MessageChannel = global.MessageChannel;\n        var Dispatch = global.Dispatch;\n        var counter = 0;\n        var queue = {};\n        var ONREADYSTATECHANGE = 'onreadystatechange';\n        var defer, channel, port;\n\n        var run = function (id) {\n          // eslint-disable-next-line no-prototype-builtins\n          if (queue.hasOwnProperty(id)) {\n            var fn = queue[id];\n            delete queue[id];\n            fn();\n          }\n        };\n\n        var runner = function (id) {\n          return function () {\n            run(id);\n          };\n        };\n\n        var listener = function (event) {\n          run(event.data);\n        };\n\n        var post = function (id) {\n          // old engines have not location.origin\n          global.postMessage(id + '', location.protocol + '//' + location.host);\n        }; // Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n\n\n        if (!set || !clear) {\n          set = function setImmediate(fn) {\n            var args = [];\n            var i = 1;\n\n            while (arguments.length > i) args.push(arguments[i++]);\n\n            queue[++counter] = function () {\n              // eslint-disable-next-line no-new-func\n              (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n            };\n\n            defer(counter);\n            return counter;\n          };\n\n          clear = function clearImmediate(id) {\n            delete queue[id];\n          }; // Node.js 0.8-\n\n\n          if (classof(process) == 'process') {\n            defer = function (id) {\n              process.nextTick(runner(id));\n            }; // Sphere (JS game engine) Dispatch API\n\n          } else if (Dispatch && Dispatch.now) {\n            defer = function (id) {\n              Dispatch.now(runner(id));\n            }; // Browsers with MessageChannel, includes WebWorkers\n            // except iOS - https://github.com/zloirock/core-js/issues/624\n\n          } else if (MessageChannel && !IS_IOS) {\n            channel = new MessageChannel();\n            port = channel.port2;\n            channel.port1.onmessage = listener;\n            defer = bind(port.postMessage, port, 1); // Browsers with postMessage, skip WebWorkers\n            // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n          } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts && !fails(post)) {\n            defer = post;\n            global.addEventListener('message', listener, false); // IE8-\n          } else if (ONREADYSTATECHANGE in createElement('script')) {\n            defer = function (id) {\n              html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n                html.removeChild(this);\n                run(id);\n              };\n            }; // Rest old browsers\n\n          } else {\n            defer = function (id) {\n              setTimeout(runner(id), 0);\n            };\n          }\n        }\n\n        module.exports = {\n          set: set,\n          clear: clear\n        };\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/to-absolute-index.js\":\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/to-absolute-index.js ***!\n        \\******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var toInteger = __webpack_require__(\n        /*! ../internals/to-integer */\n        \"./node_modules/core-js-pure/internals/to-integer.js\");\n\n        var max = Math.max;\n        var min = Math.min; // Helper for a popular repeating case of the spec:\n        // Let integer be ? ToInteger(index).\n        // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n\n        module.exports = function (index, length) {\n          var integer = toInteger(index);\n          return integer < 0 ? max(integer + length, 0) : min(integer, length);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/to-indexed-object.js\":\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/to-indexed-object.js ***!\n        \\******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        // toObject with fallback for non-array-like ES3 strings\n        var IndexedObject = __webpack_require__(\n        /*! ../internals/indexed-object */\n        \"./node_modules/core-js-pure/internals/indexed-object.js\");\n\n        var requireObjectCoercible = __webpack_require__(\n        /*! ../internals/require-object-coercible */\n        \"./node_modules/core-js-pure/internals/require-object-coercible.js\");\n\n        module.exports = function (it) {\n          return IndexedObject(requireObjectCoercible(it));\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/to-integer.js\":\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/to-integer.js ***!\n        \\***********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        var ceil = Math.ceil;\n        var floor = Math.floor; // `ToInteger` abstract operation\n        // https://tc39.github.io/ecma262/#sec-tointeger\n\n        module.exports = function (argument) {\n          return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/to-length.js\":\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/to-length.js ***!\n        \\**********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var toInteger = __webpack_require__(\n        /*! ../internals/to-integer */\n        \"./node_modules/core-js-pure/internals/to-integer.js\");\n\n        var min = Math.min; // `ToLength` abstract operation\n        // https://tc39.github.io/ecma262/#sec-tolength\n\n        module.exports = function (argument) {\n          return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/to-object.js\":\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/to-object.js ***!\n        \\**********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var requireObjectCoercible = __webpack_require__(\n        /*! ../internals/require-object-coercible */\n        \"./node_modules/core-js-pure/internals/require-object-coercible.js\"); // `ToObject` abstract operation\n        // https://tc39.github.io/ecma262/#sec-toobject\n\n\n        module.exports = function (argument) {\n          return Object(requireObjectCoercible(argument));\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/to-primitive.js\":\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/to-primitive.js ***!\n        \\*************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var isObject = __webpack_require__(\n        /*! ../internals/is-object */\n        \"./node_modules/core-js-pure/internals/is-object.js\"); // `ToPrimitive` abstract operation\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n        // and the second argument - flag - preferred type is a string\n\n\n        module.exports = function (input, PREFERRED_STRING) {\n          if (!isObject(input)) return input;\n          var fn, val;\n          if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n          if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n          if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n          throw TypeError(\"Can't convert object to primitive value\");\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/to-string-tag-support.js\":\n      /*!**********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/to-string-tag-support.js ***!\n        \\**********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        var test = {};\n        test[TO_STRING_TAG] = 'z';\n        module.exports = String(test) === '[object z]';\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/uid.js\":\n      /*!****************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/uid.js ***!\n        \\****************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        var id = 0;\n        var postfix = Math.random();\n\n        module.exports = function (key) {\n          return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/use-symbol-as-uid.js\":\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/use-symbol-as-uid.js ***!\n        \\******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var NATIVE_SYMBOL = __webpack_require__(\n        /*! ../internals/native-symbol */\n        \"./node_modules/core-js-pure/internals/native-symbol.js\");\n\n        module.exports = NATIVE_SYMBOL // eslint-disable-next-line no-undef\n        && !Symbol.sham // eslint-disable-next-line no-undef\n        && typeof Symbol.iterator == 'symbol';\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/internals/well-known-symbol.js\":\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/internals/well-known-symbol.js ***!\n        \\******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var shared = __webpack_require__(\n        /*! ../internals/shared */\n        \"./node_modules/core-js-pure/internals/shared.js\");\n\n        var has = __webpack_require__(\n        /*! ../internals/has */\n        \"./node_modules/core-js-pure/internals/has.js\");\n\n        var uid = __webpack_require__(\n        /*! ../internals/uid */\n        \"./node_modules/core-js-pure/internals/uid.js\");\n\n        var NATIVE_SYMBOL = __webpack_require__(\n        /*! ../internals/native-symbol */\n        \"./node_modules/core-js-pure/internals/native-symbol.js\");\n\n        var USE_SYMBOL_AS_UID = __webpack_require__(\n        /*! ../internals/use-symbol-as-uid */\n        \"./node_modules/core-js-pure/internals/use-symbol-as-uid.js\");\n\n        var WellKnownSymbolsStore = shared('wks');\n        var Symbol = global.Symbol;\n        var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\n        module.exports = function (name) {\n          if (!has(WellKnownSymbolsStore, name)) {\n            if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n          }\n\n          return WellKnownSymbolsStore[name];\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/es.array.iterator.js\":\n      /*!****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/es.array.iterator.js ***!\n        \\****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var toIndexedObject = __webpack_require__(\n        /*! ../internals/to-indexed-object */\n        \"./node_modules/core-js-pure/internals/to-indexed-object.js\");\n\n        var addToUnscopables = __webpack_require__(\n        /*! ../internals/add-to-unscopables */\n        \"./node_modules/core-js-pure/internals/add-to-unscopables.js\");\n\n        var Iterators = __webpack_require__(\n        /*! ../internals/iterators */\n        \"./node_modules/core-js-pure/internals/iterators.js\");\n\n        var InternalStateModule = __webpack_require__(\n        /*! ../internals/internal-state */\n        \"./node_modules/core-js-pure/internals/internal-state.js\");\n\n        var defineIterator = __webpack_require__(\n        /*! ../internals/define-iterator */\n        \"./node_modules/core-js-pure/internals/define-iterator.js\");\n\n        var ARRAY_ITERATOR = 'Array Iterator';\n        var setInternalState = InternalStateModule.set;\n        var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR); // `Array.prototype.entries` method\n        // https://tc39.github.io/ecma262/#sec-array.prototype.entries\n        // `Array.prototype.keys` method\n        // https://tc39.github.io/ecma262/#sec-array.prototype.keys\n        // `Array.prototype.values` method\n        // https://tc39.github.io/ecma262/#sec-array.prototype.values\n        // `Array.prototype[@@iterator]` method\n        // https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n        // `CreateArrayIterator` internal method\n        // https://tc39.github.io/ecma262/#sec-createarrayiterator\n\n        module.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n          setInternalState(this, {\n            type: ARRAY_ITERATOR,\n            target: toIndexedObject(iterated),\n            // target\n            index: 0,\n            // next index\n            kind: kind // kind\n\n          }); // `%ArrayIteratorPrototype%.next` method\n          // https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n        }, function () {\n          var state = getInternalState(this);\n          var target = state.target;\n          var kind = state.kind;\n          var index = state.index++;\n\n          if (!target || index >= target.length) {\n            state.target = undefined;\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n\n          if (kind == 'keys') return {\n            value: index,\n            done: false\n          };\n          if (kind == 'values') return {\n            value: target[index],\n            done: false\n          };\n          return {\n            value: [index, target[index]],\n            done: false\n          };\n        }, 'values'); // argumentsList[@@iterator] is %ArrayProto_values%\n        // https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n        // https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\n\n        Iterators.Arguments = Iterators.Array; // https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\n\n        addToUnscopables('keys');\n        addToUnscopables('values');\n        addToUnscopables('entries');\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/es.object.to-string.js\":\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/es.object.to-string.js ***!\n        \\******************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {// empty\n\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/es.promise.all-settled.js\":\n      /*!*********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/es.promise.all-settled.js ***!\n        \\*********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(\n        /*! ../internals/export */\n        \"./node_modules/core-js-pure/internals/export.js\");\n\n        var aFunction = __webpack_require__(\n        /*! ../internals/a-function */\n        \"./node_modules/core-js-pure/internals/a-function.js\");\n\n        var newPromiseCapabilityModule = __webpack_require__(\n        /*! ../internals/new-promise-capability */\n        \"./node_modules/core-js-pure/internals/new-promise-capability.js\");\n\n        var perform = __webpack_require__(\n        /*! ../internals/perform */\n        \"./node_modules/core-js-pure/internals/perform.js\");\n\n        var iterate = __webpack_require__(\n        /*! ../internals/iterate */\n        \"./node_modules/core-js-pure/internals/iterate.js\"); // `Promise.allSettled` method\n        // https://github.com/tc39/proposal-promise-allSettled\n\n\n        $({\n          target: 'Promise',\n          stat: true\n        }, {\n          allSettled: function allSettled(iterable) {\n            var C = this;\n            var capability = newPromiseCapabilityModule.f(C);\n            var resolve = capability.resolve;\n            var reject = capability.reject;\n            var result = perform(function () {\n              var promiseResolve = aFunction(C.resolve);\n              var values = [];\n              var counter = 0;\n              var remaining = 1;\n              iterate(iterable, function (promise) {\n                var index = counter++;\n                var alreadyCalled = false;\n                values.push(undefined);\n                remaining++;\n                promiseResolve.call(C, promise).then(function (value) {\n                  if (alreadyCalled) return;\n                  alreadyCalled = true;\n                  values[index] = {\n                    status: 'fulfilled',\n                    value: value\n                  };\n                  --remaining || resolve(values);\n                }, function (e) {\n                  if (alreadyCalled) return;\n                  alreadyCalled = true;\n                  values[index] = {\n                    status: 'rejected',\n                    reason: e\n                  };\n                  --remaining || resolve(values);\n                });\n              });\n              --remaining || resolve(values);\n            });\n            if (result.error) reject(result.value);\n            return capability.promise;\n          }\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/es.promise.finally.js\":\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/es.promise.finally.js ***!\n        \\*****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(\n        /*! ../internals/export */\n        \"./node_modules/core-js-pure/internals/export.js\");\n\n        var IS_PURE = __webpack_require__(\n        /*! ../internals/is-pure */\n        \"./node_modules/core-js-pure/internals/is-pure.js\");\n\n        var NativePromise = __webpack_require__(\n        /*! ../internals/native-promise-constructor */\n        \"./node_modules/core-js-pure/internals/native-promise-constructor.js\");\n\n        var fails = __webpack_require__(\n        /*! ../internals/fails */\n        \"./node_modules/core-js-pure/internals/fails.js\");\n\n        var getBuiltIn = __webpack_require__(\n        /*! ../internals/get-built-in */\n        \"./node_modules/core-js-pure/internals/get-built-in.js\");\n\n        var speciesConstructor = __webpack_require__(\n        /*! ../internals/species-constructor */\n        \"./node_modules/core-js-pure/internals/species-constructor.js\");\n\n        var promiseResolve = __webpack_require__(\n        /*! ../internals/promise-resolve */\n        \"./node_modules/core-js-pure/internals/promise-resolve.js\");\n\n        var redefine = __webpack_require__(\n        /*! ../internals/redefine */\n        \"./node_modules/core-js-pure/internals/redefine.js\"); // Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\n\n\n        var NON_GENERIC = !!NativePromise && fails(function () {\n          NativePromise.prototype['finally'].call({\n            then: function () {\n              /* empty */\n            }\n          }, function () {\n            /* empty */\n          });\n        }); // `Promise.prototype.finally` method\n        // https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n\n        $({\n          target: 'Promise',\n          proto: true,\n          real: true,\n          forced: NON_GENERIC\n        }, {\n          'finally': function (onFinally) {\n            var C = speciesConstructor(this, getBuiltIn('Promise'));\n            var isFunction = typeof onFinally == 'function';\n            return this.then(isFunction ? function (x) {\n              return promiseResolve(C, onFinally()).then(function () {\n                return x;\n              });\n            } : onFinally, isFunction ? function (e) {\n              return promiseResolve(C, onFinally()).then(function () {\n                throw e;\n              });\n            } : onFinally);\n          }\n        }); // patch native Promise.prototype for native async functions\n\n        if (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n          redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n        }\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/es.promise.js\":\n      /*!*********************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/es.promise.js ***!\n        \\*********************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(\n        /*! ../internals/export */\n        \"./node_modules/core-js-pure/internals/export.js\");\n\n        var IS_PURE = __webpack_require__(\n        /*! ../internals/is-pure */\n        \"./node_modules/core-js-pure/internals/is-pure.js\");\n\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var getBuiltIn = __webpack_require__(\n        /*! ../internals/get-built-in */\n        \"./node_modules/core-js-pure/internals/get-built-in.js\");\n\n        var NativePromise = __webpack_require__(\n        /*! ../internals/native-promise-constructor */\n        \"./node_modules/core-js-pure/internals/native-promise-constructor.js\");\n\n        var redefine = __webpack_require__(\n        /*! ../internals/redefine */\n        \"./node_modules/core-js-pure/internals/redefine.js\");\n\n        var redefineAll = __webpack_require__(\n        /*! ../internals/redefine-all */\n        \"./node_modules/core-js-pure/internals/redefine-all.js\");\n\n        var setToStringTag = __webpack_require__(\n        /*! ../internals/set-to-string-tag */\n        \"./node_modules/core-js-pure/internals/set-to-string-tag.js\");\n\n        var setSpecies = __webpack_require__(\n        /*! ../internals/set-species */\n        \"./node_modules/core-js-pure/internals/set-species.js\");\n\n        var isObject = __webpack_require__(\n        /*! ../internals/is-object */\n        \"./node_modules/core-js-pure/internals/is-object.js\");\n\n        var aFunction = __webpack_require__(\n        /*! ../internals/a-function */\n        \"./node_modules/core-js-pure/internals/a-function.js\");\n\n        var anInstance = __webpack_require__(\n        /*! ../internals/an-instance */\n        \"./node_modules/core-js-pure/internals/an-instance.js\");\n\n        var classof = __webpack_require__(\n        /*! ../internals/classof-raw */\n        \"./node_modules/core-js-pure/internals/classof-raw.js\");\n\n        var inspectSource = __webpack_require__(\n        /*! ../internals/inspect-source */\n        \"./node_modules/core-js-pure/internals/inspect-source.js\");\n\n        var iterate = __webpack_require__(\n        /*! ../internals/iterate */\n        \"./node_modules/core-js-pure/internals/iterate.js\");\n\n        var checkCorrectnessOfIteration = __webpack_require__(\n        /*! ../internals/check-correctness-of-iteration */\n        \"./node_modules/core-js-pure/internals/check-correctness-of-iteration.js\");\n\n        var speciesConstructor = __webpack_require__(\n        /*! ../internals/species-constructor */\n        \"./node_modules/core-js-pure/internals/species-constructor.js\");\n\n        var task = __webpack_require__(\n        /*! ../internals/task */\n        \"./node_modules/core-js-pure/internals/task.js\").set;\n\n        var microtask = __webpack_require__(\n        /*! ../internals/microtask */\n        \"./node_modules/core-js-pure/internals/microtask.js\");\n\n        var promiseResolve = __webpack_require__(\n        /*! ../internals/promise-resolve */\n        \"./node_modules/core-js-pure/internals/promise-resolve.js\");\n\n        var hostReportErrors = __webpack_require__(\n        /*! ../internals/host-report-errors */\n        \"./node_modules/core-js-pure/internals/host-report-errors.js\");\n\n        var newPromiseCapabilityModule = __webpack_require__(\n        /*! ../internals/new-promise-capability */\n        \"./node_modules/core-js-pure/internals/new-promise-capability.js\");\n\n        var perform = __webpack_require__(\n        /*! ../internals/perform */\n        \"./node_modules/core-js-pure/internals/perform.js\");\n\n        var InternalStateModule = __webpack_require__(\n        /*! ../internals/internal-state */\n        \"./node_modules/core-js-pure/internals/internal-state.js\");\n\n        var isForced = __webpack_require__(\n        /*! ../internals/is-forced */\n        \"./node_modules/core-js-pure/internals/is-forced.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var V8_VERSION = __webpack_require__(\n        /*! ../internals/engine-v8-version */\n        \"./node_modules/core-js-pure/internals/engine-v8-version.js\");\n\n        var SPECIES = wellKnownSymbol('species');\n        var PROMISE = 'Promise';\n        var getInternalState = InternalStateModule.get;\n        var setInternalState = InternalStateModule.set;\n        var getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\n        var PromiseConstructor = NativePromise;\n        var TypeError = global.TypeError;\n        var document = global.document;\n        var process = global.process;\n        var $fetch = getBuiltIn('fetch');\n        var newPromiseCapability = newPromiseCapabilityModule.f;\n        var newGenericPromiseCapability = newPromiseCapability;\n        var IS_NODE = classof(process) == 'process';\n        var DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\n        var UNHANDLED_REJECTION = 'unhandledrejection';\n        var REJECTION_HANDLED = 'rejectionhandled';\n        var PENDING = 0;\n        var FULFILLED = 1;\n        var REJECTED = 2;\n        var HANDLED = 1;\n        var UNHANDLED = 2;\n        var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n        var FORCED = isForced(PROMISE, function () {\n          var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n\n          if (!GLOBAL_CORE_JS_PROMISE) {\n            // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n            // We can't detect it synchronously, so just check versions\n            if (V8_VERSION === 66) return true; // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n\n            if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n          } // We need Promise#finally in the pure version for preventing prototype pollution\n\n\n          if (IS_PURE && !PromiseConstructor.prototype['finally']) return true; // We can't use @@species feature detection in V8 since it causes\n          // deoptimization and performance degradation\n          // https://github.com/zloirock/core-js/issues/679\n\n          if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false; // Detect correctness of subclassing with @@species support\n\n          var promise = PromiseConstructor.resolve(1);\n\n          var FakePromise = function (exec) {\n            exec(function () {\n              /* empty */\n            }, function () {\n              /* empty */\n            });\n          };\n\n          var constructor = promise.constructor = {};\n          constructor[SPECIES] = FakePromise;\n          return !(promise.then(function () {\n            /* empty */\n          }) instanceof FakePromise);\n        });\n        var INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n          PromiseConstructor.all(iterable)['catch'](function () {\n            /* empty */\n          });\n        }); // helpers\n\n        var isThenable = function (it) {\n          var then;\n          return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n        };\n\n        var notify = function (promise, state, isReject) {\n          if (state.notified) return;\n          state.notified = true;\n          var chain = state.reactions;\n          microtask(function () {\n            var value = state.value;\n            var ok = state.state == FULFILLED;\n            var index = 0; // variable length - can't use forEach\n\n            while (chain.length > index) {\n              var reaction = chain[index++];\n              var handler = ok ? reaction.ok : reaction.fail;\n              var resolve = reaction.resolve;\n              var reject = reaction.reject;\n              var domain = reaction.domain;\n              var result, then, exited;\n\n              try {\n                if (handler) {\n                  if (!ok) {\n                    if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n                    state.rejection = HANDLED;\n                  }\n\n                  if (handler === true) result = value;else {\n                    if (domain) domain.enter();\n                    result = handler(value); // can throw\n\n                    if (domain) {\n                      domain.exit();\n                      exited = true;\n                    }\n                  }\n\n                  if (result === reaction.promise) {\n                    reject(TypeError('Promise-chain cycle'));\n                  } else if (then = isThenable(result)) {\n                    then.call(result, resolve, reject);\n                  } else resolve(result);\n                } else reject(value);\n              } catch (error) {\n                if (domain && !exited) domain.exit();\n                reject(error);\n              }\n            }\n\n            state.reactions = [];\n            state.notified = false;\n            if (isReject && !state.rejection) onUnhandled(promise, state);\n          });\n        };\n\n        var dispatchEvent = function (name, promise, reason) {\n          var event, handler;\n\n          if (DISPATCH_EVENT) {\n            event = document.createEvent('Event');\n            event.promise = promise;\n            event.reason = reason;\n            event.initEvent(name, false, true);\n            global.dispatchEvent(event);\n          } else event = {\n            promise: promise,\n            reason: reason\n          };\n\n          if (handler = global['on' + name]) handler(event);else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n        };\n\n        var onUnhandled = function (promise, state) {\n          task.call(global, function () {\n            var value = state.value;\n            var IS_UNHANDLED = isUnhandled(state);\n            var result;\n\n            if (IS_UNHANDLED) {\n              result = perform(function () {\n                if (IS_NODE) {\n                  process.emit('unhandledRejection', value, promise);\n                } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n              }); // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n\n              state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n              if (result.error) throw result.value;\n            }\n          });\n        };\n\n        var isUnhandled = function (state) {\n          return state.rejection !== HANDLED && !state.parent;\n        };\n\n        var onHandleUnhandled = function (promise, state) {\n          task.call(global, function () {\n            if (IS_NODE) {\n              process.emit('rejectionHandled', promise);\n            } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n          });\n        };\n\n        var bind = function (fn, promise, state, unwrap) {\n          return function (value) {\n            fn(promise, state, value, unwrap);\n          };\n        };\n\n        var internalReject = function (promise, state, value, unwrap) {\n          if (state.done) return;\n          state.done = true;\n          if (unwrap) state = unwrap;\n          state.value = value;\n          state.state = REJECTED;\n          notify(promise, state, true);\n        };\n\n        var internalResolve = function (promise, state, value, unwrap) {\n          if (state.done) return;\n          state.done = true;\n          if (unwrap) state = unwrap;\n\n          try {\n            if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n            var then = isThenable(value);\n\n            if (then) {\n              microtask(function () {\n                var wrapper = {\n                  done: false\n                };\n\n                try {\n                  then.call(value, bind(internalResolve, promise, wrapper, state), bind(internalReject, promise, wrapper, state));\n                } catch (error) {\n                  internalReject(promise, wrapper, error, state);\n                }\n              });\n            } else {\n              state.value = value;\n              state.state = FULFILLED;\n              notify(promise, state, false);\n            }\n          } catch (error) {\n            internalReject(promise, {\n              done: false\n            }, error, state);\n          }\n        }; // constructor polyfill\n\n\n        if (FORCED) {\n          // 25.4.3.1 Promise(executor)\n          PromiseConstructor = function Promise(executor) {\n            anInstance(this, PromiseConstructor, PROMISE);\n            aFunction(executor);\n            Internal.call(this);\n            var state = getInternalState(this);\n\n            try {\n              executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n            } catch (error) {\n              internalReject(this, state, error);\n            }\n          }; // eslint-disable-next-line no-unused-vars\n\n\n          Internal = function Promise(executor) {\n            setInternalState(this, {\n              type: PROMISE,\n              done: false,\n              notified: false,\n              parent: false,\n              reactions: [],\n              rejection: false,\n              state: PENDING,\n              value: undefined\n            });\n          };\n\n          Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n            // `Promise.prototype.then` method\n            // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n            then: function then(onFulfilled, onRejected) {\n              var state = getInternalPromiseState(this);\n              var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n              reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n              reaction.fail = typeof onRejected == 'function' && onRejected;\n              reaction.domain = IS_NODE ? process.domain : undefined;\n              state.parent = true;\n              state.reactions.push(reaction);\n              if (state.state != PENDING) notify(this, state, false);\n              return reaction.promise;\n            },\n            // `Promise.prototype.catch` method\n            // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n            'catch': function (onRejected) {\n              return this.then(undefined, onRejected);\n            }\n          });\n\n          OwnPromiseCapability = function () {\n            var promise = new Internal();\n            var state = getInternalState(promise);\n            this.promise = promise;\n            this.resolve = bind(internalResolve, promise, state);\n            this.reject = bind(internalReject, promise, state);\n          };\n\n          newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n            return C === PromiseConstructor || C === PromiseWrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);\n          };\n\n          if (!IS_PURE && typeof NativePromise == 'function') {\n            nativeThen = NativePromise.prototype.then; // wrap native Promise#then for native async functions\n\n            redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n              var that = this;\n              return new PromiseConstructor(function (resolve, reject) {\n                nativeThen.call(that, resolve, reject);\n              }).then(onFulfilled, onRejected); // https://github.com/zloirock/core-js/issues/640\n            }, {\n              unsafe: true\n            }); // wrap fetch result\n\n            if (typeof $fetch == 'function') $({\n              global: true,\n              enumerable: true,\n              forced: true\n            }, {\n              // eslint-disable-next-line no-unused-vars\n              fetch: function fetch(input\n              /* , init */\n              ) {\n                return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n              }\n            });\n          }\n        }\n\n        $({\n          global: true,\n          wrap: true,\n          forced: FORCED\n        }, {\n          Promise: PromiseConstructor\n        });\n        setToStringTag(PromiseConstructor, PROMISE, false, true);\n        setSpecies(PROMISE);\n        PromiseWrapper = getBuiltIn(PROMISE); // statics\n\n        $({\n          target: PROMISE,\n          stat: true,\n          forced: FORCED\n        }, {\n          // `Promise.reject` method\n          // https://tc39.github.io/ecma262/#sec-promise.reject\n          reject: function reject(r) {\n            var capability = newPromiseCapability(this);\n            capability.reject.call(undefined, r);\n            return capability.promise;\n          }\n        });\n        $({\n          target: PROMISE,\n          stat: true,\n          forced: IS_PURE || FORCED\n        }, {\n          // `Promise.resolve` method\n          // https://tc39.github.io/ecma262/#sec-promise.resolve\n          resolve: function resolve(x) {\n            return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n          }\n        });\n        $({\n          target: PROMISE,\n          stat: true,\n          forced: INCORRECT_ITERATION\n        }, {\n          // `Promise.all` method\n          // https://tc39.github.io/ecma262/#sec-promise.all\n          all: function all(iterable) {\n            var C = this;\n            var capability = newPromiseCapability(C);\n            var resolve = capability.resolve;\n            var reject = capability.reject;\n            var result = perform(function () {\n              var $promiseResolve = aFunction(C.resolve);\n              var values = [];\n              var counter = 0;\n              var remaining = 1;\n              iterate(iterable, function (promise) {\n                var index = counter++;\n                var alreadyCalled = false;\n                values.push(undefined);\n                remaining++;\n                $promiseResolve.call(C, promise).then(function (value) {\n                  if (alreadyCalled) return;\n                  alreadyCalled = true;\n                  values[index] = value;\n                  --remaining || resolve(values);\n                }, reject);\n              });\n              --remaining || resolve(values);\n            });\n            if (result.error) reject(result.value);\n            return capability.promise;\n          },\n          // `Promise.race` method\n          // https://tc39.github.io/ecma262/#sec-promise.race\n          race: function race(iterable) {\n            var C = this;\n            var capability = newPromiseCapability(C);\n            var reject = capability.reject;\n            var result = perform(function () {\n              var $promiseResolve = aFunction(C.resolve);\n              iterate(iterable, function (promise) {\n                $promiseResolve.call(C, promise).then(capability.resolve, reject);\n              });\n            });\n            if (result.error) reject(result.value);\n            return capability.promise;\n          }\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/es.string.iterator.js\":\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/es.string.iterator.js ***!\n        \\*****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var charAt = __webpack_require__(\n        /*! ../internals/string-multibyte */\n        \"./node_modules/core-js-pure/internals/string-multibyte.js\").charAt;\n\n        var InternalStateModule = __webpack_require__(\n        /*! ../internals/internal-state */\n        \"./node_modules/core-js-pure/internals/internal-state.js\");\n\n        var defineIterator = __webpack_require__(\n        /*! ../internals/define-iterator */\n        \"./node_modules/core-js-pure/internals/define-iterator.js\");\n\n        var STRING_ITERATOR = 'String Iterator';\n        var setInternalState = InternalStateModule.set;\n        var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR); // `String.prototype[@@iterator]` method\n        // https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\n\n        defineIterator(String, 'String', function (iterated) {\n          setInternalState(this, {\n            type: STRING_ITERATOR,\n            string: String(iterated),\n            index: 0\n          }); // `%StringIteratorPrototype%.next` method\n          // https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n        }, function next() {\n          var state = getInternalState(this);\n          var string = state.string;\n          var index = state.index;\n          var point;\n          if (index >= string.length) return {\n            value: undefined,\n            done: true\n          };\n          point = charAt(string, index);\n          state.index += point.length;\n          return {\n            value: point,\n            done: false\n          };\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/esnext.aggregate-error.js\":\n      /*!*********************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/esnext.aggregate-error.js ***!\n        \\*********************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(\n        /*! ../internals/export */\n        \"./node_modules/core-js-pure/internals/export.js\");\n\n        var DESCRIPTORS = __webpack_require__(\n        /*! ../internals/descriptors */\n        \"./node_modules/core-js-pure/internals/descriptors.js\");\n\n        var getPrototypeOf = __webpack_require__(\n        /*! ../internals/object-get-prototype-of */\n        \"./node_modules/core-js-pure/internals/object-get-prototype-of.js\");\n\n        var setPrototypeOf = __webpack_require__(\n        /*! ../internals/object-set-prototype-of */\n        \"./node_modules/core-js-pure/internals/object-set-prototype-of.js\");\n\n        var create = __webpack_require__(\n        /*! ../internals/object-create */\n        \"./node_modules/core-js-pure/internals/object-create.js\");\n\n        var defineProperty = __webpack_require__(\n        /*! ../internals/object-define-property */\n        \"./node_modules/core-js-pure/internals/object-define-property.js\");\n\n        var createPropertyDescriptor = __webpack_require__(\n        /*! ../internals/create-property-descriptor */\n        \"./node_modules/core-js-pure/internals/create-property-descriptor.js\");\n\n        var iterate = __webpack_require__(\n        /*! ../internals/iterate */\n        \"./node_modules/core-js-pure/internals/iterate.js\");\n\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        var InternalStateModule = __webpack_require__(\n        /*! ../internals/internal-state */\n        \"./node_modules/core-js-pure/internals/internal-state.js\");\n\n        var setInternalState = InternalStateModule.set;\n        var getInternalAggregateErrorState = InternalStateModule.getterFor('AggregateError');\n\n        var $AggregateError = function AggregateError(errors, message) {\n          var that = this;\n          if (!(that instanceof $AggregateError)) return new $AggregateError(errors, message);\n\n          if (setPrototypeOf) {\n            that = setPrototypeOf(new Error(message), getPrototypeOf(that));\n          }\n\n          var errorsArray = [];\n          iterate(errors, errorsArray.push, errorsArray);\n          if (DESCRIPTORS) setInternalState(that, {\n            errors: errorsArray,\n            type: 'AggregateError'\n          });else that.errors = errorsArray;\n          if (message !== undefined) createNonEnumerableProperty(that, 'message', String(message));\n          return that;\n        };\n\n        $AggregateError.prototype = create(Error.prototype, {\n          constructor: createPropertyDescriptor(5, $AggregateError),\n          message: createPropertyDescriptor(5, ''),\n          name: createPropertyDescriptor(5, 'AggregateError')\n        });\n        if (DESCRIPTORS) defineProperty.f($AggregateError.prototype, 'errors', {\n          get: function () {\n            return getInternalAggregateErrorState(this).errors;\n          },\n          configurable: true\n        });\n        $({\n          global: true\n        }, {\n          AggregateError: $AggregateError\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/esnext.promise.all-settled.js\":\n      /*!*************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/esnext.promise.all-settled.js ***!\n        \\*************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        // TODO: Remove from `core-js@4`\n        __webpack_require__(\n        /*! ./es.promise.all-settled.js */\n        \"./node_modules/core-js-pure/modules/es.promise.all-settled.js\");\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/esnext.promise.any.js\":\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/esnext.promise.any.js ***!\n        \\*****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(\n        /*! ../internals/export */\n        \"./node_modules/core-js-pure/internals/export.js\");\n\n        var aFunction = __webpack_require__(\n        /*! ../internals/a-function */\n        \"./node_modules/core-js-pure/internals/a-function.js\");\n\n        var getBuiltIn = __webpack_require__(\n        /*! ../internals/get-built-in */\n        \"./node_modules/core-js-pure/internals/get-built-in.js\");\n\n        var newPromiseCapabilityModule = __webpack_require__(\n        /*! ../internals/new-promise-capability */\n        \"./node_modules/core-js-pure/internals/new-promise-capability.js\");\n\n        var perform = __webpack_require__(\n        /*! ../internals/perform */\n        \"./node_modules/core-js-pure/internals/perform.js\");\n\n        var iterate = __webpack_require__(\n        /*! ../internals/iterate */\n        \"./node_modules/core-js-pure/internals/iterate.js\");\n\n        var PROMISE_ANY_ERROR = 'No one promise resolved'; // `Promise.any` method\n        // https://github.com/tc39/proposal-promise-any\n\n        $({\n          target: 'Promise',\n          stat: true\n        }, {\n          any: function any(iterable) {\n            var C = this;\n            var capability = newPromiseCapabilityModule.f(C);\n            var resolve = capability.resolve;\n            var reject = capability.reject;\n            var result = perform(function () {\n              var promiseResolve = aFunction(C.resolve);\n              var errors = [];\n              var counter = 0;\n              var remaining = 1;\n              var alreadyResolved = false;\n              iterate(iterable, function (promise) {\n                var index = counter++;\n                var alreadyRejected = false;\n                errors.push(undefined);\n                remaining++;\n                promiseResolve.call(C, promise).then(function (value) {\n                  if (alreadyRejected || alreadyResolved) return;\n                  alreadyResolved = true;\n                  resolve(value);\n                }, function (e) {\n                  if (alreadyRejected || alreadyResolved) return;\n                  alreadyRejected = true;\n                  errors[index] = e;\n                  --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n                });\n              });\n              --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n            });\n            if (result.error) reject(result.value);\n            return capability.promise;\n          }\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/esnext.promise.try.js\":\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/esnext.promise.try.js ***!\n        \\*****************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var $ = __webpack_require__(\n        /*! ../internals/export */\n        \"./node_modules/core-js-pure/internals/export.js\");\n\n        var newPromiseCapabilityModule = __webpack_require__(\n        /*! ../internals/new-promise-capability */\n        \"./node_modules/core-js-pure/internals/new-promise-capability.js\");\n\n        var perform = __webpack_require__(\n        /*! ../internals/perform */\n        \"./node_modules/core-js-pure/internals/perform.js\"); // `Promise.try` method\n        // https://github.com/tc39/proposal-promise-try\n\n\n        $({\n          target: 'Promise',\n          stat: true\n        }, {\n          'try': function (callbackfn) {\n            var promiseCapability = newPromiseCapabilityModule.f(this);\n            var result = perform(callbackfn);\n            (result.error ? promiseCapability.reject : promiseCapability.resolve)(result.value);\n            return promiseCapability.promise;\n          }\n        });\n        /***/\n      },\n\n      /***/\n      \"./node_modules/core-js-pure/modules/web.dom-collections.iterator.js\":\n      /*!***************************************************************************!*\\\n        !*** ./node_modules/core-js-pure/modules/web.dom-collections.iterator.js ***!\n        \\***************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        __webpack_require__(\n        /*! ./es.array.iterator */\n        \"./node_modules/core-js-pure/modules/es.array.iterator.js\");\n\n        var DOMIterables = __webpack_require__(\n        /*! ../internals/dom-iterables */\n        \"./node_modules/core-js-pure/internals/dom-iterables.js\");\n\n        var global = __webpack_require__(\n        /*! ../internals/global */\n        \"./node_modules/core-js-pure/internals/global.js\");\n\n        var classof = __webpack_require__(\n        /*! ../internals/classof */\n        \"./node_modules/core-js-pure/internals/classof.js\");\n\n        var createNonEnumerableProperty = __webpack_require__(\n        /*! ../internals/create-non-enumerable-property */\n        \"./node_modules/core-js-pure/internals/create-non-enumerable-property.js\");\n\n        var Iterators = __webpack_require__(\n        /*! ../internals/iterators */\n        \"./node_modules/core-js-pure/internals/iterators.js\");\n\n        var wellKnownSymbol = __webpack_require__(\n        /*! ../internals/well-known-symbol */\n        \"./node_modules/core-js-pure/internals/well-known-symbol.js\");\n\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\n        for (var COLLECTION_NAME in DOMIterables) {\n          var Collection = global[COLLECTION_NAME];\n          var CollectionPrototype = Collection && Collection.prototype;\n\n          if (CollectionPrototype && classof(CollectionPrototype) !== TO_STRING_TAG) {\n            createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n          }\n\n          Iterators[COLLECTION_NAME] = Iterators.Array;\n        }\n        /***/\n\n      },\n\n      /***/\n      \"./node_modules/webpack/buildin/global.js\":\n      /*!***********************************!*\\\n        !*** (webpack)/buildin/global.js ***!\n        \\***********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        var g; // This works in non-strict mode\n\n        g = function () {\n          return this;\n        }();\n\n        try {\n          // This works if eval is allowed (see CSP)\n          g = g || new Function(\"return this\")();\n        } catch (e) {\n          // This works if the window reference is available\n          if (typeof window === \"object\") g = window;\n        } // g can still be undefined, but nothing to do about it...\n        // We return undefined, instead of nothing here, so it's\n        // easier to handle this case. if(!global) { ...}\n\n\n        module.exports = g;\n        /***/\n      },\n\n      /***/\n      \"./src/css/index.styl\":\n      /*!****************************!*\\\n        !*** ./src/css/index.styl ***!\n        \\****************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {// extracted by mini-css-extract-plugin\n\n        /***/\n      },\n\n      /***/\n      \"./src/index.js\":\n      /*!**********************!*\\\n        !*** ./src/index.js ***!\n        \\**********************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        __webpack_require__(\n        /*! @/polyfill */\n        \"./src/js/polyfill.js\");\n\n        var _imageEditor = __webpack_require__(\n        /*! @/imageEditor */\n        \"./src/js/imageEditor.js\");\n\n        var _imageEditor2 = _interopRequireDefault(_imageEditor);\n\n        __webpack_require__(\n        /*! @css/index.styl */\n        \"./src/css/index.styl\");\n\n        __webpack_require__(\n        /*! @/command/addIcon */\n        \"./src/js/command/addIcon.js\");\n\n        __webpack_require__(\n        /*! @/command/addImageObject */\n        \"./src/js/command/addImageObject.js\");\n\n        __webpack_require__(\n        /*! @/command/addObject */\n        \"./src/js/command/addObject.js\");\n\n        __webpack_require__(\n        /*! @/command/addShape */\n        \"./src/js/command/addShape.js\");\n\n        __webpack_require__(\n        /*! @/command/addText */\n        \"./src/js/command/addText.js\");\n\n        __webpack_require__(\n        /*! @/command/applyFilter */\n        \"./src/js/command/applyFilter.js\");\n\n        __webpack_require__(\n        /*! @/command/changeIconColor */\n        \"./src/js/command/changeIconColor.js\");\n\n        __webpack_require__(\n        /*! @/command/changeShape */\n        \"./src/js/command/changeShape.js\");\n\n        __webpack_require__(\n        /*! @/command/changeText */\n        \"./src/js/command/changeText.js\");\n\n        __webpack_require__(\n        /*! @/command/changeTextStyle */\n        \"./src/js/command/changeTextStyle.js\");\n\n        __webpack_require__(\n        /*! @/command/clearObjects */\n        \"./src/js/command/clearObjects.js\");\n\n        __webpack_require__(\n        /*! @/command/flip */\n        \"./src/js/command/flip.js\");\n\n        __webpack_require__(\n        /*! @/command/loadImage */\n        \"./src/js/command/loadImage.js\");\n\n        __webpack_require__(\n        /*! @/command/removeFilter */\n        \"./src/js/command/removeFilter.js\");\n\n        __webpack_require__(\n        /*! @/command/removeObject */\n        \"./src/js/command/removeObject.js\");\n\n        __webpack_require__(\n        /*! @/command/resizeCanvasDimension */\n        \"./src/js/command/resizeCanvasDimension.js\");\n\n        __webpack_require__(\n        /*! @/command/rotate */\n        \"./src/js/command/rotate.js\");\n\n        __webpack_require__(\n        /*! @/command/setObjectProperties */\n        \"./src/js/command/setObjectProperties.js\");\n\n        __webpack_require__(\n        /*! @/command/setObjectPosition */\n        \"./src/js/command/setObjectPosition.js\");\n\n        __webpack_require__(\n        /*! @/command/changeSelection */\n        \"./src/js/command/changeSelection.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        } // commands\n\n\n        module.exports = _imageEditor2.default;\n        /***/\n      },\n\n      /***/\n      \"./src/js/action.js\":\n      /*!**************************!*\\\n        !*** ./src/js/action.js ***!\n        \\**************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _imagetracer = __webpack_require__(\n        /*! @/helper/imagetracer */\n        \"./src/js/helper/imagetracer.js\");\n\n        var _imagetracer2 = _interopRequireDefault(_imagetracer);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        exports.default = {\n          /**\n           * Get ui actions\n           * @returns {Object} actions for ui\n           * @private\n           */\n          getActions: function getActions() {\n            return {\n              main: this._mainAction(),\n              shape: this._shapeAction(),\n              crop: this._cropAction(),\n              flip: this._flipAction(),\n              rotate: this._rotateAction(),\n              text: this._textAction(),\n              mask: this._maskAction(),\n              draw: this._drawAction(),\n              icon: this._iconAction(),\n              filter: this._filterAction(),\n              history: this._historyAction()\n            };\n          },\n\n          /**\n           * Main Action\n           * @returns {Object} actions for ui main\n           * @private\n           */\n          _mainAction: function _mainAction() {\n            var _this = this;\n\n            var exitCropOnAction = function exitCropOnAction() {\n              if (_this.ui.submenu === 'crop') {\n                _this.stopDrawingMode();\n\n                _this.ui.changeMenu('crop');\n              }\n            };\n\n            var setAngleRangeBarOnAction = function setAngleRangeBarOnAction(angle) {\n              if (_this.ui.submenu === 'rotate') {\n                _this.ui.rotate.setRangeBarAngle('setAngle', angle);\n              }\n            };\n\n            var setFilterStateRangeBarOnAction = function setFilterStateRangeBarOnAction(filterOptions) {\n              if (_this.ui.submenu === 'filter') {\n                _this.ui.filter.setFilterState(filterOptions);\n              }\n            };\n\n            var onEndUndoRedo = function onEndUndoRedo(result) {\n              setAngleRangeBarOnAction(result);\n              setFilterStateRangeBarOnAction(result);\n              return result;\n            };\n\n            var toggleZoomMode = function toggleZoomMode() {\n              var zoomMode = _this._graphics.getZoomMode();\n\n              _this.stopDrawingMode();\n\n              if (zoomMode !== _consts.zoomModes.ZOOM) {\n                _this.startDrawingMode(_consts.drawingModes.ZOOM);\n\n                _this._graphics.startZoomInMode();\n              } else {\n                _this._graphics.endZoomInMode();\n              }\n            };\n\n            var toggleHandMode = function toggleHandMode() {\n              var zoomMode = _this._graphics.getZoomMode();\n\n              _this.stopDrawingMode();\n\n              if (zoomMode !== _consts.zoomModes.HAND) {\n                _this.startDrawingMode(_consts.drawingModes.ZOOM);\n\n                _this._graphics.startHandMode();\n              } else {\n                _this._graphics.endHandMode();\n              }\n            };\n\n            var initFilterState = function initFilterState() {\n              if (_this.ui.filter) {\n                _this.ui.filter.initFilterCheckBoxState();\n              }\n            };\n\n            return (0, _tuiCodeSnippet.extend)({\n              initLoadImage: function initLoadImage(imagePath, imageName) {\n                return _this.loadImageFromURL(imagePath, imageName).then(function (sizeValue) {\n                  exitCropOnAction();\n                  _this.ui.initializeImgUrl = imagePath;\n\n                  _this.ui.resizeEditor({\n                    imageSize: sizeValue\n                  });\n\n                  _this.clearUndoStack();\n\n                  _this._invoker.fire(_consts.eventNames.EXECUTE_COMMAND, _consts.historyNames.LOAD_IMAGE);\n                });\n              },\n              undo: function undo() {\n                if (!_this.isEmptyUndoStack()) {\n                  exitCropOnAction();\n\n                  _this.deactivateAll();\n\n                  _this.undo().then(onEndUndoRedo);\n                }\n              },\n              redo: function redo() {\n                if (!_this.isEmptyRedoStack()) {\n                  exitCropOnAction();\n\n                  _this.deactivateAll();\n\n                  _this.redo().then(onEndUndoRedo);\n                }\n              },\n              reset: function reset() {\n                exitCropOnAction();\n\n                _this.loadImageFromURL(_this.ui.initializeImgUrl, 'resetImage').then(function (sizeValue) {\n                  exitCropOnAction();\n                  initFilterState();\n\n                  _this.ui.resizeEditor({\n                    imageSize: sizeValue\n                  });\n\n                  _this.clearUndoStack();\n\n                  _this._initHistory();\n                });\n              },\n              delete: function _delete() {\n                _this.ui.changeHelpButtonEnabled('delete', false);\n\n                exitCropOnAction();\n\n                _this.removeActiveObject();\n\n                _this.activeObjectId = null;\n              },\n              deleteAll: function deleteAll() {\n                exitCropOnAction();\n\n                _this.clearObjects();\n\n                _this.ui.changeHelpButtonEnabled('delete', false);\n\n                _this.ui.changeHelpButtonEnabled('deleteAll', false);\n              },\n              load: function load(file) {\n                if (!(0, _util.isSupportFileApi)()) {\n                  alert('This browser does not support file-api');\n                }\n\n                _this.ui.initializeImgUrl = URL.createObjectURL(file);\n\n                _this.loadImageFromFile(file).then(function (sizeValue) {\n                  exitCropOnAction();\n                  initFilterState();\n\n                  _this.clearUndoStack();\n\n                  _this.ui.activeMenuEvent();\n\n                  _this.ui.resizeEditor({\n                    imageSize: sizeValue\n                  });\n\n                  _this._clearHistory();\n\n                  _this._invoker.fire(_consts.eventNames.EXECUTE_COMMAND, _consts.historyNames.LOAD_IMAGE);\n                })['catch'](function (message) {\n                  return Promise.reject(message);\n                });\n              },\n              download: function download() {\n                var dataURL = _this.toDataURL();\n\n                var imageName = _this.getImageName();\n\n                var blob = void 0,\n                    type = void 0,\n                    w = void 0;\n\n                if ((0, _util.isSupportFileApi)() && window.saveAs) {\n                  blob = (0, _util.base64ToBlob)(dataURL);\n                  type = blob.type.split('/')[1];\n\n                  if (imageName.split('.').pop() !== type) {\n                    imageName += '.' + type;\n                  }\n\n                  saveAs(blob, imageName); // eslint-disable-line\n                } else {\n                  w = window.open();\n                  w.document.body.innerHTML = '<img src=\\'' + dataURL + '\\'>';\n                }\n              },\n              history: function history(event) {\n                _this.ui.toggleHistoryMenu(event);\n              },\n              zoomIn: function zoomIn() {\n                _this.ui.toggleZoomButtonStatus('zoomIn');\n\n                _this.deactivateAll();\n\n                toggleZoomMode();\n              },\n              zoomOut: function zoomOut() {\n                _this._graphics.zoomOut();\n              },\n              hand: function hand() {\n                _this.ui.offZoomInButtonStatus();\n\n                _this.ui.toggleZoomButtonStatus('hand');\n\n                _this.deactivateAll();\n\n                toggleHandMode();\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Icon Action\n           * @returns {Object} actions for ui icon\n           * @private\n           */\n          _iconAction: function _iconAction() {\n            var _this2 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              changeColor: function changeColor(color) {\n                if (_this2.activeObjectId) {\n                  _this2.changeIconColor(_this2.activeObjectId, color);\n                }\n              },\n              addIcon: function addIcon(iconType, iconColor) {\n                _this2.startDrawingMode('ICON');\n\n                _this2.setDrawingIcon(iconType, iconColor);\n              },\n              cancelAddIcon: function cancelAddIcon() {\n                _this2.ui.icon.clearIconType();\n\n                _this2.changeSelectableAll(true);\n\n                _this2.changeCursor('default');\n\n                _this2.stopDrawingMode();\n              },\n              registerDefaultIcons: function registerDefaultIcons(type, path) {\n                var iconObj = {};\n                iconObj[type] = path;\n\n                _this2.registerIcons(iconObj);\n              },\n              registerCustomIcon: function registerCustomIcon(imgUrl, file) {\n                var imagetracer = new _imagetracer2.default();\n                imagetracer.imageToSVG(imgUrl, function (svgstr) {\n                  var _svgstr$match = svgstr.match(/path[^>]*d=\"([^\"]*)\"/),\n                      svgPath = _svgstr$match[1];\n\n                  var iconObj = {};\n                  iconObj[file.name] = svgPath;\n\n                  _this2.registerIcons(iconObj);\n\n                  _this2.addIcon(file.name, {\n                    left: 100,\n                    top: 100\n                  });\n                }, _imagetracer2.default.tracerDefaultOption());\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Draw Action\n           * @returns {Object} actions for ui draw\n           * @private\n           */\n          _drawAction: function _drawAction() {\n            var _this3 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              setDrawMode: function setDrawMode(type, settings) {\n                _this3.stopDrawingMode();\n\n                if (type === 'free') {\n                  _this3.startDrawingMode('FREE_DRAWING', settings);\n                } else {\n                  _this3.startDrawingMode('LINE_DRAWING', settings);\n                }\n              },\n              setColor: function setColor(color) {\n                _this3.setBrush({\n                  color: color\n                });\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Mask Action\n           * @returns {Object} actions for ui mask\n           * @private\n           */\n          _maskAction: function _maskAction() {\n            var _this4 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              loadImageFromURL: function loadImageFromURL(imgUrl, file) {\n                return _this4.loadImageFromURL(_this4.toDataURL(), 'FilterImage').then(function () {\n                  _this4.addImageObject(imgUrl).then(function () {\n                    URL.revokeObjectURL(file);\n                  });\n\n                  _this4._invoker.fire(_consts.eventNames.EXECUTE_COMMAND, _consts.historyNames.LOAD_MASK_IMAGE);\n                });\n              },\n              applyFilter: function applyFilter() {\n                _this4.applyFilter('mask', {\n                  maskObjId: _this4.activeObjectId\n                });\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Text Action\n           * @returns {Object} actions for ui text\n           * @private\n           */\n          _textAction: function _textAction() {\n            var _this5 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              changeTextStyle: function changeTextStyle(styleObj, isSilent) {\n                if (_this5.activeObjectId) {\n                  _this5.changeTextStyle(_this5.activeObjectId, styleObj, isSilent);\n                }\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Rotate Action\n           * @returns {Object} actions for ui rotate\n           * @private\n           */\n          _rotateAction: function _rotateAction() {\n            var _this6 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              rotate: function rotate(angle, isSilent) {\n                _this6.rotate(angle, isSilent);\n\n                _this6.ui.resizeEditor();\n\n                _this6.ui.rotate.setRangeBarAngle('rotate', angle);\n              },\n              setAngle: function setAngle(angle, isSilent) {\n                _this6.setAngle(angle, isSilent);\n\n                _this6.ui.resizeEditor();\n\n                _this6.ui.rotate.setRangeBarAngle('setAngle', angle);\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Shape Action\n           * @returns {Object} actions for ui shape\n           * @private\n           */\n          _shapeAction: function _shapeAction() {\n            var _this7 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              changeShape: function changeShape(changeShapeObject, isSilent) {\n                if (_this7.activeObjectId) {\n                  _this7.changeShape(_this7.activeObjectId, changeShapeObject, isSilent);\n                }\n              },\n              setDrawingShape: function setDrawingShape(shapeType) {\n                _this7.setDrawingShape(shapeType);\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Crop Action\n           * @returns {Object} actions for ui crop\n           * @private\n           */\n          _cropAction: function _cropAction() {\n            var _this8 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              crop: function crop() {\n                var cropRect = _this8.getCropzoneRect();\n\n                if (cropRect && !(0, _util.isEmptyCropzone)(cropRect)) {\n                  _this8.crop(cropRect).then(function () {\n                    _this8.stopDrawingMode();\n\n                    _this8.ui.resizeEditor();\n\n                    _this8.ui.changeMenu('crop');\n\n                    _this8._invoker.fire(_consts.eventNames.EXECUTE_COMMAND, _consts.historyNames.CROP);\n                  })['catch'](function (message) {\n                    return Promise.reject(message);\n                  });\n                }\n              },\n              cancel: function cancel() {\n                _this8.stopDrawingMode();\n\n                _this8.ui.changeMenu('crop');\n              },\n\n              /* eslint-disable */\n              preset: function preset(presetType) {\n                switch (presetType) {\n                  case 'preset-square':\n                    _this8.setCropzoneRect(1 / 1);\n\n                    break;\n\n                  case 'preset-3-2':\n                    _this8.setCropzoneRect(3 / 2);\n\n                    break;\n\n                  case 'preset-4-3':\n                    _this8.setCropzoneRect(4 / 3);\n\n                    break;\n\n                  case 'preset-5-4':\n                    _this8.setCropzoneRect(5 / 4);\n\n                    break;\n\n                  case 'preset-7-5':\n                    _this8.setCropzoneRect(7 / 5);\n\n                    break;\n\n                  case 'preset-16-9':\n                    _this8.setCropzoneRect(16 / 9);\n\n                    break;\n\n                  default:\n                    _this8.setCropzoneRect();\n\n                    _this8.ui.crop.changeApplyButtonStatus(false);\n\n                    break;\n                }\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Flip Action\n           * @returns {Object} actions for ui flip\n           * @private\n           */\n          _flipAction: function _flipAction() {\n            var _this9 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              flip: function flip(flipType) {\n                return _this9[flipType]();\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Filter Action\n           * @returns {Object} actions for ui filter\n           * @private\n           */\n          _filterAction: function _filterAction() {\n            var _this10 = this;\n\n            return (0, _tuiCodeSnippet.extend)({\n              applyFilter: function applyFilter(applying, type, options, isSilent) {\n                if (applying) {\n                  _this10.applyFilter(type, options, isSilent);\n                } else if (_this10.hasFilter(type)) {\n                  _this10.removeFilter(type);\n                }\n              }\n            }, this._commonAction());\n          },\n\n          /**\n           * Image Editor Event Observer\n           */\n          setReAction: function setReAction() {\n            var _this11 = this;\n\n            this.on({\n              undoStackChanged: function undoStackChanged(length) {\n                if (length) {\n                  _this11.ui.changeHelpButtonEnabled('undo', true);\n\n                  _this11.ui.changeHelpButtonEnabled('reset', true);\n                } else {\n                  _this11.ui.changeHelpButtonEnabled('undo', false);\n\n                  _this11.ui.changeHelpButtonEnabled('reset', false);\n                }\n\n                _this11.ui.resizeEditor();\n              },\n              redoStackChanged: function redoStackChanged(length) {\n                if (length) {\n                  _this11.ui.changeHelpButtonEnabled('redo', true);\n                } else {\n                  _this11.ui.changeHelpButtonEnabled('redo', false);\n                }\n\n                _this11.ui.resizeEditor();\n              },\n\n              /* eslint-disable complexity */\n              objectActivated: function objectActivated(obj) {\n                _this11.activeObjectId = obj.id;\n\n                _this11.ui.changeHelpButtonEnabled('delete', true);\n\n                _this11.ui.changeHelpButtonEnabled('deleteAll', true);\n\n                if (obj.type === 'cropzone') {\n                  _this11.ui.crop.changeApplyButtonStatus(true);\n                } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) > -1) {\n                  _this11.stopDrawingMode();\n\n                  if (_this11.ui.submenu !== 'shape') {\n                    _this11.ui.changeMenu('shape', false, false);\n                  }\n\n                  _this11.ui.shape.setShapeStatus({\n                    strokeColor: obj.stroke,\n                    strokeWidth: obj.strokeWidth,\n                    fillColor: obj.fill\n                  });\n\n                  _this11.ui.shape.setMaxStrokeValue(Math.min(obj.width, obj.height));\n                } else if (obj.type === 'path' || obj.type === 'line') {\n                  if (_this11.ui.submenu !== 'draw') {\n                    _this11.ui.changeMenu('draw', false, false);\n\n                    _this11.ui.draw.changeStandbyMode();\n                  }\n                } else if (['i-text', 'text'].indexOf(obj.type) > -1) {\n                  if (_this11.ui.submenu !== 'text') {\n                    _this11.ui.changeMenu('text', false, false);\n                  }\n\n                  _this11.ui.text.setTextStyleStateOnAction(obj);\n                } else if (obj.type === 'icon') {\n                  _this11.stopDrawingMode();\n\n                  if (_this11.ui.submenu !== 'icon') {\n                    _this11.ui.changeMenu('icon', false, false);\n                  }\n\n                  _this11.ui.icon.setIconPickerColor(obj.fill);\n                }\n              },\n\n              /* eslint-enable complexity */\n              addText: function addText(pos) {\n                var _ui$text = _this11.ui.text,\n                    fill = _ui$text.textColor,\n                    fontSize = _ui$text.fontSize,\n                    fontStyle = _ui$text.fontStyle,\n                    fontWeight = _ui$text.fontWeight,\n                    underline = _ui$text.underline;\n                var fontFamily = 'Noto Sans';\n\n                _this11.addText('Double Click', {\n                  position: pos.originPosition,\n                  styles: {\n                    fill: fill,\n                    fontSize: fontSize,\n                    fontFamily: fontFamily,\n                    fontStyle: fontStyle,\n                    fontWeight: fontWeight,\n                    underline: underline\n                  }\n                }).then(function () {\n                  _this11.changeCursor('default');\n                });\n              },\n              addObjectAfter: function addObjectAfter(obj) {\n                if (obj.type === 'icon') {\n                  _this11.ui.icon.changeStandbyMode();\n                } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) > -1) {\n                  _this11.ui.shape.setMaxStrokeValue(Math.min(obj.width, obj.height));\n\n                  _this11.ui.shape.changeStandbyMode();\n                }\n              },\n              objectScaled: function objectScaled(obj) {\n                if (['i-text', 'text'].indexOf(obj.type) > -1) {\n                  _this11.ui.text.fontSize = (0, _util.toInteger)(obj.fontSize);\n                } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) >= 0) {\n                  var width = obj.width,\n                      height = obj.height;\n\n                  var strokeValue = _this11.ui.shape.getStrokeValue();\n\n                  if (width < strokeValue) {\n                    _this11.ui.shape.setStrokeValue(width);\n                  }\n\n                  if (height < strokeValue) {\n                    _this11.ui.shape.setStrokeValue(height);\n                  }\n                }\n              },\n              selectionCleared: function selectionCleared() {\n                _this11.activeObjectId = null;\n\n                if (_this11.ui.submenu === 'text') {\n                  _this11.changeCursor('text');\n                } else if (_this11.ui.submenu !== 'draw' && _this11.ui.submenu !== 'crop') {\n                  _this11.stopDrawingMode();\n                }\n              }\n            });\n          },\n\n          /**\n           * History Action\n           * @returns {Object} history actions for ui\n           * @private\n           */\n          _historyAction: function _historyAction() {\n            var _this12 = this;\n\n            return {\n              undo: function undo(count) {\n                return _this12.undo(count);\n              },\n              redo: function redo(count) {\n                return _this12.redo(count);\n              }\n            };\n          },\n\n          /**\n           * Common Action\n           * @returns {Object} common actions for ui\n           * @private\n           */\n          _commonAction: function _commonAction() {\n            var _this13 = this;\n\n            var TEXT = _consts.drawingModes.TEXT,\n                CROPPER = _consts.drawingModes.CROPPER,\n                SHAPE = _consts.drawingModes.SHAPE,\n                ZOOM = _consts.drawingModes.ZOOM;\n            return {\n              modeChange: function modeChange(menu) {\n                switch (menu) {\n                  case _consts.drawingMenuNames.TEXT:\n                    _this13._changeActivateMode(TEXT);\n\n                    break;\n\n                  case _consts.drawingMenuNames.CROP:\n                    _this13.startDrawingMode(CROPPER);\n\n                    break;\n\n                  case _consts.drawingMenuNames.SHAPE:\n                    _this13._changeActivateMode(SHAPE);\n\n                    _this13.setDrawingShape(_this13.ui.shape.type, _this13.ui.shape.options);\n\n                    break;\n\n                  case _consts.drawingMenuNames.ZOOM:\n                    _this13.startDrawingMode(ZOOM);\n\n                    break;\n\n                  default:\n                    break;\n                }\n              },\n              deactivateAll: this.deactivateAll.bind(this),\n              changeSelectableAll: this.changeSelectableAll.bind(this),\n              discardSelection: this.discardSelection.bind(this),\n              stopDrawingMode: this.stopDrawingMode.bind(this)\n            };\n          },\n\n          /**\n           * Mixin\n           * @param {ImageEditor} ImageEditor instance\n           */\n          mixin: function mixin(ImageEditor) {\n            (0, _tuiCodeSnippet.extend)(ImageEditor.prototype, this);\n          }\n        };\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/addIcon.js\":\n      /*!***********************************!*\\\n        !*** ./src/js/command/addIcon.js ***!\n        \\***********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var ICON = _consts.componentNames.ICON;\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Add an icon\n         */\n\n        var command = {\n          name: _consts.commandNames.ADD_ICON,\n\n          /**\n           * Add an icon\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} type - Icon type ('arrow', 'cancel', custom icon name)\n           * @param {Object} options - Icon options\n           *      @param {string} [options.fill] - Icon foreground color\n           *      @param {string} [options.left] - Icon x position\n           *      @param {string} [options.top] - Icon y position\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, type, options) {\n            var _this = this;\n\n            var iconComp = graphics.getComponent(ICON);\n            return iconComp.add(type, options).then(function (objectProps) {\n              _this.undoData.object = graphics.getObject(objectProps.id);\n              return objectProps;\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            graphics.remove(this.undoData.object);\n            return _util.Promise.resolve();\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/addImageObject.js\":\n      /*!******************************************!*\\\n        !*** ./src/js/command/addImageObject.js ***!\n        \\******************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var command = {\n          name: _consts.commandNames.ADD_IMAGE_OBJECT,\n\n          /**\n           * Add an image object\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} imgUrl - Image url to make object\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, imgUrl) {\n            var _this = this;\n\n            return graphics.addImageObject(imgUrl).then(function (objectProps) {\n              _this.undoData.object = graphics.getObject(objectProps.id);\n              return objectProps;\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            graphics.remove(this.undoData.object);\n            return _util.Promise.resolve();\n          }\n        };\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Add an image object\n         */\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/addObject.js\":\n      /*!*************************************!*\\\n        !*** ./src/js/command/addObject.js ***!\n        \\*************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var command = {\n          name: _consts.commandNames.ADD_OBJECT,\n\n          /**\n           * Add an object\n           * @param {Graphics} graphics - Graphics instance\n           * @param {Object} object - Fabric object\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, object) {\n            return new _util.Promise(function (resolve, reject) {\n              if (!graphics.contains(object)) {\n                graphics.add(object);\n                resolve(object);\n              } else {\n                reject(_consts.rejectMessages.addedObject);\n              }\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @param {Object} object - Fabric object\n           * @returns {Promise}\n           */\n          undo: function undo(graphics, object) {\n            return new _util.Promise(function (resolve, reject) {\n              if (graphics.contains(object)) {\n                graphics.remove(object);\n                resolve(object);\n              } else {\n                reject(_consts.rejectMessages.noObject);\n              }\n            });\n          }\n        };\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Add an object\n         */\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/addShape.js\":\n      /*!************************************!*\\\n        !*** ./src/js/command/addShape.js ***!\n        \\************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var SHAPE = _consts.componentNames.SHAPE;\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Add a shape\n         */\n\n        var command = {\n          name: _consts.commandNames.ADD_SHAPE,\n\n          /**\n           * Add a shape\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n           * @param {Object} options - Shape options\n           *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n           *      @param {string} [options.stroke] - Shape outline color\n           *      @param {number} [options.strokeWidth] - Shape outline width\n           *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n           *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n           *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n           *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n           *      @param {number} [options.left] - Shape x position\n           *      @param {number} [options.top] - Shape y position\n           *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, type, options) {\n            var _this = this;\n\n            var shapeComp = graphics.getComponent(SHAPE);\n            return shapeComp.add(type, options).then(function (objectProps) {\n              var id = objectProps.id;\n              _this.undoData.object = graphics.getObject(id);\n              return objectProps;\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            graphics.remove(this.undoData.object);\n            return _util.Promise.resolve();\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/addText.js\":\n      /*!***********************************!*\\\n        !*** ./src/js/command/addText.js ***!\n        \\***********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        var _selectionModifyHelper = __webpack_require__(\n        /*! @/helper/selectionModifyHelper */\n        \"./src/js/helper/selectionModifyHelper.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Add a text object\n         */\n\n\n        var TEXT = _consts.componentNames.TEXT;\n        var command = {\n          name: _consts.commandNames.ADD_TEXT,\n\n          /**\n           * Add a text object\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} text - Initial input text\n           * @param {Object} [options] Options for text styles\n           *     @param {Object} [options.styles] Initial styles\n           *         @param {string} [options.styles.fill] Color\n           *         @param {string} [options.styles.fontFamily] Font type for text\n           *         @param {number} [options.styles.fontSize] Size\n           *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n           *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n           *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n           *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n           *     @param {{x: number, y: number}} [options.position] - Initial position\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, text, options) {\n            var _this = this;\n\n            var textComp = graphics.getComponent(TEXT);\n\n            if (this.undoData.object) {\n              var undoObject = this.undoData.object;\n              return new _util.Promise(function (resolve, reject) {\n                if (!graphics.contains(undoObject)) {\n                  graphics.add(undoObject);\n                  resolve(undoObject);\n                } else {\n                  reject(_consts.rejectMessages.redo);\n                }\n              });\n            }\n\n            return textComp.add(text, options).then(function (objectProps) {\n              var id = objectProps.id;\n              var textObject = graphics.getObject(id);\n              _this.undoData.object = textObject;\n              (0, _selectionModifyHelper.setCachedUndoDataForDimension)((0, _selectionModifyHelper.makeSelectionUndoData)(textObject, function () {\n                return (0, _selectionModifyHelper.makeSelectionUndoDatum)(id, textObject, false);\n              }));\n              return objectProps;\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            graphics.remove(this.undoData.object);\n            return _util.Promise.resolve();\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/applyFilter.js\":\n      /*!***************************************!*\\\n        !*** ./src/js/command/applyFilter.js ***!\n        \\***************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var FILTER = _consts.componentNames.FILTER;\n        /**\n         * Cached data for undo\n         * @type {Object}\n         */\n\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Apply a filter into an image\n         */\n\n        var cachedUndoDataForSilent = null;\n        /**\n         * Make undoData\n         * @param {string} type - Filter type\n         * @param {Object} prevfilterOption - prev Filter options\n         * @param {Object} options - Filter options\n         * @returns {object} - undo data\n         */\n\n        function makeUndoData(type, prevfilterOption, options) {\n          var undoData = {};\n\n          if (type === 'mask') {\n            undoData.object = options.mask;\n          }\n\n          undoData.options = prevfilterOption;\n          return undoData;\n        }\n\n        var command = {\n          name: _consts.commandNames.APPLY_FILTER,\n\n          /**\n           * Apply a filter into an image\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} type - Filter type\n           * @param {Object} options - Filter options\n           *  @param {number} options.maskObjId - masking image object id\n           * @param {boolean} isSilent - is silent execution or not\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, type, options, isSilent) {\n            var filterComp = graphics.getComponent(FILTER);\n\n            if (type === 'mask') {\n              var maskObj = graphics.getObject(options.maskObjId);\n\n              if (!(maskObj && maskObj.isType('image'))) {\n                return Promise.reject(_consts.rejectMessages.invalidParameters);\n              }\n\n              _tuiCodeSnippet2.default.extend(options, {\n                mask: maskObj\n              });\n\n              graphics.remove(options.mask);\n            }\n\n            if (!this.isRedo) {\n              var prevfilterOption = filterComp.getOptions(type);\n              var undoData = makeUndoData(type, prevfilterOption, options);\n              cachedUndoDataForSilent = this.setUndoData(undoData, cachedUndoDataForSilent, isSilent);\n            }\n\n            return filterComp.add(type, options);\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} type - Filter type\n           * @returns {Promise}\n           */\n          undo: function undo(graphics, type) {\n            var filterComp = graphics.getComponent(FILTER);\n\n            if (type === 'mask') {\n              var mask = this.undoData.object;\n              graphics.add(mask);\n              graphics.setActiveObject(mask);\n              return filterComp.remove(type);\n            } // options changed case\n\n\n            if (this.undoData.options) {\n              return filterComp.add(type, this.undoData.options);\n            } // filter added case\n\n\n            return filterComp.remove(type);\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/changeIconColor.js\":\n      /*!*******************************************!*\\\n        !*** ./src/js/command/changeIconColor.js ***!\n        \\*******************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var ICON = _consts.componentNames.ICON;\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Change icon color\n         */\n\n        var command = {\n          name: _consts.commandNames.CHANGE_ICON_COLOR,\n\n          /**\n           * Change icon color\n           * @param {Graphics} graphics - Graphics instance\n           * @param {number} id - object id\n           * @param {string} color - Color for icon\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, id, color) {\n            var _this = this;\n\n            return new _util.Promise(function (resolve, reject) {\n              var iconComp = graphics.getComponent(ICON);\n              var targetObj = graphics.getObject(id);\n\n              if (!targetObj) {\n                reject(_consts.rejectMessages.noObject);\n              }\n\n              _this.undoData.object = targetObj;\n              _this.undoData.color = iconComp.getColor(targetObj);\n              iconComp.setColor(color, targetObj);\n              resolve();\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            var iconComp = graphics.getComponent(ICON);\n            var _undoData = this.undoData,\n                icon = _undoData.object,\n                color = _undoData.color;\n            iconComp.setColor(color, icon);\n            return _util.Promise.resolve();\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/changeSelection.js\":\n      /*!*******************************************!*\\\n        !*** ./src/js/command/changeSelection.js ***!\n        \\*******************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        var _selectionModifyHelper = __webpack_require__(\n        /*! @/helper/selectionModifyHelper */\n        \"./src/js/helper/selectionModifyHelper.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview change selection\n         */\n\n\n        var command = {\n          name: _consts.commandNames.CHANGE_SELECTION,\n          execute: function execute(graphics, props) {\n            if (this.isRedo) {\n              props.forEach(function (prop) {\n                graphics.setObjectProperties(prop.id, prop);\n              });\n            } else {\n              this.undoData = (0, _selectionModifyHelper.getCachedUndoDataForDimension)();\n            }\n\n            return _util.Promise.resolve();\n          },\n          undo: function undo(graphics) {\n            this.undoData.forEach(function (datum) {\n              graphics.setObjectProperties(datum.id, datum);\n            });\n            return _util.Promise.resolve();\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/changeShape.js\":\n      /*!***************************************!*\\\n        !*** ./src/js/command/changeShape.js ***!\n        \\***************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview change a shape\n         */\n\n\n        var SHAPE = _consts.componentNames.SHAPE;\n        /**\n         * Cached data for undo\n         * @type {Object}\n         */\n\n        var cachedUndoDataForSilent = null;\n        /**\n         * Make undoData\n         * @param {object} options - shape options\n         * @param {Component} targetObj - shape component\n         * @returns {object} - undo data\n         */\n\n        function makeUndoData(options, targetObj) {\n          var undoData = {\n            object: targetObj,\n            options: {}\n          };\n\n          _tuiCodeSnippet2.default.forEachOwnProperties(options, function (value, key) {\n            undoData.options[key] = targetObj[key];\n          });\n\n          return undoData;\n        }\n\n        var command = {\n          name: _consts.commandNames.CHANGE_SHAPE,\n\n          /**\n           * Change a shape\n           * @param {Graphics} graphics - Graphics instance\n           * @param {number} id - object id\n           * @param {Object} options - Shape options\n           *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n           *      @param {string} [options.stroke] - Shape outline color\n           *      @param {number} [options.strokeWidth] - Shape outline width\n           *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n           *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n           *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n           *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n           *      @param {number} [options.left] - Shape x position\n           *      @param {number} [options.top] - Shape y position\n           *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n           * @param {boolean} isSilent - is silent execution or not\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, id, options, isSilent) {\n            var shapeComp = graphics.getComponent(SHAPE);\n            var targetObj = graphics.getObject(id);\n\n            if (!targetObj) {\n              return _util.Promise.reject(_consts.rejectMessages.noObject);\n            }\n\n            if (!this.isRedo) {\n              var undoData = makeUndoData(options, targetObj);\n              cachedUndoDataForSilent = this.setUndoData(undoData, cachedUndoDataForSilent, isSilent);\n            }\n\n            return shapeComp.change(targetObj, options);\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            var shapeComp = graphics.getComponent(SHAPE);\n            var _undoData = this.undoData,\n                shape = _undoData.object,\n                options = _undoData.options;\n            return shapeComp.change(shape, options);\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/changeText.js\":\n      /*!**************************************!*\\\n        !*** ./src/js/command/changeText.js ***!\n        \\**************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var TEXT = _consts.componentNames.TEXT;\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Change a text\n         */\n\n        var command = {\n          name: _consts.commandNames.CHANGE_TEXT,\n\n          /**\n           * Change a text\n           * @param {Graphics} graphics - Graphics instance\n           * @param {number} id - object id\n           * @param {string} text - Changing text\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, id, text) {\n            var textComp = graphics.getComponent(TEXT);\n            var targetObj = graphics.getObject(id);\n\n            if (!targetObj) {\n              return _util.Promise.reject(_consts.rejectMessages.noObject);\n            }\n\n            this.undoData.object = targetObj;\n            this.undoData.text = textComp.getText(targetObj);\n            return textComp.change(targetObj, text);\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            var textComp = graphics.getComponent(TEXT);\n            var _undoData = this.undoData,\n                textObj = _undoData.object,\n                text = _undoData.text;\n            return textComp.change(textObj, text);\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/changeTextStyle.js\":\n      /*!*******************************************!*\\\n        !*** ./src/js/command/changeTextStyle.js ***!\n        \\*******************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Change text styles\n         */\n\n\n        var TEXT = _consts.componentNames.TEXT;\n        /**\n         * Cached data for undo\n         * @type {Object}\n         */\n\n        var cachedUndoDataForSilent = null;\n        /**\n         * Make undoData\n         * @param {object} styles - text styles\n         * @param {Component} targetObj - text component\n         * @returns {object} - undo data\n         */\n\n        function makeUndoData(styles, targetObj) {\n          var undoData = {\n            object: targetObj,\n            styles: {}\n          };\n\n          _tuiCodeSnippet2.default.forEachOwnProperties(styles, function (value, key) {\n            var undoValue = targetObj[key];\n            undoData.styles[key] = undoValue;\n          });\n\n          return undoData;\n        }\n\n        var command = {\n          name: _consts.commandNames.CHANGE_TEXT_STYLE,\n\n          /**\n           * Change text styles\n           * @param {Graphics} graphics - Graphics instance\n           * @param {number} id - object id\n           * @param {Object} styles - text styles\n           *     @param {string} [styles.fill] Color\n           *     @param {string} [styles.fontFamily] Font type for text\n           *     @param {number} [styles.fontSize] Size\n           *     @param {string} [styles.fontStyle] Type of inclination (normal / italic)\n           *     @param {string} [styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n           *     @param {string} [styles.textAlign] Type of text align (left / center / right)\n           *     @param {string} [styles.textDecoration] Type of line (underline / line-through / overline)\n           * @param {boolean} isSilent - is silent execution or not\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, id, styles, isSilent) {\n            var textComp = graphics.getComponent(TEXT);\n            var targetObj = graphics.getObject(id);\n\n            if (!targetObj) {\n              return _util.Promise.reject(_consts.rejectMessages.noObject);\n            }\n\n            if (!this.isRedo) {\n              var undoData = makeUndoData(styles, targetObj);\n              cachedUndoDataForSilent = this.setUndoData(undoData, cachedUndoDataForSilent, isSilent);\n            }\n\n            return textComp.setStyle(targetObj, styles);\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            var textComp = graphics.getComponent(TEXT);\n            var _undoData = this.undoData,\n                textObj = _undoData.object,\n                styles = _undoData.styles;\n            return textComp.setStyle(textObj, styles);\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/clearObjects.js\":\n      /*!****************************************!*\\\n        !*** ./src/js/command/clearObjects.js ***!\n        \\****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var command = {\n          name: _consts.commandNames.CLEAR_OBJECTS,\n\n          /**\n           * Clear all objects without background (main) image\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          execute: function execute(graphics) {\n            var _this = this;\n\n            return new _util.Promise(function (resolve) {\n              _this.undoData.objects = graphics.removeAll();\n              resolve();\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           * @ignore\n           */\n          undo: function undo(graphics) {\n            graphics.add(this.undoData.objects);\n            return _util.Promise.resolve();\n          }\n        };\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Clear all objects\n         */\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/flip.js\":\n      /*!********************************!*\\\n        !*** ./src/js/command/flip.js ***!\n        \\********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Flip an image\n         */\n\n\n        var FLIP = _consts.componentNames.FLIP;\n        var command = {\n          name: _consts.commandNames.FLIP_IMAGE,\n\n          /**\n           * flip an image\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} type - 'flipX' or 'flipY' or 'reset'\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, type) {\n            var flipComp = graphics.getComponent(FLIP);\n            this.undoData.setting = flipComp.getCurrentSetting();\n            return flipComp[type]();\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            var flipComp = graphics.getComponent(FLIP);\n            return flipComp.set(this.undoData.setting);\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/loadImage.js\":\n      /*!*************************************!*\\\n        !*** ./src/js/command/loadImage.js ***!\n        \\*************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Load a background (main) image\n         */\n\n\n        var IMAGE_LOADER = _consts.componentNames.IMAGE_LOADER;\n        var command = {\n          name: _consts.commandNames.LOAD_IMAGE,\n\n          /**\n           * Load a background (main) image\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} imageName - Image name\n           * @param {string} imgUrl - Image Url\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, imageName, imgUrl) {\n            var loader = graphics.getComponent(IMAGE_LOADER);\n            var prevImage = loader.getCanvasImage();\n            var prevImageWidth = prevImage ? prevImage.width : 0;\n            var prevImageHeight = prevImage ? prevImage.height : 0;\n            var objects = graphics.removeAll(true).filter(function (objectItem) {\n              return objectItem.type !== 'cropzone';\n            });\n            objects.forEach(function (objectItem) {\n              objectItem.evented = true;\n            });\n            this.undoData = {\n              name: loader.getImageName(),\n              image: prevImage,\n              objects: objects\n            };\n            return loader.load(imageName, imgUrl).then(function (newImage) {\n              return {\n                oldWidth: prevImageWidth,\n                oldHeight: prevImageHeight,\n                newWidth: newImage.width,\n                newHeight: newImage.height\n              };\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            var loader = graphics.getComponent(IMAGE_LOADER);\n            var _undoData = this.undoData,\n                objects = _undoData.objects,\n                name = _undoData.name,\n                image = _undoData.image;\n            graphics.removeAll(true);\n            graphics.add(objects);\n            return loader.load(name, image);\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/removeFilter.js\":\n      /*!****************************************!*\\\n        !*** ./src/js/command/removeFilter.js ***!\n        \\****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Remove a filter from an image\n         */\n\n\n        var FILTER = _consts.componentNames.FILTER;\n        var command = {\n          name: _consts.commandNames.REMOVE_FILTER,\n\n          /**\n           * Remove a filter from an image\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} type - Filter type\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, type) {\n            var filterComp = graphics.getComponent(FILTER);\n            this.undoData.options = filterComp.getOptions(type);\n            return filterComp.remove(type);\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} type - Filter type\n           * @returns {Promise}\n           */\n          undo: function undo(graphics, type) {\n            var filterComp = graphics.getComponent(FILTER);\n            var options = this.undoData.options;\n            return filterComp.add(type, options);\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/removeObject.js\":\n      /*!****************************************!*\\\n        !*** ./src/js/command/removeObject.js ***!\n        \\****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var command = {\n          name: _consts.commandNames.REMOVE_OBJECT,\n\n          /**\n           * Remove an object\n           * @param {Graphics} graphics - Graphics instance\n           * @param {number} id - object id\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, id) {\n            var _this = this;\n\n            return new _util.Promise(function (resolve, reject) {\n              _this.undoData.objects = graphics.removeObjectById(id);\n\n              if (_this.undoData.objects.length) {\n                resolve();\n              } else {\n                reject(_consts.rejectMessages.noObject);\n              }\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            graphics.add(this.undoData.objects);\n            return _util.Promise.resolve();\n          }\n        };\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Remove an object\n         */\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/resizeCanvasDimension.js\":\n      /*!*************************************************!*\\\n        !*** ./src/js/command/resizeCanvasDimension.js ***!\n        \\*************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var command = {\n          name: _consts.commandNames.RESIZE_CANVAS_DIMENSION,\n\n          /**\n           * resize the canvas with given dimension\n           * @param {Graphics} graphics - Graphics instance\n           * @param {{width: number, height: number}} dimension - Max width & height\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, dimension) {\n            var _this = this;\n\n            return new _util.Promise(function (resolve) {\n              _this.undoData.size = {\n                width: graphics.cssMaxWidth,\n                height: graphics.cssMaxHeight\n              };\n              graphics.setCssMaxDimension(dimension);\n              graphics.adjustCanvasDimension();\n              resolve();\n            });\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            graphics.setCssMaxDimension(this.undoData.size);\n            graphics.adjustCanvasDimension();\n            return _util.Promise.resolve();\n          }\n        };\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Resize a canvas\n         */\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/rotate.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/command/rotate.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Rotate an image\n         */\n\n\n        var ROTATION = _consts.componentNames.ROTATION;\n        /**\n         * Cached data for undo\n         * @type {Object}\n         */\n\n        var cachedUndoDataForSilent = null;\n        /**\n         * Make undo data\n         * @param {Component} rotationComp - rotation component\n         * @returns {object} - undodata\n         */\n\n        function makeUndoData(rotationComp) {\n          return {\n            angle: rotationComp.getCurrentAngle()\n          };\n        }\n\n        var command = {\n          name: _consts.commandNames.ROTATE_IMAGE,\n\n          /**\n           * Rotate an image\n           * @param {Graphics} graphics - Graphics instance\n           * @param {string} type - 'rotate' or 'setAngle'\n           * @param {number} angle - angle value (degree)\n           * @param {boolean} isSilent - is silent execution or not\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, type, angle, isSilent) {\n            var rotationComp = graphics.getComponent(ROTATION);\n\n            if (!this.isRedo) {\n              var undoData = makeUndoData(rotationComp);\n              cachedUndoDataForSilent = this.setUndoData(undoData, cachedUndoDataForSilent, isSilent);\n            }\n\n            return rotationComp[type](angle);\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            var rotationComp = graphics.getComponent(ROTATION);\n            var _args = this.args,\n                type = _args[1],\n                angle = _args[2];\n\n            if (type === 'setAngle') {\n              return rotationComp[type](this.undoData.angle);\n            }\n\n            return rotationComp.rotate(-angle);\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/setObjectPosition.js\":\n      /*!*********************************************!*\\\n        !*** ./src/js/command/setObjectPosition.js ***!\n        \\*********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var command = {\n          name: _consts.commandNames.SET_OBJECT_POSITION,\n\n          /**\n           * Set object properties\n           * @param {Graphics} graphics - Graphics instance\n           * @param {number} id - object id\n           * @param {Object} posInfo - position object\n           *  @param {number} posInfo.x - x position\n           *  @param {number} posInfo.y - y position\n           *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n           *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, id, posInfo) {\n            var targetObj = graphics.getObject(id);\n\n            if (!targetObj) {\n              return _util.Promise.reject(_consts.rejectMessages.noObject);\n            }\n\n            this.undoData.objectId = id;\n            this.undoData.props = graphics.getObjectProperties(id, ['left', 'top']);\n            graphics.setObjectPosition(id, posInfo);\n            graphics.renderAll();\n            return _util.Promise.resolve();\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @returns {Promise}\n           */\n          undo: function undo(graphics) {\n            var _undoData = this.undoData,\n                objectId = _undoData.objectId,\n                props = _undoData.props;\n            graphics.setObjectProperties(objectId, props);\n            graphics.renderAll();\n            return _util.Promise.resolve();\n          }\n        };\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Set object properties\n         */\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/command/setObjectProperties.js\":\n      /*!***********************************************!*\\\n        !*** ./src/js/command/setObjectProperties.js ***!\n        \\***********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Set object properties\n         */\n\n\n        var command = {\n          name: _consts.commandNames.SET_OBJECT_PROPERTIES,\n\n          /**\n           * Set object properties\n           * @param {Graphics} graphics - Graphics instance\n           * @param {number} id - object id\n           * @param {Object} props - properties\n           *     @param {string} [props.fill] Color\n           *     @param {string} [props.fontFamily] Font type for text\n           *     @param {number} [props.fontSize] Size\n           *     @param {string} [props.fontStyle] Type of inclination (normal / italic)\n           *     @param {string} [props.fontWeight] Type of thicker or thinner looking (normal / bold)\n           *     @param {string} [props.textAlign] Type of text align (left / center / right)\n           *     @param {string} [props.textDecoration] Type of line (underline / line-through / overline)\n           * @returns {Promise}\n           */\n          execute: function execute(graphics, id, props) {\n            var _this = this;\n\n            var targetObj = graphics.getObject(id);\n\n            if (!targetObj) {\n              return _util.Promise.reject(_consts.rejectMessages.noObject);\n            }\n\n            this.undoData.props = {};\n\n            _tuiCodeSnippet2.default.forEachOwnProperties(props, function (value, key) {\n              _this.undoData.props[key] = targetObj[key];\n            });\n\n            graphics.setObjectProperties(id, props);\n            return _util.Promise.resolve();\n          },\n\n          /**\n           * @param {Graphics} graphics - Graphics instance\n           * @param {number} id - object id\n           * @returns {Promise}\n           */\n          undo: function undo(graphics, id) {\n            var props = this.undoData.props;\n            graphics.setObjectProperties(id, props);\n            return _util.Promise.resolve();\n          }\n        };\n\n        _command2.default.register(command);\n\n        exports.default = command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/cropper.js\":\n      /*!*************************************!*\\\n        !*** ./src/js/component/cropper.js ***!\n        \\*************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _cropzone = __webpack_require__(\n        /*! @/extension/cropzone */\n        \"./src/js/extension/cropzone.js\");\n\n        var _cropzone2 = _interopRequireDefault(_cropzone);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Image crop module (start cropping, end cropping)\n         */\n\n\n        var MOUSE_MOVE_THRESHOLD = 10;\n        var DEFAULT_OPTION = {\n          presetRatio: null,\n          top: -10,\n          left: -10,\n          height: 1,\n          width: 1\n        };\n        /**\n         * Cropper components\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @class Cropper\n         * @ignore\n         */\n\n        var Cropper = function (_Component) {\n          _inherits(Cropper, _Component);\n\n          function Cropper(graphics) {\n            _classCallCheck(this, Cropper);\n            /**\n             * Cropzone\n             * @type {Cropzone}\n             * @private\n             */\n\n\n            var _this = _possibleConstructorReturn(this, (Cropper.__proto__ || Object.getPrototypeOf(Cropper)).call(this, _consts.componentNames.CROPPER, graphics));\n\n            _this._cropzone = null;\n            /**\n             * StartX of Cropzone\n             * @type {number}\n             * @private\n             */\n\n            _this._startX = null;\n            /**\n             * StartY of Cropzone\n             * @type {number}\n             * @private\n             */\n\n            _this._startY = null;\n            /**\n             * State whether shortcut key is pressed or not\n             * @type {boolean}\n             * @private\n             */\n\n            _this._withShiftKey = false;\n            /**\n             * Listeners\n             * @type {object.<string, function>}\n             * @private\n             */\n\n            _this._listeners = {\n              keydown: _this._onKeyDown.bind(_this),\n              keyup: _this._onKeyUp.bind(_this),\n              mousedown: _this._onFabricMouseDown.bind(_this),\n              mousemove: _this._onFabricMouseMove.bind(_this),\n              mouseup: _this._onFabricMouseUp.bind(_this)\n            };\n            return _this;\n          }\n          /**\n           * Start cropping\n           */\n\n\n          _createClass(Cropper, [{\n            key: 'start',\n            value: function start() {\n              if (this._cropzone) {\n                return;\n              }\n\n              var canvas = this.getCanvas();\n              canvas.forEachObject(function (obj) {\n                // {@link http://fabricjs.com/docs/fabric.Object.html#evented}\n                obj.evented = false;\n              });\n              this._cropzone = new _cropzone2.default(canvas, _tuiCodeSnippet2.default.extend({\n                left: 0,\n                top: 0,\n                width: 0.5,\n                height: 0.5,\n                strokeWidth: 0,\n                // {@link https://github.com/kangax/fabric.js/issues/2860}\n                cornerSize: 10,\n                cornerColor: 'black',\n                fill: 'transparent'\n              }, _consts.CROPZONE_DEFAULT_OPTIONS, this.graphics.cropSelectionStyle));\n              canvas.discardActiveObject();\n              canvas.add(this._cropzone);\n              canvas.on('mouse:down', this._listeners.mousedown);\n              canvas.selection = false;\n              canvas.defaultCursor = 'crosshair';\n\n              _fabric2.default.util.addListener(document, 'keydown', this._listeners.keydown);\n\n              _fabric2.default.util.addListener(document, 'keyup', this._listeners.keyup);\n            }\n            /**\n             * End cropping\n             */\n\n          }, {\n            key: 'end',\n            value: function end() {\n              var canvas = this.getCanvas();\n              var cropzone = this._cropzone;\n\n              if (!cropzone) {\n                return;\n              }\n\n              canvas.remove(cropzone);\n              canvas.selection = true;\n              canvas.defaultCursor = 'default';\n              canvas.off('mouse:down', this._listeners.mousedown);\n              canvas.forEachObject(function (obj) {\n                obj.evented = true;\n              });\n              this._cropzone = null;\n\n              _fabric2.default.util.removeListener(document, 'keydown', this._listeners.keydown);\n\n              _fabric2.default.util.removeListener(document, 'keyup', this._listeners.keyup);\n            }\n            /**\n             * Change cropzone visible\n             * @param {boolean} visible - cropzone visible state\n             */\n\n          }, {\n            key: 'changeVisibility',\n            value: function changeVisibility(visible) {\n              if (this._cropzone) {\n                this._cropzone.set({\n                  visible: visible\n                });\n              }\n            }\n            /**\n             * onMousedown handler in fabric canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseDown',\n            value: function _onFabricMouseDown(fEvent) {\n              var canvas = this.getCanvas();\n\n              if (fEvent.target) {\n                return;\n              }\n\n              canvas.selection = false;\n              var coord = canvas.getPointer(fEvent.e);\n              this._startX = coord.x;\n              this._startY = coord.y;\n              canvas.on({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n              });\n            }\n            /**\n             * onMousemove handler in fabric canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseMove',\n            value: function _onFabricMouseMove(fEvent) {\n              var canvas = this.getCanvas();\n              var pointer = canvas.getPointer(fEvent.e);\n              var x = pointer.x,\n                  y = pointer.y;\n              var cropzone = this._cropzone;\n\n              if (Math.abs(x - this._startX) + Math.abs(y - this._startY) > MOUSE_MOVE_THRESHOLD) {\n                canvas.remove(cropzone);\n                cropzone.set(this._calcRectDimensionFromPoint(x, y));\n                canvas.add(cropzone);\n                canvas.setActiveObject(cropzone);\n              }\n            }\n            /**\n             * Get rect dimension setting from Canvas-Mouse-Position(x, y)\n             * @param {number} x - Canvas-Mouse-Position x\n             * @param {number} y - Canvas-Mouse-Position Y\n             * @returns {{left: number, top: number, width: number, height: number}}\n             * @private\n             */\n\n          }, {\n            key: '_calcRectDimensionFromPoint',\n            value: function _calcRectDimensionFromPoint(x, y) {\n              var canvas = this.getCanvas();\n              var canvasWidth = canvas.getWidth();\n              var canvasHeight = canvas.getHeight();\n              var startX = this._startX;\n              var startY = this._startY;\n              var left = (0, _util.clamp)(x, 0, startX);\n              var top = (0, _util.clamp)(y, 0, startY);\n              var width = (0, _util.clamp)(x, startX, canvasWidth) - left; // (startX <= x(mouse) <= canvasWidth) - left\n\n              var height = (0, _util.clamp)(y, startY, canvasHeight) - top; // (startY <= y(mouse) <= canvasHeight) - top\n\n              if (this._withShiftKey) {\n                // make fixed ratio cropzone\n                if (width > height) {\n                  height = width;\n                } else if (height > width) {\n                  width = height;\n                }\n\n                if (startX >= x) {\n                  left = startX - width;\n                }\n\n                if (startY >= y) {\n                  top = startY - height;\n                }\n              }\n\n              return {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n              };\n            }\n            /**\n             * onMouseup handler in fabric canvas\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseUp',\n            value: function _onFabricMouseUp() {\n              var cropzone = this._cropzone;\n              var listeners = this._listeners;\n              var canvas = this.getCanvas();\n              canvas.setActiveObject(cropzone);\n              canvas.off({\n                'mouse:move': listeners.mousemove,\n                'mouse:up': listeners.mouseup\n              });\n            }\n            /**\n             * Get cropped image data\n             * @param {Object} cropRect cropzone rect\n             *  @param {Number} cropRect.left left position\n             *  @param {Number} cropRect.top top position\n             *  @param {Number} cropRect.width width\n             *  @param {Number} cropRect.height height\n             * @returns {?{imageName: string, url: string}} cropped Image data\n             */\n\n          }, {\n            key: 'getCroppedImageData',\n            value: function getCroppedImageData(cropRect) {\n              var canvas = this.getCanvas();\n              var containsCropzone = canvas.contains(this._cropzone);\n\n              if (!cropRect) {\n                return null;\n              }\n\n              if (containsCropzone) {\n                canvas.remove(this._cropzone);\n              }\n\n              var imageData = {\n                imageName: this.getImageName(),\n                url: canvas.toDataURL(cropRect)\n              };\n\n              if (containsCropzone) {\n                canvas.add(this._cropzone);\n              }\n\n              return imageData;\n            }\n            /**\n             * Get cropped rect\n             * @returns {Object} rect\n             */\n\n          }, {\n            key: 'getCropzoneRect',\n            value: function getCropzoneRect() {\n              var cropzone = this._cropzone;\n\n              if (!cropzone.isValid()) {\n                return null;\n              }\n\n              return {\n                left: cropzone.left,\n                top: cropzone.top,\n                width: cropzone.width,\n                height: cropzone.height\n              };\n            }\n            /**\n             * Set a cropzone square\n             * @param {number} [presetRatio] - preset ratio\n             */\n\n          }, {\n            key: 'setCropzoneRect',\n            value: function setCropzoneRect(presetRatio) {\n              var canvas = this.getCanvas();\n              var cropzone = this._cropzone;\n              canvas.discardActiveObject();\n              canvas.selection = false;\n              canvas.remove(cropzone);\n              cropzone.set(presetRatio ? this._getPresetPropertiesForCropSize(presetRatio) : DEFAULT_OPTION);\n              canvas.add(cropzone);\n              canvas.selection = true;\n\n              if (presetRatio) {\n                canvas.setActiveObject(cropzone);\n              }\n            }\n            /**\n             * get a cropzone square info\n             * @param {number} presetRatio - preset ratio\n             * @returns {{presetRatio: number, left: number, top: number, width: number, height: number}}\n             * @private\n             */\n\n          }, {\n            key: '_getPresetPropertiesForCropSize',\n            value: function _getPresetPropertiesForCropSize(presetRatio) {\n              var canvas = this.getCanvas();\n              var originalWidth = canvas.getWidth();\n              var originalHeight = canvas.getHeight();\n              var standardSize = originalWidth >= originalHeight ? originalWidth : originalHeight;\n\n              var getScale = function getScale(value, orignalValue) {\n                return value > orignalValue ? orignalValue / value : 1;\n              };\n\n              var width = standardSize * presetRatio;\n              var height = standardSize;\n              var scaleWidth = getScale(width, originalWidth);\n\n              var _snippet$map = _tuiCodeSnippet2.default.map([width, height], function (sizeValue) {\n                return sizeValue * scaleWidth;\n              });\n\n              width = _snippet$map[0];\n              height = _snippet$map[1];\n              var scaleHeight = getScale(height, originalHeight);\n\n              var _snippet$map2 = _tuiCodeSnippet2.default.map([width, height], function (sizeValue) {\n                return (0, _util.fixFloatingPoint)(sizeValue * scaleHeight);\n              });\n\n              width = _snippet$map2[0];\n              height = _snippet$map2[1];\n              return {\n                presetRatio: presetRatio,\n                top: (originalHeight - height) / 2,\n                left: (originalWidth - width) / 2,\n                width: width,\n                height: height\n              };\n            }\n            /**\n             * Keydown event handler\n             * @param {KeyboardEvent} e - Event object\n             * @private\n             */\n\n          }, {\n            key: '_onKeyDown',\n            value: function _onKeyDown(e) {\n              if (e.keyCode === _consts.keyCodes.SHIFT) {\n                this._withShiftKey = true;\n              }\n            }\n            /**\n             * Keyup event handler\n             * @param {KeyboardEvent} e - Event object\n             * @private\n             */\n\n          }, {\n            key: '_onKeyUp',\n            value: function _onKeyUp(e) {\n              if (e.keyCode === _consts.keyCodes.SHIFT) {\n                this._withShiftKey = false;\n              }\n            }\n          }]);\n\n          return Cropper;\n        }(_component2.default);\n\n        exports.default = Cropper;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/filter.js\":\n      /*!************************************!*\\\n        !*** ./src/js/component/filter.js ***!\n        \\************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        var _mask = __webpack_require__(\n        /*! @/extension/mask */\n        \"./src/js/extension/mask.js\");\n\n        var _mask2 = _interopRequireDefault(_mask);\n\n        var _sharpen = __webpack_require__(\n        /*! @/extension/sharpen */\n        \"./src/js/extension/sharpen.js\");\n\n        var _sharpen2 = _interopRequireDefault(_sharpen);\n\n        var _emboss = __webpack_require__(\n        /*! @/extension/emboss */\n        \"./src/js/extension/emboss.js\");\n\n        var _emboss2 = _interopRequireDefault(_emboss);\n\n        var _colorFilter = __webpack_require__(\n        /*! @/extension/colorFilter */\n        \"./src/js/extension/colorFilter.js\");\n\n        var _colorFilter2 = _interopRequireDefault(_colorFilter);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Add filter module\n         */\n\n\n        var filters = _fabric2.default.Image.filters;\n        filters.Mask = _mask2.default;\n        filters.Sharpen = _sharpen2.default;\n        filters.Emboss = _emboss2.default;\n        filters.ColorFilter = _colorFilter2.default;\n        /**\n         * Filter\n         * @class Filter\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @ignore\n         */\n\n        var Filter = function (_Component) {\n          _inherits(Filter, _Component);\n\n          function Filter(graphics) {\n            _classCallCheck(this, Filter);\n\n            return _possibleConstructorReturn(this, (Filter.__proto__ || Object.getPrototypeOf(Filter)).call(this, _consts.componentNames.FILTER, graphics));\n          }\n          /**\n           * Add filter to source image (a specific filter is added on fabric.js)\n           * @param {string} type - Filter type\n           * @param {Object} [options] - Options of filter\n           * @returns {Promise}\n           */\n\n\n          _createClass(Filter, [{\n            key: 'add',\n            value: function add(type, options) {\n              var _this2 = this;\n\n              return new _util.Promise(function (resolve, reject) {\n                var sourceImg = _this2._getSourceImage();\n\n                var canvas = _this2.getCanvas();\n\n                var imgFilter = _this2._getFilter(sourceImg, type);\n\n                if (!imgFilter) {\n                  imgFilter = _this2._createFilter(sourceImg, type, options);\n                }\n\n                if (!imgFilter) {\n                  reject(_consts.rejectMessages.invalidParameters);\n                }\n\n                _this2._changeFilterValues(imgFilter, options);\n\n                _this2._apply(sourceImg, function () {\n                  canvas.renderAll();\n                  resolve({\n                    type: type,\n                    action: 'add',\n                    options: options\n                  });\n                });\n              });\n            }\n            /**\n             * Remove filter to source image\n             * @param {string} type - Filter type\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'remove',\n            value: function remove(type) {\n              var _this3 = this;\n\n              return new _util.Promise(function (resolve, reject) {\n                var sourceImg = _this3._getSourceImage();\n\n                var canvas = _this3.getCanvas();\n\n                var options = _this3.getOptions(type);\n\n                if (!sourceImg.filters.length) {\n                  reject(_consts.rejectMessages.unsupportedOperation);\n                }\n\n                _this3._removeFilter(sourceImg, type);\n\n                _this3._apply(sourceImg, function () {\n                  canvas.renderAll();\n                  resolve({\n                    type: type,\n                    action: 'remove',\n                    options: options\n                  });\n                });\n              });\n            }\n            /**\n             * Whether this has the filter or not\n             * @param {string} type - Filter type\n             * @returns {boolean} true if it has the filter\n             */\n\n          }, {\n            key: 'hasFilter',\n            value: function hasFilter(type) {\n              return !!this._getFilter(this._getSourceImage(), type);\n            }\n            /**\n             * Get a filter options\n             * @param {string} type - Filter type\n             * @returns {Object} filter options or null if there is no that filter\n             */\n\n          }, {\n            key: 'getOptions',\n            value: function getOptions(type) {\n              var sourceImg = this._getSourceImage();\n\n              var imgFilter = this._getFilter(sourceImg, type);\n\n              if (!imgFilter) {\n                return null;\n              }\n\n              return (0, _tuiCodeSnippet.extend)({}, imgFilter.options);\n            }\n            /**\n             * Change filter values\n             * @param {Object} imgFilter object of filter\n             * @param {Object} options object\n             * @private\n             */\n\n          }, {\n            key: '_changeFilterValues',\n            value: function _changeFilterValues(imgFilter, options) {\n              (0, _tuiCodeSnippet.forEach)(options, function (value, key) {\n                if (!(0, _tuiCodeSnippet.isUndefined)(imgFilter[key])) {\n                  imgFilter[key] = value;\n                }\n              });\n              (0, _tuiCodeSnippet.forEach)(imgFilter.options, function (value, key) {\n                if (!(0, _tuiCodeSnippet.isUndefined)(options[key])) {\n                  imgFilter.options[key] = options[key];\n                }\n              });\n            }\n            /**\n             * Apply filter\n             * @param {fabric.Image} sourceImg - Source image to apply filter\n             * @param {function} callback - Executed function after applying filter\n             * @private\n             */\n\n          }, {\n            key: '_apply',\n            value: function _apply(sourceImg, callback) {\n              sourceImg.filters.push();\n              var result = sourceImg.applyFilters();\n\n              if (result) {\n                callback();\n              }\n            }\n            /**\n             * Get source image on canvas\n             * @returns {fabric.Image} Current source image on canvas\n             * @private\n             */\n\n          }, {\n            key: '_getSourceImage',\n            value: function _getSourceImage() {\n              return this.getCanvasImage();\n            }\n            /**\n             * Create filter instance\n             * @param {fabric.Image} sourceImg - Source image to apply filter\n             * @param {string} type - Filter type\n             * @param {Object} [options] - Options of filter\n             * @returns {Object} Fabric object of filter\n             * @private\n             */\n\n          }, {\n            key: '_createFilter',\n            value: function _createFilter(sourceImg, type, options) {\n              var filterObj = void 0; // capitalize first letter for matching with fabric image filter name\n\n              var fabricType = this._getFabricFilterType(type);\n\n              var ImageFilter = _fabric2.default.Image.filters[fabricType];\n\n              if (ImageFilter) {\n                filterObj = new ImageFilter(options);\n                filterObj.options = options;\n                sourceImg.filters.push(filterObj);\n              }\n\n              return filterObj;\n            }\n            /**\n             * Get applied filter instance\n             * @param {fabric.Image} sourceImg - Source image to apply filter\n             * @param {string} type - Filter type\n             * @returns {Object} Fabric object of filter\n             * @private\n             */\n\n          }, {\n            key: '_getFilter',\n            value: function _getFilter(sourceImg, type) {\n              var imgFilter = null;\n\n              if (sourceImg) {\n                var fabricType = this._getFabricFilterType(type);\n\n                var length = sourceImg.filters.length;\n                var item = void 0,\n                    i = void 0;\n\n                for (i = 0; i < length; i += 1) {\n                  item = sourceImg.filters[i];\n\n                  if (item.type === fabricType) {\n                    imgFilter = item;\n                    break;\n                  }\n                }\n              }\n\n              return imgFilter;\n            }\n            /**\n             * Remove applied filter instance\n             * @param {fabric.Image} sourceImg - Source image to apply filter\n             * @param {string} type - Filter type\n             * @private\n             */\n\n          }, {\n            key: '_removeFilter',\n            value: function _removeFilter(sourceImg, type) {\n              var fabricType = this._getFabricFilterType(type);\n\n              sourceImg.filters = (0, _tuiCodeSnippet.filter)(sourceImg.filters, function (value) {\n                return value.type !== fabricType;\n              });\n            }\n            /**\n             * Change filter class name to fabric's, especially capitalizing first letter\n             * @param {string} type - Filter type\n             * @example\n             * 'grayscale' -> 'Grayscale'\n             * @returns {string} Fabric filter class name\n             */\n\n          }, {\n            key: '_getFabricFilterType',\n            value: function _getFabricFilterType(type) {\n              return type.charAt(0).toUpperCase() + type.slice(1);\n            }\n          }]);\n\n          return Filter;\n        }(_component2.default);\n\n        exports.default = Filter;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/flip.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/component/flip.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Image flip module\n         */\n\n        /**\n         * Flip\n         * @class Flip\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @ignore\n         */\n\n\n        var Flip = function (_Component) {\n          _inherits(Flip, _Component);\n\n          function Flip(graphics) {\n            _classCallCheck(this, Flip);\n\n            return _possibleConstructorReturn(this, (Flip.__proto__ || Object.getPrototypeOf(Flip)).call(this, _consts.componentNames.FLIP, graphics));\n          }\n          /**\n           * Get current flip settings\n           * @returns {{flipX: Boolean, flipY: Boolean}}\n           */\n\n\n          _createClass(Flip, [{\n            key: 'getCurrentSetting',\n            value: function getCurrentSetting() {\n              var canvasImage = this.getCanvasImage();\n              return {\n                flipX: canvasImage.flipX,\n                flipY: canvasImage.flipY\n              };\n            }\n            /**\n             * Set flipX, flipY\n             * @param {{flipX: Boolean, flipY: Boolean}} newSetting - Flip setting\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'set',\n            value: function set(newSetting) {\n              var setting = this.getCurrentSetting();\n              var isChangingFlipX = setting.flipX !== newSetting.flipX;\n              var isChangingFlipY = setting.flipY !== newSetting.flipY;\n\n              if (!isChangingFlipX && !isChangingFlipY) {\n                return _util.Promise.reject(_consts.rejectMessages.flip);\n              }\n\n              _tuiCodeSnippet2.default.extend(setting, newSetting);\n\n              this.setImageProperties(setting, true);\n\n              this._invertAngle(isChangingFlipX, isChangingFlipY);\n\n              this._flipObjects(isChangingFlipX, isChangingFlipY);\n\n              return _util.Promise.resolve({\n                flipX: setting.flipX,\n                flipY: setting.flipY,\n                angle: this.getCanvasImage().angle\n              });\n            }\n            /**\n             * Invert image angle for flip\n             * @param {boolean} isChangingFlipX - Change flipX\n             * @param {boolean} isChangingFlipY - Change flipY\n             */\n\n          }, {\n            key: '_invertAngle',\n            value: function _invertAngle(isChangingFlipX, isChangingFlipY) {\n              var canvasImage = this.getCanvasImage();\n              var angle = canvasImage.angle;\n\n              if (isChangingFlipX) {\n                angle *= -1;\n              }\n\n              if (isChangingFlipY) {\n                angle *= -1;\n              }\n\n              canvasImage.rotate(parseFloat(angle)).setCoords(); // parseFloat for -0 to 0\n            }\n            /**\n             * Flip objects\n             * @param {boolean} isChangingFlipX - Change flipX\n             * @param {boolean} isChangingFlipY - Change flipY\n             * @private\n             */\n\n          }, {\n            key: '_flipObjects',\n            value: function _flipObjects(isChangingFlipX, isChangingFlipY) {\n              var canvas = this.getCanvas();\n\n              if (isChangingFlipX) {\n                canvas.forEachObject(function (obj) {\n                  obj.set({\n                    angle: parseFloat(obj.angle * -1),\n                    // parseFloat for -0 to 0\n                    flipX: !obj.flipX,\n                    left: canvas.width - obj.left\n                  }).setCoords();\n                });\n              }\n\n              if (isChangingFlipY) {\n                canvas.forEachObject(function (obj) {\n                  obj.set({\n                    angle: parseFloat(obj.angle * -1),\n                    // parseFloat for -0 to 0\n                    flipY: !obj.flipY,\n                    top: canvas.height - obj.top\n                  }).setCoords();\n                });\n              }\n\n              canvas.renderAll();\n            }\n            /**\n             * Reset flip settings\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'reset',\n            value: function reset() {\n              return this.set({\n                flipX: false,\n                flipY: false\n              });\n            }\n            /**\n             * Flip x\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'flipX',\n            value: function flipX() {\n              var current = this.getCurrentSetting();\n              return this.set({\n                flipX: !current.flipX,\n                flipY: current.flipY\n              });\n            }\n            /**\n             * Flip y\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'flipY',\n            value: function flipY() {\n              var current = this.getCurrentSetting();\n              return this.set({\n                flipX: current.flipX,\n                flipY: !current.flipY\n              });\n            }\n          }]);\n\n          return Flip;\n        }(_component2.default);\n\n        exports.default = Flip;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/freeDrawing.js\":\n      /*!*****************************************!*\\\n        !*** ./src/js/component/freeDrawing.js ***!\n        \\*****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Free drawing module, Set brush\n         */\n\n        /**\n         * FreeDrawing\n         * @class FreeDrawing\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @ignore\n         */\n\n\n        var FreeDrawing = function (_Component) {\n          _inherits(FreeDrawing, _Component);\n\n          function FreeDrawing(graphics) {\n            _classCallCheck(this, FreeDrawing);\n            /**\n             * Brush width\n             * @type {number}\n             */\n\n\n            var _this = _possibleConstructorReturn(this, (FreeDrawing.__proto__ || Object.getPrototypeOf(FreeDrawing)).call(this, _consts.componentNames.FREE_DRAWING, graphics));\n\n            _this.width = 12;\n            /**\n             * fabric.Color instance for brush color\n             * @type {fabric.Color}\n             */\n\n            _this.oColor = new _fabric2.default.Color('rgba(0, 0, 0, 0.5)');\n            return _this;\n          }\n          /**\n           * Start free drawing mode\n           * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n           */\n\n\n          _createClass(FreeDrawing, [{\n            key: 'start',\n            value: function start(setting) {\n              var canvas = this.getCanvas();\n              canvas.isDrawingMode = true;\n              this.setBrush(setting);\n            }\n            /**\n             * Set brush\n             * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n             */\n\n          }, {\n            key: 'setBrush',\n            value: function setBrush(setting) {\n              var brush = this.getCanvas().freeDrawingBrush;\n              setting = setting || {};\n              this.width = setting.width || this.width;\n\n              if (setting.color) {\n                this.oColor = new _fabric2.default.Color(setting.color);\n              }\n\n              brush.width = this.width;\n              brush.color = this.oColor.toRgba();\n            }\n            /**\n             * End free drawing mode\n             */\n\n          }, {\n            key: 'end',\n            value: function end() {\n              var canvas = this.getCanvas();\n              canvas.isDrawingMode = false;\n            }\n          }]);\n\n          return FreeDrawing;\n        }(_component2.default);\n\n        exports.default = FreeDrawing;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/icon.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/component/icon.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Add icon module\n         */\n\n\n        var pathMap = {\n          arrow: 'M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z',\n          cancel: 'M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 ' + 'L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z'\n        };\n        /**\n         * Icon\n         * @class Icon\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @ignore\n         */\n\n        var Icon = function (_Component) {\n          _inherits(Icon, _Component);\n\n          function Icon(graphics) {\n            _classCallCheck(this, Icon);\n            /**\n             * Default icon color\n             * @type {string}\n             */\n\n\n            var _this = _possibleConstructorReturn(this, (Icon.__proto__ || Object.getPrototypeOf(Icon)).call(this, _consts.componentNames.ICON, graphics));\n\n            _this._oColor = '#000000';\n            /**\n             * Path value of each icon type\n             * @type {Object}\n             */\n\n            _this._pathMap = pathMap;\n            /**\n             * Type of the drawing icon\n             * @type {string}\n             * @private\n             */\n\n            _this._type = null;\n            /**\n             * Color of the drawing icon\n             * @type {string}\n             * @private\n             */\n\n            _this._iconColor = null;\n            /**\n             * Event handler list\n             * @type {Object}\n             * @private\n             */\n\n            _this._handlers = {\n              mousedown: _this._onFabricMouseDown.bind(_this),\n              mousemove: _this._onFabricMouseMove.bind(_this),\n              mouseup: _this._onFabricMouseUp.bind(_this)\n            };\n            return _this;\n          }\n          /**\n           * Set states of the current drawing shape\n           * @ignore\n           * @param {string} type - Icon type ('arrow', 'cancel', custom icon name)\n           * @param {string} iconColor - Icon foreground color\n           */\n\n\n          _createClass(Icon, [{\n            key: 'setStates',\n            value: function setStates(type, iconColor) {\n              this._type = type;\n              this._iconColor = iconColor;\n            }\n            /**\n             * Start to draw the icon on canvas\n             * @ignore\n             */\n\n          }, {\n            key: 'start',\n            value: function start() {\n              var canvas = this.getCanvas();\n              canvas.selection = false;\n              canvas.on('mouse:down', this._handlers.mousedown);\n            }\n            /**\n             * End to draw the icon on canvas\n             * @ignore\n             */\n\n          }, {\n            key: 'end',\n            value: function end() {\n              var canvas = this.getCanvas();\n              canvas.selection = true;\n              canvas.off({\n                'mouse:down': this._handlers.mousedown\n              });\n            }\n            /**\n             * Add icon\n             * @param {string} type - Icon type\n             * @param {Object} options - Icon options\n             *      @param {string} [options.fill] - Icon foreground color\n             *      @param {string} [options.left] - Icon x position\n             *      @param {string} [options.top] - Icon y position\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'add',\n            value: function add(type, options) {\n              var _this2 = this;\n\n              return new _util.Promise(function (resolve, reject) {\n                var canvas = _this2.getCanvas();\n\n                var path = _this2._pathMap[type];\n                var selectionStyle = _consts.fObjectOptions.SELECTION_STYLE;\n                var icon = path ? _this2._createIcon(path) : null;\n                _this2._icon = icon;\n\n                if (!icon) {\n                  reject(_consts.rejectMessages.invalidParameters);\n                }\n\n                icon.set(_tuiCodeSnippet2.default.extend({\n                  type: 'icon',\n                  fill: _this2._oColor\n                }, selectionStyle, options, _this2.graphics.controlStyle));\n                canvas.add(icon).setActiveObject(icon);\n                resolve(_this2.graphics.createObjectProperties(icon));\n              });\n            }\n            /**\n             * Register icon paths\n             * @param {{key: string, value: string}} pathInfos - Path infos\n             */\n\n          }, {\n            key: 'registerPaths',\n            value: function registerPaths(pathInfos) {\n              var _this3 = this;\n\n              _tuiCodeSnippet2.default.forEach(pathInfos, function (path, type) {\n                _this3._pathMap[type] = path;\n              }, this);\n            }\n            /**\n             * Set icon object color\n             * @param {string} color - Color to set\n             * @param {fabric.Path}[obj] - Current activated path object\n             */\n\n          }, {\n            key: 'setColor',\n            value: function setColor(color, obj) {\n              this._oColor = color;\n\n              if (obj && obj.get('type') === 'icon') {\n                obj.set({\n                  fill: this._oColor\n                });\n                this.getCanvas().renderAll();\n              }\n            }\n            /**\n             * Get icon color\n             * @param {fabric.Path}[obj] - Current activated path object\n             * @returns {string} color\n             */\n\n          }, {\n            key: 'getColor',\n            value: function getColor(obj) {\n              return obj.fill;\n            }\n            /**\n             * Create icon object\n             * @param {string} path - Path value to create icon\n             * @returns {fabric.Path} Path object\n             */\n\n          }, {\n            key: '_createIcon',\n            value: function _createIcon(path) {\n              return new _fabric2.default.Path(path);\n            }\n            /**\n             * MouseDown event handler on canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseDown',\n            value: function _onFabricMouseDown(fEvent) {\n              var _this4 = this;\n\n              var canvas = this.getCanvas();\n              this._startPoint = canvas.getPointer(fEvent.e);\n              var _startPoint = this._startPoint,\n                  left = _startPoint.x,\n                  top = _startPoint.y;\n              this.add(this._type, {\n                left: left,\n                top: top,\n                fill: this._iconColor\n              }).then(function () {\n                _this4.fire(_consts.eventNames.ADD_OBJECT, _this4.graphics.createObjectProperties(_this4._icon));\n\n                canvas.on('mouse:move', _this4._handlers.mousemove);\n                canvas.on('mouse:up', _this4._handlers.mouseup);\n              });\n            }\n            /**\n             * MouseMove event handler on canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseMove',\n            value: function _onFabricMouseMove(fEvent) {\n              var canvas = this.getCanvas();\n\n              if (!this._icon) {\n                return;\n              }\n\n              var moveOriginPointer = canvas.getPointer(fEvent.e);\n              var scaleX = (moveOriginPointer.x - this._startPoint.x) / this._icon.width;\n              var scaleY = (moveOriginPointer.y - this._startPoint.y) / this._icon.height;\n\n              this._icon.set({\n                scaleX: Math.abs(scaleX * 2),\n                scaleY: Math.abs(scaleY * 2)\n              });\n\n              this._icon.setCoords();\n\n              canvas.renderAll();\n            }\n            /**\n             * MouseUp event handler on canvas\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseUp',\n            value: function _onFabricMouseUp() {\n              var canvas = this.getCanvas();\n              this.fire(_consts.eventNames.OBJECT_ADDED, this.graphics.createObjectProperties(this._icon));\n              this._icon = null;\n              canvas.off('mouse:down', this._handlers.mousedown);\n              canvas.off('mouse:move', this._handlers.mousemove);\n              canvas.off('mouse:up', this._handlers.mouseup);\n            }\n          }]);\n\n          return Icon;\n        }(_component2.default);\n\n        exports.default = Icon;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/imageLoader.js\":\n      /*!*****************************************!*\\\n        !*** ./src/js/component/imageLoader.js ***!\n        \\*****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Image loader\n         */\n\n\n        var imageOption = {\n          padding: 0,\n          crossOrigin: 'Anonymous'\n        };\n        /**\n         * ImageLoader components\n         * @extends {Component}\n         * @class ImageLoader\n         * @param {Graphics} graphics - Graphics instance\n         * @ignore\n         */\n\n        var ImageLoader = function (_Component) {\n          _inherits(ImageLoader, _Component);\n\n          function ImageLoader(graphics) {\n            _classCallCheck(this, ImageLoader);\n\n            return _possibleConstructorReturn(this, (ImageLoader.__proto__ || Object.getPrototypeOf(ImageLoader)).call(this, _consts.componentNames.IMAGE_LOADER, graphics));\n          }\n          /**\n           * Load image from url\n           * @param {?string} imageName - File name\n           * @param {?(fabric.Image|string)} img - fabric.Image instance or URL of an image\n           * @returns {Promise}\n           */\n\n\n          _createClass(ImageLoader, [{\n            key: 'load',\n            value: function load(imageName, img) {\n              var _this2 = this;\n\n              var promise = void 0;\n\n              if (!imageName && !img) {\n                // Back to the initial state, not error.\n                var canvas = this.getCanvas();\n                canvas.backgroundImage = null;\n                canvas.renderAll();\n                promise = new _util.Promise(function (resolve) {\n                  _this2.setCanvasImage('', null);\n\n                  resolve();\n                });\n              } else {\n                promise = this._setBackgroundImage(img).then(function (oImage) {\n                  _this2.setCanvasImage(imageName, oImage);\n\n                  _this2.adjustCanvasDimension();\n\n                  return oImage;\n                });\n              }\n\n              return promise;\n            }\n            /**\n             * Set background image\n             * @param {?(fabric.Image|String)} img fabric.Image instance or URL of an image to set background to\n             * @returns {Promise}\n             * @private\n             */\n\n          }, {\n            key: '_setBackgroundImage',\n            value: function _setBackgroundImage(img) {\n              var _this3 = this;\n\n              if (!img) {\n                return _util.Promise.reject(_consts.rejectMessages.loadImage);\n              }\n\n              return new _util.Promise(function (resolve, reject) {\n                var canvas = _this3.getCanvas();\n\n                canvas.setBackgroundImage(img, function () {\n                  var oImage = canvas.backgroundImage;\n\n                  if (oImage && oImage.getElement()) {\n                    resolve(oImage);\n                  } else {\n                    reject(_consts.rejectMessages.loadingImageFailed);\n                  }\n                }, imageOption);\n              });\n            }\n          }]);\n\n          return ImageLoader;\n        }(_component2.default);\n\n        exports.default = ImageLoader;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/line.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/component/line.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _arrowLine = __webpack_require__(\n        /*! @/extension/arrowLine */\n        \"./src/js/extension/arrowLine.js\");\n\n        var _arrowLine2 = _interopRequireDefault(_arrowLine);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Free drawing module, Set brush\n         */\n\n        /**\n         * Line\n         * @class Line\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @ignore\n         */\n\n\n        var Line = function (_Component) {\n          _inherits(Line, _Component);\n\n          function Line(graphics) {\n            _classCallCheck(this, Line);\n            /**\n             * Brush width\n             * @type {number}\n             * @private\n             */\n\n\n            var _this = _possibleConstructorReturn(this, (Line.__proto__ || Object.getPrototypeOf(Line)).call(this, _consts.componentNames.LINE, graphics));\n\n            _this._width = 12;\n            /**\n             * fabric.Color instance for brush color\n             * @type {fabric.Color}\n             * @private\n             */\n\n            _this._oColor = new _fabric2.default.Color('rgba(0, 0, 0, 0.5)');\n            /**\n             * Listeners\n             * @type {object.<string, function>}\n             * @private\n             */\n\n            _this._listeners = {\n              mousedown: _this._onFabricMouseDown.bind(_this),\n              mousemove: _this._onFabricMouseMove.bind(_this),\n              mouseup: _this._onFabricMouseUp.bind(_this)\n            };\n            return _this;\n          }\n          /**\n           * Start drawing line mode\n           * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n           */\n\n\n          _createClass(Line, [{\n            key: 'setHeadOption',\n            value: function setHeadOption(setting) {\n              var _setting$arrowType = setting.arrowType,\n                  arrowType = _setting$arrowType === undefined ? {\n                head: null,\n                tail: null\n              } : _setting$arrowType;\n              this._arrowType = arrowType;\n            }\n            /**\n             * Start drawing line mode\n             * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n             */\n\n          }, {\n            key: 'start',\n            value: function start() {\n              var setting = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n              var canvas = this.getCanvas();\n              canvas.defaultCursor = 'crosshair';\n              canvas.selection = false;\n              this.setHeadOption(setting);\n              this.setBrush(setting);\n              canvas.forEachObject(function (obj) {\n                obj.set({\n                  evented: false\n                });\n              });\n              canvas.on({\n                'mouse:down': this._listeners.mousedown\n              });\n            }\n            /**\n             * Set brush\n             * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n             */\n\n          }, {\n            key: 'setBrush',\n            value: function setBrush(setting) {\n              var brush = this.getCanvas().freeDrawingBrush;\n              setting = setting || {};\n              this._width = setting.width || this._width;\n\n              if (setting.color) {\n                this._oColor = new _fabric2.default.Color(setting.color);\n              }\n\n              brush.width = this._width;\n              brush.color = this._oColor.toRgba();\n            }\n            /**\n             * End drawing line mode\n             */\n\n          }, {\n            key: 'end',\n            value: function end() {\n              var canvas = this.getCanvas();\n              canvas.defaultCursor = 'default';\n              canvas.selection = true;\n              canvas.forEachObject(function (obj) {\n                obj.set({\n                  evented: true\n                });\n              });\n              canvas.off('mouse:down', this._listeners.mousedown);\n            }\n            /**\n             * Mousedown event handler in fabric canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseDown',\n            value: function _onFabricMouseDown(fEvent) {\n              var canvas = this.getCanvas();\n\n              var _canvas$getPointer = canvas.getPointer(fEvent.e),\n                  x = _canvas$getPointer.x,\n                  y = _canvas$getPointer.y;\n\n              var points = [x, y, x, y];\n              this._line = new _arrowLine2.default(points, {\n                stroke: this._oColor.toRgba(),\n                strokeWidth: this._width,\n                arrowType: this._arrowType,\n                evented: false\n              });\n\n              this._line.set(_consts.fObjectOptions.SELECTION_STYLE);\n\n              canvas.add(this._line);\n              canvas.on({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n              });\n              this.fire(_consts.eventNames.ADD_OBJECT, this._createLineEventObjectProperties());\n            }\n            /**\n             * Mousemove event handler in fabric canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseMove',\n            value: function _onFabricMouseMove(fEvent) {\n              var canvas = this.getCanvas();\n              var pointer = canvas.getPointer(fEvent.e);\n\n              this._line.set({\n                x2: pointer.x,\n                y2: pointer.y\n              });\n\n              this._line.setCoords();\n\n              canvas.renderAll();\n            }\n            /**\n             * Mouseup event handler in fabric canvas\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseUp',\n            value: function _onFabricMouseUp() {\n              var canvas = this.getCanvas();\n              this.fire(_consts.eventNames.OBJECT_ADDED, this._createLineEventObjectProperties());\n              this._line = null;\n              canvas.off({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n              });\n            }\n            /**\n             * create line event object properties\n             * @returns {Object} properties line object\n             * @private\n             */\n\n          }, {\n            key: '_createLineEventObjectProperties',\n            value: function _createLineEventObjectProperties() {\n              var params = this.graphics.createObjectProperties(this._line);\n              var _line = this._line,\n                  x1 = _line.x1,\n                  x2 = _line.x2,\n                  y1 = _line.y1,\n                  y2 = _line.y2;\n              return _tuiCodeSnippet2.default.extend({}, params, {\n                startPosition: {\n                  x: x1,\n                  y: y1\n                },\n                endPosition: {\n                  x: x2,\n                  y: y2\n                }\n              });\n            }\n          }]);\n\n          return Line;\n        }(_component2.default);\n\n        exports.default = Line;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/rotation.js\":\n      /*!**************************************!*\\\n        !*** ./src/js/component/rotation.js ***!\n        \\**************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Image rotation module\n         */\n\n        /**\n         * Image Rotation component\n         * @class Rotation\n         * @extends {Component}\n         * @param {Graphics} graphics - Graphics instance\n         * @ignore\n         */\n\n\n        var Rotation = function (_Component) {\n          _inherits(Rotation, _Component);\n\n          function Rotation(graphics) {\n            _classCallCheck(this, Rotation);\n\n            return _possibleConstructorReturn(this, (Rotation.__proto__ || Object.getPrototypeOf(Rotation)).call(this, _consts.componentNames.ROTATION, graphics));\n          }\n          /**\n           * Get current angle\n           * @returns {Number}\n           */\n\n\n          _createClass(Rotation, [{\n            key: 'getCurrentAngle',\n            value: function getCurrentAngle() {\n              return this.getCanvasImage().angle;\n            }\n            /**\n             * Set angle of the image\n             *\n             *  Do not call \"this.setImageProperties\" for setting angle directly.\n             *  Before setting angle, The originX,Y of image should be set to center.\n             *      See \"http://fabricjs.com/docs/fabric.Object.html#setAngle\"\n             *\n             * @param {number} angle - Angle value\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'setAngle',\n            value: function setAngle(angle) {\n              var oldAngle = this.getCurrentAngle() % 360; // The angle is lower than 2*PI(===360 degrees)\n\n              angle %= 360;\n              var canvasImage = this.getCanvasImage();\n              var oldImageCenter = canvasImage.getCenterPoint();\n              canvasImage.set({\n                angle: angle\n              }).setCoords();\n              this.adjustCanvasDimension();\n              var newImageCenter = canvasImage.getCenterPoint();\n\n              this._rotateForEachObject(oldImageCenter, newImageCenter, angle - oldAngle);\n\n              return _util.Promise.resolve(angle);\n            }\n            /**\n             * Rotate for each object\n             * @param {fabric.Point} oldImageCenter - Image center point before rotation\n             * @param {fabric.Point} newImageCenter - Image center point after rotation\n             * @param {number} angleDiff - Image angle difference after rotation\n             * @private\n             */\n\n          }, {\n            key: '_rotateForEachObject',\n            value: function _rotateForEachObject(oldImageCenter, newImageCenter, angleDiff) {\n              var canvas = this.getCanvas();\n              var centerDiff = {\n                x: oldImageCenter.x - newImageCenter.x,\n                y: oldImageCenter.y - newImageCenter.y\n              };\n              canvas.forEachObject(function (obj) {\n                var objCenter = obj.getCenterPoint();\n\n                var radian = _fabric2.default.util.degreesToRadians(angleDiff);\n\n                var newObjCenter = _fabric2.default.util.rotatePoint(objCenter, oldImageCenter, radian);\n\n                obj.set({\n                  left: newObjCenter.x - centerDiff.x,\n                  top: newObjCenter.y - centerDiff.y,\n                  angle: (obj.angle + angleDiff) % 360\n                });\n                obj.setCoords();\n              });\n              canvas.renderAll();\n            }\n            /**\n             * Rotate the image\n             * @param {number} additionalAngle - Additional angle\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'rotate',\n            value: function rotate(additionalAngle) {\n              var current = this.getCurrentAngle();\n              return this.setAngle(current + additionalAngle);\n            }\n          }]);\n\n          return Rotation;\n        }(_component2.default);\n\n        exports.default = Rotation;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/shape.js\":\n      /*!***********************************!*\\\n        !*** ./src/js/component/shape.js ***!\n        \\***********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _shapeResizeHelper = __webpack_require__(\n        /*! @/helper/shapeResizeHelper */\n        \"./src/js/helper/shapeResizeHelper.js\");\n\n        var _shapeResizeHelper2 = _interopRequireDefault(_shapeResizeHelper);\n\n        var _shapeFilterFillHelper = __webpack_require__(\n        /*! @/helper/shapeFilterFillHelper */\n        \"./src/js/helper/shapeFilterFillHelper.js\");\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Shape component\n         */\n\n\n        var SHAPE_INIT_OPTIONS = (0, _tuiCodeSnippet.extend)({\n          strokeWidth: 1,\n          stroke: '#000000',\n          fill: '#ffffff',\n          width: 1,\n          height: 1,\n          rx: 0,\n          ry: 0\n        }, _consts.SHAPE_DEFAULT_OPTIONS);\n        var DEFAULT_TYPE = 'rect';\n        var DEFAULT_WIDTH = 20;\n        var DEFAULT_HEIGHT = 20;\n        /**\n         * Make fill option\n         * @param {Object} options - Options to create the shape\n         * @param {Object.Image} canvasImage - canvas background image\n         * @param {Function} createStaticCanvas - static canvas creater\n         * @returns {Object} - shape option\n         * @private\n         */\n\n        function makeFabricFillOption(options, canvasImage, createStaticCanvas) {\n          var fillOption = options.fill;\n          var fillType = (0, _util.getFillTypeFromOption)(options.fill);\n          var fill = fillOption;\n\n          if (fillOption.color) {\n            fill = fillOption.color;\n          }\n\n          var extOption = null;\n\n          if (fillType === 'filter') {\n            var newStaticCanvas = createStaticCanvas();\n            extOption = (0, _shapeFilterFillHelper.makeFillPatternForFilter)(canvasImage, fillOption.filter, newStaticCanvas);\n          } else {\n            extOption = {\n              fill: fill\n            };\n          }\n\n          return (0, _tuiCodeSnippet.extend)({}, options, extOption);\n        }\n        /**\n         * Shape\n         * @class Shape\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @ignore\n         */\n\n\n        var Shape = function (_Component) {\n          _inherits(Shape, _Component);\n\n          function Shape(graphics) {\n            _classCallCheck(this, Shape);\n            /**\n             * Object of The drawing shape\n             * @type {fabric.Object}\n             * @private\n             */\n\n\n            var _this = _possibleConstructorReturn(this, (Shape.__proto__ || Object.getPrototypeOf(Shape)).call(this, _consts.componentNames.SHAPE, graphics));\n\n            _this._shapeObj = null;\n            /**\n             * Type of the drawing shape\n             * @type {string}\n             * @private\n             */\n\n            _this._type = DEFAULT_TYPE;\n            /**\n             * Options to draw the shape\n             * @type {Object}\n             * @private\n             */\n\n            _this._options = (0, _tuiCodeSnippet.extend)({}, SHAPE_INIT_OPTIONS);\n            /**\n             * Whether the shape object is selected or not\n             * @type {boolean}\n             * @private\n             */\n\n            _this._isSelected = false;\n            /**\n             * Pointer for drawing shape (x, y)\n             * @type {Object}\n             * @private\n             */\n\n            _this._startPoint = {};\n            /**\n             * Using shortcut on drawing shape\n             * @type {boolean}\n             * @private\n             */\n\n            _this._withShiftKey = false;\n            /**\n             * Event handler list\n             * @type {Object}\n             * @private\n             */\n\n            _this._handlers = {\n              mousedown: _this._onFabricMouseDown.bind(_this),\n              mousemove: _this._onFabricMouseMove.bind(_this),\n              mouseup: _this._onFabricMouseUp.bind(_this),\n              keydown: _this._onKeyDown.bind(_this),\n              keyup: _this._onKeyUp.bind(_this)\n            };\n            return _this;\n          }\n          /**\n           * Start to draw the shape on canvas\n           * @ignore\n           */\n\n\n          _createClass(Shape, [{\n            key: 'start',\n            value: function start() {\n              var canvas = this.getCanvas();\n              this._isSelected = false;\n              canvas.defaultCursor = 'crosshair';\n              canvas.selection = false;\n              canvas.uniformScaling = true;\n              canvas.on({\n                'mouse:down': this._handlers.mousedown\n              });\n\n              _fabric2.default.util.addListener(document, 'keydown', this._handlers.keydown);\n\n              _fabric2.default.util.addListener(document, 'keyup', this._handlers.keyup);\n            }\n            /**\n             * End to draw the shape on canvas\n             * @ignore\n             */\n\n          }, {\n            key: 'end',\n            value: function end() {\n              var canvas = this.getCanvas();\n              this._isSelected = false;\n              canvas.defaultCursor = 'default';\n              canvas.selection = true;\n              canvas.uniformScaling = false;\n              canvas.off({\n                'mouse:down': this._handlers.mousedown\n              });\n\n              _fabric2.default.util.removeListener(document, 'keydown', this._handlers.keydown);\n\n              _fabric2.default.util.removeListener(document, 'keyup', this._handlers.keyup);\n            }\n            /**\n             * Set states of the current drawing shape\n             * @ignore\n             * @param {string} type - Shape type (ex: 'rect', 'circle')\n             * @param {Object} [options] - Shape options\n             *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n             *        Shape foreground color (ex: '#fff', 'transparent')\n             *      @param {string} [options.stoke] - Shape outline color\n             *      @param {number} [options.strokeWidth] - Shape outline width\n             *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n             *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n             *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n             *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n             */\n\n          }, {\n            key: 'setStates',\n            value: function setStates(type, options) {\n              this._type = type;\n\n              if (options) {\n                this._options = (0, _tuiCodeSnippet.extend)(this._options, options);\n              }\n            }\n            /**\n             * Add the shape\n             * @ignore\n             * @param {string} type - Shape type (ex: 'rect', 'circle')\n             * @param {Object} options - Shape options\n             *      @param {(ShapeFillOption | string)} [options.fill] - ShapeFillOption or Shape foreground color (ex: '#fff', 'transparent') or ShapeFillOption object\n             *      @param {string} [options.stroke] - Shape outline color\n             *      @param {number} [options.strokeWidth] - Shape outline width\n             *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n             *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n             *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n             *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n             *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'add',\n            value: function add(type, options) {\n              var _this2 = this;\n\n              return new _util.Promise(function (resolve) {\n                var canvas = _this2.getCanvas();\n\n                var extendOption = _this2._extendOptions(options);\n\n                var shapeObj = _this2._createInstance(type, extendOption);\n\n                var objectProperties = _this2.graphics.createObjectProperties(shapeObj);\n\n                _this2._bindEventOnShape(shapeObj);\n\n                canvas.add(shapeObj).setActiveObject(shapeObj);\n\n                _this2._resetPositionFillFilter(shapeObj);\n\n                resolve(objectProperties);\n              });\n            }\n            /**\n             * Change the shape\n             * @ignore\n             * @param {fabric.Object} shapeObj - Selected shape object on canvas\n             * @param {Object} options - Shape options\n             *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n             *        Shape foreground color (ex: '#fff', 'transparent')\n             *      @param {string} [options.stroke] - Shape outline color\n             *      @param {number} [options.strokeWidth] - Shape outline width\n             *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n             *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n             *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n             *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n             *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'change',\n            value: function change(shapeObj, options) {\n              var _this3 = this;\n\n              return new _util.Promise(function (resolve, reject) {\n                if (!(0, _util.isShape)(shapeObj)) {\n                  reject(_consts.rejectMessages.unsupportedType);\n                }\n\n                var hasFillOption = (0, _util.getFillTypeFromOption)(options.fill) === 'filter';\n                var _graphics = _this3.graphics,\n                    canvasImage = _graphics.canvasImage,\n                    createStaticCanvas = _graphics.createStaticCanvas;\n                shapeObj.set(hasFillOption ? makeFabricFillOption(options, canvasImage, createStaticCanvas) : options);\n\n                if (hasFillOption) {\n                  _this3._resetPositionFillFilter(shapeObj);\n                }\n\n                _this3.getCanvas().renderAll();\n\n                resolve();\n              });\n            }\n            /**\n             * make fill property for user event\n             * @param {fabric.Object} shapeObj - fabric object\n             * @returns {Object}\n             */\n\n          }, {\n            key: 'makeFillPropertyForUserEvent',\n            value: function makeFillPropertyForUserEvent(shapeObj) {\n              var fillType = (0, _util.getFillTypeFromObject)(shapeObj);\n              var fillProp = {};\n\n              if (fillType === _consts.SHAPE_FILL_TYPE.FILTER) {\n                var fillImage = (0, _shapeFilterFillHelper.getFillImageFromShape)(shapeObj);\n                var filterOption = (0, _shapeFilterFillHelper.makeFilterOptionFromFabricImage)(fillImage);\n                fillProp.type = fillType;\n                fillProp.filter = filterOption;\n              } else {\n                fillProp.type = _consts.SHAPE_FILL_TYPE.COLOR;\n                fillProp.color = shapeObj.fill || 'transparent';\n              }\n\n              return fillProp;\n            }\n            /**\n             * Copy object handling.\n             * @param {fabric.Object} shapeObj - Shape object\n             * @param {fabric.Object} originalShapeObj - Shape object\n             */\n\n          }, {\n            key: 'processForCopiedObject',\n            value: function processForCopiedObject(shapeObj, originalShapeObj) {\n              this._bindEventOnShape(shapeObj);\n\n              if ((0, _util.getFillTypeFromObject)(shapeObj) === 'filter') {\n                var fillImage = (0, _shapeFilterFillHelper.getFillImageFromShape)(originalShapeObj);\n                var filterOption = (0, _shapeFilterFillHelper.makeFilterOptionFromFabricImage)(fillImage);\n                var newStaticCanvas = this.graphics.createStaticCanvas();\n                shapeObj.set((0, _shapeFilterFillHelper.makeFillPatternForFilter)(this.graphics.canvasImage, filterOption, newStaticCanvas));\n\n                this._resetPositionFillFilter(shapeObj);\n              }\n            }\n            /**\n             * Create the instance of shape\n             * @param {string} type - Shape type\n             * @param {Object} options - Options to creat the shape\n             * @returns {fabric.Object} Shape instance\n             * @private\n             */\n\n          }, {\n            key: '_createInstance',\n            value: function _createInstance(type, options) {\n              var instance = void 0;\n\n              switch (type) {\n                case 'rect':\n                  instance = new _fabric2.default.Rect(options);\n                  break;\n\n                case 'circle':\n                  instance = new _fabric2.default.Ellipse((0, _tuiCodeSnippet.extend)({\n                    type: 'circle'\n                  }, options));\n                  break;\n\n                case 'triangle':\n                  instance = new _fabric2.default.Triangle(options);\n                  break;\n\n                default:\n                  instance = {};\n              }\n\n              return instance;\n            }\n            /**\n             * Get the options to create the shape\n             * @param {Object} options - Options to creat the shape\n             * @returns {Object} Shape options\n             * @private\n             */\n\n          }, {\n            key: '_extendOptions',\n            value: function _extendOptions(options) {\n              var selectionStyles = _consts.fObjectOptions.SELECTION_STYLE;\n              var _graphics2 = this.graphics,\n                  canvasImage = _graphics2.canvasImage,\n                  createStaticCanvas = _graphics2.createStaticCanvas;\n              options = (0, _tuiCodeSnippet.extend)({}, SHAPE_INIT_OPTIONS, this._options, selectionStyles, options);\n              return makeFabricFillOption(options, canvasImage, createStaticCanvas);\n            }\n            /**\n             * Bind fabric events on the creating shape object\n             * @param {fabric.Object} shapeObj - Shape object\n             * @private\n             */\n\n          }, {\n            key: '_bindEventOnShape',\n            value: function _bindEventOnShape(shapeObj) {\n              var self = this;\n              var canvas = this.getCanvas();\n              shapeObj.on({\n                added: function added() {\n                  self._shapeObj = this;\n\n                  _shapeResizeHelper2.default.setOrigins(self._shapeObj);\n                },\n                selected: function selected() {\n                  self._isSelected = true;\n                  self._shapeObj = this;\n                  canvas.uniformScaling = true;\n                  canvas.defaultCursor = 'default';\n\n                  _shapeResizeHelper2.default.setOrigins(self._shapeObj);\n                },\n                deselected: function deselected() {\n                  self._isSelected = false;\n                  self._shapeObj = null;\n                  canvas.defaultCursor = 'crosshair';\n                  canvas.uniformScaling = false;\n                },\n                modified: function modified() {\n                  var currentObj = self._shapeObj;\n\n                  _shapeResizeHelper2.default.adjustOriginToCenter(currentObj);\n\n                  _shapeResizeHelper2.default.setOrigins(currentObj);\n                },\n                modifiedInGroup: function modifiedInGroup(activeSelection) {\n                  self._fillFilterRePositionInGroupSelection(shapeObj, activeSelection);\n                },\n                moving: function moving() {\n                  self._resetPositionFillFilter(this);\n                },\n                rotating: function rotating() {\n                  self._resetPositionFillFilter(this);\n                },\n                scaling: function scaling(fEvent) {\n                  var pointer = canvas.getPointer(fEvent.e);\n                  var currentObj = self._shapeObj;\n                  canvas.setCursor('crosshair');\n\n                  _shapeResizeHelper2.default.resize(currentObj, pointer, true);\n\n                  self._resetPositionFillFilter(this);\n                }\n              });\n            }\n            /**\n             * MouseDown event handler on canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseDown',\n            value: function _onFabricMouseDown(fEvent) {\n              if (!fEvent.target) {\n                this._isSelected = false;\n                this._shapeObj = false;\n              }\n\n              if (!this._isSelected && !this._shapeObj) {\n                var canvas = this.getCanvas();\n                this._startPoint = canvas.getPointer(fEvent.e);\n                canvas.on({\n                  'mouse:move': this._handlers.mousemove,\n                  'mouse:up': this._handlers.mouseup\n                });\n              }\n            }\n            /**\n             * MouseDown event handler on canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseMove',\n            value: function _onFabricMouseMove(fEvent) {\n              var _this4 = this;\n\n              var canvas = this.getCanvas();\n              var pointer = canvas.getPointer(fEvent.e);\n              var startPointX = this._startPoint.x;\n              var startPointY = this._startPoint.y;\n              var width = startPointX - pointer.x;\n              var height = startPointY - pointer.y;\n              var shape = this._shapeObj;\n\n              if (!shape) {\n                this.add(this._type, {\n                  left: startPointX,\n                  top: startPointY,\n                  width: width,\n                  height: height\n                }).then(function (objectProps) {\n                  _this4.fire(_consts.eventNames.ADD_OBJECT, objectProps);\n                });\n              } else {\n                this._shapeObj.set({\n                  isRegular: this._withShiftKey\n                });\n\n                _shapeResizeHelper2.default.resize(shape, pointer);\n\n                canvas.renderAll();\n\n                this._resetPositionFillFilter(shape);\n              }\n            }\n            /**\n             * MouseUp event handler on canvas\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseUp',\n            value: function _onFabricMouseUp() {\n              var _this5 = this;\n\n              var canvas = this.getCanvas();\n              var startPointX = this._startPoint.x;\n              var startPointY = this._startPoint.y;\n              var shape = this._shapeObj;\n\n              if (!shape) {\n                this.add(this._type, {\n                  left: startPointX,\n                  top: startPointY,\n                  width: DEFAULT_WIDTH,\n                  height: DEFAULT_HEIGHT\n                }).then(function (objectProps) {\n                  _this5.fire(_consts.eventNames.ADD_OBJECT, objectProps);\n                });\n              } else if (shape) {\n                _shapeResizeHelper2.default.adjustOriginToCenter(shape);\n\n                this.fire(_consts.eventNames.OBJECT_ADDED, this.graphics.createObjectProperties(shape));\n              }\n\n              canvas.off({\n                'mouse:move': this._handlers.mousemove,\n                'mouse:up': this._handlers.mouseup\n              });\n            }\n            /**\n             * Keydown event handler on document\n             * @param {KeyboardEvent} e - Event object\n             * @private\n             */\n\n          }, {\n            key: '_onKeyDown',\n            value: function _onKeyDown(e) {\n              if (e.keyCode === _consts.keyCodes.SHIFT) {\n                this._withShiftKey = true;\n\n                if (this._shapeObj) {\n                  this._shapeObj.isRegular = true;\n                }\n              }\n            }\n            /**\n             * Keyup event handler on document\n             * @param {KeyboardEvent} e - Event object\n             * @private\n             */\n\n          }, {\n            key: '_onKeyUp',\n            value: function _onKeyUp(e) {\n              if (e.keyCode === _consts.keyCodes.SHIFT) {\n                this._withShiftKey = false;\n\n                if (this._shapeObj) {\n                  this._shapeObj.isRegular = false;\n                }\n              }\n            }\n            /**\n             * Reset shape position and internal proportions in the filter type fill area.\n             * @param {fabric.Object} shapeObj - Shape object\n             * @private\n             */\n\n          }, {\n            key: '_resetPositionFillFilter',\n            value: function _resetPositionFillFilter(shapeObj) {\n              if ((0, _util.getFillTypeFromObject)(shapeObj) !== 'filter') {\n                return;\n              }\n\n              var _getCustomProperty = (0, _util.getCustomProperty)(shapeObj, 'patternSourceCanvas'),\n                  patternSourceCanvas = _getCustomProperty.patternSourceCanvas;\n\n              var fillImage = (0, _shapeFilterFillHelper.getFillImageFromShape)(shapeObj);\n\n              var _getCustomProperty2 = (0, _util.getCustomProperty)(fillImage, 'originalAngle'),\n                  originalAngle = _getCustomProperty2.originalAngle;\n\n              if (this.graphics.canvasImage.angle !== originalAngle) {\n                (0, _shapeFilterFillHelper.reMakePatternImageSource)(shapeObj, this.graphics.canvasImage);\n              }\n\n              var originX = shapeObj.originX,\n                  originY = shapeObj.originY;\n\n              _shapeResizeHelper2.default.adjustOriginToCenter(shapeObj);\n\n              shapeObj.width *= shapeObj.scaleX;\n              shapeObj.height *= shapeObj.scaleY;\n              shapeObj.rx *= shapeObj.scaleX;\n              shapeObj.ry *= shapeObj.scaleY;\n              shapeObj.scaleX = 1;\n              shapeObj.scaleY = 1;\n              (0, _shapeFilterFillHelper.rePositionFilterTypeFillImage)(shapeObj);\n              (0, _util.changeOrigin)(shapeObj, {\n                originX: originX,\n                originY: originY\n              });\n              (0, _shapeFilterFillHelper.resetFillPatternCanvas)(patternSourceCanvas);\n            }\n            /**\n             * Reset filter area position within group selection.\n             * @param {fabric.Object} shapeObj - Shape object\n             * @param {fabric.ActiveSelection} activeSelection - Shape object\n             * @private\n             */\n\n          }, {\n            key: '_fillFilterRePositionInGroupSelection',\n            value: function _fillFilterRePositionInGroupSelection(shapeObj, activeSelection) {\n              if (activeSelection.scaleX !== 1 || activeSelection.scaleY !== 1) {\n                // This is necessary because the group's scale transition state affects the relative size of the fill area.\n                // The only way to reset the object transformation scale state to neutral.\n                // {@link https://github.com/fabricjs/fabric.js/issues/5372}\n                activeSelection.addWithUpdate();\n              }\n\n              var angle = shapeObj.angle,\n                  left = shapeObj.left,\n                  top = shapeObj.top;\n              activeSelection.realizeTransform(shapeObj);\n\n              this._resetPositionFillFilter(shapeObj);\n\n              shapeObj.set({\n                angle: angle,\n                left: left,\n                top: top\n              });\n            }\n          }]);\n\n          return Shape;\n        }(_component2.default);\n\n        exports.default = Shape;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/text.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/component/text.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Text module\n         */\n\n\n        var defaultStyles = {\n          fill: '#000000',\n          left: 0,\n          top: 0\n        };\n        var resetStyles = {\n          fill: '#000000',\n          fontStyle: 'normal',\n          fontWeight: 'normal',\n          textAlign: 'left',\n          underline: false\n        };\n        var DBCLICK_TIME = 500;\n        /**\n         * Text\n         * @class Text\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @ignore\n         */\n\n        var Text = function (_Component) {\n          _inherits(Text, _Component);\n\n          function Text(graphics) {\n            _classCallCheck(this, Text);\n            /**\n             * Default text style\n             * @type {Object}\n             */\n\n\n            var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this, _consts.componentNames.TEXT, graphics));\n\n            _this._defaultStyles = defaultStyles;\n            /**\n             * Selected state\n             * @type {boolean}\n             */\n\n            _this._isSelected = false;\n            /**\n             * Selected text object\n             * @type {Object}\n             */\n\n            _this._selectedObj = {};\n            /**\n             * Editing text object\n             * @type {Object}\n             */\n\n            _this._editingObj = {};\n            /**\n             * Listeners for fabric event\n             * @type {Object}\n             */\n\n            _this._listeners = {\n              mousedown: _this._onFabricMouseDown.bind(_this),\n              select: _this._onFabricSelect.bind(_this),\n              selectClear: _this._onFabricSelectClear.bind(_this),\n              scaling: _this._onFabricScaling.bind(_this),\n              textChanged: _this._onFabricTextChanged.bind(_this)\n            };\n            /**\n             * Textarea element for editing\n             * @type {HTMLElement}\n             */\n\n            _this._textarea = null;\n            /**\n             * Ratio of current canvas\n             * @type {number}\n             */\n\n            _this._ratio = 1;\n            /**\n             * Last click time\n             * @type {Date}\n             */\n\n            _this._lastClickTime = new Date().getTime();\n            /**\n             * Text object infos before editing\n             * @type {Object}\n             */\n\n            _this._editingObjInfos = {};\n            /**\n             * Previous state of editing\n             * @type {boolean}\n             */\n\n            _this.isPrevEditing = false;\n            return _this;\n          }\n          /**\n           * Start input text mode\n           */\n\n\n          _createClass(Text, [{\n            key: 'start',\n            value: function start() {\n              var _this2 = this;\n\n              var canvas = this.getCanvas();\n              canvas.selection = false;\n              canvas.defaultCursor = 'text';\n              canvas.on({\n                'mouse:down': this._listeners.mousedown,\n                'selection:created': this._listeners.select,\n                'selection:updated': this._listeners.select,\n                'before:selection:cleared': this._listeners.selectClear,\n                'object:scaling': this._listeners.scaling,\n                'text:changed': this._listeners.textChanged\n              });\n              canvas.forEachObject(function (obj) {\n                if (obj.type === 'i-text') {\n                  _this2.adjustOriginPosition(obj, 'start');\n                }\n              });\n              this.setCanvasRatio();\n            }\n            /**\n             * End input text mode\n             */\n\n          }, {\n            key: 'end',\n            value: function end() {\n              var _this3 = this;\n\n              var canvas = this.getCanvas();\n              canvas.selection = true;\n              canvas.defaultCursor = 'default';\n              canvas.forEachObject(function (obj) {\n                if (obj.type === 'i-text') {\n                  if (obj.text === '') {\n                    canvas.remove(obj);\n                  } else {\n                    _this3.adjustOriginPosition(obj, 'end');\n                  }\n                }\n              });\n              canvas.off({\n                'mouse:down': this._listeners.mousedown,\n                'selection:created': this._listeners.select,\n                'selection:updated': this._listeners.select,\n                'before:selection:cleared': this._listeners.selectClear,\n                'object:selected': this._listeners.select,\n                'object:scaling': this._listeners.scaling,\n                'text:changed': this._listeners.textChanged\n              });\n            }\n            /**\n             * Adjust the origin position\n             * @param {fabric.Object} text - text object\n             * @param {string} editStatus - 'start' or 'end'\n             */\n\n          }, {\n            key: 'adjustOriginPosition',\n            value: function adjustOriginPosition(text, editStatus) {\n              var originX = 'center',\n                  originY = 'center';\n\n              if (editStatus === 'start') {\n                originX = 'left';\n                originY = 'top';\n              }\n\n              var _text$getPointByOrigi = text.getPointByOrigin(originX, originY),\n                  left = _text$getPointByOrigi.x,\n                  top = _text$getPointByOrigi.y;\n\n              text.set({\n                left: left,\n                top: top,\n                originX: originX,\n                originY: originY\n              });\n              text.setCoords();\n            }\n            /**\n             * Add new text on canvas image\n             * @param {string} text - Initial input text\n             * @param {Object} options - Options for generating text\n             *     @param {Object} [options.styles] Initial styles\n             *         @param {string} [options.styles.fill] Color\n             *         @param {string} [options.styles.fontFamily] Font type for text\n             *         @param {number} [options.styles.fontSize] Size\n             *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n             *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n             *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n             *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n             *     @param {{x: number, y: number}} [options.position] - Initial position\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'add',\n            value: function add(text, options) {\n              var _this4 = this;\n\n              return new _util.Promise(function (resolve) {\n                var canvas = _this4.getCanvas();\n\n                var newText = null;\n                var selectionStyle = _consts.fObjectOptions.SELECTION_STYLE;\n                var styles = _this4._defaultStyles;\n\n                _this4._setInitPos(options.position);\n\n                if (options.styles) {\n                  styles = _tuiCodeSnippet2.default.extend(styles, options.styles);\n                }\n\n                if (!_tuiCodeSnippet2.default.isExisty(options.autofocus)) {\n                  options.autofocus = true;\n                }\n\n                newText = new _fabric2.default.IText(text, styles);\n                selectionStyle = _tuiCodeSnippet2.default.extend({}, selectionStyle, {\n                  originX: 'left',\n                  originY: 'top'\n                });\n                newText.set(selectionStyle);\n                newText.on({\n                  mouseup: _this4._onFabricMouseUp.bind(_this4)\n                });\n                canvas.add(newText);\n\n                if (options.autofocus) {\n                  newText.enterEditing();\n                  newText.selectAll();\n                }\n\n                if (!canvas.getActiveObject()) {\n                  canvas.setActiveObject(newText);\n                }\n\n                _this4.isPrevEditing = true;\n                resolve(_this4.graphics.createObjectProperties(newText));\n              });\n            }\n            /**\n             * Change text of activate object on canvas image\n             * @param {Object} activeObj - Current selected text object\n             * @param {string} text - Changed text\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'change',\n            value: function change(activeObj, text) {\n              var _this5 = this;\n\n              return new _util.Promise(function (resolve) {\n                activeObj.set('text', text);\n\n                _this5.getCanvas().renderAll();\n\n                resolve();\n              });\n            }\n            /**\n             * Set style\n             * @param {Object} activeObj - Current selected text object\n             * @param {Object} styleObj - Initial styles\n             *     @param {string} [styleObj.fill] Color\n             *     @param {string} [styleObj.fontFamily] Font type for text\n             *     @param {number} [styleObj.fontSize] Size\n             *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n             *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n             *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n             *     @param {string} [styleObj.textDecoration] Type of line (underline / line-through / overline)\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'setStyle',\n            value: function setStyle(activeObj, styleObj) {\n              var _this6 = this;\n\n              return new _util.Promise(function (resolve) {\n                _tuiCodeSnippet2.default.forEach(styleObj, function (val, key) {\n                  if (activeObj[key] === val && key !== 'fontSize') {\n                    styleObj[key] = resetStyles[key] || '';\n                  }\n                }, _this6);\n\n                if ('textDecoration' in styleObj) {\n                  _tuiCodeSnippet2.default.extend(styleObj, _this6._getTextDecorationAdaptObject(styleObj.textDecoration));\n                }\n\n                activeObj.set(styleObj);\n\n                _this6.getCanvas().renderAll();\n\n                resolve();\n              });\n            }\n            /**\n             * Get the text\n             * @param {Object} activeObj - Current selected text object\n             * @returns {String} text\n             */\n\n          }, {\n            key: 'getText',\n            value: function getText(activeObj) {\n              return activeObj.text;\n            }\n            /**\n             * Set infos of the current selected object\n             * @param {fabric.Text} obj - Current selected text object\n             * @param {boolean} state - State of selecting\n             */\n\n          }, {\n            key: 'setSelectedInfo',\n            value: function setSelectedInfo(obj, state) {\n              this._selectedObj = obj;\n              this._isSelected = state;\n            }\n            /**\n             * Whether object is selected or not\n             * @returns {boolean} State of selecting\n             */\n\n          }, {\n            key: 'isSelected',\n            value: function isSelected() {\n              return this._isSelected;\n            }\n            /**\n             * Get current selected text object\n             * @returns {fabric.Text} Current selected text object\n             */\n\n          }, {\n            key: 'getSelectedObj',\n            value: function getSelectedObj() {\n              return this._selectedObj;\n            }\n            /**\n             * Set ratio value of canvas\n             */\n\n          }, {\n            key: 'setCanvasRatio',\n            value: function setCanvasRatio() {\n              var canvasElement = this.getCanvasElement();\n              var cssWidth = parseInt(canvasElement.style.maxWidth, 10);\n              var originWidth = canvasElement.width;\n              this._ratio = originWidth / cssWidth;\n            }\n            /**\n             * Get ratio value of canvas\n             * @returns {number} Ratio value\n             */\n\n          }, {\n            key: 'getCanvasRatio',\n            value: function getCanvasRatio() {\n              return this._ratio;\n            }\n            /**\n             * Get text decoration adapt object\n             * @param {string} textDecoration - text decoration option string\n             * @returns {object} adapt object for override\n             */\n\n          }, {\n            key: '_getTextDecorationAdaptObject',\n            value: function _getTextDecorationAdaptObject(textDecoration) {\n              return {\n                underline: textDecoration === 'underline',\n                linethrough: textDecoration === 'line-through',\n                overline: textDecoration === 'overline'\n              };\n            }\n            /**\n             * Set initial position on canvas image\n             * @param {{x: number, y: number}} [position] - Selected position\n             * @private\n             */\n\n          }, {\n            key: '_setInitPos',\n            value: function _setInitPos(position) {\n              position = position || this.getCanvasImage().getCenterPoint();\n              this._defaultStyles.left = position.x;\n              this._defaultStyles.top = position.y;\n            }\n            /**\n             * Input event handler\n             * @private\n             */\n\n          }, {\n            key: '_onInput',\n            value: function _onInput() {\n              var ratio = this.getCanvasRatio();\n              var obj = this._editingObj;\n              var textareaStyle = this._textarea.style;\n              textareaStyle.width = Math.ceil(obj.width / ratio) + 'px';\n              textareaStyle.height = Math.ceil(obj.height / ratio) + 'px';\n            }\n            /**\n             * Keydown event handler\n             * @private\n             */\n\n          }, {\n            key: '_onKeyDown',\n            value: function _onKeyDown() {\n              var _this7 = this;\n\n              var ratio = this.getCanvasRatio();\n              var obj = this._editingObj;\n              var textareaStyle = this._textarea.style;\n              setTimeout(function () {\n                obj.text(_this7._textarea.value);\n                textareaStyle.width = Math.ceil(obj.width / ratio) + 'px';\n                textareaStyle.height = Math.ceil(obj.height / ratio) + 'px';\n              }, 0);\n            }\n            /**\n             * Blur event handler\n             * @private\n             */\n\n          }, {\n            key: '_onBlur',\n            value: function _onBlur() {\n              var ratio = this.getCanvasRatio();\n              var editingObj = this._editingObj;\n              var editingObjInfos = this._editingObjInfos;\n              var textContent = this._textarea.value;\n              var transWidth = editingObj.width / ratio - editingObjInfos.width / ratio;\n              var transHeight = editingObj.height / ratio - editingObjInfos.height / ratio;\n\n              if (ratio === 1) {\n                transWidth /= 2;\n                transHeight /= 2;\n              }\n\n              this._textarea.style.display = 'none';\n              editingObj.set({\n                left: editingObjInfos.left + transWidth,\n                top: editingObjInfos.top + transHeight\n              });\n\n              if (textContent.length) {\n                this.getCanvas().add(editingObj);\n                var params = {\n                  id: _tuiCodeSnippet2.default.stamp(editingObj),\n                  type: editingObj.type,\n                  text: textContent\n                };\n                this.fire(_consts.eventNames.TEXT_CHANGED, params);\n              }\n            }\n            /**\n             * Scroll event handler\n             * @private\n             */\n\n          }, {\n            key: '_onScroll',\n            value: function _onScroll() {\n              this._textarea.scrollLeft = 0;\n              this._textarea.scrollTop = 0;\n            }\n            /**\n             * Fabric scaling event handler\n             * @param {fabric.Event} fEvent - Current scaling event on selected object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricScaling',\n            value: function _onFabricScaling(fEvent) {\n              var obj = fEvent.target;\n              obj.fontSize = obj.fontSize * obj.scaleY;\n              obj.scaleX = 1;\n              obj.scaleY = 1;\n            }\n            /**\n             * textChanged event handler\n             * @param {{target: fabric.Object}} props - changed text object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricTextChanged',\n            value: function _onFabricTextChanged(props) {\n              this.fire(_consts.eventNames.TEXT_CHANGED, props.target);\n            }\n            /**\n             * onSelectClear handler in fabric canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onFabricSelectClear',\n            value: function _onFabricSelectClear(fEvent) {\n              var obj = this.getSelectedObj();\n              this.isPrevEditing = true;\n              this.setSelectedInfo(fEvent.target, false);\n\n              if (obj) {\n                // obj is empty object at initial time, will be set fabric object\n                if (obj.text === '') {\n                  this.getCanvas().remove(obj);\n                }\n              }\n            }\n            /**\n             * onSelect handler in fabric canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onFabricSelect',\n            value: function _onFabricSelect(fEvent) {\n              this.isPrevEditing = true;\n              this.setSelectedInfo(fEvent.target, true);\n            }\n            /**\n             * Fabric 'mousedown' event handler\n             * @param {fabric.Event} fEvent - Current mousedown event on selected object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseDown',\n            value: function _onFabricMouseDown(fEvent) {\n              var obj = fEvent.target;\n\n              if (obj && !obj.isType('text')) {\n                return;\n              }\n\n              if (this.isPrevEditing) {\n                this.isPrevEditing = false;\n                return;\n              }\n\n              this._fireAddText(fEvent);\n            }\n            /**\n             * Fire 'addText' event if object is not selected.\n             * @param {fabric.Event} fEvent - Current mousedown event on selected object\n             * @private\n             */\n\n          }, {\n            key: '_fireAddText',\n            value: function _fireAddText(fEvent) {\n              var obj = fEvent.target;\n              var e = fEvent.e || {};\n              var originPointer = this.getCanvas().getPointer(e);\n\n              if (!obj) {\n                this.fire(_consts.eventNames.ADD_TEXT, {\n                  originPosition: {\n                    x: originPointer.x,\n                    y: originPointer.y\n                  },\n                  clientPosition: {\n                    x: e.clientX || 0,\n                    y: e.clientY || 0\n                  }\n                });\n              }\n            }\n            /**\n             * Fabric mouseup event handler\n             * @param {fabric.Event} fEvent - Current mousedown event on selected object\n             * @private\n             */\n\n          }, {\n            key: '_onFabricMouseUp',\n            value: function _onFabricMouseUp(fEvent) {\n              var target = fEvent.target;\n              var newClickTime = new Date().getTime();\n\n              if (this._isDoubleClick(newClickTime) && !target.isEditing) {\n                target.enterEditing();\n              }\n\n              if (target.isEditing) {\n                this.fire(_consts.eventNames.TEXT_EDITING); // fire editing text event\n              }\n\n              this._lastClickTime = newClickTime;\n            }\n            /**\n             * Get state of firing double click event\n             * @param {Date} newClickTime - Current clicked time\n             * @returns {boolean} Whether double clicked or not\n             * @private\n             */\n\n          }, {\n            key: '_isDoubleClick',\n            value: function _isDoubleClick(newClickTime) {\n              return newClickTime - this._lastClickTime < DBCLICK_TIME;\n            }\n          }]);\n\n          return Text;\n        }(_component2.default);\n\n        exports.default = Text;\n        /***/\n      },\n\n      /***/\n      \"./src/js/component/zoom.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/component/zoom.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _component = __webpack_require__(\n        /*! @/interface/component */\n        \"./src/js/interface/component.js\");\n\n        var _component2 = _interopRequireDefault(_component);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Image zoom module (start zoom, end zoom)\n         */\n\n\n        var MOUSE_MOVE_THRESHOLD = 10;\n        var DEFAULT_SCROLL_OPTION = {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0,\n          stroke: '#000000',\n          strokeWidth: 0,\n          fill: '#000000',\n          opacity: 0.4,\n          evented: false,\n          selectable: false,\n          hoverCursor: 'auto'\n        };\n        var DEFAULT_VERTICAL_SCROLL_RATIO = {\n          SIZE: 0.0045,\n          MARGIN: 0.003,\n          BORDER_RADIUS: 0.003\n        };\n        var DEFAULT_HORIZONTAL_SCROLL_RATIO = {\n          SIZE: 0.0066,\n          MARGIN: 0.0044,\n          BORDER_RADIUS: 0.003\n        };\n        var DEFAULT_ZOOM_LEVEL = 1.0;\n        var ZOOM_CHANGED = _consts.eventNames.ZOOM_CHANGED,\n            ADD_TEXT = _consts.eventNames.ADD_TEXT,\n            TEXT_EDITING = _consts.eventNames.TEXT_EDITING,\n            OBJECT_MODIFIED = _consts.eventNames.OBJECT_MODIFIED,\n            KEY_DOWN = _consts.eventNames.KEY_DOWN,\n            KEY_UP = _consts.eventNames.KEY_UP,\n            HAND_STARTED = _consts.eventNames.HAND_STARTED,\n            HAND_STOPPED = _consts.eventNames.HAND_STOPPED;\n        /**\n         * Zoom components\n         * @param {Graphics} graphics - Graphics instance\n         * @extends {Component}\n         * @class Zoom\n         * @ignore\n         */\n\n        var Zoom = function (_Component) {\n          _inherits(Zoom, _Component);\n\n          function Zoom(graphics) {\n            _classCallCheck(this, Zoom);\n            /**\n             * zoomArea\n             * @type {?fabric.Rect}\n             * @private\n             */\n\n\n            var _this = _possibleConstructorReturn(this, (Zoom.__proto__ || Object.getPrototypeOf(Zoom)).call(this, _consts.componentNames.ZOOM, graphics));\n\n            _this.zoomArea = null;\n            /**\n             * Start point of zoom area\n             * @type {?{x: number, y: number}}\n             */\n\n            _this._startPoint = null;\n            /**\n             * Center point of every zoom\n             * @type {Array.<{prevZoomLevel: number, zoomLevel: number, x: number, y: number}>}\n             */\n\n            _this._centerPoints = [];\n            /**\n             * Zoom level (default: 100%(1.0), max: 400%(4.0))\n             * @type {number}\n             */\n\n            _this.zoomLevel = DEFAULT_ZOOM_LEVEL;\n            /**\n             * Zoom mode ('normal', 'zoom', 'hand')\n             * @type {string}\n             */\n\n            _this.zoomMode = _consts.zoomModes.DEFAULT;\n            /**\n             * Listeners\n             * @type {Object.<string, Function>}\n             * @private\n             */\n\n            _this._listeners = {\n              startZoom: _this._onMouseDownWithZoomMode.bind(_this),\n              moveZoom: _this._onMouseMoveWithZoomMode.bind(_this),\n              stopZoom: _this._onMouseUpWithZoomMode.bind(_this),\n              startHand: _this._onMouseDownWithHandMode.bind(_this),\n              moveHand: _this._onMouseMoveWithHandMode.bind(_this),\n              stopHand: _this._onMouseUpWithHandMode.bind(_this),\n              zoomChanged: _this._changeScrollState.bind(_this),\n              keydown: _this._startHandModeWithSpaceBar.bind(_this),\n              keyup: _this._endHandModeWithSpaceBar.bind(_this)\n            };\n\n            var canvas = _this.getCanvas();\n            /**\n             * Width:Height ratio (ex. width=1.5, height=1 -> aspectRatio=1.5)\n             * @private\n             */\n\n\n            _this.aspectRatio = canvas.width / canvas.height;\n            /**\n             * vertical scroll bar\n             * @type {fabric.Rect}\n             * @private\n             */\n\n            _this._verticalScroll = new _fabric2.default.Rect(DEFAULT_SCROLL_OPTION);\n            /**\n             * horizontal scroll bar\n             * @type {fabric.Rect}\n             * @private\n             */\n\n            _this._horizontalScroll = new _fabric2.default.Rect(DEFAULT_SCROLL_OPTION);\n            canvas.on(ZOOM_CHANGED, _this._listeners.zoomChanged);\n\n            _this.graphics.on(ADD_TEXT, _this._startTextEditingHandler.bind(_this));\n\n            _this.graphics.on(TEXT_EDITING, _this._startTextEditingHandler.bind(_this));\n\n            _this.graphics.on(OBJECT_MODIFIED, _this._stopTextEditingHandler.bind(_this));\n\n            return _this;\n          }\n          /**\n           * Attach zoom keyboard events\n           */\n\n\n          _createClass(Zoom, [{\n            key: 'attachKeyboardZoomEvents',\n            value: function attachKeyboardZoomEvents() {\n              _fabric2.default.util.addListener(document, KEY_DOWN, this._listeners.keydown);\n\n              _fabric2.default.util.addListener(document, KEY_UP, this._listeners.keyup);\n            }\n            /**\n             * Detach zoom keyboard events\n             */\n\n          }, {\n            key: 'detachKeyboardZoomEvents',\n            value: function detachKeyboardZoomEvents() {\n              _fabric2.default.util.removeListener(document, KEY_DOWN, this._listeners.keydown);\n\n              _fabric2.default.util.removeListener(document, KEY_UP, this._listeners.keyup);\n            }\n            /**\n             * Handler when you started editing text\n             * @private\n             */\n\n          }, {\n            key: '_startTextEditingHandler',\n            value: function _startTextEditingHandler() {\n              this.isTextEditing = true;\n            }\n            /**\n             * Handler when you stopped editing text\n             * @private\n             */\n\n          }, {\n            key: '_stopTextEditingHandler',\n            value: function _stopTextEditingHandler() {\n              this.isTextEditing = false;\n            }\n            /**\n             * Handler who turns on hand mode when the space bar is down\n             * @param {KeyboardEvent} e - Event object\n             * @private\n             */\n\n          }, {\n            key: '_startHandModeWithSpaceBar',\n            value: function _startHandModeWithSpaceBar(e) {\n              if (this.withSpace || this.isTextEditing) {\n                return;\n              }\n\n              if (e.keyCode === _consts.keyCodes.SPACE) {\n                this.withSpace = true;\n                this.startHandMode();\n              }\n            }\n            /**\n             * Handler who turns off hand mode when space bar is up\n             * @param {KeyboardEvent} e - Event object\n             * @private\n             */\n\n          }, {\n            key: '_endHandModeWithSpaceBar',\n            value: function _endHandModeWithSpaceBar(e) {\n              if (e.keyCode === _consts.keyCodes.SPACE) {\n                this.withSpace = false;\n                this.endHandMode();\n              }\n            }\n            /**\n             * Start zoom-in mode\n             */\n\n          }, {\n            key: 'startZoomInMode',\n            value: function startZoomInMode() {\n              if (this.zoomArea) {\n                return;\n              }\n\n              this.endHandMode();\n              this.zoomMode = _consts.zoomModes.ZOOM;\n              var canvas = this.getCanvas();\n\n              this._changeObjectsEventedState(false);\n\n              this.zoomArea = new _fabric2.default.Rect({\n                left: 0,\n                top: 0,\n                width: 0.5,\n                height: 0.5,\n                stroke: 'black',\n                strokeWidth: 1,\n                fill: 'transparent',\n                hoverCursor: 'zoom-in'\n              });\n              canvas.discardActiveObject();\n              canvas.add(this.zoomArea);\n              canvas.on('mouse:down', this._listeners.startZoom);\n              canvas.selection = false;\n              canvas.defaultCursor = 'zoom-in';\n            }\n            /**\n             * End zoom-in mode\n             */\n\n          }, {\n            key: 'endZoomInMode',\n            value: function endZoomInMode() {\n              this.zoomMode = _consts.zoomModes.DEFAULT;\n              var canvas = this.getCanvas();\n              var _listeners = this._listeners,\n                  startZoom = _listeners.startZoom,\n                  moveZoom = _listeners.moveZoom,\n                  stopZoom = _listeners.stopZoom;\n              canvas.selection = true;\n              canvas.defaultCursor = 'auto';\n              canvas.off({\n                'mouse:down': startZoom,\n                'mouse:move': moveZoom,\n                'mouse:up': stopZoom\n              });\n\n              this._changeObjectsEventedState(true);\n\n              canvas.remove(this.zoomArea);\n              this.zoomArea = null;\n            }\n            /**\n             * Start zoom drawing mode\n             */\n\n          }, {\n            key: 'start',\n            value: function start() {\n              this.zoomArea = null;\n              this._startPoint = null;\n              this._startHandPoint = null;\n            }\n            /**\n             * Stop zoom drawing mode\n             */\n\n          }, {\n            key: 'end',\n            value: function end() {\n              this.endZoomInMode();\n              this.endHandMode();\n            }\n            /**\n             * Start hand mode\n             */\n\n          }, {\n            key: 'startHandMode',\n            value: function startHandMode() {\n              this.endZoomInMode();\n              this.zoomMode = _consts.zoomModes.HAND;\n              var canvas = this.getCanvas();\n\n              this._changeObjectsEventedState(false);\n\n              canvas.discardActiveObject();\n              canvas.off('mouse:down', this._listeners.startHand);\n              canvas.on('mouse:down', this._listeners.startHand);\n              canvas.selection = false;\n              canvas.defaultCursor = 'grab';\n              canvas.fire(HAND_STARTED);\n            }\n            /**\n             * Stop hand mode\n             */\n\n          }, {\n            key: 'endHandMode',\n            value: function endHandMode() {\n              this.zoomMode = _consts.zoomModes.DEFAULT;\n              var canvas = this.getCanvas();\n\n              this._changeObjectsEventedState(true);\n\n              canvas.off('mouse:down', this._listeners.startHand);\n              canvas.selection = true;\n              canvas.defaultCursor = 'auto';\n              this._startHandPoint = null;\n              canvas.fire(HAND_STOPPED);\n            }\n            /**\n             * onMousedown handler in fabric canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onMouseDownWithZoomMode',\n            value: function _onMouseDownWithZoomMode(_ref) {\n              var target = _ref.target,\n                  e = _ref.e;\n\n              if (target) {\n                return;\n              }\n\n              var canvas = this.getCanvas();\n              canvas.selection = false;\n              this._startPoint = canvas.getPointer(e);\n              this.zoomArea.set({\n                width: 0,\n                height: 0\n              });\n              var _listeners2 = this._listeners,\n                  moveZoom = _listeners2.moveZoom,\n                  stopZoom = _listeners2.stopZoom;\n              canvas.on({\n                'mouse:move': moveZoom,\n                'mouse:up': stopZoom\n              });\n            }\n            /**\n             * onMousemove handler in fabric canvas\n             * @param {{e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onMouseMoveWithZoomMode',\n            value: function _onMouseMoveWithZoomMode(_ref2) {\n              var e = _ref2.e;\n              var canvas = this.getCanvas();\n              var pointer = canvas.getPointer(e);\n              var x = pointer.x,\n                  y = pointer.y;\n              var zoomArea = this.zoomArea,\n                  _startPoint = this._startPoint;\n              var deltaX = Math.abs(x - _startPoint.x);\n              var deltaY = Math.abs(y - _startPoint.y);\n\n              if (deltaX + deltaY > MOUSE_MOVE_THRESHOLD) {\n                canvas.remove(zoomArea);\n                zoomArea.set(this._calcRectDimensionFromPoint(x, y));\n                canvas.add(zoomArea);\n              }\n            }\n            /**\n             * Get rect dimension setting from Canvas-Mouse-Position(x, y)\n             * @param {number} x - Canvas-Mouse-Position x\n             * @param {number} y - Canvas-Mouse-Position Y\n             * @returns {{left: number, top: number, width: number, height: number}}\n             * @private\n             */\n\n          }, {\n            key: '_calcRectDimensionFromPoint',\n            value: function _calcRectDimensionFromPoint(x, y) {\n              var canvas = this.getCanvas();\n              var canvasWidth = canvas.getWidth();\n              var canvasHeight = canvas.getHeight();\n              var _startPoint2 = this._startPoint,\n                  startX = _startPoint2.x,\n                  startY = _startPoint2.y;\n              var min = Math.min;\n              var left = min(startX, x);\n              var top = min(startY, y);\n              var width = (0, _util.clamp)(x, startX, canvasWidth) - left; // (startX <= x(mouse) <= canvasWidth) - left\n\n              var height = (0, _util.clamp)(y, startY, canvasHeight) - top; // (startY <= y(mouse) <= canvasHeight) - top\n\n              return {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n              };\n            }\n            /**\n             * onMouseup handler in fabric canvas\n             * @private\n             */\n\n          }, {\n            key: '_onMouseUpWithZoomMode',\n            value: function _onMouseUpWithZoomMode() {\n              var zoomLevel = this.zoomLevel;\n              var zoomArea = this.zoomArea;\n              var _listeners3 = this._listeners,\n                  moveZoom = _listeners3.moveZoom,\n                  stopZoom = _listeners3.stopZoom;\n              var canvas = this.getCanvas();\n\n              var center = this._getCenterPoint();\n\n              var x = center.x,\n                  y = center.y;\n\n              if (!this._isMaxZoomLevel()) {\n                this._centerPoints.push({\n                  x: x,\n                  y: y,\n                  prevZoomLevel: zoomLevel,\n                  zoomLevel: zoomLevel + 1\n                });\n\n                zoomLevel += 1;\n                canvas.zoomToPoint({\n                  x: x,\n                  y: y\n                }, zoomLevel);\n\n                this._fireZoomChanged(canvas, zoomLevel);\n\n                this.zoomLevel = zoomLevel;\n              }\n\n              canvas.off({\n                'mouse:move': moveZoom,\n                'mouse:up': stopZoom\n              });\n              canvas.remove(zoomArea);\n              this._startPoint = null;\n            }\n            /**\n             * Get center point\n             * @returns {{x: number, y: number}}\n             * @private\n             */\n\n          }, {\n            key: '_getCenterPoint',\n            value: function _getCenterPoint() {\n              var _zoomArea = this.zoomArea,\n                  left = _zoomArea.left,\n                  top = _zoomArea.top,\n                  width = _zoomArea.width,\n                  height = _zoomArea.height;\n              var _startPoint3 = this._startPoint,\n                  x = _startPoint3.x,\n                  y = _startPoint3.y;\n              var aspectRatio = this.aspectRatio;\n\n              if (width < MOUSE_MOVE_THRESHOLD && height < MOUSE_MOVE_THRESHOLD) {\n                return {\n                  x: x,\n                  y: y\n                };\n              }\n\n              return width > height ? {\n                x: left + aspectRatio * height / 2,\n                y: top + height / 2\n              } : {\n                x: left + width / 2,\n                y: top + width / aspectRatio / 2\n              };\n            }\n            /**\n             * Zoom the canvas\n             * @param {{x: number, y: number}} center - center of zoom\n             * @param {?number} zoomLevel - zoom level\n             */\n\n          }, {\n            key: 'zoom',\n            value: function zoom(_ref3) {\n              var x = _ref3.x,\n                  y = _ref3.y;\n              var zoomLevel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.zoomLevel;\n              var canvas = this.getCanvas();\n              var centerPoints = this._centerPoints;\n\n              for (var i = centerPoints.length - 1; i >= 0; i -= 1) {\n                if (centerPoints[i].zoomLevel < zoomLevel) {\n                  break;\n                }\n\n                var _centerPoints$pop = centerPoints.pop(),\n                    prevX = _centerPoints$pop.x,\n                    prevY = _centerPoints$pop.y,\n                    prevZoomLevel = _centerPoints$pop.prevZoomLevel;\n\n                canvas.zoomToPoint({\n                  x: prevX,\n                  y: prevY\n                }, prevZoomLevel);\n                this.zoomLevel = prevZoomLevel;\n              }\n\n              canvas.zoomToPoint({\n                x: x,\n                y: y\n              }, zoomLevel);\n\n              if (!this._isDefaultZoomLevel(zoomLevel)) {\n                this._centerPoints.push({\n                  x: x,\n                  y: y,\n                  zoomLevel: zoomLevel,\n                  prevZoomLevel: this.zoomLevel\n                });\n              }\n\n              this.zoomLevel = zoomLevel;\n\n              this._fireZoomChanged(canvas, zoomLevel);\n            }\n            /**\n             * Zoom out one step\n             */\n\n          }, {\n            key: 'zoomOut',\n            value: function zoomOut() {\n              var centerPoints = this._centerPoints;\n\n              if (!centerPoints.length) {\n                return;\n              }\n\n              var canvas = this.getCanvas();\n              var point = centerPoints.pop();\n              var x = point.x,\n                  y = point.y,\n                  prevZoomLevel = point.prevZoomLevel;\n\n              if (this._isDefaultZoomLevel(prevZoomLevel)) {\n                canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n              } else {\n                canvas.zoomToPoint({\n                  x: x,\n                  y: y\n                }, prevZoomLevel);\n              }\n\n              this.zoomLevel = prevZoomLevel;\n\n              this._fireZoomChanged(canvas, this.zoomLevel);\n            }\n            /**\n             * Zoom reset\n             */\n\n          }, {\n            key: 'resetZoom',\n            value: function resetZoom() {\n              var canvas = this.getCanvas();\n              canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n              this.zoomLevel = DEFAULT_ZOOM_LEVEL;\n              this._centerPoints = [];\n\n              this._fireZoomChanged(canvas, this.zoomLevel);\n            }\n            /**\n             * Whether zoom level is max (5.0)\n             * @returns {boolean}\n             * @private\n             */\n\n          }, {\n            key: '_isMaxZoomLevel',\n            value: function _isMaxZoomLevel() {\n              return this.zoomLevel >= 5.0;\n            }\n            /**\n             * Move point of zoom\n             * @param {{x: number, y: number}} delta - move amount\n             * @private\n             */\n\n          }, {\n            key: '_movePointOfZoom',\n            value: function _movePointOfZoom(_ref4) {\n              var deltaX = _ref4.x,\n                  deltaY = _ref4.y;\n              var centerPoints = this._centerPoints;\n\n              if (!centerPoints.length) {\n                return;\n              }\n\n              var canvas = this.getCanvas();\n              var zoomLevel = this.zoomLevel;\n              var point = centerPoints.pop();\n              var originX = point.x,\n                  originY = point.y,\n                  prevZoomLevel = point.prevZoomLevel;\n              var x = originX - deltaX;\n              var y = originY - deltaY;\n              canvas.zoomToPoint({\n                x: originX,\n                y: originY\n              }, prevZoomLevel);\n              canvas.zoomToPoint({\n                x: x,\n                y: y\n              }, zoomLevel);\n              centerPoints.push({\n                x: x,\n                y: y,\n                prevZoomLevel: prevZoomLevel,\n                zoomLevel: zoomLevel\n              });\n\n              this._fireZoomChanged(canvas, zoomLevel);\n            }\n            /**\n             * onMouseDown handler in fabric canvas\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onMouseDownWithHandMode',\n            value: function _onMouseDownWithHandMode(_ref5) {\n              var target = _ref5.target,\n                  e = _ref5.e;\n\n              if (target) {\n                return;\n              }\n\n              var canvas = this.getCanvas();\n\n              if (this.zoomLevel <= DEFAULT_ZOOM_LEVEL) {\n                return;\n              }\n\n              canvas.selection = false;\n              this._startHandPoint = canvas.getPointer(e);\n              var _listeners4 = this._listeners,\n                  moveHand = _listeners4.moveHand,\n                  stopHand = _listeners4.stopHand;\n              canvas.on({\n                'mouse:move': moveHand,\n                'mouse:up': stopHand\n              });\n            }\n            /**\n             * onMouseMove handler in fabric canvas\n             * @param {{e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onMouseMoveWithHandMode',\n            value: function _onMouseMoveWithHandMode(_ref6) {\n              var e = _ref6.e;\n              var canvas = this.getCanvas();\n\n              var _canvas$getPointer = canvas.getPointer(e),\n                  x = _canvas$getPointer.x,\n                  y = _canvas$getPointer.y;\n\n              var deltaX = x - this._startHandPoint.x;\n              var deltaY = y - this._startHandPoint.y;\n\n              this._movePointOfZoom({\n                x: deltaX,\n                y: deltaY\n              });\n            }\n            /**\n             * onMouseUp handler in fabric canvas\n             * @private\n             */\n\n          }, {\n            key: '_onMouseUpWithHandMode',\n            value: function _onMouseUpWithHandMode() {\n              var canvas = this.getCanvas();\n              var _listeners5 = this._listeners,\n                  moveHand = _listeners5.moveHand,\n                  stopHand = _listeners5.stopHand;\n              canvas.off({\n                'mouse:move': moveHand,\n                'mouse:up': stopHand\n              });\n              this._startHandPoint = null;\n            }\n            /**\n             * onChangeZoom handler in fabric canvas\n             * @private\n             */\n\n          }, {\n            key: '_changeScrollState',\n            value: function _changeScrollState(_ref7) {\n              var viewport = _ref7.viewport,\n                  zoomLevel = _ref7.zoomLevel;\n              var canvas = this.getCanvas();\n              canvas.remove(this._verticalScroll);\n              canvas.remove(this._horizontalScroll);\n\n              if (this._isDefaultZoomLevel(zoomLevel)) {\n                return;\n              }\n\n              var canvasWidth = canvas.width;\n              var canvasHeight = canvas.height;\n              var tl = viewport.tl,\n                  tr = viewport.tr,\n                  bl = viewport.bl;\n              var viewportWidth = tr.x - tl.x;\n              var viewportHeight = bl.y - tl.y;\n              var horizontalScrollWidth = viewportWidth * viewportWidth / canvasWidth;\n              var horizontalScrollHeight = viewportHeight * DEFAULT_HORIZONTAL_SCROLL_RATIO.SIZE;\n              var horizontalScrollLeft = (0, _util.clamp)(tl.x + tl.x / canvasWidth * viewportWidth, tl.x, tr.x - horizontalScrollWidth);\n              var horizontalScrollMargin = viewportHeight * DEFAULT_HORIZONTAL_SCROLL_RATIO.MARGIN;\n              var horizontalScrollBorderRadius = viewportHeight * DEFAULT_HORIZONTAL_SCROLL_RATIO.BORDER_RADIUS;\n\n              this._horizontalScroll.set({\n                left: horizontalScrollLeft,\n                top: bl.y - horizontalScrollHeight - horizontalScrollMargin,\n                width: horizontalScrollWidth,\n                height: horizontalScrollHeight,\n                rx: horizontalScrollBorderRadius,\n                ry: horizontalScrollBorderRadius\n              });\n\n              var verticalScrollWidth = viewportWidth * DEFAULT_VERTICAL_SCROLL_RATIO.SIZE;\n              var verticalScrollHeight = viewportHeight * viewportHeight / canvasHeight;\n              var verticalScrollTop = (0, _util.clamp)(tl.y + tl.y / canvasHeight * viewportHeight, tr.y, bl.y - verticalScrollHeight);\n              var verticalScrollMargin = viewportWidth * DEFAULT_VERTICAL_SCROLL_RATIO.MARGIN;\n              var verticalScrollBorderRadius = viewportWidth * DEFAULT_VERTICAL_SCROLL_RATIO.BORDER_RADIUS;\n\n              this._verticalScroll.set({\n                left: tr.x - verticalScrollWidth - verticalScrollMargin,\n                top: verticalScrollTop,\n                width: verticalScrollWidth,\n                height: verticalScrollHeight,\n                rx: verticalScrollBorderRadius,\n                ry: verticalScrollBorderRadius\n              });\n\n              this._addScrollBar();\n            }\n            /**\n             * Change objects 'evented' state\n             * @param {boolean} [evented=true] - objects 'evented' state\n             */\n\n          }, {\n            key: '_changeObjectsEventedState',\n            value: function _changeObjectsEventedState() {\n              var evented = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              var canvas = this.getCanvas();\n              canvas.forEachObject(function (obj) {\n                // {@link http://fabricjs.com/docs/fabric.Object.html#evented}\n                obj.evented = evented;\n              });\n            }\n            /**\n             * Add scroll bar and set remove timer\n             */\n\n          }, {\n            key: '_addScrollBar',\n            value: function _addScrollBar() {\n              var _this2 = this;\n\n              var canvas = this.getCanvas();\n              canvas.add(this._horizontalScroll);\n              canvas.add(this._verticalScroll);\n\n              if (this.scrollBarTid) {\n                clearTimeout(this.scrollBarTid);\n              }\n\n              this.scrollBarTid = setTimeout(function () {\n                canvas.remove(_this2._horizontalScroll);\n                canvas.remove(_this2._verticalScroll);\n              }, 3000);\n            }\n            /**\n             * Check zoom level is default zoom level (1.0)\n             * @param {number} zoomLevel - zoom level\n             * @returns {boolean} - whether zoom level is 1.0\n             */\n\n          }, {\n            key: '_isDefaultZoomLevel',\n            value: function _isDefaultZoomLevel(zoomLevel) {\n              return zoomLevel === DEFAULT_ZOOM_LEVEL;\n            }\n            /**\n             * Fire 'zoomChanged' event\n             * @param {fabric.Canvas} canvas - fabric canvas\n             * @param {number} zoomLevel - 'zoomChanged' event params\n             */\n\n          }, {\n            key: '_fireZoomChanged',\n            value: function _fireZoomChanged(canvas, zoomLevel) {\n              canvas.fire(ZOOM_CHANGED, {\n                viewport: canvas.calcViewportBoundaries(),\n                zoomLevel: zoomLevel\n              });\n            }\n            /**\n             * Get zoom mode\n             */\n\n          }, {\n            key: 'mode',\n            get: function get() {\n              return this.zoomMode;\n            }\n          }]);\n\n          return Zoom;\n        }(_component2.default);\n\n        exports.default = Zoom;\n        /***/\n      },\n\n      /***/\n      \"./src/js/consts.js\":\n      /*!**************************!*\\\n        !*** ./src/js/consts.js ***!\n        \\**************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.emptyCropRectValues = exports.defaultFilterRangeValues = exports.defaultTextRangeValues = exports.defaultShapeStrokeValues = exports.defaultDrawRangeValues = exports.defaultRotateRangeValues = exports.defaultIconPath = exports.rejectMessages = exports.fObjectOptions = exports.keyCodes = exports.zoomModes = exports.drawingMenuNames = exports.drawingModes = exports.historyNames = exports.selectorNames = exports.eventNames = exports.commandNames = exports.CROPZONE_DEFAULT_OPTIONS = exports.SHAPE_DEFAULT_OPTIONS = exports.componentNames = exports.filterType = exports.OBJ_TYPE = exports.SHAPE_TYPE = exports.SHAPE_FILL_TYPE = exports.HELP_MENUS = exports.DELETE_HELP_MENUS = exports.COMMAND_HELP_MENUS = exports.ZOOM_HELP_MENUS = undefined;\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n        /**\n         * Help features for zoom\n         * @type {Array.<string>}\n         */\n\n\n        var ZOOM_HELP_MENUS = exports.ZOOM_HELP_MENUS = ['zoomIn', 'zoomOut', 'hand'];\n        /**\n         * Help features for command\n         * @type {Array.<string>}\n         */\n\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Constants\n         */\n\n        var COMMAND_HELP_MENUS = exports.COMMAND_HELP_MENUS = ['history', 'undo', 'redo', 'reset'];\n        /**\n         * Help features for delete\n         * @type {Array.<string>}\n         */\n\n        var DELETE_HELP_MENUS = exports.DELETE_HELP_MENUS = ['delete', 'deleteAll'];\n        /**\n         * Editor help features\n         * @type {Array.<string>}\n         */\n\n        var HELP_MENUS = exports.HELP_MENUS = [].concat(ZOOM_HELP_MENUS, COMMAND_HELP_MENUS, DELETE_HELP_MENUS);\n        /**\n         * Fill type for shape\n         * @type {Object.<string, string>}\n         */\n\n        var SHAPE_FILL_TYPE = exports.SHAPE_FILL_TYPE = {\n          FILTER: 'filter',\n          COLOR: 'color'\n        };\n        /**\n         * Shape type list\n         * @type {Array.<string>}\n         */\n\n        var SHAPE_TYPE = exports.SHAPE_TYPE = ['rect', 'circle', 'triangle'];\n        /**\n         * Object type\n         * @type {Object.<string, string>}\n         */\n\n        var OBJ_TYPE = exports.OBJ_TYPE = {\n          CROPZONE: 'cropzone'\n        };\n        /**\n         * Filter type map\n         * @type {Object.<string, string>}\n         */\n\n        var filterType = exports.filterType = {\n          VINTAGE: 'vintage',\n          SEPIA2: 'sepia2',\n          REMOVE_COLOR: 'removeColor',\n          COLOR_FILTER: 'colorFilter',\n          REMOVE_WHITE: 'removeWhite',\n          BLEND_COLOR: 'blendColor',\n          BLEND: 'blend'\n        };\n        /**\n         * Component names\n         * @type {Object.<string, string>}\n         */\n\n        var componentNames = exports.componentNames = (0, _util.keyMirror)('IMAGE_LOADER', 'CROPPER', 'FLIP', 'ROTATION', 'FREE_DRAWING', 'LINE', 'TEXT', 'ICON', 'FILTER', 'SHAPE', 'ZOOM');\n        /**\n         * Shape default option\n         * @type {Object}\n         */\n\n        var SHAPE_DEFAULT_OPTIONS = exports.SHAPE_DEFAULT_OPTIONS = {\n          lockSkewingX: true,\n          lockSkewingY: true,\n          bringForward: true,\n          isRegular: false\n        };\n        /**\n         * Cropzone default option\n         * @type {Object}\n         */\n\n        var CROPZONE_DEFAULT_OPTIONS = exports.CROPZONE_DEFAULT_OPTIONS = {\n          hasRotatingPoint: false,\n          hasBorders: false,\n          lockScalingFlip: true,\n          lockRotation: true,\n          lockSkewingX: true,\n          lockSkewingY: true\n        };\n        /**\n         * Command names\n         * @type {Object.<string, string>}\n         */\n\n        var commandNames = exports.commandNames = {\n          CLEAR_OBJECTS: 'clearObjects',\n          LOAD_IMAGE: 'loadImage',\n          FLIP_IMAGE: 'flip',\n          ROTATE_IMAGE: 'rotate',\n          ADD_OBJECT: 'addObject',\n          REMOVE_OBJECT: 'removeObject',\n          APPLY_FILTER: 'applyFilter',\n          REMOVE_FILTER: 'removeFilter',\n          ADD_ICON: 'addIcon',\n          CHANGE_ICON_COLOR: 'changeIconColor',\n          ADD_SHAPE: 'addShape',\n          CHANGE_SHAPE: 'changeShape',\n          ADD_TEXT: 'addText',\n          CHANGE_TEXT: 'changeText',\n          CHANGE_TEXT_STYLE: 'changeTextStyle',\n          ADD_IMAGE_OBJECT: 'addImageObject',\n          RESIZE_CANVAS_DIMENSION: 'resizeCanvasDimension',\n          SET_OBJECT_PROPERTIES: 'setObjectProperties',\n          SET_OBJECT_POSITION: 'setObjectPosition',\n          CHANGE_SELECTION: 'changeSelection'\n        };\n        /**\n         * Event names\n         * @type {Object.<string, string>}\n         */\n\n        var eventNames = exports.eventNames = {\n          OBJECT_ACTIVATED: 'objectActivated',\n          OBJECT_MOVED: 'objectMoved',\n          OBJECT_SCALED: 'objectScaled',\n          OBJECT_CREATED: 'objectCreated',\n          OBJECT_ROTATED: 'objectRotated',\n          OBJECT_ADDED: 'objectAdded',\n          OBJECT_MODIFIED: 'objectModified',\n          TEXT_EDITING: 'textEditing',\n          TEXT_CHANGED: 'textChanged',\n          ICON_CREATE_RESIZE: 'iconCreateResize',\n          ICON_CREATE_END: 'iconCreateEnd',\n          ADD_TEXT: 'addText',\n          ADD_OBJECT: 'addObject',\n          ADD_OBJECT_AFTER: 'addObjectAfter',\n          MOUSE_DOWN: 'mousedown',\n          MOUSE_UP: 'mouseup',\n          MOUSE_MOVE: 'mousemove',\n          // UNDO/REDO Events\n          REDO_STACK_CHANGED: 'redoStackChanged',\n          UNDO_STACK_CHANGED: 'undoStackChanged',\n          SELECTION_CLEARED: 'selectionCleared',\n          SELECTION_CREATED: 'selectionCreated',\n          EXECUTE_COMMAND: 'executeCommand',\n          AFTER_UNDO: 'afterUndo',\n          AFTER_REDO: 'afterRedo',\n          ZOOM_CHANGED: 'zoomChanged',\n          HAND_STARTED: 'handStarted',\n          HAND_STOPPED: 'handStopped',\n          KEY_DOWN: 'keydown',\n          KEY_UP: 'keyup',\n          INPUT_BOX_EDITING_STARTED: 'inputBoxEditingStarted',\n          INPUT_BOX_EDITING_STOPPED: 'inputBoxEditingStopped',\n          FOCUS: 'focus',\n          BLUR: 'blur'\n        };\n        /**\n         * Selector names\n         * @type {Object.<string, string>}\n         */\n\n        var selectorNames = exports.selectorNames = {\n          COLOR_PICKER_INPUT_BOX: '.tui-colorpicker-palette-hex'\n        };\n        /**\n         * History names\n         * @type {Object.<string, string>}\n         */\n\n        var historyNames = exports.historyNames = {\n          LOAD_IMAGE: 'Load',\n          LOAD_MASK_IMAGE: 'Mask',\n          ADD_MASK_IMAGE: 'Mask',\n          ADD_IMAGE_OBJECT: 'Mask',\n          CROP: 'Crop',\n          APPLY_FILTER: 'Filter',\n          REMOVE_FILTER: 'Filter',\n          CHANGE_SHAPE: 'Shape',\n          CHANGE_ICON_COLOR: 'Icon',\n          ADD_TEXT: 'Text',\n          CHANGE_TEXT_STYLE: 'Text',\n          REMOVE_OBJECT: 'Delete',\n          CLEAR_OBJECTS: 'Delete'\n        };\n        /**\n         * Editor states\n         * @type {Object.<string, string>}\n         */\n\n        var drawingModes = exports.drawingModes = (0, _util.keyMirror)('NORMAL', 'CROPPER', 'FREE_DRAWING', 'LINE_DRAWING', 'TEXT', 'SHAPE', 'ICON', 'ZOOM');\n        /**\n         * Menu names with drawing mode\n         * @type {Object.<string, string>}\n         */\n\n        var drawingMenuNames = exports.drawingMenuNames = {\n          TEXT: 'text',\n          CROP: 'crop',\n          SHAPE: 'shape',\n          ZOOM: 'zoom'\n        };\n        /**\n         * Zoom modes\n         * @type {Object.<string, string>}\n         */\n\n        var zoomModes = exports.zoomModes = {\n          DEFAULT: 'normal',\n          ZOOM: 'zoom',\n          HAND: 'hand'\n        };\n        /**\n         * Shortcut key values\n         * @type {Object.<string, number>}\n         */\n\n        var keyCodes = exports.keyCodes = {\n          Z: 90,\n          Y: 89,\n          C: 67,\n          V: 86,\n          SHIFT: 16,\n          BACKSPACE: 8,\n          DEL: 46,\n          ARROW_DOWN: 40,\n          ARROW_UP: 38,\n          SPACE: 32\n        };\n        /**\n         * Fabric object options\n         * @type {Object.<string, Object>}\n         */\n\n        var fObjectOptions = exports.fObjectOptions = {\n          SELECTION_STYLE: {\n            borderColor: 'red',\n            cornerColor: 'green',\n            cornerSize: 10,\n            originX: 'center',\n            originY: 'center',\n            transparentCorners: false\n          }\n        };\n        /**\n         * Promise reject messages\n         * @type {Object.<string, string>}\n         */\n\n        var rejectMessages = exports.rejectMessages = {\n          addedObject: 'The object is already added.',\n          flip: 'The flipX and flipY setting values are not changed.',\n          invalidDrawingMode: 'This operation is not supported in the drawing mode.',\n          invalidParameters: 'Invalid parameters.',\n          isLock: 'The executing command state is locked.',\n          loadImage: 'The background image is empty.',\n          loadingImageFailed: 'Invalid image loaded.',\n          noActiveObject: 'There is no active object.',\n          noObject: 'The object is not in canvas.',\n          redo: 'The promise of redo command is reject.',\n          rotation: 'The current angle is same the old angle.',\n          undo: 'The promise of undo command is reject.',\n          unsupportedOperation: 'Unsupported operation.',\n          unsupportedType: 'Unsupported object type.'\n        };\n        /**\n         * Default icon menu svg path\n         * @type {Object.<string, string>}\n         */\n\n        var defaultIconPath = exports.defaultIconPath = {\n          'icon-arrow': 'M40 12V0l24 24-24 24V36H0V12h40z',\n          'icon-arrow-2': 'M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ',\n          'icon-arrow-3': 'M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ',\n          'icon-star': 'M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ',\n          'icon-star-2': 'M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ',\n          'icon-polygon': 'M3,31 L19,3 h32 l16,28 l-16,28 H19  z ',\n          'icon-location': 'M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z',\n          'icon-heart': 'M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ',\n          'icon-bubble': 'M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z'\n        };\n        var defaultRotateRangeValues = exports.defaultRotateRangeValues = {\n          realTimeEvent: true,\n          min: -360,\n          max: 360,\n          value: 0\n        };\n        var defaultDrawRangeValues = exports.defaultDrawRangeValues = {\n          min: 5,\n          max: 30,\n          value: 12\n        };\n        var defaultShapeStrokeValues = exports.defaultShapeStrokeValues = {\n          realTimeEvent: true,\n          min: 2,\n          max: 300,\n          value: 3\n        };\n        var defaultTextRangeValues = exports.defaultTextRangeValues = {\n          realTimeEvent: true,\n          min: 10,\n          max: 100,\n          value: 50\n        };\n        var defaultFilterRangeValues = exports.defaultFilterRangeValues = {\n          tintOpacityRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.7,\n            useDecimal: true\n          },\n          removewhiteDistanceRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.2,\n            useDecimal: true\n          },\n          brightnessRange: {\n            realTimeEvent: true,\n            min: -1,\n            max: 1,\n            value: 0,\n            useDecimal: true\n          },\n          noiseRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1000,\n            value: 100\n          },\n          pixelateRange: {\n            realTimeEvent: true,\n            min: 2,\n            max: 20,\n            value: 4\n          },\n          colorfilterThresholdRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.2,\n            useDecimal: true\n          },\n          blurFilterRange: {\n            value: 0.1\n          }\n        };\n        var emptyCropRectValues = exports.emptyCropRectValues = {\n          LEFT: 0,\n          TOP: 0,\n          WIDTH: 0.5,\n          HEIGHT: 0.5\n        };\n        /***/\n      },\n\n      /***/\n      \"./src/js/drawingMode/cropper.js\":\n      /*!***************************************!*\\\n        !*** ./src/js/drawingMode/cropper.js ***!\n        \\***************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _drawingMode = __webpack_require__(\n        /*! @/interface/drawingMode */\n        \"./src/js/interface/drawingMode.js\");\n\n        var _drawingMode2 = _interopRequireDefault(_drawingMode);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview CropperDrawingMode class\n         */\n\n        /**\n         * CropperDrawingMode class\n         * @class\n         * @ignore\n         */\n\n\n        var CropperDrawingMode = function (_DrawingMode) {\n          _inherits(CropperDrawingMode, _DrawingMode);\n\n          function CropperDrawingMode() {\n            _classCallCheck(this, CropperDrawingMode);\n\n            return _possibleConstructorReturn(this, (CropperDrawingMode.__proto__ || Object.getPrototypeOf(CropperDrawingMode)).call(this, _consts.drawingModes.CROPPER));\n          }\n          /**\n           * start this drawing mode\n           * @param {Graphics} graphics - Graphics instance\n           * @override\n           */\n\n\n          _createClass(CropperDrawingMode, [{\n            key: 'start',\n            value: function start(graphics) {\n              var cropper = graphics.getComponent(_consts.componentNames.CROPPER);\n              cropper.start();\n            }\n            /**\n             * stop this drawing mode\n             * @param {Graphics} graphics - Graphics instance\n             * @override\n             */\n\n          }, {\n            key: 'end',\n            value: function end(graphics) {\n              var cropper = graphics.getComponent(_consts.componentNames.CROPPER);\n              cropper.end();\n            }\n          }]);\n\n          return CropperDrawingMode;\n        }(_drawingMode2.default);\n\n        exports.default = CropperDrawingMode;\n        /***/\n      },\n\n      /***/\n      \"./src/js/drawingMode/freeDrawing.js\":\n      /*!*******************************************!*\\\n        !*** ./src/js/drawingMode/freeDrawing.js ***!\n        \\*******************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _drawingMode = __webpack_require__(\n        /*! @/interface/drawingMode */\n        \"./src/js/interface/drawingMode.js\");\n\n        var _drawingMode2 = _interopRequireDefault(_drawingMode);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview FreeDrawingMode class\n         */\n\n        /**\n         * FreeDrawingMode class\n         * @class\n         * @ignore\n         */\n\n\n        var FreeDrawingMode = function (_DrawingMode) {\n          _inherits(FreeDrawingMode, _DrawingMode);\n\n          function FreeDrawingMode() {\n            _classCallCheck(this, FreeDrawingMode);\n\n            return _possibleConstructorReturn(this, (FreeDrawingMode.__proto__ || Object.getPrototypeOf(FreeDrawingMode)).call(this, _consts.drawingModes.FREE_DRAWING));\n          }\n          /**\n           * start this drawing mode\n           * @param {Graphics} graphics - Graphics instance\n           * @param {{width: ?number, color: ?string}} [options] - Brush width & color\n           * @override\n           */\n\n\n          _createClass(FreeDrawingMode, [{\n            key: 'start',\n            value: function start(graphics, options) {\n              var freeDrawing = graphics.getComponent(_consts.componentNames.FREE_DRAWING);\n              freeDrawing.start(options);\n            }\n            /**\n             * stop this drawing mode\n             * @param {Graphics} graphics - Graphics instance\n             * @override\n             */\n\n          }, {\n            key: 'end',\n            value: function end(graphics) {\n              var freeDrawing = graphics.getComponent(_consts.componentNames.FREE_DRAWING);\n              freeDrawing.end();\n            }\n          }]);\n\n          return FreeDrawingMode;\n        }(_drawingMode2.default);\n\n        exports.default = FreeDrawingMode;\n        /***/\n      },\n\n      /***/\n      \"./src/js/drawingMode/icon.js\":\n      /*!************************************!*\\\n        !*** ./src/js/drawingMode/icon.js ***!\n        \\************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _drawingMode = __webpack_require__(\n        /*! @/interface/drawingMode */\n        \"./src/js/interface/drawingMode.js\");\n\n        var _drawingMode2 = _interopRequireDefault(_drawingMode);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview IconDrawingMode class\n         */\n\n        /**\n         * IconDrawingMode class\n         * @class\n         * @ignore\n         */\n\n\n        var IconDrawingMode = function (_DrawingMode) {\n          _inherits(IconDrawingMode, _DrawingMode);\n\n          function IconDrawingMode() {\n            _classCallCheck(this, IconDrawingMode);\n\n            return _possibleConstructorReturn(this, (IconDrawingMode.__proto__ || Object.getPrototypeOf(IconDrawingMode)).call(this, _consts.drawingModes.ICON));\n          }\n          /**\n           * start this drawing mode\n           * @param {Graphics} graphics - Graphics instance\n           * @override\n           */\n\n\n          _createClass(IconDrawingMode, [{\n            key: 'start',\n            value: function start(graphics) {\n              var icon = graphics.getComponent(_consts.componentNames.ICON);\n              icon.start();\n            }\n            /**\n             * stop this drawing mode\n             * @param {Graphics} graphics - Graphics instance\n             * @override\n             */\n\n          }, {\n            key: 'end',\n            value: function end(graphics) {\n              var icon = graphics.getComponent(_consts.componentNames.ICON);\n              icon.end();\n            }\n          }]);\n\n          return IconDrawingMode;\n        }(_drawingMode2.default);\n\n        exports.default = IconDrawingMode;\n        /***/\n      },\n\n      /***/\n      \"./src/js/drawingMode/lineDrawing.js\":\n      /*!*******************************************!*\\\n        !*** ./src/js/drawingMode/lineDrawing.js ***!\n        \\*******************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _drawingMode = __webpack_require__(\n        /*! @/interface/drawingMode */\n        \"./src/js/interface/drawingMode.js\");\n\n        var _drawingMode2 = _interopRequireDefault(_drawingMode);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview LineDrawingMode class\n         */\n\n        /**\n         * LineDrawingMode class\n         * @class\n         * @ignore\n         */\n\n\n        var LineDrawingMode = function (_DrawingMode) {\n          _inherits(LineDrawingMode, _DrawingMode);\n\n          function LineDrawingMode() {\n            _classCallCheck(this, LineDrawingMode);\n\n            return _possibleConstructorReturn(this, (LineDrawingMode.__proto__ || Object.getPrototypeOf(LineDrawingMode)).call(this, _consts.drawingModes.LINE_DRAWING));\n          }\n          /**\n           * start this drawing mode\n           * @param {Graphics} graphics - Graphics instance\n           * @param {{width: ?number, color: ?string}} [options] - Brush width & color\n           * @override\n           */\n\n\n          _createClass(LineDrawingMode, [{\n            key: 'start',\n            value: function start(graphics, options) {\n              var lineDrawing = graphics.getComponent(_consts.componentNames.LINE);\n              lineDrawing.start(options);\n            }\n            /**\n             * stop this drawing mode\n             * @param {Graphics} graphics - Graphics instance\n             * @override\n             */\n\n          }, {\n            key: 'end',\n            value: function end(graphics) {\n              var lineDrawing = graphics.getComponent(_consts.componentNames.LINE);\n              lineDrawing.end();\n            }\n          }]);\n\n          return LineDrawingMode;\n        }(_drawingMode2.default);\n\n        exports.default = LineDrawingMode;\n        /***/\n      },\n\n      /***/\n      \"./src/js/drawingMode/shape.js\":\n      /*!*************************************!*\\\n        !*** ./src/js/drawingMode/shape.js ***!\n        \\*************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _drawingMode = __webpack_require__(\n        /*! @/interface/drawingMode */\n        \"./src/js/interface/drawingMode.js\");\n\n        var _drawingMode2 = _interopRequireDefault(_drawingMode);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview ShapeDrawingMode class\n         */\n\n        /**\n         * ShapeDrawingMode class\n         * @class\n         * @ignore\n         */\n\n\n        var ShapeDrawingMode = function (_DrawingMode) {\n          _inherits(ShapeDrawingMode, _DrawingMode);\n\n          function ShapeDrawingMode() {\n            _classCallCheck(this, ShapeDrawingMode);\n\n            return _possibleConstructorReturn(this, (ShapeDrawingMode.__proto__ || Object.getPrototypeOf(ShapeDrawingMode)).call(this, _consts.drawingModes.SHAPE));\n          }\n          /**\n           * start this drawing mode\n           * @param {Graphics} graphics - Graphics instance\n           * @override\n           */\n\n\n          _createClass(ShapeDrawingMode, [{\n            key: 'start',\n            value: function start(graphics) {\n              var shape = graphics.getComponent(_consts.componentNames.SHAPE);\n              shape.start();\n            }\n            /**\n             * stop this drawing mode\n             * @param {Graphics} graphics - Graphics instance\n             * @override\n             */\n\n          }, {\n            key: 'end',\n            value: function end(graphics) {\n              var shape = graphics.getComponent(_consts.componentNames.SHAPE);\n              shape.end();\n            }\n          }]);\n\n          return ShapeDrawingMode;\n        }(_drawingMode2.default);\n\n        exports.default = ShapeDrawingMode;\n        /***/\n      },\n\n      /***/\n      \"./src/js/drawingMode/text.js\":\n      /*!************************************!*\\\n        !*** ./src/js/drawingMode/text.js ***!\n        \\************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _drawingMode = __webpack_require__(\n        /*! @/interface/drawingMode */\n        \"./src/js/interface/drawingMode.js\");\n\n        var _drawingMode2 = _interopRequireDefault(_drawingMode);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview TextDrawingMode class\n         */\n\n        /**\n         * TextDrawingMode class\n         * @class\n         * @ignore\n         */\n\n\n        var TextDrawingMode = function (_DrawingMode) {\n          _inherits(TextDrawingMode, _DrawingMode);\n\n          function TextDrawingMode() {\n            _classCallCheck(this, TextDrawingMode);\n\n            return _possibleConstructorReturn(this, (TextDrawingMode.__proto__ || Object.getPrototypeOf(TextDrawingMode)).call(this, _consts.drawingModes.TEXT));\n          }\n          /**\n           * start this drawing mode\n           * @param {Graphics} graphics - Graphics instance\n           * @override\n           */\n\n\n          _createClass(TextDrawingMode, [{\n            key: 'start',\n            value: function start(graphics) {\n              var text = graphics.getComponent(_consts.componentNames.TEXT);\n              text.start();\n            }\n            /**\n             * stop this drawing mode\n             * @param {Graphics} graphics - Graphics instance\n             * @override\n             */\n\n          }, {\n            key: 'end',\n            value: function end(graphics) {\n              var text = graphics.getComponent(_consts.componentNames.TEXT);\n              text.end();\n            }\n          }]);\n\n          return TextDrawingMode;\n        }(_drawingMode2.default);\n\n        exports.default = TextDrawingMode;\n        /***/\n      },\n\n      /***/\n      \"./src/js/drawingMode/zoom.js\":\n      /*!************************************!*\\\n        !*** ./src/js/drawingMode/zoom.js ***!\n        \\************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _drawingMode = __webpack_require__(\n        /*! @/interface/drawingMode */\n        \"./src/js/interface/drawingMode.js\");\n\n        var _drawingMode2 = _interopRequireDefault(_drawingMode);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview ZoomDrawingMode class\n         */\n\n        /**\n         * ZoomDrawingMode class\n         * @class\n         * @ignore\n         */\n\n\n        var ZoomDrawingMode = function (_DrawingMode) {\n          _inherits(ZoomDrawingMode, _DrawingMode);\n\n          function ZoomDrawingMode() {\n            _classCallCheck(this, ZoomDrawingMode);\n\n            return _possibleConstructorReturn(this, (ZoomDrawingMode.__proto__ || Object.getPrototypeOf(ZoomDrawingMode)).call(this, _consts.drawingModes.ZOOM));\n          }\n          /**\n           * start this drawing mode\n           * @param {Graphics} graphics - Graphics instance\n           * @override\n           */\n\n\n          _createClass(ZoomDrawingMode, [{\n            key: 'start',\n            value: function start(graphics) {\n              var zoom = graphics.getComponent(_consts.componentNames.ZOOM);\n              zoom.start();\n            }\n            /**\n             * stop this drawing mode\n             * @param {Graphics} graphics - Graphics instance\n             * @override\n             */\n\n          }, {\n            key: 'end',\n            value: function end(graphics) {\n              var zoom = graphics.getComponent(_consts.componentNames.ZOOM);\n              zoom.end();\n            }\n          }]);\n\n          return ZoomDrawingMode;\n        }(_drawingMode2.default);\n\n        exports.default = ZoomDrawingMode;\n        /***/\n      },\n\n      /***/\n      \"./src/js/extension/arrowLine.js\":\n      /*!***************************************!*\\\n        !*** ./src/js/extension/arrowLine.js ***!\n        \\***************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var ARROW_ANGLE = 30;\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Blur extending fabric.Image.filters.Convolute\n         */\n\n        var CHEVRON_SIZE_RATIO = 2.7;\n        var TRIANGLE_SIZE_RATIO = 1.7;\n        var RADIAN_CONVERSION_VALUE = 180;\n\n        var ArrowLine = _fabric2.default.util.createClass(_fabric2.default.Line,\n        /** @lends Convolute.prototype */\n        {\n          /**\n           * Line type\n           * @param {String} type\n           * @default\n           */\n          type: 'line',\n\n          /**\n           * Constructor\n           * @param {Array} [points] Array of points\n           * @param {Object} [options] Options object\n           * @override\n           */\n          initialize: function initialize(points) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            this.callSuper('initialize', points, options);\n            this.arrowType = options.arrowType;\n          },\n\n          /**\n           * Render ArrowLine\n           * @private\n           * @override\n           */\n          _render: function _render(ctx) {\n            var _calcLinePoints = this.calcLinePoints(),\n                fromX = _calcLinePoints.x1,\n                fromY = _calcLinePoints.y1,\n                toX = _calcLinePoints.x2,\n                toY = _calcLinePoints.y2;\n\n            var linePosition = {\n              fromX: fromX,\n              fromY: fromY,\n              toX: toX,\n              toY: toY\n            };\n            this.ctx = ctx;\n            ctx.lineWidth = this.strokeWidth;\n\n            this._renderBasicLinePath(linePosition);\n\n            this._drawDecoratorPath(linePosition);\n\n            this._renderStroke(ctx);\n          },\n\n          /**\n           * Render Basic line path\n           * @param {Object} linePosition - line position\n           *  @param {number} option.fromX - line start position x\n           *  @param {number} option.fromY - line start position y\n           *  @param {number} option.toX - line end position x\n           *  @param {number} option.toY - line end position y\n           * @private\n           */\n          _renderBasicLinePath: function _renderBasicLinePath(_ref) {\n            var fromX = _ref.fromX,\n                fromY = _ref.fromY,\n                toX = _ref.toX,\n                toY = _ref.toY;\n            this.ctx.beginPath();\n            this.ctx.moveTo(fromX, fromY);\n            this.ctx.lineTo(toX, toY);\n          },\n\n          /**\n           * Render Arrow Head\n           * @param {Object} linePosition - line position\n           *  @param {number} option.fromX - line start position x\n           *  @param {number} option.fromY - line start position y\n           *  @param {number} option.toX - line end position x\n           *  @param {number} option.toY - line end position y\n           * @private\n           */\n          _drawDecoratorPath: function _drawDecoratorPath(linePosition) {\n            this._drawDecoratorPathType('head', linePosition);\n\n            this._drawDecoratorPathType('tail', linePosition);\n          },\n\n          /**\n           * Render Arrow Head\n           * @param {string} type - 'head' or 'tail'\n           * @param {Object} linePosition - line position\n           *  @param {number} option.fromX - line start position x\n           *  @param {number} option.fromY - line start position y\n           *  @param {number} option.toX - line end position x\n           *  @param {number} option.toY - line end position y\n           * @private\n           */\n          _drawDecoratorPathType: function _drawDecoratorPathType(type, linePosition) {\n            switch (this.arrowType[type]) {\n              case 'triangle':\n                this._drawTrianglePath(type, linePosition);\n\n                break;\n\n              case 'chevron':\n                this._drawChevronPath(type, linePosition);\n\n                break;\n\n              default:\n                break;\n            }\n          },\n\n          /**\n           * Render Triangle Head\n           * @param {string} type - 'head' or 'tail'\n           * @param {Object} linePosition - line position\n           *  @param {number} option.fromX - line start position x\n           *  @param {number} option.fromY - line start position y\n           *  @param {number} option.toX - line end position x\n           *  @param {number} option.toY - line end position y\n           * @private\n           */\n          _drawTrianglePath: function _drawTrianglePath(type, linePosition) {\n            var decorateSize = this.ctx.lineWidth * TRIANGLE_SIZE_RATIO;\n\n            this._drawChevronPath(type, linePosition, decorateSize);\n\n            this.ctx.closePath();\n          },\n\n          /**\n           * Render Chevron Head\n           * @param {string} type - 'head' or 'tail'\n           * @param {Object} linePosition - line position\n           *  @param {number} option.fromX - line start position x\n           *  @param {number} option.fromY - line start position y\n           *  @param {number} option.toX - line end position x\n           *  @param {number} option.toY - line end position y\n           * @param {number} decorateSize - decorate size\n           * @private\n           */\n          _drawChevronPath: function _drawChevronPath(type, _ref2, decorateSize) {\n            var _this = this;\n\n            var fromX = _ref2.fromX,\n                fromY = _ref2.fromY,\n                toX = _ref2.toX,\n                toY = _ref2.toY;\n            var ctx = this.ctx;\n\n            if (!decorateSize) {\n              decorateSize = this.ctx.lineWidth * CHEVRON_SIZE_RATIO;\n            }\n\n            var _ref3 = type === 'head' ? [fromX, fromY] : [toX, toY],\n                standardX = _ref3[0],\n                standardY = _ref3[1];\n\n            var _ref4 = type === 'head' ? [toX, toY] : [fromX, fromY],\n                compareX = _ref4[0],\n                compareY = _ref4[1];\n\n            var angle = Math.atan2(compareY - standardY, compareX - standardX) * RADIAN_CONVERSION_VALUE / Math.PI;\n\n            var rotatedPosition = function rotatedPosition(changeAngle) {\n              return _this.getRotatePosition(decorateSize, changeAngle, {\n                x: standardX,\n                y: standardY\n              });\n            };\n\n            ctx.moveTo.apply(ctx, rotatedPosition(angle + ARROW_ANGLE));\n            ctx.lineTo(standardX, standardY);\n            ctx.lineTo.apply(ctx, rotatedPosition(angle - ARROW_ANGLE));\n          },\n\n          /**\n           * return position from change angle.\n           * @param {number} distance - change distance\n           * @param {number} angle - change angle\n           * @param {Object} referencePosition - reference position\n           * @returns {Array}\n           * @private\n           */\n          getRotatePosition: function getRotatePosition(distance, angle, referencePosition) {\n            var radian = angle * Math.PI / RADIAN_CONVERSION_VALUE;\n            var x = referencePosition.x,\n                y = referencePosition.y;\n            return [distance * Math.cos(radian) + x, distance * Math.sin(radian) + y];\n          }\n        });\n\n        exports.default = ArrowLine;\n        /***/\n      },\n\n      /***/\n      \"./src/js/extension/colorFilter.js\":\n      /*!*****************************************!*\\\n        !*** ./src/js/extension/colorFilter.js ***!\n        \\*****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * ColorFilter object\n         * @class ColorFilter\n         * @extends {fabric.Image.filters.BaseFilter}\n         * @ignore\n         */\n\n\n        var ColorFilter = _fabric2.default.util.createClass(_fabric2.default.Image.filters.BaseFilter,\n        /** @lends BaseFilter.prototype */\n        {\n          /**\n           * Filter type\n           * @param {String} type\n           * @default\n           */\n          type: 'ColorFilter',\n\n          /**\n           * Constructor\n           * @member fabric.Image.filters.ColorFilter.prototype\n           * @param {Object} [options] Options object\n           * @param {Number} [options.color='#FFFFFF'] Value of color (0...255)\n           * @param {Number} [options.threshold=45] Value of threshold (0...255)\n           * @override\n           */\n          initialize: function initialize(options) {\n            if (!options) {\n              options = {};\n            }\n\n            this.color = options.color || '#FFFFFF';\n            this.threshold = options.threshold || 45;\n            this.x = options.x || null;\n            this.y = options.y || null;\n          },\n\n          /**\n           * Applies filter to canvas element\n           * @param {Object} canvas Canvas object passed by fabric\n           */\n          // eslint-disable-next-line complexity\n          applyTo: function applyTo(canvas) {\n            var canvasEl = canvas.canvasEl;\n            var context = canvasEl.getContext('2d');\n            var imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height);\n            var data = imageData.data;\n            var threshold = this.threshold;\n\n            var filterColor = _fabric2.default.Color.sourceFromHex(this.color);\n\n            var i = void 0,\n                len = void 0;\n\n            if (this.x && this.y) {\n              filterColor = this._getColor(imageData, this.x, this.y);\n            }\n\n            for (i = 0, len = data.length; i < len; i += 4) {\n              if (this._isOutsideThreshold(data[i], filterColor[0], threshold) || this._isOutsideThreshold(data[i + 1], filterColor[1], threshold) || this._isOutsideThreshold(data[i + 2], filterColor[2], threshold)) {\n                continue;\n              }\n\n              data[i] = data[i + 1] = data[i + 2] = data[i + 3] = 0;\n            }\n\n            context.putImageData(imageData, 0, 0);\n          },\n\n          /**\n           * Check color if it is within threshold\n           * @param {Number} color1 source color\n           * @param {Number} color2 filtering color\n           * @param {Number} threshold threshold\n           * @returns {boolean} true if within threshold or false\n           */\n          _isOutsideThreshold: function _isOutsideThreshold(color1, color2, threshold) {\n            var diff = color1 - color2;\n            return Math.abs(diff) > threshold;\n          },\n\n          /**\n           * Get color at (x, y)\n           * @param {Object} imageData of canvas\n           * @param {Number} x left position\n           * @param {Number} y top position\n           * @returns {Array} color array\n           */\n          _getColor: function _getColor(imageData, x, y) {\n            var color = [0, 0, 0, 0];\n            var data = imageData.data,\n                width = imageData.width;\n            var bytes = 4;\n            var position = (width * y + x) * bytes;\n            color[0] = data[position];\n            color[1] = data[position + 1];\n            color[2] = data[position + 2];\n            color[3] = data[position + 3];\n            return color;\n          }\n        });\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview ColorFilter extending fabric.Image.filters.BaseFilter\n         */\n\n\n        exports.default = ColorFilter;\n        /***/\n      },\n\n      /***/\n      \"./src/js/extension/cropzone.js\":\n      /*!**************************************!*\\\n        !*** ./src/js/extension/cropzone.js ***!\n        \\**************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _defineProperty(obj, key, value) {\n          if (key in obj) {\n            Object.defineProperty(obj, key, {\n              value: value,\n              enumerable: true,\n              configurable: true,\n              writable: true\n            });\n          } else {\n            obj[key] = value;\n          }\n\n          return obj;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Cropzone extending fabric.Rect\n         */\n\n\n        var CORNER_TYPE_TOP_LEFT = 'tl';\n        var CORNER_TYPE_TOP_RIGHT = 'tr';\n        var CORNER_TYPE_MIDDLE_TOP = 'mt';\n        var CORNER_TYPE_MIDDLE_LEFT = 'ml';\n        var CORNER_TYPE_MIDDLE_RIGHT = 'mr';\n        var CORNER_TYPE_MIDDLE_BOTTOM = 'mb';\n        var CORNER_TYPE_BOTTOM_LEFT = 'bl';\n        var CORNER_TYPE_BOTTOM_RIGHT = 'br';\n        var CORNER_TYPE_LIST = [CORNER_TYPE_TOP_LEFT, CORNER_TYPE_TOP_RIGHT, CORNER_TYPE_MIDDLE_TOP, CORNER_TYPE_MIDDLE_LEFT, CORNER_TYPE_MIDDLE_RIGHT, CORNER_TYPE_MIDDLE_BOTTOM, CORNER_TYPE_BOTTOM_LEFT, CORNER_TYPE_BOTTOM_RIGHT];\n\n        var NOOP_FUNCTION = function NOOP_FUNCTION() {};\n        /**\n         * Align with cropzone ratio\n         * @param {string} selectedCorner - selected corner type\n         * @returns {{width: number, height: number}}\n         * @private\n         */\n\n\n        function cornerTypeValid(selectedCorner) {\n          return CORNER_TYPE_LIST.indexOf(selectedCorner) >= 0;\n        }\n        /**\n         * return scale basis type\n         * @param {number} diffX - X distance of the cursor and corner.\n         * @param {number} diffY - Y distance of the cursor and corner.\n         * @returns {string}\n         * @private\n         */\n\n\n        function getScaleBasis(diffX, diffY) {\n          return diffX > diffY ? 'width' : 'height';\n        }\n        /**\n         * Cropzone object\n         * Issue: IE7, 8(with excanvas)\n         *  - Cropzone is a black zone without transparency.\n         * @class Cropzone\n         * @extends {fabric.Rect}\n         * @ignore\n         */\n\n\n        var Cropzone = _fabric2.default.util.createClass(_fabric2.default.Rect,\n        /** @lends Cropzone.prototype */\n        {\n          /**\n           * Constructor\n           * @param {Object} canvas canvas\n           * @param {Object} options Options object\n           * @param {Object} extendsOptions object for extends \"options\"\n           * @override\n           */\n          initialize: function initialize(canvas, options, extendsOptions) {\n            options = _tuiCodeSnippet2.default.extend(options, extendsOptions);\n            options.type = 'cropzone';\n            this.callSuper('initialize', options);\n\n            this._addEventHandler();\n\n            this.canvas = canvas;\n            this.options = options;\n          },\n          canvasEventDelegation: function canvasEventDelegation(eventName) {\n            var delegationState = 'unregistered';\n            var isRegistered = this.canvasEventTrigger[eventName] !== NOOP_FUNCTION;\n\n            if (isRegistered) {\n              delegationState = 'registered';\n            } else if ([_consts.eventNames.OBJECT_MOVED, _consts.eventNames.OBJECT_SCALED].indexOf(eventName) < 0) {\n              delegationState = 'none';\n            }\n\n            return delegationState;\n          },\n          canvasEventRegister: function canvasEventRegister(eventName, eventTrigger) {\n            this.canvasEventTrigger[eventName] = eventTrigger;\n          },\n          _addEventHandler: function _addEventHandler() {\n            var _canvasEventTrigger;\n\n            this.canvasEventTrigger = (_canvasEventTrigger = {}, _defineProperty(_canvasEventTrigger, _consts.eventNames.OBJECT_MOVED, NOOP_FUNCTION), _defineProperty(_canvasEventTrigger, _consts.eventNames.OBJECT_SCALED, NOOP_FUNCTION), _canvasEventTrigger);\n            this.on({\n              moving: this._onMoving.bind(this),\n              scaling: this._onScaling.bind(this)\n            });\n\n            _fabric2.default.util.addListener(document, 'keydown', this._onKeyDown.bind(this));\n\n            _fabric2.default.util.addListener(document, 'keyup', this._onKeyUp.bind(this));\n          },\n          _renderCropzone: function _renderCropzone(ctx) {\n            var cropzoneDashLineWidth = 7;\n            var cropzoneDashLineOffset = 7; // Calc original scale\n\n            var originalFlipX = this.flipX ? -1 : 1;\n            var originalFlipY = this.flipY ? -1 : 1;\n            var originalScaleX = originalFlipX / this.scaleX;\n            var originalScaleY = originalFlipY / this.scaleY; // Set original scale\n\n            ctx.scale(originalScaleX, originalScaleY); // Render outer rect\n\n            this._fillOuterRect(ctx, 'rgba(0, 0, 0, 0.5)');\n\n            if (this.options.lineWidth) {\n              this._fillInnerRect(ctx);\n\n              this._strokeBorder(ctx, 'rgb(255, 255, 255)', {\n                lineWidth: this.options.lineWidth\n              });\n            } else {\n              // Black dash line\n              this._strokeBorder(ctx, 'rgb(0, 0, 0)', {\n                lineDashWidth: cropzoneDashLineWidth\n              }); // White dash line\n\n\n              this._strokeBorder(ctx, 'rgb(255, 255, 255)', {\n                lineDashWidth: cropzoneDashLineWidth,\n                lineDashOffset: cropzoneDashLineOffset\n              });\n            } // Reset scale\n\n\n            ctx.scale(1 / originalScaleX, 1 / originalScaleY);\n          },\n\n          /**\n           * Render Crop-zone\n           * @private\n           * @override\n           */\n          _render: function _render(ctx) {\n            this.callSuper('_render', ctx);\n\n            this._renderCropzone(ctx);\n          },\n\n          /**\n           * Cropzone-coordinates with outer rectangle\n           *\n           *     x0     x1         x2      x3\n           *  y0 +--------------------------+\n           *     |///////|//////////|///////|    // <--- \"Outer-rectangle\"\n           *     |///////|//////////|///////|\n           *  y1 +-------+----------+-------+\n           *     |///////| Cropzone |///////|    Cropzone is the \"Inner-rectangle\"\n           *     |///////|  (0, 0)  |///////|    Center point (0, 0)\n           *  y2 +-------+----------+-------+\n           *     |///////|//////////|///////|\n           *     |///////|//////////|///////|\n           *  y3 +--------------------------+\n           *\n           * @typedef {{x: Array<number>, y: Array<number>}} cropzoneCoordinates\n           * @ignore\n           */\n\n          /**\n           * Fill outer rectangle\n           * @param {CanvasRenderingContext2D} ctx - Context\n           * @param {string|CanvasGradient|CanvasPattern} fillStyle - Fill-style\n           * @private\n           */\n          _fillOuterRect: function _fillOuterRect(ctx, fillStyle) {\n            var _getCoordinates = this._getCoordinates(),\n                x = _getCoordinates.x,\n                y = _getCoordinates.y;\n\n            ctx.save();\n            ctx.fillStyle = fillStyle;\n            ctx.beginPath(); // Outer rectangle\n            // Numbers are +/-1 so that overlay edges don't get blurry.\n\n            ctx.moveTo(x[0] - 1, y[0] - 1);\n            ctx.lineTo(x[3] + 1, y[0] - 1);\n            ctx.lineTo(x[3] + 1, y[3] + 1);\n            ctx.lineTo(x[0] - 1, y[3] + 1);\n            ctx.lineTo(x[0] - 1, y[0] - 1);\n            ctx.closePath(); // Inner rectangle\n\n            ctx.moveTo(x[1], y[1]);\n            ctx.lineTo(x[1], y[2]);\n            ctx.lineTo(x[2], y[2]);\n            ctx.lineTo(x[2], y[1]);\n            ctx.lineTo(x[1], y[1]);\n            ctx.closePath();\n            ctx.fill();\n            ctx.restore();\n          },\n\n          /**\n           * Draw Inner grid line\n           * @param {CanvasRenderingContext2D} ctx - Context\n           * @private\n           */\n          _fillInnerRect: function _fillInnerRect(ctx) {\n            var _getCoordinates2 = this._getCoordinates(),\n                outerX = _getCoordinates2.x,\n                outerY = _getCoordinates2.y;\n\n            var x = this._caculateInnerPosition(outerX, (outerX[2] - outerX[1]) / 3);\n\n            var y = this._caculateInnerPosition(outerY, (outerY[2] - outerY[1]) / 3);\n\n            ctx.save();\n            ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)';\n            ctx.lineWidth = this.options.lineWidth;\n            ctx.beginPath();\n            ctx.moveTo(x[0], y[1]);\n            ctx.lineTo(x[3], y[1]);\n            ctx.moveTo(x[0], y[2]);\n            ctx.lineTo(x[3], y[2]);\n            ctx.moveTo(x[1], y[0]);\n            ctx.lineTo(x[1], y[3]);\n            ctx.moveTo(x[2], y[0]);\n            ctx.lineTo(x[2], y[3]);\n            ctx.stroke();\n            ctx.closePath();\n            ctx.restore();\n          },\n\n          /**\n           * Calculate Inner Position\n           * @param {Array} outer - outer position\n           * @param {number} size - interval for calculate\n           * @returns {Array} - inner position\n           * @private\n           */\n          _caculateInnerPosition: function _caculateInnerPosition(outer, size) {\n            var position = [];\n            position[0] = outer[1];\n            position[1] = outer[1] + size;\n            position[2] = outer[1] + size * 2;\n            position[3] = outer[2];\n            return position;\n          },\n\n          /**\n           * Get coordinates\n           * @returns {cropzoneCoordinates} - {@link cropzoneCoordinates}\n           * @private\n           */\n          _getCoordinates: function _getCoordinates() {\n            var canvas = this.canvas,\n                width = this.width,\n                height = this.height,\n                left = this.left,\n                top = this.top;\n            var halfWidth = width / 2;\n            var halfHeight = height / 2;\n            var canvasHeight = canvas.getHeight(); // fabric object\n\n            var canvasWidth = canvas.getWidth(); // fabric object\n\n            return {\n              x: _tuiCodeSnippet2.default.map([-(halfWidth + left), // x0\n              -halfWidth, // x1\n              halfWidth, // x2\n              halfWidth + (canvasWidth - left - width)], Math.ceil),\n              y: _tuiCodeSnippet2.default.map([-(halfHeight + top), // y0\n              -halfHeight, // y1\n              halfHeight, // y2\n              halfHeight + (canvasHeight - top - height)], Math.ceil)\n            };\n          },\n\n          /**\n           * Stroke border\n           * @param {CanvasRenderingContext2D} ctx - Context\n           * @param {string|CanvasGradient|CanvasPattern} strokeStyle - Stroke-style\n           * @param {number} lineDashWidth - Dash width\n           * @param {number} [lineDashOffset] - Dash offset\n           * @param {number} [lineWidth] - line width\n           * @private\n           */\n          _strokeBorder: function _strokeBorder(ctx, strokeStyle, _ref) {\n            var lineDashWidth = _ref.lineDashWidth,\n                lineDashOffset = _ref.lineDashOffset,\n                lineWidth = _ref.lineWidth;\n            var halfWidth = this.width / 2;\n            var halfHeight = this.height / 2;\n            ctx.save();\n            ctx.strokeStyle = strokeStyle;\n\n            if (ctx.setLineDash) {\n              ctx.setLineDash([lineDashWidth, lineDashWidth]);\n            }\n\n            if (lineDashOffset) {\n              ctx.lineDashOffset = lineDashOffset;\n            }\n\n            if (lineWidth) {\n              ctx.lineWidth = lineWidth;\n            }\n\n            ctx.beginPath();\n            ctx.moveTo(-halfWidth, -halfHeight);\n            ctx.lineTo(halfWidth, -halfHeight);\n            ctx.lineTo(halfWidth, halfHeight);\n            ctx.lineTo(-halfWidth, halfHeight);\n            ctx.lineTo(-halfWidth, -halfHeight);\n            ctx.stroke();\n            ctx.restore();\n          },\n\n          /**\n           * onMoving event listener\n           * @private\n           */\n          _onMoving: function _onMoving() {\n            var height = this.height,\n                width = this.width,\n                left = this.left,\n                top = this.top;\n            var maxLeft = this.canvas.getWidth() - width;\n            var maxTop = this.canvas.getHeight() - height;\n            this.left = (0, _util.clamp)(left, 0, maxLeft);\n            this.top = (0, _util.clamp)(top, 0, maxTop);\n\n            this.canvasEventTrigger[_consts.eventNames.OBJECT_MOVED](this);\n          },\n\n          /**\n           * onScaling event listener\n           * @param {{e: MouseEvent}} fEvent - Fabric event\n           * @private\n           */\n          _onScaling: function _onScaling(fEvent) {\n            var selectedCorner = fEvent.transform.corner;\n            var pointer = this.canvas.getPointer(fEvent.e);\n\n            var settings = this._calcScalingSizeFromPointer(pointer, selectedCorner); // On scaling cropzone,\n            // change real width and height and fix scaleFactor to 1\n\n\n            this.scale(1).set(settings);\n\n            this.canvasEventTrigger[_consts.eventNames.OBJECT_SCALED](this);\n          },\n\n          /**\n           * Calc scaled size from mouse pointer with selected corner\n           * @param {{x: number, y: number}} pointer - Mouse position\n           * @param {string} selectedCorner - selected corner type\n           * @returns {Object} Having left or(and) top or(and) width or(and) height.\n           * @private\n           */\n          _calcScalingSizeFromPointer: function _calcScalingSizeFromPointer(pointer, selectedCorner) {\n            var isCornerTypeValid = cornerTypeValid(selectedCorner);\n            return isCornerTypeValid && this._resizeCropZone(pointer, selectedCorner);\n          },\n\n          /**\n           * Align with cropzone ratio\n           * @param {number} width - cropzone width\n           * @param {number} height - cropzone height\n           * @param {number} maxWidth - limit max width\n           * @param {number} maxHeight - limit max height\n           * @param {number} scaleTo - cropzone ratio\n           * @returns {{width: number, height: number}}\n           * @private\n           */\n          adjustRatioCropzoneSize: function adjustRatioCropzoneSize(_ref2) {\n            var width = _ref2.width,\n                height = _ref2.height,\n                leftMaker = _ref2.leftMaker,\n                topMaker = _ref2.topMaker,\n                maxWidth = _ref2.maxWidth,\n                maxHeight = _ref2.maxHeight,\n                scaleTo = _ref2.scaleTo;\n            width = maxWidth ? (0, _util.clamp)(width, 1, maxWidth) : width;\n            height = maxHeight ? (0, _util.clamp)(height, 1, maxHeight) : height;\n\n            if (!this.presetRatio) {\n              if (this._withShiftKey) {\n                // make fixed ratio cropzone\n                if (width > height) {\n                  height = width;\n                } else if (height > width) {\n                  width = height;\n                }\n              }\n\n              return {\n                width: width,\n                height: height,\n                left: leftMaker(width),\n                top: topMaker(height)\n              };\n            }\n\n            if (scaleTo === 'width') {\n              height = width / this.presetRatio;\n            } else {\n              width = height * this.presetRatio;\n            }\n\n            var maxScaleFactor = Math.min(maxWidth / width, maxHeight / height);\n\n            if (maxScaleFactor <= 1) {\n              var _map = [width, height].map(function (v) {\n                return v * maxScaleFactor;\n              });\n\n              width = _map[0];\n              height = _map[1];\n            }\n\n            return {\n              width: width,\n              height: height,\n              left: leftMaker(width),\n              top: topMaker(height)\n            };\n          },\n\n          /**\n           * Get dimension last state cropzone\n           * @returns {{rectTop: number, rectLeft: number, rectWidth: number, rectHeight: number}}\n           * @private\n           */\n          _getCropzoneRectInfo: function _getCropzoneRectInfo() {\n            var _canvas = this.canvas,\n                canvasWidth = _canvas.width,\n                canvasHeight = _canvas.height;\n\n            var _getBoundingRect = this.getBoundingRect(false, true),\n                rectTop = _getBoundingRect.top,\n                rectLeft = _getBoundingRect.left,\n                rectWidth = _getBoundingRect.width,\n                rectHeight = _getBoundingRect.height;\n\n            return {\n              rectTop: rectTop,\n              rectLeft: rectLeft,\n              rectWidth: rectWidth,\n              rectHeight: rectHeight,\n              rectRight: rectLeft + rectWidth,\n              rectBottom: rectTop + rectHeight,\n              canvasWidth: canvasWidth,\n              canvasHeight: canvasHeight\n            };\n          },\n\n          /**\n           * Calc scaling dimension\n           * @param {Object} position - Mouse position\n           * @param {string} corner - corner type\n           * @returns {{left: number, top: number, width: number, height: number}}\n           * @private\n           */\n          _resizeCropZone: function _resizeCropZone(_ref3, corner) {\n            var x = _ref3.x,\n                y = _ref3.y;\n\n            var _getCropzoneRectInfo2 = this._getCropzoneRectInfo(),\n                rectWidth = _getCropzoneRectInfo2.rectWidth,\n                rectHeight = _getCropzoneRectInfo2.rectHeight,\n                rectTop = _getCropzoneRectInfo2.rectTop,\n                rectLeft = _getCropzoneRectInfo2.rectLeft,\n                rectBottom = _getCropzoneRectInfo2.rectBottom,\n                rectRight = _getCropzoneRectInfo2.rectRight,\n                canvasWidth = _getCropzoneRectInfo2.canvasWidth,\n                canvasHeight = _getCropzoneRectInfo2.canvasHeight;\n\n            var resizeInfoMap = {\n              tl: {\n                width: rectRight - x,\n                height: rectBottom - y,\n                leftMaker: function leftMaker(newWidth) {\n                  return rectRight - newWidth;\n                },\n                topMaker: function topMaker(newHeight) {\n                  return rectBottom - newHeight;\n                },\n                maxWidth: rectRight,\n                maxHeight: rectBottom,\n                scaleTo: getScaleBasis(rectLeft - x, rectTop - y)\n              },\n              tr: {\n                width: x - rectLeft,\n                height: rectBottom - y,\n                leftMaker: function leftMaker() {\n                  return rectLeft;\n                },\n                topMaker: function topMaker(newHeight) {\n                  return rectBottom - newHeight;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: rectBottom,\n                scaleTo: getScaleBasis(x - rectRight, rectTop - y)\n              },\n              mt: {\n                width: rectWidth,\n                height: rectBottom - y,\n                leftMaker: function leftMaker() {\n                  return rectLeft;\n                },\n                topMaker: function topMaker(newHeight) {\n                  return rectBottom - newHeight;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: rectBottom,\n                scaleTo: 'height'\n              },\n              ml: {\n                width: rectRight - x,\n                height: rectHeight,\n                leftMaker: function leftMaker(newWidth) {\n                  return rectRight - newWidth;\n                },\n                topMaker: function topMaker() {\n                  return rectTop;\n                },\n                maxWidth: rectRight,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'width'\n              },\n              mr: {\n                width: x - rectLeft,\n                height: rectHeight,\n                leftMaker: function leftMaker() {\n                  return rectLeft;\n                },\n                topMaker: function topMaker() {\n                  return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'width'\n              },\n              mb: {\n                width: rectWidth,\n                height: y - rectTop,\n                leftMaker: function leftMaker() {\n                  return rectLeft;\n                },\n                topMaker: function topMaker() {\n                  return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'height'\n              },\n              bl: {\n                width: rectRight - x,\n                height: y - rectTop,\n                leftMaker: function leftMaker(newWidth) {\n                  return rectRight - newWidth;\n                },\n                topMaker: function topMaker() {\n                  return rectTop;\n                },\n                maxWidth: rectRight,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: getScaleBasis(rectLeft - x, y - rectBottom)\n              },\n              br: {\n                width: x - rectLeft,\n                height: y - rectTop,\n                leftMaker: function leftMaker() {\n                  return rectLeft;\n                },\n                topMaker: function topMaker() {\n                  return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: getScaleBasis(x - rectRight, y - rectBottom)\n              }\n            };\n            return this.adjustRatioCropzoneSize(resizeInfoMap[corner]);\n          },\n\n          /**\n           * Return the whether this cropzone is valid\n           * @returns {boolean}\n           */\n          isValid: function isValid() {\n            return this.left >= 0 && this.top >= 0 && this.width > 0 && this.height > 0;\n          },\n\n          /**\n           * Keydown event handler\n           * @param {{number}} keyCode - Event keyCode\n           * @private\n           */\n          _onKeyDown: function _onKeyDown(_ref4) {\n            var keyCode = _ref4.keyCode;\n\n            if (keyCode === _consts.keyCodes.SHIFT) {\n              this._withShiftKey = true;\n            }\n          },\n\n          /**\n           * Keyup event handler\n           * @param {{number}} keyCode - Event keyCode\n           * @private\n           */\n          _onKeyUp: function _onKeyUp(_ref5) {\n            var keyCode = _ref5.keyCode;\n\n            if (keyCode === _consts.keyCodes.SHIFT) {\n              this._withShiftKey = false;\n            }\n          }\n        });\n\n        exports.default = Cropzone;\n        /***/\n      },\n\n      /***/\n      \"./src/js/extension/emboss.js\":\n      /*!************************************!*\\\n        !*** ./src/js/extension/emboss.js ***!\n        \\************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * Emboss object\n         * @class Emboss\n         * @extends {fabric.Image.filters.Convolute}\n         * @ignore\n         */\n\n\n        var Emboss = _fabric2.default.util.createClass(_fabric2.default.Image.filters.Convolute,\n        /** @lends Convolute.prototype */\n        {\n          /**\n           * Filter type\n           * @param {String} type\n           * @default\n           */\n          type: 'Emboss',\n\n          /**\n           * constructor\n           * @override\n           */\n          initialize: function initialize() {\n            this.matrix = [1, 1, 1, 1, 0.7, -1, -1, -1, -1];\n          }\n        });\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Emboss extending fabric.Image.filters.Convolute\n         */\n\n\n        exports.default = Emboss;\n        /***/\n      },\n\n      /***/\n      \"./src/js/extension/mask.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/extension/mask.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * Mask object\n         * @class Mask\n         * @extends {fabric.Image.filters.BlendImage}\n         * @ignore\n         */\n\n\n        var Mask = _fabric2.default.util.createClass(_fabric2.default.Image.filters.BlendImage,\n        /** @lends Mask.prototype */\n        {\n          /**\n           * Apply filter to canvas element\n           * @param {Object} pipelineState - Canvas element to apply filter\n           * @override\n           */\n          applyTo: function applyTo(pipelineState) {\n            if (!this.mask) {\n              return;\n            }\n\n            var canvas = pipelineState.canvasEl;\n            var width = canvas.width,\n                height = canvas.height;\n\n            var maskCanvasEl = this._createCanvasOfMask(width, height);\n\n            var ctx = canvas.getContext('2d');\n            var maskCtx = maskCanvasEl.getContext('2d');\n            var imageData = ctx.getImageData(0, 0, width, height);\n\n            this._drawMask(maskCtx, canvas, ctx);\n\n            this._mapData(maskCtx, imageData, width, height);\n\n            pipelineState.imageData = imageData;\n          },\n\n          /**\n           * Create canvas of mask image\n           * @param {number} width - Width of main canvas\n           * @param {number} height - Height of main canvas\n           * @returns {HTMLElement} Canvas element\n           * @private\n           */\n          _createCanvasOfMask: function _createCanvasOfMask(width, height) {\n            var maskCanvasEl = _fabric2.default.util.createCanvasElement();\n\n            maskCanvasEl.width = width;\n            maskCanvasEl.height = height;\n            return maskCanvasEl;\n          },\n\n          /**\n           * Draw mask image on canvas element\n           * @param {Object} maskCtx - Context of mask canvas\n           * @private\n           */\n          _drawMask: function _drawMask(maskCtx) {\n            var mask = this.mask;\n            var maskImg = mask.getElement();\n            var angle = mask.angle,\n                left = mask.left,\n                scaleX = mask.scaleX,\n                scaleY = mask.scaleY,\n                top = mask.top;\n            maskCtx.save();\n            maskCtx.translate(left, top);\n            maskCtx.rotate(angle * Math.PI / 180);\n            maskCtx.scale(scaleX, scaleY);\n            maskCtx.drawImage(maskImg, -maskImg.width / 2, -maskImg.height / 2);\n            maskCtx.restore();\n          },\n\n          /**\n           * Map mask image data to source image data\n           * @param {Object} maskCtx - Context of mask canvas\n           * @param {Object} imageData - Data of source image\n           * @param {number} width - Width of main canvas\n           * @param {number} height - Height of main canvas\n           * @private\n           */\n          _mapData: function _mapData(maskCtx, imageData, width, height) {\n            var data = imageData.data,\n                imgHeight = imageData.height,\n                imgWidth = imageData.width;\n            var sourceData = data;\n            var len = imgWidth * imgHeight * 4;\n            var maskData = maskCtx.getImageData(0, 0, width, height).data;\n\n            for (var i = 0; i < len; i += 4) {\n              sourceData[i + 3] = maskData[i]; // adjust value of alpha data\n            }\n          }\n        });\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Mask extending fabric.Image.filters.Mask\n         */\n\n\n        exports.default = Mask;\n        /***/\n      },\n\n      /***/\n      \"./src/js/extension/sharpen.js\":\n      /*!*************************************!*\\\n        !*** ./src/js/extension/sharpen.js ***!\n        \\*************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * Sharpen object\n         * @class Sharpen\n         * @extends {fabric.Image.filters.Convolute}\n         * @ignore\n         */\n\n\n        var Sharpen = _fabric2.default.util.createClass(_fabric2.default.Image.filters.Convolute,\n        /** @lends Convolute.prototype */\n        {\n          /**\n           * Filter type\n           * @param {String} type\n           * @default\n           */\n          type: 'Sharpen',\n\n          /**\n           * constructor\n           * @override\n           */\n          initialize: function initialize() {\n            this.matrix = [0, -1, 0, -1, 5, -1, 0, -1, 0];\n          }\n        });\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Sharpen extending fabric.Image.filters.Convolute\n         */\n\n\n        exports.default = Sharpen;\n        /***/\n      },\n\n      /***/\n      \"./src/js/factory/command.js\":\n      /*!***********************************!*\\\n        !*** ./src/js/factory/command.js ***!\n        \\***********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _command = __webpack_require__(\n        /*! @/interface/command */\n        \"./src/js/interface/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var commands = {};\n        /**\n         * Create a command\n         * @param {string} name - Command name\n         * @param {...*} args - Arguments for creating command\n         * @returns {Command}\n         * @ignore\n         */\n\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Command factory\n         */\n\n        function create(name) {\n          var actions = commands[name];\n\n          if (actions) {\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n              args[_key - 1] = arguments[_key];\n            }\n\n            return new _command2.default(actions, args);\n          }\n\n          return null;\n        }\n        /**\n         * Register a command with name as a key\n         * @param {Object} command - {name:{string}, execute: {function}, undo: {function}}\n         * @param {string} command.name - command name\n         * @param {function} command.execute - executable function\n         * @param {function} command.undo - undo function\n         * @ignore\n         */\n\n\n        function register(command) {\n          commands[command.name] = command;\n        }\n\n        exports.default = {\n          create: create,\n          register: register\n        };\n        /***/\n      },\n\n      /***/\n      \"./src/js/factory/errorMessage.js\":\n      /*!****************************************!*\\\n        !*** ./src/js/factory/errorMessage.js ***!\n        \\****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Error-message factory\n         */\n\n\n        var types = (0, _util.keyMirror)('UN_IMPLEMENTATION', 'NO_COMPONENT_NAME');\n        var messages = {\n          UN_IMPLEMENTATION: 'Should implement a method: ',\n          NO_COMPONENT_NAME: 'Should set a component name'\n        };\n        var map = {\n          UN_IMPLEMENTATION: function UN_IMPLEMENTATION(methodName) {\n            return messages.UN_IMPLEMENTATION + methodName;\n          },\n          NO_COMPONENT_NAME: function NO_COMPONENT_NAME() {\n            return messages.NO_COMPONENT_NAME;\n          }\n        };\n        exports.default = {\n          types: _tuiCodeSnippet2.default.extend({}, types),\n          create: function create(type) {\n            type = type.toLowerCase();\n            var func = map[type];\n\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n              args[_key - 1] = arguments[_key];\n            }\n\n            return func.apply(undefined, args);\n          }\n        };\n        /***/\n      },\n\n      /***/\n      \"./src/js/graphics.js\":\n      /*!****************************!*\\\n        !*** ./src/js/graphics.js ***!\n        \\****************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Graphics module\n         */\n\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _fabric = __webpack_require__(\n        /*! fabric */\n        \"fabric\");\n\n        var _fabric2 = _interopRequireDefault(_fabric);\n\n        var _imageLoader = __webpack_require__(\n        /*! @/component/imageLoader */\n        \"./src/js/component/imageLoader.js\");\n\n        var _imageLoader2 = _interopRequireDefault(_imageLoader);\n\n        var _cropper = __webpack_require__(\n        /*! @/component/cropper */\n        \"./src/js/component/cropper.js\");\n\n        var _cropper2 = _interopRequireDefault(_cropper);\n\n        var _flip = __webpack_require__(\n        /*! @/component/flip */\n        \"./src/js/component/flip.js\");\n\n        var _flip2 = _interopRequireDefault(_flip);\n\n        var _rotation = __webpack_require__(\n        /*! @/component/rotation */\n        \"./src/js/component/rotation.js\");\n\n        var _rotation2 = _interopRequireDefault(_rotation);\n\n        var _freeDrawing = __webpack_require__(\n        /*! @/component/freeDrawing */\n        \"./src/js/component/freeDrawing.js\");\n\n        var _freeDrawing2 = _interopRequireDefault(_freeDrawing);\n\n        var _line = __webpack_require__(\n        /*! @/component/line */\n        \"./src/js/component/line.js\");\n\n        var _line2 = _interopRequireDefault(_line);\n\n        var _text = __webpack_require__(\n        /*! @/component/text */\n        \"./src/js/component/text.js\");\n\n        var _text2 = _interopRequireDefault(_text);\n\n        var _icon = __webpack_require__(\n        /*! @/component/icon */\n        \"./src/js/component/icon.js\");\n\n        var _icon2 = _interopRequireDefault(_icon);\n\n        var _filter = __webpack_require__(\n        /*! @/component/filter */\n        \"./src/js/component/filter.js\");\n\n        var _filter2 = _interopRequireDefault(_filter);\n\n        var _shape = __webpack_require__(\n        /*! @/component/shape */\n        \"./src/js/component/shape.js\");\n\n        var _shape2 = _interopRequireDefault(_shape);\n\n        var _zoom = __webpack_require__(\n        /*! @/component/zoom */\n        \"./src/js/component/zoom.js\");\n\n        var _zoom2 = _interopRequireDefault(_zoom);\n\n        var _cropper3 = __webpack_require__(\n        /*! @/drawingMode/cropper */\n        \"./src/js/drawingMode/cropper.js\");\n\n        var _cropper4 = _interopRequireDefault(_cropper3);\n\n        var _freeDrawing3 = __webpack_require__(\n        /*! @/drawingMode/freeDrawing */\n        \"./src/js/drawingMode/freeDrawing.js\");\n\n        var _freeDrawing4 = _interopRequireDefault(_freeDrawing3);\n\n        var _lineDrawing = __webpack_require__(\n        /*! @/drawingMode/lineDrawing */\n        \"./src/js/drawingMode/lineDrawing.js\");\n\n        var _lineDrawing2 = _interopRequireDefault(_lineDrawing);\n\n        var _shape3 = __webpack_require__(\n        /*! @/drawingMode/shape */\n        \"./src/js/drawingMode/shape.js\");\n\n        var _shape4 = _interopRequireDefault(_shape3);\n\n        var _text3 = __webpack_require__(\n        /*! @/drawingMode/text */\n        \"./src/js/drawingMode/text.js\");\n\n        var _text4 = _interopRequireDefault(_text3);\n\n        var _icon3 = __webpack_require__(\n        /*! @/drawingMode/icon */\n        \"./src/js/drawingMode/icon.js\");\n\n        var _icon4 = _interopRequireDefault(_icon3);\n\n        var _zoom3 = __webpack_require__(\n        /*! @/drawingMode/zoom */\n        \"./src/js/drawingMode/zoom.js\");\n\n        var _zoom4 = _interopRequireDefault(_zoom3);\n\n        var _selectionModifyHelper = __webpack_require__(\n        /*! @/helper/selectionModifyHelper */\n        \"./src/js/helper/selectionModifyHelper.js\");\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var extend = _tuiCodeSnippet2.default.extend,\n            stamp = _tuiCodeSnippet2.default.stamp,\n            isArray = _tuiCodeSnippet2.default.isArray,\n            isString = _tuiCodeSnippet2.default.isString,\n            forEachArray = _tuiCodeSnippet2.default.forEachArray,\n            forEachOwnProperties = _tuiCodeSnippet2.default.forEachOwnProperties,\n            CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\n        var DEFAULT_CSS_MAX_WIDTH = 1000;\n        var DEFAULT_CSS_MAX_HEIGHT = 800;\n        var EXTRA_PX_FOR_PASTE = 10;\n        var cssOnly = {\n          cssOnly: true\n        };\n        var backstoreOnly = {\n          backstoreOnly: true\n        };\n        /**\n         * Graphics class\n         * @class\n         * @param {string|HTMLElement} wrapper - Wrapper's element or selector\n         * @param {Object} [option] - Canvas max width & height of css\n         *  @param {number} option.cssMaxWidth - Canvas css-max-width\n         *  @param {number} option.cssMaxHeight - Canvas css-max-height\n         * @ignore\n         */\n\n        var Graphics = function () {\n          function Graphics(element) {\n            var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n                cssMaxWidth = _ref.cssMaxWidth,\n                cssMaxHeight = _ref.cssMaxHeight;\n\n            _classCallCheck(this, Graphics);\n            /**\n             * Fabric image instance\n             * @type {fabric.Image}\n             */\n\n\n            this.canvasImage = null;\n            /**\n             * Max width of canvas elements\n             * @type {number}\n             */\n\n            this.cssMaxWidth = cssMaxWidth || DEFAULT_CSS_MAX_WIDTH;\n            /**\n             * Max height of canvas elements\n             * @type {number}\n             */\n\n            this.cssMaxHeight = cssMaxHeight || DEFAULT_CSS_MAX_HEIGHT;\n            /**\n             * cropper Selection Style\n             * @type {Object}\n             */\n\n            this.cropSelectionStyle = {};\n            /**\n             * target fabric object for copy paste feature\n             * @type {fabric.Object}\n             * @private\n             */\n\n            this.targetObjectForCopyPaste = null;\n            /**\n             * Image name\n             * @type {string}\n             */\n\n            this.imageName = '';\n            /**\n             * Object Map\n             * @type {Object}\n             * @private\n             */\n\n            this._objects = {};\n            /**\n             * Fabric-Canvas instance\n             * @type {fabric.Canvas}\n             * @private\n             */\n\n            this._canvas = null;\n            /**\n             * Drawing mode\n             * @type {string}\n             * @private\n             */\n\n            this._drawingMode = _consts.drawingModes.NORMAL;\n            /**\n             * DrawingMode map\n             * @type {Object.<string, DrawingMode>}\n             * @private\n             */\n\n            this._drawingModeMap = {};\n            /**\n             * Component map\n             * @type {Object.<string, Component>}\n             * @private\n             */\n\n            this._componentMap = {};\n            /**\n             * fabric event handlers\n             * @type {Object.<string, function>}\n             * @private\n             */\n\n            this._handler = {\n              onMouseDown: this._onMouseDown.bind(this),\n              onObjectAdded: this._onObjectAdded.bind(this),\n              onObjectRemoved: this._onObjectRemoved.bind(this),\n              onObjectMoved: this._onObjectMoved.bind(this),\n              onObjectScaled: this._onObjectScaled.bind(this),\n              onObjectModified: this._onObjectModified.bind(this),\n              onObjectRotated: this._onObjectRotated.bind(this),\n              onObjectSelected: this._onObjectSelected.bind(this),\n              onPathCreated: this._onPathCreated.bind(this),\n              onSelectionCleared: this._onSelectionCleared.bind(this),\n              onSelectionCreated: this._onSelectionCreated.bind(this)\n            };\n\n            this._setObjectCachingToFalse();\n\n            this._setCanvasElement(element);\n\n            this._createDrawingModeInstances();\n\n            this._createComponents();\n\n            this._attachCanvasEvents();\n\n            this._attachZoomEvents();\n          }\n          /**\n           * Destroy canvas element\n           */\n\n\n          _createClass(Graphics, [{\n            key: 'destroy',\n            value: function destroy() {\n              var wrapperEl = this._canvas.wrapperEl;\n\n              this._canvas.clear();\n\n              wrapperEl.parentNode.removeChild(wrapperEl);\n\n              this._detachZoomEvents();\n            }\n            /**\n             * Attach zoom events\n             */\n\n          }, {\n            key: '_attachZoomEvents',\n            value: function _attachZoomEvents() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.attachKeyboardZoomEvents();\n            }\n            /**\n             * Detach zoom events\n             */\n\n          }, {\n            key: '_detachZoomEvents',\n            value: function _detachZoomEvents() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.detachKeyboardZoomEvents();\n            }\n            /**\n             * Deactivates all objects on canvas\n             * @returns {Graphics} this\n             */\n\n          }, {\n            key: 'deactivateAll',\n            value: function deactivateAll() {\n              this._canvas.discardActiveObject();\n\n              return this;\n            }\n            /**\n             * Renders all objects on canvas\n             * @returns {Graphics} this\n             */\n\n          }, {\n            key: 'renderAll',\n            value: function renderAll() {\n              this._canvas.renderAll();\n\n              return this;\n            }\n            /**\n             * Adds objects on canvas\n             * @param {Object|Array} objects - objects\n             */\n\n          }, {\n            key: 'add',\n            value: function add(objects) {\n              var _canvas;\n\n              var theArgs = [];\n\n              if (isArray(objects)) {\n                theArgs = objects;\n              } else {\n                theArgs.push(objects);\n              }\n\n              (_canvas = this._canvas).add.apply(_canvas, theArgs);\n            }\n            /**\n             * Removes the object or group\n             * @param {Object} target - graphics object or group\n             * @returns {boolean} true if contains or false\n             */\n\n          }, {\n            key: 'contains',\n            value: function contains(target) {\n              return this._canvas.contains(target);\n            }\n            /**\n             * Gets all objects or group\n             * @returns {Array} all objects, shallow copy\n             */\n\n          }, {\n            key: 'getObjects',\n            value: function getObjects() {\n              return this._canvas.getObjects().slice();\n            }\n            /**\n             * Get an object by id\n             * @param {number} id - object id\n             * @returns {fabric.Object} object corresponding id\n             */\n\n          }, {\n            key: 'getObject',\n            value: function getObject(id) {\n              return this._objects[id];\n            }\n            /**\n             * Removes the object or group\n             * @param {Object} target - graphics object or group\n             */\n\n          }, {\n            key: 'remove',\n            value: function remove(target) {\n              this._canvas.remove(target);\n            }\n            /**\n             * Removes all object or group\n             * @param {boolean} includesBackground - remove the background image or not\n             * @returns {Array} all objects array which is removed\n             */\n\n          }, {\n            key: 'removeAll',\n            value: function removeAll(includesBackground) {\n              var canvas = this._canvas;\n              var objects = canvas.getObjects().slice();\n              canvas.remove.apply(canvas, this._canvas.getObjects());\n\n              if (includesBackground) {\n                canvas.clear();\n              }\n\n              return objects;\n            }\n            /**\n             * Removes an object or group by id\n             * @param {number} id - object id\n             * @returns {Array} removed objects\n             */\n\n          }, {\n            key: 'removeObjectById',\n            value: function removeObjectById(id) {\n              var objects = [];\n              var canvas = this._canvas;\n              var target = this.getObject(id);\n              var isValidGroup = target && target.isType('group') && !target.isEmpty();\n\n              if (isValidGroup) {\n                canvas.discardActiveObject(); // restore states for each objects\n\n                target.forEachObject(function (obj) {\n                  objects.push(obj);\n                  canvas.remove(obj);\n                });\n              } else if (canvas.contains(target)) {\n                objects.push(target);\n                canvas.remove(target);\n              }\n\n              return objects;\n            }\n            /**\n             * Get an id by object instance\n             * @param {fabric.Object} object object\n             * @returns {number} object id if it exists or null\n             */\n\n          }, {\n            key: 'getObjectId',\n            value: function getObjectId(object) {\n              var key = null;\n\n              for (key in this._objects) {\n                if (this._objects.hasOwnProperty(key)) {\n                  if (object === this._objects[key]) {\n                    return key;\n                  }\n                }\n              }\n\n              return null;\n            }\n            /**\n             * Gets an active object or group\n             * @returns {Object} active object or group instance\n             */\n\n          }, {\n            key: 'getActiveObject',\n            value: function getActiveObject() {\n              return this._canvas._activeObject;\n            }\n            /**\n             * Returns the object ID to delete the object.\n             * @returns {number} object id for remove\n             */\n\n          }, {\n            key: 'getActiveObjectIdForRemove',\n            value: function getActiveObjectIdForRemove() {\n              var activeObject = this.getActiveObject();\n              var type = activeObject.type,\n                  left = activeObject.left,\n                  top = activeObject.top;\n              var isSelection = type === 'activeSelection';\n\n              if (isSelection) {\n                var group = new _fabric2.default.Group([].concat(activeObject.getObjects()), {\n                  left: left,\n                  top: top\n                });\n                return this._addFabricObject(group);\n              }\n\n              return this.getObjectId(activeObject);\n            }\n            /**\n             * Verify that you are ready to erase the object.\n             * @returns {boolean} ready for object remove\n             */\n\n          }, {\n            key: 'isReadyRemoveObject',\n            value: function isReadyRemoveObject() {\n              var activeObject = this.getActiveObject();\n              return activeObject && !activeObject.isEditing;\n            }\n            /**\n             * Gets an active group object\n             * @returns {Object} active group object instance\n             */\n\n          }, {\n            key: 'getActiveObjects',\n            value: function getActiveObjects() {\n              var activeObject = this._canvas._activeObject;\n              return activeObject && activeObject.type === 'activeSelection' ? activeObject : null;\n            }\n            /**\n             * Get Active object Selection from object ids\n             * @param {Array.<Object>} objects - fabric objects\n             * @returns {Object} target - target object group\n             */\n\n          }, {\n            key: 'getActiveSelectionFromObjects',\n            value: function getActiveSelectionFromObjects(objects) {\n              var canvas = this.getCanvas();\n              return new _fabric2.default.ActiveSelection(objects, {\n                canvas: canvas\n              });\n            }\n            /**\n             * Activates an object or group\n             * @param {Object} target - target object or group\n             */\n\n          }, {\n            key: 'setActiveObject',\n            value: function setActiveObject(target) {\n              this._canvas.setActiveObject(target);\n            }\n            /**\n             * Set Crop selection style\n             * @param {Object} style - Selection styles\n             */\n\n          }, {\n            key: 'setCropSelectionStyle',\n            value: function setCropSelectionStyle(style) {\n              this.cropSelectionStyle = style;\n            }\n            /**\n             * Get component\n             * @param {string} name - Component name\n             * @returns {Component}\n             */\n\n          }, {\n            key: 'getComponent',\n            value: function getComponent(name) {\n              return this._componentMap[name];\n            }\n            /**\n             * Get current drawing mode\n             * @returns {string}\n             */\n\n          }, {\n            key: 'getDrawingMode',\n            value: function getDrawingMode() {\n              return this._drawingMode;\n            }\n            /**\n             * Start a drawing mode. If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n             * @param {String} mode Can be one of <I>'CROPPER', 'FREE_DRAWING', 'LINE', 'TEXT', 'SHAPE'</I>\n             * @param {Object} [option] parameters of drawing mode, it's available with 'FREE_DRAWING', 'LINE_DRAWING'\n             *  @param {Number} [option.width] brush width\n             *  @param {String} [option.color] brush color\n             * @returns {boolean} true if success or false\n             */\n\n          }, {\n            key: 'startDrawingMode',\n            value: function startDrawingMode(mode, option) {\n              if (this._isSameDrawingMode(mode)) {\n                return true;\n              } // If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n\n\n              this.stopDrawingMode();\n\n              var drawingModeInstance = this._getDrawingModeInstance(mode);\n\n              if (drawingModeInstance && drawingModeInstance.start) {\n                drawingModeInstance.start(this, option);\n                this._drawingMode = mode;\n              }\n\n              return !!drawingModeInstance;\n            }\n            /**\n             * Stop the current drawing mode and back to the 'NORMAL' mode\n             */\n\n          }, {\n            key: 'stopDrawingMode',\n            value: function stopDrawingMode() {\n              if (this._isSameDrawingMode(_consts.drawingModes.NORMAL)) {\n                return;\n              }\n\n              var drawingModeInstance = this._getDrawingModeInstance(this.getDrawingMode());\n\n              if (drawingModeInstance && drawingModeInstance.end) {\n                drawingModeInstance.end(this);\n              }\n\n              this._drawingMode = _consts.drawingModes.NORMAL;\n            }\n            /**\n             * Change zoom of canvas\n             * @param {{x: number, y: number}} center - center of zoom\n             * @param {number} zoomLevel - zoom level\n             */\n\n          }, {\n            key: 'zoom',\n            value: function zoom(_ref2, zoomLevel) {\n              var x = _ref2.x,\n                  y = _ref2.y;\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.zoom({\n                x: x,\n                y: y\n              }, zoomLevel);\n            }\n            /**\n             * Get zoom mode\n             * @returns {string}\n             */\n\n          }, {\n            key: 'getZoomMode',\n            value: function getZoomMode() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              return zoom.mode;\n            }\n            /**\n             * Start zoom-in mode\n             */\n\n          }, {\n            key: 'startZoomInMode',\n            value: function startZoomInMode() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.startZoomInMode();\n            }\n            /**\n             * Stop zoom-in mode\n             */\n\n          }, {\n            key: 'endZoomInMode',\n            value: function endZoomInMode() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.endZoomInMode();\n            }\n            /**\n             * Zoom out one step\n             */\n\n          }, {\n            key: 'zoomOut',\n            value: function zoomOut() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.zoomOut();\n            }\n            /**\n             * Start hand mode\n             */\n\n          }, {\n            key: 'startHandMode',\n            value: function startHandMode() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.startHandMode();\n            }\n            /**\n             * Stop hand mode\n             */\n\n          }, {\n            key: 'endHandMode',\n            value: function endHandMode() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.endHandMode();\n            }\n            /**\n             * Zoom reset\n             */\n\n          }, {\n            key: 'resetZoom',\n            value: function resetZoom() {\n              var zoom = this.getComponent(_consts.componentNames.ZOOM);\n              zoom.resetZoom();\n            }\n            /**\n             * To data url from canvas\n             * @param {Object} options - options for toDataURL\n             *   @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n             *   @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n             *   @param {Number} [options.multiplier=1] Multiplier to scale by\n             *   @param {Number} [options.left] Cropping left offset. Introduced in fabric v1.2.14\n             *   @param {Number} [options.top] Cropping top offset. Introduced in fabric v1.2.14\n             *   @param {Number} [options.width] Cropping width. Introduced in fabric v1.2.14\n             *   @param {Number} [options.height] Cropping height. Introduced in fabric v1.2.14\n             * @returns {string} A DOMString containing the requested data URI.\n             */\n\n          }, {\n            key: 'toDataURL',\n            value: function toDataURL(options) {\n              var cropper = this.getComponent(_consts.componentNames.CROPPER);\n              cropper.changeVisibility(false);\n\n              var dataUrl = this._canvas && this._canvas.toDataURL(options);\n\n              cropper.changeVisibility(true);\n              return dataUrl;\n            }\n            /**\n             * Save image(background) of canvas\n             * @param {string} name - Name of image\n             * @param {?fabric.Image} canvasImage - Fabric image instance\n             */\n\n          }, {\n            key: 'setCanvasImage',\n            value: function setCanvasImage(name, canvasImage) {\n              if (canvasImage) {\n                stamp(canvasImage);\n              }\n\n              this.imageName = name;\n              this.canvasImage = canvasImage;\n            }\n            /**\n             * Set css max dimension\n             * @param {{width: number, height: number}} maxDimension - Max width & Max height\n             */\n\n          }, {\n            key: 'setCssMaxDimension',\n            value: function setCssMaxDimension(maxDimension) {\n              this.cssMaxWidth = maxDimension.width || this.cssMaxWidth;\n              this.cssMaxHeight = maxDimension.height || this.cssMaxHeight;\n            }\n            /**\n             * Adjust canvas dimension with scaling image\n             */\n\n          }, {\n            key: 'adjustCanvasDimension',\n            value: function adjustCanvasDimension() {\n              var canvasImage = this.canvasImage.scale(1);\n\n              var _canvasImage$getBound = canvasImage.getBoundingRect(),\n                  width = _canvasImage$getBound.width,\n                  height = _canvasImage$getBound.height;\n\n              var maxDimension = this._calcMaxDimension(width, height);\n\n              this.setCanvasCssDimension({\n                width: '100%',\n                height: '100%',\n                // Set height '' for IE9\n                'max-width': maxDimension.width + 'px',\n                'max-height': maxDimension.height + 'px'\n              });\n              this.setCanvasBackstoreDimension({\n                width: width,\n                height: height\n              });\n\n              this._canvas.centerObject(canvasImage);\n            }\n            /**\n             * Set canvas dimension - css only\n             *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n             * @param {Object} dimension - Canvas css dimension\n             */\n\n          }, {\n            key: 'setCanvasCssDimension',\n            value: function setCanvasCssDimension(dimension) {\n              this._canvas.setDimensions(dimension, cssOnly);\n            }\n            /**\n             * Set canvas dimension - backstore only\n             *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n             * @param {Object} dimension - Canvas backstore dimension\n             */\n\n          }, {\n            key: 'setCanvasBackstoreDimension',\n            value: function setCanvasBackstoreDimension(dimension) {\n              this._canvas.setDimensions(dimension, backstoreOnly);\n            }\n            /**\n             * Set image properties\n             * {@link http://fabricjs.com/docs/fabric.Image.html#set}\n             * @param {Object} setting - Image properties\n             * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n             */\n\n          }, {\n            key: 'setImageProperties',\n            value: function setImageProperties(setting, withRendering) {\n              var canvasImage = this.canvasImage;\n\n              if (!canvasImage) {\n                return;\n              }\n\n              canvasImage.set(setting).setCoords();\n\n              if (withRendering) {\n                this._canvas.renderAll();\n              }\n            }\n            /**\n             * Returns canvas element of fabric.Canvas[[lower-canvas]]\n             * @returns {HTMLCanvasElement}\n             */\n\n          }, {\n            key: 'getCanvasElement',\n            value: function getCanvasElement() {\n              return this._canvas.getElement();\n            }\n            /**\n             * Get fabric.Canvas instance\n             * @returns {fabric.Canvas}\n             */\n\n          }, {\n            key: 'getCanvas',\n            value: function getCanvas() {\n              return this._canvas;\n            }\n            /**\n             * Get canvasImage (fabric.Image instance)\n             * @returns {fabric.Image}\n             */\n\n          }, {\n            key: 'getCanvasImage',\n            value: function getCanvasImage() {\n              return this.canvasImage;\n            }\n            /**\n             * Get image name\n             * @returns {string}\n             */\n\n          }, {\n            key: 'getImageName',\n            value: function getImageName() {\n              return this.imageName;\n            }\n            /**\n             * Add image object on canvas\n             * @param {string} imgUrl - Image url to make object\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'addImageObject',\n            value: function addImageObject(imgUrl) {\n              var _this = this;\n\n              var callback = this._callbackAfterLoadingImageObject.bind(this);\n\n              return new _util.Promise(function (resolve) {\n                _fabric2.default.Image.fromURL(imgUrl, function (image) {\n                  callback(image);\n                  resolve(_this.createObjectProperties(image));\n                }, {\n                  crossOrigin: 'Anonymous'\n                });\n              });\n            }\n            /**\n             * Get center position of canvas\n             * @returns {Object} {left, top}\n             */\n\n          }, {\n            key: 'getCenter',\n            value: function getCenter() {\n              return this._canvas.getCenter();\n            }\n            /**\n             * Get cropped rect\n             * @returns {Object} rect\n             */\n\n          }, {\n            key: 'getCropzoneRect',\n            value: function getCropzoneRect() {\n              return this.getComponent(_consts.componentNames.CROPPER).getCropzoneRect();\n            }\n            /**\n             * Get cropped rect\n             * @param {number} [mode] cropzone rect mode\n             */\n\n          }, {\n            key: 'setCropzoneRect',\n            value: function setCropzoneRect(mode) {\n              this.getComponent(_consts.componentNames.CROPPER).setCropzoneRect(mode);\n            }\n            /**\n             * Get cropped image data\n             * @param {Object} cropRect cropzone rect\n             *  @param {Number} cropRect.left left position\n             *  @param {Number} cropRect.top top position\n             *  @param {Number} cropRect.width width\n             *  @param {Number} cropRect.height height\n             * @returns {?{imageName: string, url: string}} cropped Image data\n             */\n\n          }, {\n            key: 'getCroppedImageData',\n            value: function getCroppedImageData(cropRect) {\n              return this.getComponent(_consts.componentNames.CROPPER).getCroppedImageData(cropRect);\n            }\n            /**\n             * Set brush option\n             * @param {Object} option brush option\n             *  @param {Number} option.width width\n             *  @param {String} option.color color like 'FFFFFF', 'rgba(0, 0, 0, 0.5)'\n             */\n\n          }, {\n            key: 'setBrush',\n            value: function setBrush(option) {\n              var drawingMode = this._drawingMode;\n              var compName = _consts.componentNames.FREE_DRAWING;\n\n              if (drawingMode === _consts.drawingModes.LINE_DRAWING) {\n                compName = _consts.componentNames.LINE;\n              }\n\n              this.getComponent(compName).setBrush(option);\n            }\n            /**\n             * Set states of current drawing shape\n             * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n             * @param {Object} [options] - Shape options\n             *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n             *        Shape foreground color (ex: '#fff', 'transparent')\n             *      @param {string} [options.stoke] - Shape outline color\n             *      @param {number} [options.strokeWidth] - Shape outline width\n             *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n             *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n             *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n             *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n             *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n             */\n\n          }, {\n            key: 'setDrawingShape',\n            value: function setDrawingShape(type, options) {\n              this.getComponent(_consts.componentNames.SHAPE).setStates(type, options);\n            }\n            /**\n             * Set style of current drawing icon\n             * @param {string} type - icon type (ex: 'icon-arrow', 'icon-star')\n             * @param {Object} [iconColor] - Icon color\n             */\n\n          }, {\n            key: 'setIconStyle',\n            value: function setIconStyle(type, iconColor) {\n              this.getComponent(_consts.componentNames.ICON).setStates(type, iconColor);\n            }\n            /**\n             * Register icon paths\n             * @param {Object} pathInfos - Path infos\n             *  @param {string} pathInfos.key - key\n             *  @param {string} pathInfos.value - value\n             */\n\n          }, {\n            key: 'registerPaths',\n            value: function registerPaths(pathInfos) {\n              this.getComponent(_consts.componentNames.ICON).registerPaths(pathInfos);\n            }\n            /**\n             * Change cursor style\n             * @param {string} cursorType - cursor type\n             */\n\n          }, {\n            key: 'changeCursor',\n            value: function changeCursor(cursorType) {\n              var canvas = this.getCanvas();\n              canvas.defaultCursor = cursorType;\n              canvas.renderAll();\n            }\n            /**\n             * Whether it has the filter or not\n             * @param {string} type - Filter type\n             * @returns {boolean} true if it has the filter\n             */\n\n          }, {\n            key: 'hasFilter',\n            value: function hasFilter(type) {\n              return this.getComponent(_consts.componentNames.FILTER).hasFilter(type);\n            }\n            /**\n             * Set selection style of fabric object by init option\n             * @param {Object} styles - Selection styles\n             */\n\n          }, {\n            key: 'setSelectionStyle',\n            value: function setSelectionStyle(styles) {\n              extend(_consts.fObjectOptions.SELECTION_STYLE, styles);\n            }\n            /**\n             * Set object properties\n             * @param {number} id - object id\n             * @param {Object} props - props\n             *     @param {string} [props.fill] Color\n             *     @param {string} [props.fontFamily] Font type for text\n             *     @param {number} [props.fontSize] Size\n             *     @param {string} [props.fontStyle] Type of inclination (normal / italic)\n             *     @param {string} [props.fontWeight] Type of thicker or thinner looking (normal / bold)\n             *     @param {string} [props.textAlign] Type of text align (left / center / right)\n             *     @param {string} [props.textDecoration] Type of line (underline / line-through / overline)\n             * @returns {Object} applied properties\n             */\n\n          }, {\n            key: 'setObjectProperties',\n            value: function setObjectProperties(id, props) {\n              var object = this.getObject(id);\n              var clone = extend({}, props);\n              object.set(clone);\n              object.setCoords();\n              this.getCanvas().renderAll();\n              return clone;\n            }\n            /**\n             * Get object properties corresponding key\n             * @param {number} id - object id\n             * @param {Array<string>|ObjectProps|string} keys - property's key\n             * @returns {Object} properties\n             */\n\n          }, {\n            key: 'getObjectProperties',\n            value: function getObjectProperties(id, keys) {\n              var object = this.getObject(id);\n              var props = {};\n\n              if (isString(keys)) {\n                props[keys] = object[keys];\n              } else if (isArray(keys)) {\n                forEachArray(keys, function (value) {\n                  props[value] = object[value];\n                });\n              } else {\n                forEachOwnProperties(keys, function (value, key) {\n                  props[key] = object[key];\n                });\n              }\n\n              return props;\n            }\n            /**\n             * Get object position by originX, originY\n             * @param {number} id - object id\n             * @param {string} originX - can be 'left', 'center', 'right'\n             * @param {string} originY - can be 'top', 'center', 'bottom'\n             * @returns {Object} {{x:number, y: number}} position by origin if id is valid, or null\n             */\n\n          }, {\n            key: 'getObjectPosition',\n            value: function getObjectPosition(id, originX, originY) {\n              var targetObj = this.getObject(id);\n\n              if (!targetObj) {\n                return null;\n              }\n\n              return targetObj.getPointByOrigin(originX, originY);\n            }\n            /**\n             * Set object position  by originX, originY\n             * @param {number} id - object id\n             * @param {Object} posInfo - position object\n             *  @param {number} posInfo.x - x position\n             *  @param {number} posInfo.y - y position\n             *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n             *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n             * @returns {boolean} true if target id is valid or false\n             */\n\n          }, {\n            key: 'setObjectPosition',\n            value: function setObjectPosition(id, posInfo) {\n              var targetObj = this.getObject(id);\n              var x = posInfo.x,\n                  y = posInfo.y,\n                  originX = posInfo.originX,\n                  originY = posInfo.originY;\n\n              if (!targetObj) {\n                return false;\n              }\n\n              var targetOrigin = targetObj.getPointByOrigin(originX, originY);\n              var centerOrigin = targetObj.getPointByOrigin('center', 'center');\n              var diffX = centerOrigin.x - targetOrigin.x;\n              var diffY = centerOrigin.y - targetOrigin.y;\n              targetObj.set({\n                left: x + diffX,\n                top: y + diffY\n              });\n              targetObj.setCoords();\n              return true;\n            }\n            /**\n             * Get the canvas size\n             * @returns {Object} {{width: number, height: number}} image size\n             */\n\n          }, {\n            key: 'getCanvasSize',\n            value: function getCanvasSize() {\n              var image = this.getCanvasImage();\n              return {\n                width: image ? image.width : 0,\n                height: image ? image.height : 0\n              };\n            }\n            /**\n             * Create fabric static canvas\n             * @returns {Object} {{width: number, height: number}} image size\n             */\n\n          }, {\n            key: 'createStaticCanvas',\n            value: function createStaticCanvas() {\n              var staticCanvas = new _fabric2.default.StaticCanvas();\n              staticCanvas.set({\n                enableRetinaScaling: false\n              });\n              return staticCanvas;\n            }\n            /**\n             * Get a DrawingMode instance\n             * @param {string} modeName - DrawingMode Class Name\n             * @returns {DrawingMode} DrawingMode instance\n             * @private\n             */\n\n          }, {\n            key: '_getDrawingModeInstance',\n            value: function _getDrawingModeInstance(modeName) {\n              return this._drawingModeMap[modeName];\n            }\n            /**\n             * Set object caching to false. This brought many bugs when draw Shape & cropzone\n             * @see http://fabricjs.com/fabric-object-caching\n             * @private\n             */\n\n          }, {\n            key: '_setObjectCachingToFalse',\n            value: function _setObjectCachingToFalse() {\n              _fabric2.default.Object.prototype.objectCaching = false;\n            }\n            /**\n             * Set canvas element to fabric.Canvas\n             * @param {Element|string} element - Wrapper or canvas element or selector\n             * @private\n             */\n\n          }, {\n            key: '_setCanvasElement',\n            value: function _setCanvasElement(element) {\n              var selectedElement = void 0;\n              var canvasElement = void 0;\n\n              if (element.nodeType) {\n                selectedElement = element;\n              } else {\n                selectedElement = document.querySelector(element);\n              }\n\n              if (selectedElement.nodeName.toUpperCase() !== 'CANVAS') {\n                canvasElement = document.createElement('canvas');\n                selectedElement.appendChild(canvasElement);\n              }\n\n              this._canvas = new _fabric2.default.Canvas(canvasElement, {\n                containerClass: 'tui-image-editor-canvas-container',\n                enableRetinaScaling: false\n              });\n            }\n            /**\n             * Creates DrawingMode instances\n             * @private\n             */\n\n          }, {\n            key: '_createDrawingModeInstances',\n            value: function _createDrawingModeInstances() {\n              this._register(this._drawingModeMap, new _cropper4.default());\n\n              this._register(this._drawingModeMap, new _freeDrawing4.default());\n\n              this._register(this._drawingModeMap, new _lineDrawing2.default());\n\n              this._register(this._drawingModeMap, new _shape4.default());\n\n              this._register(this._drawingModeMap, new _text4.default());\n\n              this._register(this._drawingModeMap, new _icon4.default());\n\n              this._register(this._drawingModeMap, new _zoom4.default());\n            }\n            /**\n             * Create components\n             * @private\n             */\n\n          }, {\n            key: '_createComponents',\n            value: function _createComponents() {\n              this._register(this._componentMap, new _imageLoader2.default(this));\n\n              this._register(this._componentMap, new _cropper2.default(this));\n\n              this._register(this._componentMap, new _flip2.default(this));\n\n              this._register(this._componentMap, new _rotation2.default(this));\n\n              this._register(this._componentMap, new _freeDrawing2.default(this));\n\n              this._register(this._componentMap, new _line2.default(this));\n\n              this._register(this._componentMap, new _text2.default(this));\n\n              this._register(this._componentMap, new _icon2.default(this));\n\n              this._register(this._componentMap, new _filter2.default(this));\n\n              this._register(this._componentMap, new _shape2.default(this));\n\n              this._register(this._componentMap, new _zoom2.default(this));\n            }\n            /**\n             * Register component\n             * @param {Object} map - map object\n             * @param {Object} module - module which has getName method\n             * @private\n             */\n\n          }, {\n            key: '_register',\n            value: function _register(map, module) {\n              map[module.getName()] = module;\n            }\n            /**\n             * Get the current drawing mode is same with given mode\n             * @param {string} mode drawing mode\n             * @returns {boolean} true if same or false\n             */\n\n          }, {\n            key: '_isSameDrawingMode',\n            value: function _isSameDrawingMode(mode) {\n              return this.getDrawingMode() === mode;\n            }\n            /**\n             * Calculate max dimension of canvas\n             * The css-max dimension is dynamically decided with maintaining image ratio\n             * The css-max dimension is lower than canvas dimension (attribute of canvas, not css)\n             * @param {number} width - Canvas width\n             * @param {number} height - Canvas height\n             * @returns {{width: number, height: number}} - Max width & Max height\n             * @private\n             */\n\n          }, {\n            key: '_calcMaxDimension',\n            value: function _calcMaxDimension(width, height) {\n              var wScaleFactor = this.cssMaxWidth / width;\n              var hScaleFactor = this.cssMaxHeight / height;\n              var cssMaxWidth = Math.min(width, this.cssMaxWidth);\n              var cssMaxHeight = Math.min(height, this.cssMaxHeight);\n\n              if (wScaleFactor < 1 && wScaleFactor < hScaleFactor) {\n                cssMaxWidth = width * wScaleFactor;\n                cssMaxHeight = height * wScaleFactor;\n              } else if (hScaleFactor < 1 && hScaleFactor < wScaleFactor) {\n                cssMaxWidth = width * hScaleFactor;\n                cssMaxHeight = height * hScaleFactor;\n              }\n\n              return {\n                width: Math.floor(cssMaxWidth),\n                height: Math.floor(cssMaxHeight)\n              };\n            }\n            /**\n             * Callback function after loading image\n             * @param {fabric.Image} obj - Fabric image object\n             * @private\n             */\n\n          }, {\n            key: '_callbackAfterLoadingImageObject',\n            value: function _callbackAfterLoadingImageObject(obj) {\n              var centerPos = this.getCanvasImage().getCenterPoint();\n              obj.set(_consts.fObjectOptions.SELECTION_STYLE);\n              obj.set({\n                left: centerPos.x,\n                top: centerPos.y,\n                crossOrigin: 'Anonymous'\n              });\n              this.getCanvas().add(obj).setActiveObject(obj);\n            }\n            /**\n             * Attach canvas's events\n             */\n\n          }, {\n            key: '_attachCanvasEvents',\n            value: function _attachCanvasEvents() {\n              var canvas = this._canvas;\n              var handler = this._handler;\n              canvas.on({\n                'mouse:down': handler.onMouseDown,\n                'object:added': handler.onObjectAdded,\n                'object:removed': handler.onObjectRemoved,\n                'object:moving': handler.onObjectMoved,\n                'object:scaling': handler.onObjectScaled,\n                'object:modified': handler.onObjectModified,\n                'object:rotating': handler.onObjectRotated,\n                'path:created': handler.onPathCreated,\n                'selection:cleared': handler.onSelectionCleared,\n                'selection:created': handler.onSelectionCreated,\n                'selection:updated': handler.onObjectSelected\n              });\n            }\n            /**\n             * \"mouse:down\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onMouseDown',\n            value: function _onMouseDown(fEvent) {\n              var _this2 = this;\n\n              var event = fEvent.e,\n                  target = fEvent.target;\n\n              var originPointer = this._canvas.getPointer(event);\n\n              if (target) {\n                var type = target.type;\n                var undoData = (0, _selectionModifyHelper.makeSelectionUndoData)(target, function (item) {\n                  return (0, _selectionModifyHelper.makeSelectionUndoDatum)(_this2.getObjectId(item), item, type === 'activeSelection');\n                });\n                (0, _selectionModifyHelper.setCachedUndoDataForDimension)(undoData);\n              }\n\n              this.fire(_consts.eventNames.MOUSE_DOWN, event, originPointer);\n            }\n            /**\n             * \"object:added\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onObjectAdded',\n            value: function _onObjectAdded(fEvent) {\n              var obj = fEvent.target;\n\n              if (obj.isType('cropzone')) {\n                return;\n              }\n\n              this._addFabricObject(obj);\n            }\n            /**\n             * \"object:removed\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onObjectRemoved',\n            value: function _onObjectRemoved(fEvent) {\n              var obj = fEvent.target;\n\n              this._removeFabricObject(stamp(obj));\n            }\n            /**\n             * \"object:moving\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onObjectMoved',\n            value: function _onObjectMoved(fEvent) {\n              var _this3 = this;\n\n              this._lazyFire(_consts.eventNames.OBJECT_MOVED, function (object) {\n                return _this3.createObjectProperties(object);\n              }, fEvent.target);\n            }\n            /**\n             * \"object:scaling\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onObjectScaled',\n            value: function _onObjectScaled(fEvent) {\n              var _this4 = this;\n\n              this._lazyFire(_consts.eventNames.OBJECT_SCALED, function (object) {\n                return _this4.createObjectProperties(object);\n              }, fEvent.target);\n            }\n            /**\n             * \"object:modified\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onObjectModified',\n            value: function _onObjectModified(fEvent) {\n              var target = fEvent.target;\n\n              if (target.type === 'activeSelection') {\n                var items = target.getObjects();\n                items.forEach(function (item) {\n                  return item.fire('modifiedInGroup', target);\n                });\n              }\n\n              this.fire(_consts.eventNames.OBJECT_MODIFIED, target, this.getObjectId(target));\n            }\n            /**\n             * \"object:rotating\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onObjectRotated',\n            value: function _onObjectRotated(fEvent) {\n              var _this5 = this;\n\n              this._lazyFire(_consts.eventNames.OBJECT_ROTATED, function (object) {\n                return _this5.createObjectProperties(object);\n              }, fEvent.target);\n            }\n            /**\n             * Lazy event emitter\n             * @param {string} eventName - event name\n             * @param {Function} paramsMaker - make param function\n             * @param {Object} [target] - Object of the event owner.\n             * @private\n             */\n\n          }, {\n            key: '_lazyFire',\n            value: function _lazyFire(eventName, paramsMaker, target) {\n              var _this6 = this;\n\n              var existEventDelegation = target && target.canvasEventDelegation;\n              var delegationState = existEventDelegation ? target.canvasEventDelegation(eventName) : 'none';\n\n              if (delegationState === 'unregistered') {\n                target.canvasEventRegister(eventName, function (object) {\n                  _this6.fire(eventName, paramsMaker(object));\n                });\n              }\n\n              if (delegationState === 'none') {\n                this.fire(eventName, paramsMaker(target));\n              }\n            }\n            /**\n             * \"object:selected\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onObjectSelected',\n            value: function _onObjectSelected(fEvent) {\n              var target = fEvent.target;\n              var params = this.createObjectProperties(target);\n              this.fire(_consts.eventNames.OBJECT_ACTIVATED, params);\n            }\n            /**\n             * \"path:created\" canvas event handler\n             * @param {{path: fabric.Path}} obj - Path object\n             * @private\n             */\n\n          }, {\n            key: '_onPathCreated',\n            value: function _onPathCreated(obj) {\n              var _obj$path$getCenterPo = obj.path.getCenterPoint(),\n                  left = _obj$path$getCenterPo.x,\n                  top = _obj$path$getCenterPo.y;\n\n              obj.path.set(extend({\n                left: left,\n                top: top\n              }, _consts.fObjectOptions.SELECTION_STYLE));\n              var params = this.createObjectProperties(obj.path);\n              this.fire(_consts.eventNames.ADD_OBJECT, params);\n            }\n            /**\n             * \"selction:cleared\" canvas event handler\n             * @private\n             */\n\n          }, {\n            key: '_onSelectionCleared',\n            value: function _onSelectionCleared() {\n              this.fire(_consts.eventNames.SELECTION_CLEARED);\n            }\n            /**\n             * \"selction:created\" canvas event handler\n             * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n             * @private\n             */\n\n          }, {\n            key: '_onSelectionCreated',\n            value: function _onSelectionCreated(fEvent) {\n              var target = fEvent.target;\n              var params = this.createObjectProperties(target);\n              this.fire(_consts.eventNames.OBJECT_ACTIVATED, params);\n              this.fire(_consts.eventNames.SELECTION_CREATED, fEvent.target);\n            }\n            /**\n             * Canvas discard selection all\n             */\n\n          }, {\n            key: 'discardSelection',\n            value: function discardSelection() {\n              this._canvas.discardActiveObject();\n\n              this._canvas.renderAll();\n            }\n            /**\n             * Canvas Selectable status change\n             * @param {boolean} selectable - expect status\n             */\n\n          }, {\n            key: 'changeSelectableAll',\n            value: function changeSelectableAll(selectable) {\n              this._canvas.forEachObject(function (obj) {\n                obj.selectable = selectable;\n                obj.hoverCursor = selectable ? 'move' : 'crosshair';\n              });\n            }\n            /**\n             * Return object's properties\n             * @param {fabric.Object} obj - fabric object\n             * @returns {Object} properties object\n             */\n\n          }, {\n            key: 'createObjectProperties',\n            value: function createObjectProperties(obj) {\n              var predefinedKeys = ['left', 'top', 'width', 'height', 'fill', 'stroke', 'strokeWidth', 'opacity', 'angle'];\n              var props = {\n                id: stamp(obj),\n                type: obj.type\n              };\n              extend(props, (0, _util.getProperties)(obj, predefinedKeys));\n\n              if ((0, _util.includes)(['i-text', 'text'], obj.type)) {\n                extend(props, this._createTextProperties(obj, props));\n              } else if ((0, _util.includes)(['rect', 'triangle', 'circle'], obj.type)) {\n                var shapeComp = this.getComponent(_consts.componentNames.SHAPE);\n                extend(props, {\n                  fill: shapeComp.makeFillPropertyForUserEvent(obj)\n                });\n              }\n\n              return props;\n            }\n            /**\n             * Get text object's properties\n             * @param {fabric.Object} obj - fabric text object\n             * @param {Object} props - properties\n             * @returns {Object} properties object\n             */\n\n          }, {\n            key: '_createTextProperties',\n            value: function _createTextProperties(obj) {\n              var predefinedKeys = ['text', 'fontFamily', 'fontSize', 'fontStyle', 'textAlign', 'textDecoration', 'fontWeight'];\n              var props = {};\n              extend(props, (0, _util.getProperties)(obj, predefinedKeys));\n              return props;\n            }\n            /**\n             * Add object array by id\n             * @param {fabric.Object} obj - fabric object\n             * @returns {number} object id\n             */\n\n          }, {\n            key: '_addFabricObject',\n            value: function _addFabricObject(obj) {\n              var id = stamp(obj);\n              this._objects[id] = obj;\n              return id;\n            }\n            /**\n             * Remove an object in array yb id\n             * @param {number} id - object id\n             */\n\n          }, {\n            key: '_removeFabricObject',\n            value: function _removeFabricObject(id) {\n              delete this._objects[id];\n            }\n            /**\n             * Reset targetObjectForCopyPaste value from activeObject\n             */\n\n          }, {\n            key: 'resetTargetObjectForCopyPaste',\n            value: function resetTargetObjectForCopyPaste() {\n              var activeObject = this.getActiveObject();\n\n              if (activeObject) {\n                this.targetObjectForCopyPaste = activeObject;\n              }\n            }\n            /**\n             * Paste fabric object\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'pasteObject',\n            value: function pasteObject() {\n              var _this7 = this;\n\n              if (!this.targetObjectForCopyPaste) {\n                return _util.Promise.resolve([]);\n              }\n\n              var targetObject = this.targetObjectForCopyPaste;\n              var isGroupSelect = targetObject.type === 'activeSelection';\n              var targetObjects = isGroupSelect ? targetObject.getObjects() : [targetObject];\n              var newTargetObject = null;\n              this.discardSelection();\n              return this._cloneObject(targetObjects).then(function (addedObjects) {\n                if (addedObjects.length > 1) {\n                  newTargetObject = _this7.getActiveSelectionFromObjects(addedObjects);\n                } else {\n                  newTargetObject = addedObjects[0];\n                }\n\n                _this7.targetObjectForCopyPaste = newTargetObject;\n\n                _this7.setActiveObject(newTargetObject);\n              });\n            }\n            /**\n             * Clone object\n             * @param {fabric.Object} targetObjects - fabric object\n             * @returns {Promise}\n             * @private\n             */\n\n          }, {\n            key: '_cloneObject',\n            value: function _cloneObject(targetObjects) {\n              var _this8 = this;\n\n              var addedObjects = _tuiCodeSnippet2.default.map(targetObjects, function (targetObject) {\n                return _this8._cloneObjectItem(targetObject);\n              });\n\n              return _util.Promise.all(addedObjects);\n            }\n            /**\n             * Clone object one item\n             * @param {fabric.Object} targetObject - fabric object\n             * @returns {Promise}\n             * @private\n             */\n\n          }, {\n            key: '_cloneObjectItem',\n            value: function _cloneObjectItem(targetObject) {\n              var _this9 = this;\n\n              return this._copyFabricObjectForPaste(targetObject).then(function (clonedObject) {\n                var objectProperties = _this9.createObjectProperties(clonedObject);\n\n                _this9.add(clonedObject);\n\n                _this9.fire(_consts.eventNames.ADD_OBJECT, objectProperties);\n\n                return clonedObject;\n              });\n            }\n            /**\n             * Copy fabric object with Changed position for copy and paste\n             * @param {fabric.Object} targetObject - fabric object\n             * @returns {Promise}\n             * @private\n             */\n\n          }, {\n            key: '_copyFabricObjectForPaste',\n            value: function _copyFabricObjectForPaste(targetObject) {\n              var _this10 = this;\n\n              var addExtraPx = function addExtraPx(value, isReverse) {\n                return isReverse ? value - EXTRA_PX_FOR_PASTE : value + EXTRA_PX_FOR_PASTE;\n              };\n\n              return this._copyFabricObject(targetObject).then(function (clonedObject) {\n                var left = clonedObject.left,\n                    top = clonedObject.top,\n                    width = clonedObject.width,\n                    height = clonedObject.height;\n\n                var _getCanvasSize = _this10.getCanvasSize(),\n                    canvasWidth = _getCanvasSize.width,\n                    canvasHeight = _getCanvasSize.height;\n\n                var rightEdge = left + width / 2;\n                var bottomEdge = top + height / 2;\n                clonedObject.set(_tuiCodeSnippet2.default.extend({\n                  left: addExtraPx(left, rightEdge + EXTRA_PX_FOR_PASTE > canvasWidth),\n                  top: addExtraPx(top, bottomEdge + EXTRA_PX_FOR_PASTE > canvasHeight)\n                }, _consts.fObjectOptions.SELECTION_STYLE));\n                return clonedObject;\n              });\n            }\n            /**\n             * Copy fabric object\n             * @param {fabric.Object} targetObject - fabric object\n             * @returns {Promise}\n             * @private\n             */\n\n          }, {\n            key: '_copyFabricObject',\n            value: function _copyFabricObject(targetObject) {\n              var _this11 = this;\n\n              return new _util.Promise(function (resolve) {\n                targetObject.clone(function (cloned) {\n                  var shapeComp = _this11.getComponent(_consts.componentNames.SHAPE);\n\n                  if ((0, _util.isShape)(cloned)) {\n                    shapeComp.processForCopiedObject(cloned, targetObject);\n                  }\n\n                  resolve(cloned);\n                });\n              });\n            }\n          }]);\n\n          return Graphics;\n        }();\n\n        CustomEvents.mixin(Graphics);\n        exports.default = Graphics;\n        /***/\n      },\n\n      /***/\n      \"./src/js/helper/imagetracer.js\":\n      /*!**************************************!*\\\n        !*** ./src/js/helper/imagetracer.js ***!\n        \\**************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        /*\n          imagetracer.js version 1.2.4\n          Simple raster image tracer and vectorizer written in JavaScript.\n          andras@jankovics.net\n        */\n\n        /*\n          The Unlicense / PUBLIC DOMAIN\n          This is free and unencumbered software released into the public domain.\n          Anyone is free to copy, modify, publish, use, compile, sell, or\n          distribute this software, either in source code form or as a compiled\n          binary, for any purpose, commercial or non-commercial, and by any\n          means.\n          In jurisdictions that recognize copyright laws, the author or authors\n          of this software dedicate any and all copyright interest in the\n          software to the public domain. We make this dedication for the benefit\n          of the public at large and to the detriment of our heirs and\n          successors. We intend this dedication to be an overt act of\n          relinquishment in perpetuity of all present and future rights to this\n          software under copyright law.\n          THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n          EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n          MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n          IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n          OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n          ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n          OTHER DEALINGS IN THE SOFTWARE.\n          For more information, please refer to http://unlicense.org/\n        */\n\n\n        var ImageTracer = function () {\n          _createClass(ImageTracer, null, [{\n            key: 'tracerDefaultOption',\n            value: function tracerDefaultOption() {\n              return {\n                pathomit: 100,\n                ltres: 0.1,\n                qtres: 1,\n                scale: 1,\n                strokewidth: 5,\n                viewbox: false,\n                linefilter: true,\n                desc: false,\n                rightangleenhance: false,\n                pal: [{\n                  r: 0,\n                  g: 0,\n                  b: 0,\n                  a: 255\n                }, {\n                  r: 255,\n                  g: 255,\n                  b: 255,\n                  a: 255\n                }]\n              };\n            }\n            /* eslint-disable */\n\n          }]);\n\n          function ImageTracer() {\n            _classCallCheck(this, ImageTracer);\n\n            this.versionnumber = '1.2.4';\n            this.optionpresets = {\n              default: {\n                corsenabled: false,\n                ltres: 1,\n                qtres: 1,\n                pathomit: 8,\n                rightangleenhance: true,\n                colorsampling: 2,\n                numberofcolors: 16,\n                mincolorratio: 0,\n                colorquantcycles: 3,\n                layering: 0,\n                strokewidth: 1,\n                linefilter: false,\n                scale: 1,\n                roundcoords: 1,\n                viewbox: false,\n                desc: false,\n                lcpr: 0,\n                qcpr: 0,\n                blurradius: 0,\n                blurdelta: 20\n              },\n              posterized1: {\n                colorsampling: 0,\n                numberofcolors: 2\n              },\n              posterized2: {\n                numberofcolors: 4,\n                blurradius: 5\n              },\n              curvy: {\n                ltres: 0.01,\n                linefilter: true,\n                rightangleenhance: false\n              },\n              sharp: {\n                qtres: 0.01,\n                linefilter: false\n              },\n              detailed: {\n                pathomit: 0,\n                roundcoords: 2,\n                ltres: 0.5,\n                qtres: 0.5,\n                numberofcolors: 64\n              },\n              smoothed: {\n                blurradius: 5,\n                blurdelta: 64\n              },\n              grayscale: {\n                colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 7\n              },\n              fixedpalette: {\n                colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 27\n              },\n              randomsampling1: {\n                colorsampling: 1,\n                numberofcolors: 8\n              },\n              randomsampling2: {\n                colorsampling: 1,\n                numberofcolors: 64\n              },\n              artistic1: {\n                colorsampling: 0,\n                colorquantcycles: 1,\n                pathomit: 0,\n                blurradius: 5,\n                blurdelta: 64,\n                ltres: 0.01,\n                linefilter: true,\n                numberofcolors: 16,\n                strokewidth: 2\n              },\n              artistic2: {\n                qtres: 0.01,\n                colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 4,\n                strokewidth: 0\n              },\n              artistic3: {\n                qtres: 10,\n                ltres: 10,\n                numberofcolors: 8\n              },\n              artistic4: {\n                qtres: 10,\n                ltres: 10,\n                numberofcolors: 64,\n                blurradius: 5,\n                blurdelta: 256,\n                strokewidth: 2\n              },\n              posterized3: {\n                ltres: 1,\n                qtres: 1,\n                pathomit: 20,\n                rightangleenhance: true,\n                colorsampling: 0,\n                numberofcolors: 3,\n                mincolorratio: 0,\n                colorquantcycles: 3,\n                blurradius: 3,\n                blurdelta: 20,\n                strokewidth: 0,\n                linefilter: false,\n                roundcoords: 1,\n                pal: [{\n                  r: 0,\n                  g: 0,\n                  b: 100,\n                  a: 255\n                }, {\n                  r: 255,\n                  g: 255,\n                  b: 255,\n                  a: 255\n                }]\n              }\n            };\n            this.pathscan_combined_lookup = [[[-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[0, 1, 0, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [0, 2, -1, 0]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [0, 1, 0, -1], [0, 0, 1, 0]], [[0, 0, 1, 0], [-1, -1, -1, -1], [0, 2, -1, 0], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [0, 0, 1, 0], [0, 3, 0, 1], [-1, -1, -1, -1]], [[13, 3, 0, 1], [13, 2, -1, 0], [7, 1, 0, -1], [7, 0, 1, 0]], [[-1, -1, -1, -1], [0, 1, 0, -1], [-1, -1, -1, -1], [0, 3, 0, 1]], [[0, 3, 0, 1], [0, 2, -1, 0], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[0, 3, 0, 1], [0, 2, -1, 0], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [0, 1, 0, -1], [-1, -1, -1, -1], [0, 3, 0, 1]], [[11, 1, 0, -1], [14, 0, 1, 0], [14, 3, 0, 1], [11, 2, -1, 0]], [[-1, -1, -1, -1], [0, 0, 1, 0], [0, 3, 0, 1], [-1, -1, -1, -1]], [[0, 0, 1, 0], [-1, -1, -1, -1], [0, 2, -1, 0], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [0, 1, 0, -1], [0, 0, 1, 0]], [[0, 1, 0, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [0, 2, -1, 0]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1]]];\n            this.gks = [[0.27901, 0.44198, 0.27901], [0.135336, 0.228569, 0.272192, 0.228569, 0.135336], [0.086776, 0.136394, 0.178908, 0.195843, 0.178908, 0.136394, 0.086776], [0.063327, 0.093095, 0.122589, 0.144599, 0.152781, 0.144599, 0.122589, 0.093095, 0.063327], [0.049692, 0.069304, 0.089767, 0.107988, 0.120651, 0.125194, 0.120651, 0.107988, 0.089767, 0.069304, 0.049692]];\n            this.specpalette = [{\n              r: 0,\n              g: 0,\n              b: 0,\n              a: 255\n            }, {\n              r: 128,\n              g: 128,\n              b: 128,\n              a: 255\n            }, {\n              r: 0,\n              g: 0,\n              b: 128,\n              a: 255\n            }, {\n              r: 64,\n              g: 64,\n              b: 128,\n              a: 255\n            }, {\n              r: 192,\n              g: 192,\n              b: 192,\n              a: 255\n            }, {\n              r: 255,\n              g: 255,\n              b: 255,\n              a: 255\n            }, {\n              r: 128,\n              g: 128,\n              b: 192,\n              a: 255\n            }, {\n              r: 0,\n              g: 0,\n              b: 192,\n              a: 255\n            }, {\n              r: 128,\n              g: 0,\n              b: 0,\n              a: 255\n            }, {\n              r: 128,\n              g: 64,\n              b: 64,\n              a: 255\n            }, {\n              r: 128,\n              g: 0,\n              b: 128,\n              a: 255\n            }, {\n              r: 168,\n              g: 168,\n              b: 168,\n              a: 255\n            }, {\n              r: 192,\n              g: 128,\n              b: 128,\n              a: 255\n            }, {\n              r: 192,\n              g: 0,\n              b: 0,\n              a: 255\n            }, {\n              r: 255,\n              g: 255,\n              b: 255,\n              a: 255\n            }, {\n              r: 0,\n              g: 128,\n              b: 0,\n              a: 255\n            }];\n          }\n\n          _createClass(ImageTracer, [{\n            key: 'imageToSVG',\n            value: function imageToSVG(url, callback, options) {\n              var _this = this;\n\n              options = this.checkoptions(options);\n              this.loadImage(url, function (canvas) {\n                callback(_this.imagedataToSVG(_this.getImgdata(canvas), options));\n              }, options);\n            }\n          }, {\n            key: 'imagedataToSVG',\n            value: function imagedataToSVG(imgd, options) {\n              options = this.checkoptions(options);\n              var td = this.imagedataToTracedata(imgd, options);\n              return this.getsvgstring(td, options);\n            }\n          }, {\n            key: 'imageToTracedata',\n            value: function imageToTracedata(url, callback, options) {\n              var _this2 = this;\n\n              options = this.checkoptions(options);\n              this.loadImage(url, function (canvas) {\n                callback(_this2.imagedataToTracedata(_this2.getImgdata(canvas), options));\n              }, options);\n            }\n          }, {\n            key: 'imagedataToTracedata',\n            value: function imagedataToTracedata(imgd, options) {\n              options = this.checkoptions(options);\n              var ii = this.colorquantization(imgd, options);\n              var tracedata = void 0;\n\n              if (options.layering === 0) {\n                tracedata = {\n                  layers: [],\n                  palette: ii.palette,\n                  width: ii.array[0].length - 2,\n                  height: ii.array.length - 2\n                };\n\n                for (var colornum = 0; colornum < ii.palette.length; colornum += 1) {\n                  var tracedlayer = this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(ii, colornum), options.pathomit), options), options.ltres, options.qtres);\n                  tracedata.layers.push(tracedlayer);\n                }\n              } else {\n                var ls = this.layering(ii);\n\n                if (options.layercontainerid) {\n                  this.drawLayers(ls, this.specpalette, options.scale, options.layercontainerid);\n                }\n\n                var bps = this.batchpathscan(ls, options.pathomit);\n                var bis = this.batchinternodes(bps, options);\n                tracedata = {\n                  layers: this.batchtracelayers(bis, options.ltres, options.qtres),\n                  palette: ii.palette,\n                  width: imgd.width,\n                  height: imgd.height\n                };\n              }\n\n              return tracedata;\n            }\n          }, {\n            key: 'checkoptions',\n            value: function checkoptions(options) {\n              options = options || {};\n\n              if (typeof options === 'string') {\n                options = options.toLowerCase();\n\n                if (this.optionpresets[options]) {\n                  options = this.optionpresets[options];\n                } else {\n                  options = {};\n                }\n              }\n\n              var ok = Object.keys(this.optionpresets['default']);\n\n              for (var k = 0; k < ok.length; k += 1) {\n                if (!options.hasOwnProperty(ok[k])) {\n                  options[ok[k]] = this.optionpresets['default'][ok[k]];\n                }\n              }\n\n              return options;\n            }\n          }, {\n            key: 'colorquantization',\n            value: function colorquantization(imgd, options) {\n              var arr = [];\n              var idx = 0;\n              var cd = void 0;\n              var cdl = void 0;\n              var ci = void 0;\n              var paletteacc = [];\n              var pixelnum = imgd.width * imgd.height;\n              var i = void 0;\n              var j = void 0;\n              var k = void 0;\n              var cnt = void 0;\n              var palette = void 0;\n\n              for (j = 0; j < imgd.height + 2; j += 1) {\n                arr[j] = [];\n\n                for (i = 0; i < imgd.width + 2; i += 1) {\n                  arr[j][i] = -1;\n                }\n              }\n\n              if (options.pal) {\n                palette = options.pal;\n              } else if (options.colorsampling === 0) {\n                palette = this.generatepalette(options.numberofcolors);\n              } else if (options.colorsampling === 1) {\n                palette = this.samplepalette(options.numberofcolors, imgd);\n              } else {\n                palette = this.samplepalette2(options.numberofcolors, imgd);\n              }\n\n              if (options.blurradius > 0) {\n                imgd = this.blur(imgd, options.blurradius, options.blurdelta);\n              }\n\n              for (cnt = 0; cnt < options.colorquantcycles; cnt += 1) {\n                if (cnt > 0) {\n                  for (k = 0; k < palette.length; k += 1) {\n                    if (paletteacc[k].n > 0) {\n                      palette[k] = {\n                        r: Math.floor(paletteacc[k].r / paletteacc[k].n),\n                        g: Math.floor(paletteacc[k].g / paletteacc[k].n),\n                        b: Math.floor(paletteacc[k].b / paletteacc[k].n),\n                        a: Math.floor(paletteacc[k].a / paletteacc[k].n)\n                      };\n                    }\n\n                    if (paletteacc[k].n / pixelnum < options.mincolorratio && cnt < options.colorquantcycles - 1) {\n                      palette[k] = {\n                        r: Math.floor(Math.random() * 255),\n                        g: Math.floor(Math.random() * 255),\n                        b: Math.floor(Math.random() * 255),\n                        a: Math.floor(Math.random() * 255)\n                      };\n                    }\n                  }\n                }\n\n                for (i = 0; i < palette.length; i += 1) {\n                  paletteacc[i] = {\n                    r: 0,\n                    g: 0,\n                    b: 0,\n                    a: 0,\n                    n: 0\n                  };\n                }\n\n                for (j = 0; j < imgd.height; j += 1) {\n                  for (i = 0; i < imgd.width; i += 1) {\n                    idx = (j * imgd.width + i) * 4;\n                    ci = 0;\n                    cdl = 1024;\n\n                    for (k = 0; k < palette.length; k += 1) {\n                      cd = Math.abs(palette[k].r - imgd.data[idx]) + Math.abs(palette[k].g - imgd.data[idx + 1]) + Math.abs(palette[k].b - imgd.data[idx + 2]) + Math.abs(palette[k].a - imgd.data[idx + 3]);\n\n                      if (cd < cdl) {\n                        cdl = cd;\n                        ci = k;\n                      }\n                    }\n\n                    paletteacc[ci].r += imgd.data[idx];\n                    paletteacc[ci].g += imgd.data[idx + 1];\n                    paletteacc[ci].b += imgd.data[idx + 2];\n                    paletteacc[ci].a += imgd.data[idx + 3];\n                    paletteacc[ci].n += 1;\n                    arr[j + 1][i + 1] = ci;\n                  }\n                }\n              }\n\n              return {\n                array: arr,\n                palette: palette\n              };\n            }\n          }, {\n            key: 'samplepalette',\n            value: function samplepalette(numberofcolors, imgd) {\n              var idx = void 0;\n              var palette = [];\n\n              for (var i = 0; i < numberofcolors; i += 1) {\n                idx = Math.floor(Math.random() * imgd.data.length / 4) * 4;\n                palette.push({\n                  r: imgd.data[idx],\n                  g: imgd.data[idx + 1],\n                  b: imgd.data[idx + 2],\n                  a: imgd.data[idx + 3]\n                });\n              }\n\n              return palette;\n            }\n          }, {\n            key: 'samplepalette2',\n            value: function samplepalette2(numberofcolors, imgd) {\n              var idx = void 0;\n              var palette = [];\n              var ni = Math.ceil(Math.sqrt(numberofcolors));\n              var nj = Math.ceil(numberofcolors / ni);\n              var vx = imgd.width / (ni + 1);\n              var vy = imgd.height / (nj + 1);\n\n              for (var j = 0; j < nj; j += 1) {\n                for (var i = 0; i < ni; i += 1) {\n                  if (palette.length === numberofcolors) {\n                    break;\n                  } else {\n                    idx = Math.floor((j + 1) * vy * imgd.width + (i + 1) * vx) * 4;\n                    palette.push({\n                      r: imgd.data[idx],\n                      g: imgd.data[idx + 1],\n                      b: imgd.data[idx + 2],\n                      a: imgd.data[idx + 3]\n                    });\n                  }\n                }\n              }\n\n              return palette;\n            }\n          }, {\n            key: 'generatepalette',\n            value: function generatepalette(numberofcolors) {\n              var palette = [];\n              var rcnt = void 0;\n              var gcnt = void 0;\n              var bcnt = void 0;\n\n              if (numberofcolors < 8) {\n                var graystep = Math.floor(255 / (numberofcolors - 1));\n\n                for (var i = 0; i < numberofcolors; i += 1) {\n                  palette.push({\n                    r: i * graystep,\n                    g: i * graystep,\n                    b: i * graystep,\n                    a: 255\n                  });\n                }\n              } else {\n                var colorqnum = Math.floor(Math.pow(numberofcolors, 1 / 3));\n                var colorstep = Math.floor(255 / (colorqnum - 1));\n                var rndnum = numberofcolors - colorqnum * colorqnum * colorqnum;\n\n                for (rcnt = 0; rcnt < colorqnum; rcnt += 1) {\n                  for (gcnt = 0; gcnt < colorqnum; gcnt += 1) {\n                    for (bcnt = 0; bcnt < colorqnum; bcnt += 1) {\n                      palette.push({\n                        r: rcnt * colorstep,\n                        g: gcnt * colorstep,\n                        b: bcnt * colorstep,\n                        a: 255\n                      });\n                    }\n                  }\n                }\n\n                for (rcnt = 0; rcnt < rndnum; rcnt += 1) {\n                  palette.push({\n                    r: Math.floor(Math.random() * 255),\n                    g: Math.floor(Math.random() * 255),\n                    b: Math.floor(Math.random() * 255),\n                    a: Math.floor(Math.random() * 255)\n                  });\n                }\n              }\n\n              return palette;\n            }\n          }, {\n            key: 'layering',\n            value: function layering(ii) {\n              var layers = [];\n              var val = 0;\n              var ah = ii.array.length;\n              var aw = ii.array[0].length;\n              var n1 = void 0;\n              var n2 = void 0;\n              var n3 = void 0;\n              var n4 = void 0;\n              var n5 = void 0;\n              var n6 = void 0;\n              var n7 = void 0;\n              var n8 = void 0;\n              var i = void 0;\n              var j = void 0;\n              var k = void 0;\n\n              for (k = 0; k < ii.palette.length; k += 1) {\n                layers[k] = [];\n\n                for (j = 0; j < ah; j += 1) {\n                  layers[k][j] = [];\n\n                  for (i = 0; i < aw; i += 1) {\n                    layers[k][j][i] = 0;\n                  }\n                }\n              }\n\n              for (j = 1; j < ah - 1; j += 1) {\n                for (i = 1; i < aw - 1; i += 1) {\n                  val = ii.array[j][i];\n                  n1 = ii.array[j - 1][i - 1] === val ? 1 : 0;\n                  n2 = ii.array[j - 1][i] === val ? 1 : 0;\n                  n3 = ii.array[j - 1][i + 1] === val ? 1 : 0;\n                  n4 = ii.array[j][i - 1] === val ? 1 : 0;\n                  n5 = ii.array[j][i + 1] === val ? 1 : 0;\n                  n6 = ii.array[j + 1][i - 1] === val ? 1 : 0;\n                  n7 = ii.array[j + 1][i] === val ? 1 : 0;\n                  n8 = ii.array[j + 1][i + 1] === val ? 1 : 0;\n                  layers[val][j + 1][i + 1] = 1 + n5 * 2 + n8 * 4 + n7 * 8;\n\n                  if (!n4) {\n                    layers[val][j + 1][i] = 0 + 2 + n7 * 4 + n6 * 8;\n                  }\n\n                  if (!n2) {\n                    layers[val][j][i + 1] = 0 + n3 * 2 + n5 * 4 + 8;\n                  }\n\n                  if (!n1) {\n                    layers[val][j][i] = 0 + n2 * 2 + 4 + n4 * 8;\n                  }\n                }\n              }\n\n              return layers;\n            }\n          }, {\n            key: 'layeringstep',\n            value: function layeringstep(ii, cnum) {\n              var layer = [];\n              var ah = ii.array.length;\n              var aw = ii.array[0].length;\n              var i = void 0;\n              var j = void 0;\n\n              for (j = 0; j < ah; j += 1) {\n                layer[j] = [];\n\n                for (i = 0; i < aw; i += 1) {\n                  layer[j][i] = 0;\n                }\n              }\n\n              for (j = 1; j < ah; j += 1) {\n                for (i = 1; i < aw; i += 1) {\n                  layer[j][i] = (ii.array[j - 1][i - 1] === cnum ? 1 : 0) + (ii.array[j - 1][i] === cnum ? 2 : 0) + (ii.array[j][i - 1] === cnum ? 8 : 0) + (ii.array[j][i] === cnum ? 4 : 0);\n                }\n              }\n\n              return layer;\n            }\n          }, {\n            key: 'pathscan',\n            value: function pathscan(arr, pathomit) {\n              var paths = [];\n              var pacnt = 0;\n              var pcnt = 0;\n              var px = 0;\n              var py = 0;\n              var w = arr[0].length;\n              var h = arr.length;\n              var dir = 0;\n              var pathfinished = true;\n              var holepath = false;\n              var lookuprow = void 0;\n\n              for (var j = 0; j < h; j += 1) {\n                for (var i = 0; i < w; i += 1) {\n                  if (arr[j][i] === 4 || arr[j][i] === 11) {\n                    px = i;\n                    py = j;\n                    paths[pacnt] = {};\n                    paths[pacnt].points = [];\n                    paths[pacnt].boundingbox = [px, py, px, py];\n                    paths[pacnt].holechildren = [];\n                    pathfinished = false;\n                    pcnt = 0;\n                    holepath = arr[j][i] === 11;\n                    dir = 1;\n\n                    while (!pathfinished) {\n                      paths[pacnt].points[pcnt] = {};\n                      paths[pacnt].points[pcnt].x = px - 1;\n                      paths[pacnt].points[pcnt].y = py - 1;\n                      paths[pacnt].points[pcnt].t = arr[py][px];\n\n                      if (px - 1 < paths[pacnt].boundingbox[0]) {\n                        paths[pacnt].boundingbox[0] = px - 1;\n                      }\n\n                      if (px - 1 > paths[pacnt].boundingbox[2]) {\n                        paths[pacnt].boundingbox[2] = px - 1;\n                      }\n\n                      if (py - 1 < paths[pacnt].boundingbox[1]) {\n                        paths[pacnt].boundingbox[1] = py - 1;\n                      }\n\n                      if (py - 1 > paths[pacnt].boundingbox[3]) {\n                        paths[pacnt].boundingbox[3] = py - 1;\n                      }\n\n                      lookuprow = this.pathscan_combined_lookup[arr[py][px]][dir];\n                      arr[py][px] = lookuprow[0];\n                      dir = lookuprow[1];\n                      px += lookuprow[2];\n                      py += lookuprow[3];\n\n                      if (px - 1 === paths[pacnt].points[0].x && py - 1 === paths[pacnt].points[0].y) {\n                        pathfinished = true;\n\n                        if (paths[pacnt].points.length < pathomit) {\n                          paths.pop();\n                        } else {\n                          paths[pacnt].isholepath = !!holepath;\n\n                          if (holepath) {\n                            var parentidx = 0,\n                                parentbbox = [-1, -1, w + 1, h + 1];\n\n                            for (var parentcnt = 0; parentcnt < pacnt; parentcnt++) {\n                              if (!paths[parentcnt].isholepath && this.boundingboxincludes(paths[parentcnt].boundingbox, paths[pacnt].boundingbox) && this.boundingboxincludes(parentbbox, paths[parentcnt].boundingbox)) {\n                                parentidx = parentcnt;\n                                parentbbox = paths[parentcnt].boundingbox;\n                              }\n                            }\n\n                            paths[parentidx].holechildren.push(pacnt);\n                          }\n\n                          pacnt += 1;\n                        }\n                      }\n\n                      pcnt += 1;\n                    }\n                  }\n                }\n              }\n\n              return paths;\n            }\n          }, {\n            key: 'boundingboxincludes',\n            value: function boundingboxincludes(parentbbox, childbbox) {\n              return parentbbox[0] < childbbox[0] && parentbbox[1] < childbbox[1] && parentbbox[2] > childbbox[2] && parentbbox[3] > childbbox[3];\n            }\n          }, {\n            key: 'batchpathscan',\n            value: function batchpathscan(layers, pathomit) {\n              var bpaths = [];\n\n              for (var k in layers) {\n                if (!layers.hasOwnProperty(k)) {\n                  continue;\n                }\n\n                bpaths[k] = this.pathscan(layers[k], pathomit);\n              }\n\n              return bpaths;\n            }\n          }, {\n            key: 'internodes',\n            value: function internodes(paths, options) {\n              var ins = [];\n              var palen = 0;\n              var nextidx = 0;\n              var nextidx2 = 0;\n              var previdx = 0;\n              var previdx2 = 0;\n              var pacnt = void 0;\n              var pcnt = void 0;\n\n              for (pacnt = 0; pacnt < paths.length; pacnt += 1) {\n                ins[pacnt] = {};\n                ins[pacnt].points = [];\n                ins[pacnt].boundingbox = paths[pacnt].boundingbox;\n                ins[pacnt].holechildren = paths[pacnt].holechildren;\n                ins[pacnt].isholepath = paths[pacnt].isholepath;\n                palen = paths[pacnt].points.length;\n\n                for (pcnt = 0; pcnt < palen; pcnt += 1) {\n                  nextidx = (pcnt + 1) % palen;\n                  nextidx2 = (pcnt + 2) % palen;\n                  previdx = (pcnt - 1 + palen) % palen;\n                  previdx2 = (pcnt - 2 + palen) % palen;\n\n                  if (options.rightangleenhance && this.testrightangle(paths[pacnt], previdx2, previdx, pcnt, nextidx, nextidx2)) {\n                    if (ins[pacnt].points.length > 0) {\n                      ins[pacnt].points[ins[pacnt].points.length - 1].linesegment = this.getdirection(ins[pacnt].points[ins[pacnt].points.length - 1].x, ins[pacnt].points[ins[pacnt].points.length - 1].y, paths[pacnt].points[pcnt].x, paths[pacnt].points[pcnt].y);\n                    }\n\n                    ins[pacnt].points.push({\n                      x: paths[pacnt].points[pcnt].x,\n                      y: paths[pacnt].points[pcnt].y,\n                      linesegment: this.getdirection(paths[pacnt].points[pcnt].x, paths[pacnt].points[pcnt].y, (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2, (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2)\n                    });\n                  }\n\n                  ins[pacnt].points.push({\n                    x: (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2,\n                    y: (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2,\n                    linesegment: this.getdirection((paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2, (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2, (paths[pacnt].points[nextidx].x + paths[pacnt].points[nextidx2].x) / 2, (paths[pacnt].points[nextidx].y + paths[pacnt].points[nextidx2].y) / 2)\n                  });\n                }\n              }\n\n              return ins;\n            }\n          }, {\n            key: 'testrightangle',\n            value: function testrightangle(path, idx1, idx2, idx3, idx4, idx5) {\n              return path.points[idx3].x === path.points[idx1].x && path.points[idx3].x === path.points[idx2].x && path.points[idx3].y === path.points[idx4].y && path.points[idx3].y === path.points[idx5].y || path.points[idx3].y === path.points[idx1].y && path.points[idx3].y === path.points[idx2].y && path.points[idx3].x === path.points[idx4].x && path.points[idx3].x === path.points[idx5].x;\n            }\n          }, {\n            key: 'getdirection',\n            value: function getdirection(x1, y1, x2, y2) {\n              var val = 8;\n\n              if (x1 < x2) {\n                if (y1 < y2) {\n                  val = 1;\n                } else if (y1 > y2) {\n                  val = 7;\n                } else {\n                  val = 0;\n                }\n              } else if (x1 > x2) {\n                if (y1 < y2) {\n                  val = 3;\n                } else if (y1 > y2) {\n                  val = 5;\n                } else {\n                  val = 4;\n                }\n              } else if (y1 < y2) {\n                val = 2;\n              } else if (y1 > y2) {\n                val = 6;\n              } else {\n                val = 8;\n              }\n\n              return val;\n            }\n          }, {\n            key: 'batchinternodes',\n            value: function batchinternodes(bpaths, options) {\n              var binternodes = [];\n\n              for (var k in bpaths) {\n                if (!bpaths.hasOwnProperty(k)) {\n                  continue;\n                }\n\n                binternodes[k] = this.internodes(bpaths[k], options);\n              }\n\n              return binternodes;\n            }\n          }, {\n            key: 'tracepath',\n            value: function tracepath(path, ltres, qtres) {\n              var pcnt = 0;\n              var segtype1 = void 0;\n              var segtype2 = void 0;\n              var seqend = void 0;\n              var smp = {};\n              smp.segments = [];\n              smp.boundingbox = path.boundingbox;\n              smp.holechildren = path.holechildren;\n              smp.isholepath = path.isholepath;\n\n              while (pcnt < path.points.length) {\n                segtype1 = path.points[pcnt].linesegment;\n                segtype2 = -1;\n                seqend = pcnt + 1;\n\n                while ((path.points[seqend].linesegment === segtype1 || path.points[seqend].linesegment === segtype2 || segtype2 === -1) && seqend < path.points.length - 1) {\n                  if (path.points[seqend].linesegment !== segtype1 && segtype2 === -1) {\n                    segtype2 = path.points[seqend].linesegment;\n                  }\n\n                  seqend += 1;\n                }\n\n                if (seqend === path.points.length - 1) {\n                  seqend = 0;\n                }\n\n                smp.segments = smp.segments.concat(this.fitseq(path, ltres, qtres, pcnt, seqend));\n\n                if (seqend > 0) {\n                  pcnt = seqend;\n                } else {\n                  pcnt = path.points.length;\n                }\n              }\n\n              return smp;\n            }\n          }, {\n            key: 'fitseq',\n            value: function fitseq(path, ltres, qtres, seqstart, seqend) {\n              if (seqend > path.points.length || seqend < 0) {\n                return [];\n              }\n\n              var errorpoint = seqstart,\n                  errorval = 0,\n                  curvepass = true,\n                  px = void 0,\n                  py = void 0,\n                  dist2 = void 0;\n              var tl = seqend - seqstart;\n\n              if (tl < 0) {\n                tl += path.points.length;\n              }\n\n              var vx = (path.points[seqend].x - path.points[seqstart].x) / tl,\n                  vy = (path.points[seqend].y - path.points[seqstart].y) / tl;\n              var pcnt = (seqstart + 1) % path.points.length,\n                  pl = void 0;\n\n              while (pcnt != seqend) {\n                pl = pcnt - seqstart;\n\n                if (pl < 0) {\n                  pl += path.points.length;\n                }\n\n                px = path.points[seqstart].x + vx * pl;\n                py = path.points[seqstart].y + vy * pl;\n                dist2 = (path.points[pcnt].x - px) * (path.points[pcnt].x - px) + (path.points[pcnt].y - py) * (path.points[pcnt].y - py);\n\n                if (dist2 > ltres) {\n                  curvepass = false;\n                }\n\n                if (dist2 > errorval) {\n                  errorpoint = pcnt;\n                  errorval = dist2;\n                }\n\n                pcnt = (pcnt + 1) % path.points.length;\n              }\n\n              if (curvepass) {\n                return [{\n                  type: 'L',\n                  x1: path.points[seqstart].x,\n                  y1: path.points[seqstart].y,\n                  x2: path.points[seqend].x,\n                  y2: path.points[seqend].y\n                }];\n              }\n\n              var fitpoint = errorpoint;\n              curvepass = true;\n              errorval = 0;\n              var t = (fitpoint - seqstart) / tl,\n                  t1 = (1 - t) * (1 - t),\n                  t2 = 2 * (1 - t) * t,\n                  t3 = t * t;\n              var cpx = (t1 * path.points[seqstart].x + t3 * path.points[seqend].x - path.points[fitpoint].x) / -t2,\n                  cpy = (t1 * path.points[seqstart].y + t3 * path.points[seqend].y - path.points[fitpoint].y) / -t2;\n              pcnt = seqstart + 1;\n\n              while (pcnt != seqend) {\n                t = (pcnt - seqstart) / tl;\n                t1 = (1 - t) * (1 - t);\n                t2 = 2 * (1 - t) * t;\n                t3 = t * t;\n                px = t1 * path.points[seqstart].x + t2 * cpx + t3 * path.points[seqend].x;\n                py = t1 * path.points[seqstart].y + t2 * cpy + t3 * path.points[seqend].y;\n                dist2 = (path.points[pcnt].x - px) * (path.points[pcnt].x - px) + (path.points[pcnt].y - py) * (path.points[pcnt].y - py);\n\n                if (dist2 > qtres) {\n                  curvepass = false;\n                }\n\n                if (dist2 > errorval) {\n                  errorpoint = pcnt;\n                  errorval = dist2;\n                }\n\n                pcnt = (pcnt + 1) % path.points.length;\n              }\n\n              if (curvepass) {\n                return [{\n                  type: 'Q',\n                  x1: path.points[seqstart].x,\n                  y1: path.points[seqstart].y,\n                  x2: cpx,\n                  y2: cpy,\n                  x3: path.points[seqend].x,\n                  y3: path.points[seqend].y\n                }];\n              }\n\n              var splitpoint = fitpoint;\n              return this.fitseq(path, ltres, qtres, seqstart, splitpoint).concat(this.fitseq(path, ltres, qtres, splitpoint, seqend));\n            }\n          }, {\n            key: 'batchtracepaths',\n            value: function batchtracepaths(internodepaths, ltres, qtres) {\n              var btracedpaths = [];\n\n              for (var k in internodepaths) {\n                if (!internodepaths.hasOwnProperty(k)) {\n                  continue;\n                }\n\n                btracedpaths.push(this.tracepath(internodepaths[k], ltres, qtres));\n              }\n\n              return btracedpaths;\n            }\n          }, {\n            key: 'batchtracelayers',\n            value: function batchtracelayers(binternodes, ltres, qtres) {\n              var btbis = [];\n\n              for (var k in binternodes) {\n                if (!binternodes.hasOwnProperty(k)) {\n                  continue;\n                }\n\n                btbis[k] = this.batchtracepaths(binternodes[k], ltres, qtres);\n              }\n\n              return btbis;\n            }\n          }, {\n            key: 'roundtodec',\n            value: function roundtodec(val, places) {\n              return Number(val.toFixed(places));\n            }\n          }, {\n            key: 'svgpathstring',\n            value: function svgpathstring(tracedata, lnum, pathnum, options) {\n              var layer = tracedata.layers[lnum],\n                  smp = layer[pathnum],\n                  str = '',\n                  pcnt = void 0;\n\n              if (options.linefilter && smp.segments.length < 3) {\n                return str;\n              }\n\n              str = '<path ' + (options.desc ? 'desc=\"l ' + lnum + ' p ' + pathnum + '\" ' : '') + this.tosvgcolorstr(tracedata.palette[lnum], options) + 'd=\"';\n\n              if (options.roundcoords === -1) {\n                str += 'M ' + smp.segments[0].x1 * options.scale + ' ' + smp.segments[0].y1 * options.scale + ' ';\n\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                  str += smp.segments[pcnt].type + ' ' + smp.segments[pcnt].x2 * options.scale + ' ' + smp.segments[pcnt].y2 * options.scale + ' ';\n\n                  if (smp.segments[pcnt].hasOwnProperty('x3')) {\n                    str += smp.segments[pcnt].x3 * options.scale + ' ' + smp.segments[pcnt].y3 * options.scale + ' ';\n                  }\n                }\n\n                str += 'Z ';\n              } else {\n                str += 'M ' + this.roundtodec(smp.segments[0].x1 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[0].y1 * options.scale, options.roundcoords) + ' ';\n\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                  str += smp.segments[pcnt].type + ' ' + this.roundtodec(smp.segments[pcnt].x2 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[pcnt].y2 * options.scale, options.roundcoords) + ' ';\n\n                  if (smp.segments[pcnt].hasOwnProperty('x3')) {\n                    str += this.roundtodec(smp.segments[pcnt].x3 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[pcnt].y3 * options.scale, options.roundcoords) + ' ';\n                  }\n                }\n\n                str += 'Z ';\n              }\n\n              for (var hcnt = 0; hcnt < smp.holechildren.length; hcnt++) {\n                var hsmp = layer[smp.holechildren[hcnt]];\n\n                if (options.roundcoords === -1) {\n                  if (hsmp.segments[hsmp.segments.length - 1].hasOwnProperty('x3')) {\n                    str += 'M ' + hsmp.segments[hsmp.segments.length - 1].x3 * options.scale + ' ' + hsmp.segments[hsmp.segments.length - 1].y3 * options.scale + ' ';\n                  } else {\n                    str += 'M ' + hsmp.segments[hsmp.segments.length - 1].x2 * options.scale + ' ' + hsmp.segments[hsmp.segments.length - 1].y2 * options.scale + ' ';\n                  }\n\n                  for (pcnt = hsmp.segments.length - 1; pcnt >= 0; pcnt--) {\n                    str += hsmp.segments[pcnt].type + ' ';\n\n                    if (hsmp.segments[pcnt].hasOwnProperty('x3')) {\n                      str += hsmp.segments[pcnt].x2 * options.scale + ' ' + hsmp.segments[pcnt].y2 * options.scale + ' ';\n                    }\n\n                    str += hsmp.segments[pcnt].x1 * options.scale + ' ' + hsmp.segments[pcnt].y1 * options.scale + ' ';\n                  }\n                } else {\n                  if (hsmp.segments[hsmp.segments.length - 1].hasOwnProperty('x3')) {\n                    str += 'M ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].x3 * options.scale) + ' ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].y3 * options.scale) + ' ';\n                  } else {\n                    str += 'M ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].x2 * options.scale) + ' ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].y2 * options.scale) + ' ';\n                  }\n\n                  for (pcnt = hsmp.segments.length - 1; pcnt >= 0; pcnt--) {\n                    str += hsmp.segments[pcnt].type + ' ';\n\n                    if (hsmp.segments[pcnt].hasOwnProperty('x3')) {\n                      str += this.roundtodec(hsmp.segments[pcnt].x2 * options.scale) + ' ' + this.roundtodec(hsmp.segments[pcnt].y2 * options.scale) + ' ';\n                    }\n\n                    str += this.roundtodec(hsmp.segments[pcnt].x1 * options.scale) + ' ' + this.roundtodec(hsmp.segments[pcnt].y1 * options.scale) + ' ';\n                  }\n                }\n\n                str += 'Z ';\n              }\n\n              str += '\" />';\n\n              if (options.lcpr || options.qcpr) {\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                  if (smp.segments[pcnt].hasOwnProperty('x3') && options.qcpr) {\n                    str += '<circle cx=\"' + smp.segments[pcnt].x2 * options.scale + '\" cy=\"' + smp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"cyan\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                    str += '<circle cx=\"' + smp.segments[pcnt].x3 * options.scale + '\" cy=\"' + smp.segments[pcnt].y3 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"white\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                    str += '<line x1=\"' + smp.segments[pcnt].x1 * options.scale + '\" y1=\"' + smp.segments[pcnt].y1 * options.scale + '\" x2=\"' + smp.segments[pcnt].x2 * options.scale + '\" y2=\"' + smp.segments[pcnt].y2 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                    str += '<line x1=\"' + smp.segments[pcnt].x2 * options.scale + '\" y1=\"' + smp.segments[pcnt].y2 * options.scale + '\" x2=\"' + smp.segments[pcnt].x3 * options.scale + '\" y2=\"' + smp.segments[pcnt].y3 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                  }\n\n                  if (!smp.segments[pcnt].hasOwnProperty('x3') && options.lcpr) {\n                    str += '<circle cx=\"' + smp.segments[pcnt].x2 * options.scale + '\" cy=\"' + smp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.lcpr + '\" fill=\"white\" stroke-width=\"' + options.lcpr * 0.2 + '\" stroke=\"black\" />';\n                  }\n                }\n\n                for (var hcnt = 0; hcnt < smp.holechildren.length; hcnt++) {\n                  var hsmp = layer[smp.holechildren[hcnt]];\n\n                  for (pcnt = 0; pcnt < hsmp.segments.length; pcnt++) {\n                    if (hsmp.segments[pcnt].hasOwnProperty('x3') && options.qcpr) {\n                      str += '<circle cx=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"cyan\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                      str += '<circle cx=\"' + hsmp.segments[pcnt].x3 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y3 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"white\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                      str += '<line x1=\"' + hsmp.segments[pcnt].x1 * options.scale + '\" y1=\"' + hsmp.segments[pcnt].y1 * options.scale + '\" x2=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" y2=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                      str += '<line x1=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" y1=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" x2=\"' + hsmp.segments[pcnt].x3 * options.scale + '\" y2=\"' + hsmp.segments[pcnt].y3 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                    }\n\n                    if (!hsmp.segments[pcnt].hasOwnProperty('x3') && options.lcpr) {\n                      str += '<circle cx=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.lcpr + '\" fill=\"white\" stroke-width=\"' + options.lcpr * 0.2 + '\" stroke=\"black\" />';\n                    }\n                  }\n                }\n              }\n\n              return str;\n            }\n          }, {\n            key: 'getsvgstring',\n            value: function getsvgstring(tracedata, options) {\n              options = this.checkoptions(options);\n              var w = tracedata.width * options.scale;\n              var h = tracedata.height * options.scale;\n              var svgstr = '<svg ' + (options.viewbox ? 'viewBox=\"0 0 ' + w + ' ' + h + '\" ' : 'width=\"' + w + '\" height=\"' + h + '\" ') + 'version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" desc=\"Created with imagetracer.js version ' + this.versionnumber + '\" >';\n\n              for (var lcnt = 0; lcnt < tracedata.layers.length; lcnt += 1) {\n                for (var pcnt = 0; pcnt < tracedata.layers[lcnt].length; pcnt += 1) {\n                  if (!tracedata.layers[lcnt][pcnt].isholepath) {\n                    svgstr += this.svgpathstring(tracedata, lcnt, pcnt, options);\n                  }\n                }\n              }\n\n              svgstr += '</svg>';\n              return svgstr;\n            }\n          }, {\n            key: 'compareNumbers',\n            value: function compareNumbers(a, b) {\n              return a - b;\n            }\n          }, {\n            key: 'torgbastr',\n            value: function torgbastr(c) {\n              return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\n            }\n          }, {\n            key: 'tosvgcolorstr',\n            value: function tosvgcolorstr(c, options) {\n              return 'fill=\"rgb(' + c.r + ',' + c.g + ',' + c.b + ')\" stroke=\"rgb(' + c.r + ',' + c.g + ',' + c.b + ')\" stroke-width=\"' + options.strokewidth + '\" opacity=\"' + c.a / 255.0 + '\" ';\n            }\n          }, {\n            key: 'appendSVGString',\n            value: function appendSVGString(svgstr, parentid) {\n              var div = void 0;\n\n              if (parentid) {\n                div = document.getElementById(parentid);\n\n                if (!div) {\n                  div = document.createElement('div');\n                  div.id = parentid;\n                  document.body.appendChild(div);\n                }\n              } else {\n                div = document.createElement('div');\n                document.body.appendChild(div);\n              }\n\n              div.innerHTML += svgstr;\n            }\n          }, {\n            key: 'blur',\n            value: function blur(imgd, radius, delta) {\n              var i = void 0,\n                  j = void 0,\n                  k = void 0,\n                  d = void 0,\n                  idx = void 0,\n                  racc = void 0,\n                  gacc = void 0,\n                  bacc = void 0,\n                  aacc = void 0,\n                  wacc = void 0;\n              var imgd2 = {\n                width: imgd.width,\n                height: imgd.height,\n                data: []\n              };\n              radius = Math.floor(radius);\n\n              if (radius < 1) {\n                return imgd;\n              }\n\n              if (radius > 5) {\n                radius = 5;\n              }\n\n              delta = Math.abs(delta);\n\n              if (delta > 1024) {\n                delta = 1024;\n              }\n\n              var thisgk = this.gks[radius - 1];\n\n              for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                  racc = 0;\n                  gacc = 0;\n                  bacc = 0;\n                  aacc = 0;\n                  wacc = 0;\n\n                  for (k = -radius; k < radius + 1; k++) {\n                    if (i + k > 0 && i + k < imgd.width) {\n                      idx = (j * imgd.width + i + k) * 4;\n                      racc += imgd.data[idx] * thisgk[k + radius];\n                      gacc += imgd.data[idx + 1] * thisgk[k + radius];\n                      bacc += imgd.data[idx + 2] * thisgk[k + radius];\n                      aacc += imgd.data[idx + 3] * thisgk[k + radius];\n                      wacc += thisgk[k + radius];\n                    }\n                  }\n\n                  idx = (j * imgd.width + i) * 4;\n                  imgd2.data[idx] = Math.floor(racc / wacc);\n                  imgd2.data[idx + 1] = Math.floor(gacc / wacc);\n                  imgd2.data[idx + 2] = Math.floor(bacc / wacc);\n                  imgd2.data[idx + 3] = Math.floor(aacc / wacc);\n                }\n              }\n\n              var himgd = new Uint8ClampedArray(imgd2.data);\n\n              for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                  racc = 0;\n                  gacc = 0;\n                  bacc = 0;\n                  aacc = 0;\n                  wacc = 0;\n\n                  for (k = -radius; k < radius + 1; k++) {\n                    if (j + k > 0 && j + k < imgd.height) {\n                      idx = ((j + k) * imgd.width + i) * 4;\n                      racc += himgd[idx] * thisgk[k + radius];\n                      gacc += himgd[idx + 1] * thisgk[k + radius];\n                      bacc += himgd[idx + 2] * thisgk[k + radius];\n                      aacc += himgd[idx + 3] * thisgk[k + radius];\n                      wacc += thisgk[k + radius];\n                    }\n                  }\n\n                  idx = (j * imgd.width + i) * 4;\n                  imgd2.data[idx] = Math.floor(racc / wacc);\n                  imgd2.data[idx + 1] = Math.floor(gacc / wacc);\n                  imgd2.data[idx + 2] = Math.floor(bacc / wacc);\n                  imgd2.data[idx + 3] = Math.floor(aacc / wacc);\n                }\n              }\n\n              for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                  idx = (j * imgd.width + i) * 4;\n                  d = Math.abs(imgd2.data[idx] - imgd.data[idx]) + Math.abs(imgd2.data[idx + 1] - imgd.data[idx + 1]) + Math.abs(imgd2.data[idx + 2] - imgd.data[idx + 2]) + Math.abs(imgd2.data[idx + 3] - imgd.data[idx + 3]);\n\n                  if (d > delta) {\n                    imgd2.data[idx] = imgd.data[idx];\n                    imgd2.data[idx + 1] = imgd.data[idx + 1];\n                    imgd2.data[idx + 2] = imgd.data[idx + 2];\n                    imgd2.data[idx + 3] = imgd.data[idx + 3];\n                  }\n                }\n              }\n\n              return imgd2;\n            }\n          }, {\n            key: 'loadImage',\n            value: function loadImage(url, callback, options) {\n              var img = new Image();\n\n              if (options && options.corsenabled) {\n                img.crossOrigin = 'Anonymous';\n              }\n\n              img.src = url;\n\n              img.onload = function () {\n                var canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                var context = canvas.getContext('2d');\n                context.drawImage(img, 0, 0);\n                callback(canvas);\n              };\n            }\n          }, {\n            key: 'getImgdata',\n            value: function getImgdata(canvas) {\n              var context = canvas.getContext('2d');\n              return context.getImageData(0, 0, canvas.width, canvas.height);\n            }\n          }, {\n            key: 'drawLayers',\n            value: function drawLayers(layers, palette, scale, parentid) {\n              scale = scale || 1;\n              var w = void 0,\n                  h = void 0,\n                  i = void 0,\n                  j = void 0,\n                  k = void 0;\n              var div = void 0;\n\n              if (parentid) {\n                div = document.getElementById(parentid);\n\n                if (!div) {\n                  div = document.createElement('div');\n                  div.id = parentid;\n                  document.body.appendChild(div);\n                }\n              } else {\n                div = document.createElement('div');\n                document.body.appendChild(div);\n              }\n\n              for (k in layers) {\n                if (!layers.hasOwnProperty(k)) {\n                  continue;\n                }\n\n                w = layers[k][0].length;\n                h = layers[k].length;\n                var canvas = document.createElement('canvas');\n                canvas.width = w * scale;\n                canvas.height = h * scale;\n                var context = canvas.getContext('2d');\n\n                for (j = 0; j < h; j += 1) {\n                  for (i = 0; i < w; i += 1) {\n                    context.fillStyle = this.torgbastr(palette[layers[k][j][i] % palette.length]);\n                    context.fillRect(i * scale, j * scale, scale, scale);\n                  }\n                }\n\n                div.appendChild(canvas);\n              }\n            }\n          }]);\n\n          return ImageTracer;\n        }();\n\n        exports.default = ImageTracer;\n        /***/\n      },\n\n      /***/\n      \"./src/js/helper/selectionModifyHelper.js\":\n      /*!************************************************!*\\\n        !*** ./src/js/helper/selectionModifyHelper.js ***!\n        \\************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.setCachedUndoDataForDimension = setCachedUndoDataForDimension;\n        exports.getCachedUndoDataForDimension = getCachedUndoDataForDimension;\n        exports.makeSelectionUndoData = makeSelectionUndoData;\n        exports.makeSelectionUndoDatum = makeSelectionUndoDatum;\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n        /**\n         * Cached selection's info\n         * @type {Array}\n         * @private\n         */\n\n\n        var cachedUndoDataForChangeDimension = null;\n        /**\n         * Set cached undo data\n         * @param {Array} undoData - selection object\n         * @private\n         */\n\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Selection modification helper\n         */\n\n        function setCachedUndoDataForDimension(undoData) {\n          cachedUndoDataForChangeDimension = undoData;\n        }\n        /**\n         * Get cached undo data\n         * @returns {Object} cached undo data\n         * @private\n         */\n\n\n        function getCachedUndoDataForDimension() {\n          return cachedUndoDataForChangeDimension;\n        }\n        /**\n         * Make undo data\n         * @param {fabric.Object} obj - selection object\n         * @param {Function} undoDatumMaker - make undo datum\n         * @returns {Array} undoData\n         * @private\n         */\n\n\n        function makeSelectionUndoData(obj, undoDatumMaker) {\n          var undoData = void 0;\n\n          if (obj.type === 'activeSelection') {\n            undoData = obj.getObjects().map(function (item) {\n              var angle = item.angle,\n                  left = item.left,\n                  top = item.top,\n                  scaleX = item.scaleX,\n                  scaleY = item.scaleY,\n                  width = item.width,\n                  height = item.height;\n              obj.realizeTransform(item);\n              var result = undoDatumMaker(item);\n              item.set({\n                angle: angle,\n                left: left,\n                top: top,\n                width: width,\n                height: height,\n                scaleX: scaleX,\n                scaleY: scaleY\n              });\n              return result;\n            });\n          } else {\n            undoData = [undoDatumMaker(obj)];\n          }\n\n          return undoData;\n        }\n        /**\n         * Make undo datum\n         * @param {number} id - object id\n         * @param {fabric.Object} obj - selection object\n         * @param {boolean} isSelection - whether or not object is selection\n         * @returns {Object} undo datum\n         * @private\n         */\n\n\n        function makeSelectionUndoDatum(id, obj, isSelection) {\n          return isSelection ? {\n            id: id,\n            width: obj.width,\n            height: obj.height,\n            top: obj.top,\n            left: obj.left,\n            angle: obj.angle,\n            scaleX: obj.scaleX,\n            scaleY: obj.scaleY\n          } : (0, _tuiCodeSnippet.extend)({\n            id: id\n          }, obj);\n        }\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/helper/shapeFilterFillHelper.js\":\n      /*!************************************************!*\\\n        !*** ./src/js/helper/shapeFilterFillHelper.js ***!\n        \\************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.getFillImageFromShape = getFillImageFromShape;\n        exports.rePositionFilterTypeFillImage = rePositionFilterTypeFillImage;\n        exports.makeFilterOptionFromFabricImage = makeFilterOptionFromFabricImage;\n        exports.makeFillPatternForFilter = makeFillPatternForFilter;\n        exports.resetFillPatternCanvas = resetFillPatternCanvas;\n        exports.reMakePatternImageSource = reMakePatternImageSource;\n        exports.getCachedCanvasImageElement = getCachedCanvasImageElement;\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _shapeResizeHelper = __webpack_require__(\n        /*! @/helper/shapeResizeHelper */\n        \"./src/js/helper/shapeResizeHelper.js\");\n\n        var _shapeResizeHelper2 = _interopRequireDefault(_shapeResizeHelper);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _defineProperty(obj, key, value) {\n          if (key in obj) {\n            Object.defineProperty(obj, key, {\n              value: value,\n              enumerable: true,\n              configurable: true,\n              writable: true\n            });\n          } else {\n            obj[key] = value;\n          }\n\n          return obj;\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Shape resize helper\n         */\n\n\n        var FILTER_OPTION_MAP = {\n          pixelate: 'blocksize',\n          blur: 'blur'\n        };\n        var POSITION_DIMENSION_MAP = {\n          x: 'width',\n          y: 'height'\n        };\n        var FILTER_NAME_VALUE_MAP = (0, _util.flipObject)(FILTER_OPTION_MAP);\n        /**\n         * Cached canvas image element for fill image\n         * @type {boolean}\n         * @private\n         */\n\n        var cachedCanvasImageElement = null;\n        /**\n         * Get background image of fill\n         * @param {fabric.Object} shapeObj - Shape object\n         * @returns {fabric.Image}\n         * @private\n         */\n\n        function getFillImageFromShape(shapeObj) {\n          var _getCustomProperty = (0, _util.getCustomProperty)(shapeObj, 'patternSourceCanvas'),\n              patternSourceCanvas = _getCustomProperty.patternSourceCanvas;\n\n          var _patternSourceCanvas$ = patternSourceCanvas.getObjects(),\n              fillImage = _patternSourceCanvas$[0];\n\n          return fillImage;\n        }\n        /**\n         * Reset the image position in the filter type fill area.\n         * @param {fabric.Object} shapeObj - Shape object\n         * @private\n         */\n\n\n        function rePositionFilterTypeFillImage(shapeObj) {\n          var angle = shapeObj.angle,\n              flipX = shapeObj.flipX,\n              flipY = shapeObj.flipY;\n          var fillImage = getFillImageFromShape(shapeObj);\n          var rotatedShapeCornerDimension = getRotatedDimension(shapeObj);\n          var right = rotatedShapeCornerDimension.right,\n              bottom = rotatedShapeCornerDimension.bottom;\n          var width = rotatedShapeCornerDimension.width,\n              height = rotatedShapeCornerDimension.height;\n          var diffLeft = (width - shapeObj.width) / 2;\n          var diffTop = (height - shapeObj.height) / 2;\n          var cropX = shapeObj.left - shapeObj.width / 2 - diffLeft;\n          var cropY = shapeObj.top - shapeObj.height / 2 - diffTop;\n          var left = width / 2 - diffLeft;\n          var top = height / 2 - diffTop;\n          var fillImageMaxSize = Math.max(width, height) + Math.max(diffLeft, diffTop);\n\n          var _calculateFillImageDi = calculateFillImageDimensionOutsideCanvas({\n            shapeObj: shapeObj,\n            left: left,\n            top: top,\n            width: width,\n            height: height,\n            cropX: cropX,\n            cropY: cropY,\n            flipX: flipX,\n            flipY: flipY,\n            right: right,\n            bottom: bottom\n          });\n\n          left = _calculateFillImageDi[0];\n          top = _calculateFillImageDi[1];\n          width = _calculateFillImageDi[2];\n          height = _calculateFillImageDi[3];\n          fillImage.set({\n            angle: flipX === flipY ? -angle : angle,\n            left: left,\n            top: top,\n            width: width,\n            height: height,\n            cropX: cropX,\n            cropY: cropY,\n            flipX: flipX,\n            flipY: flipY\n          });\n          (0, _util.setCustomProperty)(fillImage, {\n            fillImageMaxSize: fillImageMaxSize\n          });\n        }\n        /**\n         * Make filter option from fabric image\n         * @param {fabric.Image} imageObject - fabric image object\n         * @returns {object}\n         */\n\n\n        function makeFilterOptionFromFabricImage(imageObject) {\n          return (0, _tuiCodeSnippet.map)(imageObject.filters, function (filter) {\n            var _Object$keys = Object.keys(filter),\n                key = _Object$keys[0];\n\n            return _defineProperty({}, FILTER_NAME_VALUE_MAP[key], filter[key]);\n          });\n        }\n        /**\n         * Calculate fill image position and size for out of Canvas\n         * @param {Object} options - options for position dimension calculate\n         *   @param {fabric.Object} shapeObj - shape object\n         *   @param {number} left - original left position\n         *   @param {number} top - original top position\n         *   @param {number} width - image width\n         *   @param {number} height - image height\n         *   @param {number} cropX - image cropX\n         *   @param {number} cropY - image cropY\n         *   @param {boolean} flipX - shape flipX\n         *   @param {boolean} flipY - shape flipY\n         * @returns {Object}\n         */\n\n\n        function calculateFillImageDimensionOutsideCanvas(_ref2) {\n          var shapeObj = _ref2.shapeObj,\n              left = _ref2.left,\n              top = _ref2.top,\n              width = _ref2.width,\n              height = _ref2.height,\n              cropX = _ref2.cropX,\n              cropY = _ref2.cropY,\n              flipX = _ref2.flipX,\n              flipY = _ref2.flipY,\n              right = _ref2.right,\n              bottom = _ref2.bottom;\n\n          var overflowAreaPositionFixer = function overflowAreaPositionFixer(type, outDistance, imageLeft, imageTop) {\n            return calculateDistanceOverflowPart({\n              type: type,\n              outDistance: outDistance,\n              shapeObj: shapeObj,\n              flipX: flipX,\n              flipY: flipY,\n              left: imageLeft,\n              top: imageTop\n            });\n          };\n\n          var originalWidth = width,\n              originalHeight = height;\n\n          var _calculateDimensionLe = calculateDimensionLeftTopEdge(overflowAreaPositionFixer, {\n            left: left,\n            top: top,\n            width: width,\n            height: height,\n            cropX: cropX,\n            cropY: cropY\n          });\n\n          left = _calculateDimensionLe[0];\n          top = _calculateDimensionLe[1];\n          width = _calculateDimensionLe[2];\n          height = _calculateDimensionLe[3];\n\n          var _calculateDimensionRi = calculateDimensionRightBottomEdge(overflowAreaPositionFixer, {\n            left: left,\n            top: top,\n            insideCanvasRealImageWidth: width,\n            insideCanvasRealImageHeight: height,\n            right: right,\n            bottom: bottom,\n            cropX: cropX,\n            cropY: cropY,\n            originalWidth: originalWidth,\n            originalHeight: originalHeight\n          });\n\n          left = _calculateDimensionRi[0];\n          top = _calculateDimensionRi[1];\n          width = _calculateDimensionRi[2];\n          height = _calculateDimensionRi[3];\n          return [left, top, width, height];\n        }\n        /**\n         * Calculate fill image position and size for for right bottom edge\n         * @param {Function} overflowAreaPositionFixer - position fixer\n         * @param {Object} options - options for position dimension calculate\n         *   @param {fabric.Object} shapeObj - shape object\n         *   @param {number} left - original left position\n         *   @param {number} top - original top position\n         *   @param {number} width - image width\n         *   @param {number} height - image height\n         *   @param {number} right - image right\n         *   @param {number} bottom - image bottom\n         *   @param {number} cropX - image cropX\n         *   @param {number} cropY - image cropY\n         *   @param {boolean} originalWidth - image original width\n         *   @param {boolean} originalHeight - image original height\n         * @returns {Object}\n         */\n\n\n        function calculateDimensionRightBottomEdge(overflowAreaPositionFixer, _ref3) {\n          var left = _ref3.left,\n              top = _ref3.top,\n              insideCanvasRealImageWidth = _ref3.insideCanvasRealImageWidth,\n              insideCanvasRealImageHeight = _ref3.insideCanvasRealImageHeight,\n              right = _ref3.right,\n              bottom = _ref3.bottom,\n              cropX = _ref3.cropX,\n              cropY = _ref3.cropY,\n              originalWidth = _ref3.originalWidth,\n              originalHeight = _ref3.originalHeight;\n          var width = insideCanvasRealImageWidth,\n              height = insideCanvasRealImageHeight;\n          var _cachedCanvasImageEle = cachedCanvasImageElement,\n              canvasWidth = _cachedCanvasImageEle.width,\n              canvasHeight = _cachedCanvasImageEle.height;\n\n          if (right > canvasWidth && cropX > 0) {\n            width = originalWidth - Math.abs(right - canvasWidth);\n          }\n\n          if (bottom > canvasHeight && cropY > 0) {\n            height = originalHeight - Math.abs(bottom - canvasHeight);\n          }\n\n          var diff = {\n            x: (insideCanvasRealImageWidth - width) / 2,\n            y: (insideCanvasRealImageHeight - height) / 2\n          };\n          (0, _tuiCodeSnippet.forEach)(['x', 'y'], function (type) {\n            var cropDistance2 = diff[type];\n\n            if (cropDistance2 > 0) {\n              var _overflowAreaPosition = overflowAreaPositionFixer(type, cropDistance2, left, top);\n\n              left = _overflowAreaPosition[0];\n              top = _overflowAreaPosition[1];\n            }\n          });\n          return [left, top, width, height];\n        }\n        /**\n         * Calculate fill image position and size for for left top\n         * @param {Function} overflowAreaPositionFixer - position fixer\n         * @param {Object} options - options for position dimension calculate\n         *   @param {fabric.Object} shapeObj - shape object\n         *   @param {number} left - original left position\n         *   @param {number} top - original top position\n         *   @param {number} width - image width\n         *   @param {number} height - image height\n         *   @param {number} cropX - image cropX\n         *   @param {number} cropY - image cropY\n         * @returns {Object}\n         */\n\n\n        function calculateDimensionLeftTopEdge(overflowAreaPositionFixer, _ref4) {\n          var left = _ref4.left,\n              top = _ref4.top,\n              width = _ref4.width,\n              height = _ref4.height,\n              cropX = _ref4.cropX,\n              cropY = _ref4.cropY;\n          var dimension = {\n            width: width,\n            height: height\n          };\n          (0, _tuiCodeSnippet.forEach)(['x', 'y'], function (type) {\n            var cropDistance = type === 'x' ? cropX : cropY;\n            var compareSize = dimension[POSITION_DIMENSION_MAP[type]];\n            var standardSize = cachedCanvasImageElement[POSITION_DIMENSION_MAP[type]];\n\n            if (compareSize > standardSize) {\n              var outDistance = (compareSize - standardSize) / 2;\n              dimension[POSITION_DIMENSION_MAP[type]] = standardSize;\n\n              var _overflowAreaPosition2 = overflowAreaPositionFixer(type, outDistance, left, top);\n\n              left = _overflowAreaPosition2[0];\n              top = _overflowAreaPosition2[1];\n            }\n\n            if (cropDistance < 0) {\n              var _overflowAreaPosition3 = overflowAreaPositionFixer(type, cropDistance, left, top);\n\n              left = _overflowAreaPosition3[0];\n              top = _overflowAreaPosition3[1];\n            }\n          });\n          return [left, top, dimension.width, dimension.height];\n        }\n        /**\n         * Make fill property of dynamic pattern type\n         * @param {fabric.Image} canvasImage - canvas background image\n         * @param {Array} filterOption - filter option\n         * @param {fabric.StaticCanvas} patternSourceCanvas - fabric static canvas\n         * @returns {Object}\n         */\n\n\n        function makeFillPatternForFilter(canvasImage, filterOption, patternSourceCanvas) {\n          var copiedCanvasElement = getCachedCanvasImageElement(canvasImage);\n          var fillImage = makeFillImage(copiedCanvasElement, canvasImage.angle, filterOption);\n          patternSourceCanvas.add(fillImage);\n          var fabricProperty = {\n            fill: new fabric.Pattern({\n              source: patternSourceCanvas.getElement(),\n              repeat: 'no-repeat'\n            })\n          };\n          (0, _util.setCustomProperty)(fabricProperty, {\n            patternSourceCanvas: patternSourceCanvas\n          });\n          return fabricProperty;\n        }\n        /**\n         * Reset fill pattern canvas\n         * @param {fabric.StaticCanvas} patternSourceCanvas - fabric static canvas\n         */\n\n\n        function resetFillPatternCanvas(patternSourceCanvas) {\n          var _patternSourceCanvas$2 = patternSourceCanvas.getObjects(),\n              innerImage = _patternSourceCanvas$2[0];\n\n          var _getCustomProperty2 = (0, _util.getCustomProperty)(innerImage, 'fillImageMaxSize'),\n              fillImageMaxSize = _getCustomProperty2.fillImageMaxSize;\n\n          fillImageMaxSize = Math.max(1, fillImageMaxSize);\n          patternSourceCanvas.setDimensions({\n            width: fillImageMaxSize,\n            height: fillImageMaxSize\n          });\n          patternSourceCanvas.renderAll();\n        }\n        /**\n         * Remake filter pattern image source\n         * @param {fabric.Object} shapeObj - Shape object\n         * @param {fabric.Image} canvasImage - canvas background image\n         */\n\n\n        function reMakePatternImageSource(shapeObj, canvasImage) {\n          var _getCustomProperty3 = (0, _util.getCustomProperty)(shapeObj, 'patternSourceCanvas'),\n              patternSourceCanvas = _getCustomProperty3.patternSourceCanvas;\n\n          var _patternSourceCanvas$3 = patternSourceCanvas.getObjects(),\n              fillImage = _patternSourceCanvas$3[0];\n\n          var filterOption = makeFilterOptionFromFabricImage(fillImage);\n          patternSourceCanvas.remove(fillImage);\n          var copiedCanvasElement = getCachedCanvasImageElement(canvasImage, true);\n          var newFillImage = makeFillImage(copiedCanvasElement, canvasImage.angle, filterOption);\n          patternSourceCanvas.add(newFillImage);\n        }\n        /**\n         * Calculate a point line outside the canvas.\n         * @param {fabric.Image} canvasImage - canvas background image\n         * @param {boolean} reset - default is false\n         * @returns {HTMLImageElement}\n         */\n\n\n        function getCachedCanvasImageElement(canvasImage) {\n          var reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n          if (!cachedCanvasImageElement || reset) {\n            cachedCanvasImageElement = canvasImage.toCanvasElement();\n          }\n\n          return cachedCanvasImageElement;\n        }\n        /**\n         * Calculate fill image position for out of Canvas\n         * @param {string} type - 'x' or 'y'\n         * @param {fabric.Object} shapeObj - shape object\n         * @param {number} outDistance - distance away\n         * @param {number} left - original left position\n         * @param {number} top - original top position\n         * @returns {Array}\n         */\n\n\n        function calculateDistanceOverflowPart(_ref5) {\n          var type = _ref5.type,\n              shapeObj = _ref5.shapeObj,\n              outDistance = _ref5.outDistance,\n              left = _ref5.left,\n              top = _ref5.top,\n              flipX = _ref5.flipX,\n              flipY = _ref5.flipY;\n          var shapePointNavigation = getShapeEdgePoint(shapeObj);\n          var shapeNeighborPointNavigation = [[1, 2], [0, 3], [0, 3], [1, 2]];\n          var linePointsOutsideCanvas = calculateLinePointsOutsideCanvas(type, shapePointNavigation, shapeNeighborPointNavigation);\n          var reatAngles = calculateLineAngleOfOutsideCanvas(type, shapePointNavigation, linePointsOutsideCanvas);\n          var startPointIndex = linePointsOutsideCanvas.startPointIndex;\n          var diffPosition = getReversePositionForFlip({\n            outDistance: outDistance,\n            startPointIndex: startPointIndex,\n            flipX: flipX,\n            flipY: flipY,\n            reatAngles: reatAngles\n          });\n          return [left + diffPosition.left, top + diffPosition.top];\n        }\n        /**\n         * Calculate fill image position for out of Canvas\n         * @param {number} outDistance - distance away\n         * @param {boolean} flipX - flip x statux\n         * @param {boolean} flipY - flip y statux\n         * @param {Array} reatAngles - Line angle of the rectangle vertex.\n         * @returns {Object} diffPosition\n         */\n\n\n        function getReversePositionForFlip(_ref6) {\n          var outDistance = _ref6.outDistance,\n              startPointIndex = _ref6.startPointIndex,\n              flipX = _ref6.flipX,\n              flipY = _ref6.flipY,\n              reatAngles = _ref6.reatAngles;\n          var rotationChangePoint1 = outDistance * Math.cos(reatAngles[0] * Math.PI / 180);\n          var rotationChangePoint2 = outDistance * Math.cos(reatAngles[1] * Math.PI / 180);\n          var isForward = startPointIndex === 2 || startPointIndex === 3;\n          var diffPosition = {\n            top: isForward ? rotationChangePoint1 : rotationChangePoint2,\n            left: isForward ? rotationChangePoint2 : rotationChangePoint1\n          };\n\n          if (isReverseLeftPositionForFlip(startPointIndex, flipX, flipY)) {\n            diffPosition.left = diffPosition.left * -1;\n          }\n\n          if (isReverseTopPositionForFlip(startPointIndex, flipX, flipY)) {\n            diffPosition.top = diffPosition.top * -1;\n          }\n\n          return diffPosition;\n        }\n        /**\n         * Calculate a point line outside the canvas.\n         * @param {string} type - 'x' or 'y'\n         * @param {Array} shapePointNavigation - shape edge positions\n         *   @param {Object} shapePointNavigation.lefttop - left top position\n         *   @param {Object} shapePointNavigation.righttop - right top position\n         *   @param {Object} shapePointNavigation.leftbottom - lefttop position\n         *   @param {Object} shapePointNavigation.rightbottom - rightbottom position\n         * @param {Array} shapeNeighborPointNavigation - Array to find adjacent edges.\n         * @returns {Object}\n         */\n\n\n        function calculateLinePointsOutsideCanvas(type, shapePointNavigation, shapeNeighborPointNavigation) {\n          var minimumPoint = 0;\n          var minimumPointIndex = 0;\n          (0, _tuiCodeSnippet.forEach)(shapePointNavigation, function (point, index) {\n            if (point[type] < minimumPoint) {\n              minimumPoint = point[type];\n              minimumPointIndex = index;\n            }\n          });\n          var _shapeNeighborPointNa = shapeNeighborPointNavigation[minimumPointIndex],\n              endPointIndex1 = _shapeNeighborPointNa[0],\n              endPointIndex2 = _shapeNeighborPointNa[1];\n          return {\n            startPointIndex: minimumPointIndex,\n            endPointIndex1: endPointIndex1,\n            endPointIndex2: endPointIndex2\n          };\n        }\n        /**\n         * Calculate a point line outside the canvas.\n         * @param {string} type - 'x' or 'y'\n         * @param {Array} shapePointNavigation - shape edge positions\n         *   @param {object} shapePointNavigation.lefttop - left top position\n         *   @param {object} shapePointNavigation.righttop - right top position\n         *   @param {object} shapePointNavigation.leftbottom - lefttop position\n         *   @param {object} shapePointNavigation.rightbottom - rightbottom position\n         * @param {Object} linePointsOfOneVertexIndex - Line point of one vertex\n         *   @param {Object} linePointsOfOneVertexIndex.startPoint - start point index\n         *   @param {Object} linePointsOfOneVertexIndex.endPointIndex1 - end point index\n         *   @param {Object} linePointsOfOneVertexIndex.endPointIndex2 - end point index\n         * @returns {Object}\n         */\n\n\n        function calculateLineAngleOfOutsideCanvas(type, shapePointNavigation, linePointsOfOneVertexIndex) {\n          var startPointIndex = linePointsOfOneVertexIndex.startPointIndex,\n              endPointIndex1 = linePointsOfOneVertexIndex.endPointIndex1,\n              endPointIndex2 = linePointsOfOneVertexIndex.endPointIndex2;\n          var horizontalVerticalAngle = type === 'x' ? 180 : 270;\n          return (0, _tuiCodeSnippet.map)([endPointIndex1, endPointIndex2], function (pointIndex) {\n            var startPoint = shapePointNavigation[startPointIndex];\n            var endPoint = shapePointNavigation[pointIndex];\n            var diffY = startPoint.y - endPoint.y;\n            var diffX = startPoint.x - endPoint.x;\n            return Math.atan2(diffY, diffX) * 180 / Math.PI - horizontalVerticalAngle;\n          });\n        }\n        /* eslint-disable complexity */\n\n        /**\n         * Calculate a point line outside the canvas for horizontal.\n         * @param {number} startPointIndex - start point index\n         * @param {boolean} flipX - flip x statux\n         * @param {boolean} flipY - flip y statux\n         * @returns {boolean} flipY - flip y statux\n         */\n\n\n        function isReverseLeftPositionForFlip(startPointIndex, flipX, flipY) {\n          return (!flipX && flipY || !flipX && !flipY) && startPointIndex === 0 || (flipX && flipY || flipX && !flipY) && startPointIndex === 1 || (!flipX && !flipY || !flipX && flipY) && startPointIndex === 2 || (flipX && !flipY || flipX && flipY) && startPointIndex === 3;\n        }\n        /* eslint-enable complexity */\n\n        /* eslint-disable complexity */\n\n        /**\n         * Calculate a point line outside the canvas for vertical.\n         * @param {number} startPointIndex - start point index\n         * @param {boolean} flipX - flip x statux\n         * @param {boolean} flipY - flip y statux\n         * @returns {boolean} flipY - flip y statux\n         */\n\n\n        function isReverseTopPositionForFlip(startPointIndex, flipX, flipY) {\n          return (flipX && !flipY || !flipX && !flipY) && startPointIndex === 0 || (!flipX && !flipY || flipX && !flipY) && startPointIndex === 1 || (flipX && flipY || !flipX && flipY) && startPointIndex === 2 || (!flipX && flipY || flipX && flipY) && startPointIndex === 3;\n        }\n        /* eslint-enable complexity */\n\n        /**\n         * Shape edge points\n         * @param {fabric.Object} shapeObj - Selected shape object on canvas\n         * @returns {Array} shapeEdgePoint - shape edge positions\n         */\n\n\n        function getShapeEdgePoint(shapeObj) {\n          return [shapeObj.getPointByOrigin('left', 'top'), shapeObj.getPointByOrigin('right', 'top'), shapeObj.getPointByOrigin('left', 'bottom'), shapeObj.getPointByOrigin('right', 'bottom')];\n        }\n        /**\n         * Rotated shape dimension\n         * @param {fabric.Object} shapeObj - Shape object\n         * @returns {Object} Rotated shape dimension\n         */\n\n\n        function getRotatedDimension(shapeObj) {\n          var _getShapeEdgePoint = getShapeEdgePoint(shapeObj),\n              _getShapeEdgePoint$ = _getShapeEdgePoint[0],\n              ax = _getShapeEdgePoint$.x,\n              ay = _getShapeEdgePoint$.y,\n              _getShapeEdgePoint$2 = _getShapeEdgePoint[1],\n              bx = _getShapeEdgePoint$2.x,\n              by = _getShapeEdgePoint$2.y,\n              _getShapeEdgePoint$3 = _getShapeEdgePoint[2],\n              cx = _getShapeEdgePoint$3.x,\n              cy = _getShapeEdgePoint$3.y,\n              _getShapeEdgePoint$4 = _getShapeEdgePoint[3],\n              dx = _getShapeEdgePoint$4.x,\n              dy = _getShapeEdgePoint$4.y;\n\n          var left = Math.min(ax, bx, cx, dx);\n          var top = Math.min(ay, by, cy, dy);\n          var right = Math.max(ax, bx, cx, dx);\n          var bottom = Math.max(ay, by, cy, dy);\n          return {\n            left: left,\n            top: top,\n            right: right,\n            bottom: bottom,\n            width: right - left,\n            height: bottom - top\n          };\n        }\n        /**\n         * Make fill image\n         * @param {HTMLImageElement} copiedCanvasElement - html image element\n         * @param {number} currentCanvasImageAngle - current canvas angle\n         * @param {Array} filterOption - filter option\n         * @returns {fabric.Image}\n         * @private\n         */\n\n\n        function makeFillImage(copiedCanvasElement, currentCanvasImageAngle, filterOption) {\n          var fillImage = new fabric.Image(copiedCanvasElement);\n          (0, _tuiCodeSnippet.forEach)(_tuiCodeSnippet.extend.apply(undefined, [{}].concat(filterOption)), function (value, key) {\n            var fabricFilterClassName = (0, _util.capitalizeString)(key);\n            var filter = new fabric.Image.filters[fabricFilterClassName](_defineProperty({}, FILTER_OPTION_MAP[key], value));\n            fillImage.filters.push(filter);\n          });\n          fillImage.applyFilters();\n          (0, _util.setCustomProperty)(fillImage, {\n            originalAngle: currentCanvasImageAngle,\n            fillImageMaxSize: Math.max(fillImage.width, fillImage.height)\n          });\n\n          _shapeResizeHelper2.default.adjustOriginToCenter(fillImage);\n\n          return fillImage;\n        }\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/helper/shapeResizeHelper.js\":\n      /*!********************************************!*\\\n        !*** ./src/js/helper/shapeResizeHelper.js ***!\n        \\********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Shape resize helper\n         */\n\n        var DIVISOR = {\n          rect: 1,\n          circle: 2,\n          triangle: 1\n        };\n        var DIMENSION_KEYS = {\n          rect: {\n            w: 'width',\n            h: 'height'\n          },\n          circle: {\n            w: 'rx',\n            h: 'ry'\n          },\n          triangle: {\n            w: 'width',\n            h: 'height'\n          }\n        };\n        /**\n         * Set the start point value to the shape object\n         * @param {fabric.Object} shape - Shape object\n         * @ignore\n         */\n\n        function setStartPoint(shape) {\n          var originX = shape.originX,\n              originY = shape.originY;\n          var originKey = originX.substring(0, 1) + originY.substring(0, 1);\n          shape.startPoint = shape.origins[originKey];\n        }\n        /**\n         * Get the positions of ratated origin by the pointer value\n         * @param {{x: number, y: number}} origin - Origin value\n         * @param {{x: number, y: number}} pointer - Pointer value\n         * @param {number} angle - Rotating angle\n         * @returns {Object} Postions of origin\n         * @ignore\n         */\n\n\n        function getPositionsOfRotatedOrigin(origin, pointer, angle) {\n          var sx = origin.x;\n          var sy = origin.y;\n          var px = pointer.x;\n          var py = pointer.y;\n          var r = angle * Math.PI / 180;\n          var rx = (px - sx) * Math.cos(r) - (py - sy) * Math.sin(r) + sx;\n          var ry = (px - sx) * Math.sin(r) + (py - sy) * Math.cos(r) + sy;\n          return {\n            originX: sx > rx ? 'right' : 'left',\n            originY: sy > ry ? 'bottom' : 'top'\n          };\n        }\n        /**\n         * Whether the shape has the center origin or not\n         * @param {fabric.Object} shape - Shape object\n         * @returns {boolean} State\n         * @ignore\n         */\n\n\n        function hasCenterOrigin(shape) {\n          return shape.originX === 'center' && shape.originY === 'center';\n        }\n        /**\n         * Adjust the origin of shape by the start point\n         * @param {{x: number, y: number}} pointer - Pointer value\n         * @param {fabric.Object} shape - Shape object\n         * @ignore\n         */\n\n\n        function adjustOriginByStartPoint(pointer, shape) {\n          var centerPoint = shape.getPointByOrigin('center', 'center');\n          var angle = -shape.angle;\n          var originPositions = getPositionsOfRotatedOrigin(centerPoint, pointer, angle);\n          var originX = originPositions.originX,\n              originY = originPositions.originY;\n          var origin = shape.getPointByOrigin(originX, originY);\n          var left = shape.left - (centerPoint.x - origin.x);\n          var top = shape.top - (centerPoint.y - origin.y);\n          shape.set({\n            originX: originX,\n            originY: originY,\n            left: left,\n            top: top\n          });\n          shape.setCoords();\n        }\n        /**\n         * Adjust the origin of shape by the moving pointer value\n         * @param {{x: number, y: number}} pointer - Pointer value\n         * @param {fabric.Object} shape - Shape object\n         * @ignore\n         */\n\n\n        function adjustOriginByMovingPointer(pointer, shape) {\n          var origin = shape.startPoint;\n          var angle = -shape.angle;\n          var originPositions = getPositionsOfRotatedOrigin(origin, pointer, angle);\n          var originX = originPositions.originX,\n              originY = originPositions.originY;\n          shape.setPositionByOrigin(origin, originX, originY);\n          shape.setCoords();\n        }\n        /**\n         * Adjust the dimension of shape on firing scaling event\n         * @param {fabric.Object} shape - Shape object\n         * @ignore\n         */\n\n\n        function adjustDimensionOnScaling(shape) {\n          var type = shape.type,\n              scaleX = shape.scaleX,\n              scaleY = shape.scaleY;\n          var dimensionKeys = DIMENSION_KEYS[type];\n          var width = shape[dimensionKeys.w] * scaleX;\n          var height = shape[dimensionKeys.h] * scaleY;\n\n          if (shape.isRegular) {\n            var maxScale = Math.max(scaleX, scaleY);\n            width = shape[dimensionKeys.w] * maxScale;\n            height = shape[dimensionKeys.h] * maxScale;\n          }\n\n          var options = {\n            hasControls: false,\n            hasBorders: false,\n            scaleX: 1,\n            scaleY: 1\n          };\n          options[dimensionKeys.w] = width;\n          options[dimensionKeys.h] = height;\n          shape.set(options);\n        }\n        /**\n         * Adjust the dimension of shape on firing mouse move event\n         * @param {{x: number, y: number}} pointer - Pointer value\n         * @param {fabric.Object} shape - Shape object\n         * @ignore\n         */\n\n\n        function adjustDimensionOnMouseMove(pointer, shape) {\n          var type = shape.type,\n              strokeWidth = shape.strokeWidth,\n              origin = shape.startPoint;\n          var divisor = DIVISOR[type];\n          var dimensionKeys = DIMENSION_KEYS[type];\n          var isTriangle = !!(shape.type === 'triangle');\n          var options = {};\n          var width = Math.abs(origin.x - pointer.x) / divisor;\n          var height = Math.abs(origin.y - pointer.y) / divisor;\n\n          if (width > strokeWidth) {\n            width -= strokeWidth / divisor;\n          }\n\n          if (height > strokeWidth) {\n            height -= strokeWidth / divisor;\n          }\n\n          if (shape.isRegular) {\n            width = height = Math.max(width, height);\n\n            if (isTriangle) {\n              height = Math.sqrt(3) / 2 * width;\n            }\n          }\n\n          options[dimensionKeys.w] = width;\n          options[dimensionKeys.h] = height;\n          shape.set(options);\n        }\n\n        module.exports = {\n          /**\n           * Set each origin value to shape\n           * @param {fabric.Object} shape - Shape object\n           */\n          setOrigins: function setOrigins(shape) {\n            var leftTopPoint = shape.getPointByOrigin('left', 'top');\n            var rightTopPoint = shape.getPointByOrigin('right', 'top');\n            var rightBottomPoint = shape.getPointByOrigin('right', 'bottom');\n            var leftBottomPoint = shape.getPointByOrigin('left', 'bottom');\n            shape.origins = {\n              lt: leftTopPoint,\n              rt: rightTopPoint,\n              rb: rightBottomPoint,\n              lb: leftBottomPoint\n            };\n          },\n\n          /**\n           * Resize the shape\n           * @param {fabric.Object} shape - Shape object\n           * @param {{x: number, y: number}} pointer - Mouse pointer values on canvas\n           * @param {boolean} isScaling - Whether the resizing action is scaling or not\n           */\n          resize: function resize(shape, pointer, isScaling) {\n            if (hasCenterOrigin(shape)) {\n              adjustOriginByStartPoint(pointer, shape);\n              setStartPoint(shape);\n            }\n\n            if (isScaling) {\n              adjustDimensionOnScaling(shape, pointer);\n            } else {\n              adjustDimensionOnMouseMove(pointer, shape);\n            }\n\n            adjustOriginByMovingPointer(pointer, shape);\n          },\n\n          /**\n           * Adjust the origin position of shape to center\n           * @param {fabric.Object} shape - Shape object\n           */\n          adjustOriginToCenter: function adjustOriginToCenter(shape) {\n            var centerPoint = shape.getPointByOrigin('center', 'center');\n            var originX = shape.originX,\n                originY = shape.originY;\n            var origin = shape.getPointByOrigin(originX, originY);\n            var left = shape.left + (centerPoint.x - origin.x);\n            var top = shape.top + (centerPoint.y - origin.y);\n            shape.set({\n              hasControls: true,\n              hasBorders: true,\n              originX: 'center',\n              originY: 'center',\n              left: left,\n              top: top\n            });\n            shape.setCoords(); // For left, top properties\n          }\n        };\n        /***/\n      },\n\n      /***/\n      \"./src/js/imageEditor.js\":\n      /*!*******************************!*\\\n        !*** ./src/js/imageEditor.js ***!\n        \\*******************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Image-editor application class\n         */\n\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _invoker3 = __webpack_require__(\n        /*! @/invoker */\n        \"./src/js/invoker.js\");\n\n        var _invoker4 = _interopRequireDefault(_invoker3);\n\n        var _ui = __webpack_require__(\n        /*! @/ui */\n        \"./src/js/ui.js\");\n\n        var _ui2 = _interopRequireDefault(_ui);\n\n        var _action = __webpack_require__(\n        /*! @/action */\n        \"./src/js/action.js\");\n\n        var _action2 = _interopRequireDefault(_action);\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _graphics = __webpack_require__(\n        /*! @/graphics */\n        \"./src/js/graphics.js\");\n\n        var _graphics2 = _interopRequireDefault(_graphics);\n\n        var _selectionModifyHelper = __webpack_require__(\n        /*! @/helper/selectionModifyHelper */\n        \"./src/js/helper/selectionModifyHelper.js\");\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _defineProperty(obj, key, value) {\n          if (key in obj) {\n            Object.defineProperty(obj, key, {\n              value: value,\n              enumerable: true,\n              configurable: true,\n              writable: true\n            });\n          } else {\n            obj[key] = value;\n          }\n\n          return obj;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var isUndefined = _tuiCodeSnippet2.default.isUndefined,\n            forEach = _tuiCodeSnippet2.default.forEach,\n            CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\n        var MOUSE_DOWN = _consts.eventNames.MOUSE_DOWN,\n            OBJECT_MOVED = _consts.eventNames.OBJECT_MOVED,\n            OBJECT_SCALED = _consts.eventNames.OBJECT_SCALED,\n            OBJECT_ACTIVATED = _consts.eventNames.OBJECT_ACTIVATED,\n            OBJECT_ROTATED = _consts.eventNames.OBJECT_ROTATED,\n            OBJECT_ADDED = _consts.eventNames.OBJECT_ADDED,\n            OBJECT_MODIFIED = _consts.eventNames.OBJECT_MODIFIED,\n            ADD_TEXT = _consts.eventNames.ADD_TEXT,\n            ADD_OBJECT = _consts.eventNames.ADD_OBJECT,\n            TEXT_EDITING = _consts.eventNames.TEXT_EDITING,\n            TEXT_CHANGED = _consts.eventNames.TEXT_CHANGED,\n            ICON_CREATE_RESIZE = _consts.eventNames.ICON_CREATE_RESIZE,\n            ICON_CREATE_END = _consts.eventNames.ICON_CREATE_END,\n            SELECTION_CLEARED = _consts.eventNames.SELECTION_CLEARED,\n            SELECTION_CREATED = _consts.eventNames.SELECTION_CREATED,\n            ADD_OBJECT_AFTER = _consts.eventNames.ADD_OBJECT_AFTER;\n        /**\n         * Image filter result\n         * @typedef {object} FilterResult\n         * @property {string} type - filter type like 'mask', 'Grayscale' and so on\n         * @property {string} action - action type like 'add', 'remove'\n         */\n\n        /**\n         * Flip status\n         * @typedef {object} FlipStatus\n         * @property {boolean} flipX - x axis\n         * @property {boolean} flipY - y axis\n         * @property {Number} angle - angle\n         */\n\n        /**\n         * Rotation status\n         * @typedef {Number} RotateStatus\n         * @property {Number} angle - angle\n         */\n\n        /**\n         * Old and new Size\n         * @typedef {object} SizeChange\n         * @property {Number} oldWidth - old width\n         * @property {Number} oldHeight - old height\n         * @property {Number} newWidth - new width\n         * @property {Number} newHeight - new height\n         */\n\n        /**\n         * @typedef {string} ErrorMsg - {string} error message\n         */\n\n        /**\n         * @typedef {object} ObjectProps - graphics object properties\n         * @property {number} id - object id\n         * @property {string} type - object type\n         * @property {string} text - text content\n         * @property {(string | number)} left - Left\n         * @property {(string | number)} top - Top\n         * @property {(string | number)} width - Width\n         * @property {(string | number)} height - Height\n         * @property {string} fill - Color\n         * @property {string} stroke - Stroke\n         * @property {(string | number)} strokeWidth - StrokeWidth\n         * @property {string} fontFamily - Font type for text\n         * @property {number} fontSize - Font Size\n         * @property {string} fontStyle - Type of inclination (normal / italic)\n         * @property {string} fontWeight - Type of thicker or thinner looking (normal / bold)\n         * @property {string} textAlign - Type of text align (left / center / right)\n         * @property {string} textDecoration - Type of line (underline / line-through / overline)\n         */\n\n        /**\n         * Shape filter option\n         * @typedef {object.<string, number>} ShapeFilterOption\n         */\n\n        /**\n         * Shape filter option\n         * @typedef {object} ShapeFillOption - fill option of shape\n         * @property {string} type - fill type ('color' or 'filter')\n         * @property {Array.<ShapeFillFilterOption>} [filter] - {@link ShapeFilterOption} List.\n         *  only applies to filter types\n         *  (ex: \\[\\{pixelate: 20\\}, \\{blur: 0.3\\}\\])\n         * @property {string} [color] - Shape foreground color (ex: '#fff', 'transparent')\n         */\n\n        /**\n         * Image editor\n         * @class\n         * @param {string|HTMLElement} wrapper - Wrapper's element or selector\n         * @param {Object} [options] - Canvas max width & height of css\n         *  @param {number} [options.includeUI] - Use the provided UI\n         *    @param {Object} [options.includeUI.loadImage] - Basic editing image\n         *      @param {string} options.includeUI.loadImage.path - image path\n         *      @param {string} options.includeUI.loadImage.name - image name\n         *    @param {Object} [options.includeUI.theme] - Theme object\n         *    @param {Array} [options.includeUI.menu] - It can be selected when only specific menu is used, Default values are \\['crop', 'flip', 'rotate', 'draw', 'shape', 'icon', 'text', 'mask', 'filter'\\].\n         *    @param {string} [options.includeUI.initMenu] - The first menu to be selected and started.\n         *    @param {Object} [options.includeUI.uiSize] - ui size of editor\n         *      @param {string} options.includeUI.uiSize.width - width of ui\n         *      @param {string} options.includeUI.uiSize.height - height of ui\n         *    @param {string} [options.includeUI.menuBarPosition=bottom] - Menu bar position('top', 'bottom', 'left', 'right')\n         *  @param {number} options.cssMaxWidth - Canvas css-max-width\n         *  @param {number} options.cssMaxHeight - Canvas css-max-height\n         *  @param {Object} [options.selectionStyle] - selection style\n         *  @param {string} [options.selectionStyle.cornerStyle] - selection corner style\n         *  @param {number} [options.selectionStyle.cornerSize] - selection corner size\n         *  @param {string} [options.selectionStyle.cornerColor] - selection corner color\n         *  @param {string} [options.selectionStyle.cornerStrokeColor] = selection corner stroke color\n         *  @param {boolean} [options.selectionStyle.transparentCorners] - selection corner transparent\n         *  @param {number} [options.selectionStyle.lineWidth] - selection line width\n         *  @param {string} [options.selectionStyle.borderColor] - selection border color\n         *  @param {number} [options.selectionStyle.rotatingPointOffset] - selection rotating point length\n         *  @param {Boolean} [options.usageStatistics=true] - Let us know the hostname. If you don't want to send the hostname, please set to false.\n         * @example\n         * var ImageEditor = require('tui-image-editor');\n         * var blackTheme = require('./js/theme/black-theme.js');\n         * var instance = new ImageEditor(document.querySelector('#tui-image-editor'), {\n         *   includeUI: {\n         *     loadImage: {\n         *       path: 'img/sampleImage.jpg',\n         *       name: 'SampleImage'\n         *     },\n         *     theme: blackTheme, // or whiteTheme\n         *     menu: ['shape', 'filter'],\n         *     initMenu: 'filter',\n         *     uiSize: {\n         *         width: '1000px',\n         *         height: '700px'\n         *     },\n         *     menuBarPosition: 'bottom'\n         *   },\n         *   cssMaxWidth: 700,\n         *   cssMaxHeight: 500,\n         *   selectionStyle: {\n         *     cornerSize: 20,\n         *     rotatingPointOffset: 70\n         *   }\n         * });\n         */\n\n        var ImageEditor = function () {\n          function ImageEditor(wrapper, options) {\n            _classCallCheck(this, ImageEditor);\n\n            options = _tuiCodeSnippet2.default.extend({\n              includeUI: false,\n              usageStatistics: true\n            }, options);\n            this.mode = null;\n            this.activeObjectId = null;\n            /**\n             * UI instance\n             * @type {Ui}\n             */\n\n            if (options.includeUI) {\n              var UIOption = options.includeUI;\n              UIOption.usageStatistics = options.usageStatistics;\n              this.ui = new _ui2.default(wrapper, UIOption, this.getActions());\n              options = this.ui.setUiDefaultSelectionStyle(options);\n            }\n            /**\n             * Invoker\n             * @type {Invoker}\n             * @private\n             */\n\n\n            this._invoker = new _invoker4.default();\n            /**\n             * Graphics instance\n             * @type {Graphics}\n             * @private\n             */\n\n            this._graphics = new _graphics2.default(this.ui ? this.ui.getEditorArea() : wrapper, {\n              cssMaxWidth: options.cssMaxWidth,\n              cssMaxHeight: options.cssMaxHeight\n            });\n            /**\n             * Event handler list\n             * @type {Object}\n             * @private\n             */\n\n            this._handlers = {\n              keydown: this._onKeyDown.bind(this),\n              mousedown: this._onMouseDown.bind(this),\n              objectActivated: this._onObjectActivated.bind(this),\n              objectMoved: this._onObjectMoved.bind(this),\n              objectScaled: this._onObjectScaled.bind(this),\n              objectRotated: this._onObjectRotated.bind(this),\n              objectAdded: this._onObjectAdded.bind(this),\n              objectModified: this._onObjectModified.bind(this),\n              createdPath: this._onCreatedPath,\n              addText: this._onAddText.bind(this),\n              addObject: this._onAddObject.bind(this),\n              textEditing: this._onTextEditing.bind(this),\n              textChanged: this._onTextChanged.bind(this),\n              iconCreateResize: this._onIconCreateResize.bind(this),\n              iconCreateEnd: this._onIconCreateEnd.bind(this),\n              selectionCleared: this._selectionCleared.bind(this),\n              selectionCreated: this._selectionCreated.bind(this)\n            };\n\n            this._attachInvokerEvents();\n\n            this._attachGraphicsEvents();\n\n            this._attachDomEvents();\n\n            this._setSelectionStyle(options.selectionStyle, {\n              applyCropSelectionStyle: options.applyCropSelectionStyle,\n              applyGroupSelectionStyle: options.applyGroupSelectionStyle\n            });\n\n            if (options.usageStatistics) {\n              (0, _util.sendHostName)();\n            }\n\n            if (this.ui) {\n              this.ui.initCanvas();\n              this.setReAction();\n\n              this._attachColorPickerInputBoxEvents();\n            }\n\n            fabric.enableGLFiltering = false;\n          }\n\n          _createClass(ImageEditor, [{\n            key: '_attachColorPickerInputBoxEvents',\n            value: function _attachColorPickerInputBoxEvents() {\n              var _this = this;\n\n              this.ui.on(_consts.eventNames.INPUT_BOX_EDITING_STARTED, function () {\n                _this.isColorPickerInputBoxEditing = true;\n              });\n              this.ui.on(_consts.eventNames.INPUT_BOX_EDITING_STOPPED, function () {\n                _this.isColorPickerInputBoxEditing = false;\n              });\n            }\n          }, {\n            key: '_detachColorPickerInputBoxEvents',\n            value: function _detachColorPickerInputBoxEvents() {\n              this.ui.off(_consts.eventNames.INPUT_BOX_EDITING_STARTED);\n              this.ui.off(_consts.eventNames.INPUT_BOX_EDITING_STOPPED);\n            }\n            /**\n             * Set selection style by init option\n             * @param {Object} selectionStyle - Selection styles\n             * @param {Object} applyTargets - Selection apply targets\n             *   @param {boolean} applyCropSelectionStyle - whether apply with crop selection style or not\n             *   @param {boolean} applyGroupSelectionStyle - whether apply with group selection style or not\n             * @private\n             */\n\n          }, {\n            key: '_setSelectionStyle',\n            value: function _setSelectionStyle(selectionStyle, _ref) {\n              var applyCropSelectionStyle = _ref.applyCropSelectionStyle,\n                  applyGroupSelectionStyle = _ref.applyGroupSelectionStyle;\n\n              if (selectionStyle) {\n                this._graphics.setSelectionStyle(selectionStyle);\n              }\n\n              if (applyCropSelectionStyle) {\n                this._graphics.setCropSelectionStyle(selectionStyle);\n              }\n\n              if (applyGroupSelectionStyle) {\n                this.on('selectionCreated', function (eventTarget) {\n                  if (eventTarget.type === 'activeSelection') {\n                    eventTarget.set(selectionStyle);\n                  }\n                });\n              }\n            }\n            /**\n             * Attach invoker events\n             * @private\n             */\n\n          }, {\n            key: '_attachInvokerEvents',\n            value: function _attachInvokerEvents() {\n              var _this2 = this;\n\n              var UNDO_STACK_CHANGED = _consts.eventNames.UNDO_STACK_CHANGED,\n                  REDO_STACK_CHANGED = _consts.eventNames.REDO_STACK_CHANGED,\n                  EXECUTE_COMMAND = _consts.eventNames.EXECUTE_COMMAND,\n                  AFTER_UNDO = _consts.eventNames.AFTER_UNDO,\n                  AFTER_REDO = _consts.eventNames.AFTER_REDO,\n                  HAND_STARTED = _consts.eventNames.HAND_STARTED,\n                  HAND_STOPPED = _consts.eventNames.HAND_STOPPED;\n              /**\n               * Undo stack changed event\n               * @event ImageEditor#undoStackChanged\n               * @param {Number} length - undo stack length\n               * @example\n               * imageEditor.on('undoStackChanged', function(length) {\n               *     console.log(length);\n               * });\n               */\n\n              this._invoker.on(UNDO_STACK_CHANGED, this.fire.bind(this, UNDO_STACK_CHANGED));\n              /**\n               * Redo stack changed event\n               * @event ImageEditor#redoStackChanged\n               * @param {Number} length - redo stack length\n               * @example\n               * imageEditor.on('redoStackChanged', function(length) {\n               *     console.log(length);\n               * });\n               */\n\n\n              this._invoker.on(REDO_STACK_CHANGED, this.fire.bind(this, REDO_STACK_CHANGED));\n\n              if (this.ui) {\n                var canvas = this._graphics.getCanvas();\n\n                this._invoker.on(EXECUTE_COMMAND, function (command) {\n                  return _this2.ui.fire(EXECUTE_COMMAND, command);\n                });\n\n                this._invoker.on(AFTER_UNDO, function (command) {\n                  return _this2.ui.fire(AFTER_UNDO, command);\n                });\n\n                this._invoker.on(AFTER_REDO, function (command) {\n                  return _this2.ui.fire(AFTER_REDO, command);\n                });\n\n                canvas.on(HAND_STARTED, function () {\n                  return _this2.ui.fire(HAND_STARTED);\n                });\n                canvas.on(HAND_STOPPED, function () {\n                  return _this2.ui.fire(HAND_STOPPED);\n                });\n              }\n            }\n            /**\n             * Attach canvas events\n             * @private\n             */\n\n          }, {\n            key: '_attachGraphicsEvents',\n            value: function _attachGraphicsEvents() {\n              var _graphics$on;\n\n              this._graphics.on((_graphics$on = {}, _defineProperty(_graphics$on, MOUSE_DOWN, this._handlers.mousedown), _defineProperty(_graphics$on, OBJECT_MOVED, this._handlers.objectMoved), _defineProperty(_graphics$on, OBJECT_SCALED, this._handlers.objectScaled), _defineProperty(_graphics$on, OBJECT_ROTATED, this._handlers.objectRotated), _defineProperty(_graphics$on, OBJECT_ACTIVATED, this._handlers.objectActivated), _defineProperty(_graphics$on, OBJECT_ADDED, this._handlers.objectAdded), _defineProperty(_graphics$on, OBJECT_MODIFIED, this._handlers.objectModified), _defineProperty(_graphics$on, ADD_TEXT, this._handlers.addText), _defineProperty(_graphics$on, ADD_OBJECT, this._handlers.addObject), _defineProperty(_graphics$on, TEXT_EDITING, this._handlers.textEditing), _defineProperty(_graphics$on, TEXT_CHANGED, this._handlers.textChanged), _defineProperty(_graphics$on, ICON_CREATE_RESIZE, this._handlers.iconCreateResize), _defineProperty(_graphics$on, ICON_CREATE_END, this._handlers.iconCreateEnd), _defineProperty(_graphics$on, SELECTION_CLEARED, this._handlers.selectionCleared), _defineProperty(_graphics$on, SELECTION_CREATED, this._handlers.selectionCreated), _graphics$on));\n            }\n            /**\n             * Attach dom events\n             * @private\n             */\n\n          }, {\n            key: '_attachDomEvents',\n            value: function _attachDomEvents() {\n              // ImageEditor supports IE 9 higher\n              document.addEventListener('keydown', this._handlers.keydown);\n            }\n            /**\n             * Detach dom events\n             * @private\n             */\n\n          }, {\n            key: '_detachDomEvents',\n            value: function _detachDomEvents() {\n              // ImageEditor supports IE 9 higher\n              document.removeEventListener('keydown', this._handlers.keydown);\n            }\n            /**\n             * Keydown event handler\n             * @param {KeyboardEvent} e - Event object\n             * @private\n             */\n\n            /* eslint-disable complexity */\n\n          }, {\n            key: '_onKeyDown',\n            value: function _onKeyDown(e) {\n              var ctrlKey = e.ctrlKey,\n                  keyCode = e.keyCode,\n                  metaKey = e.metaKey;\n              var isModifierKey = ctrlKey || metaKey;\n\n              if (isModifierKey) {\n                if (keyCode === _consts.keyCodes.C) {\n                  this._graphics.resetTargetObjectForCopyPaste();\n                } else if (keyCode === _consts.keyCodes.V) {\n                  this._graphics.pasteObject();\n\n                  this.clearRedoStack();\n                } else if (keyCode === _consts.keyCodes.Z) {\n                  // There is no error message on shortcut when it's empty\n                  this.undo()['catch'](function () {});\n                } else if (keyCode === _consts.keyCodes.Y) {\n                  // There is no error message on shortcut when it's empty\n                  this.redo()['catch'](function () {});\n                }\n              }\n\n              var isDeleteKey = keyCode === _consts.keyCodes.BACKSPACE || keyCode === _consts.keyCodes.DEL;\n\n              var isRemoveReady = this._graphics.isReadyRemoveObject();\n\n              if (!this.isColorPickerInputBoxEditing && isRemoveReady && isDeleteKey) {\n                e.preventDefault();\n                this.removeActiveObject();\n              }\n            }\n            /**\n             * Remove Active Object\n             */\n\n          }, {\n            key: 'removeActiveObject',\n            value: function removeActiveObject() {\n              var activeObjectId = this._graphics.getActiveObjectIdForRemove();\n\n              this.removeObject(activeObjectId);\n            }\n            /**\n             * mouse down event handler\n             * @param {Event} event - mouse down event\n             * @param {Object} originPointer - origin pointer\n             *  @param {Number} originPointer.x x position\n             *  @param {Number} originPointer.y y position\n             * @private\n             */\n\n          }, {\n            key: '_onMouseDown',\n            value: function _onMouseDown(event, originPointer) {\n              /**\n               * The mouse down event with position x, y on canvas\n               * @event ImageEditor#mousedown\n               * @param {Object} event - browser mouse event object\n               * @param {Object} originPointer origin pointer\n               *  @param {Number} originPointer.x x position\n               *  @param {Number} originPointer.y y position\n               * @example\n               * imageEditor.on('mousedown', function(event, originPointer) {\n               *     console.log(event);\n               *     console.log(originPointer);\n               *     if (imageEditor.hasFilter('colorFilter')) {\n               *         imageEditor.applyFilter('colorFilter', {\n               *             x: parseInt(originPointer.x, 10),\n               *             y: parseInt(originPointer.y, 10)\n               *         });\n               *     }\n               * });\n               */\n              this.fire(_consts.eventNames.MOUSE_DOWN, event, originPointer);\n            }\n            /**\n             * Add a 'addObject' command\n             * @param {Object} obj - Fabric object\n             * @private\n             */\n\n          }, {\n            key: '_pushAddObjectCommand',\n            value: function _pushAddObjectCommand(obj) {\n              var command = _command2.default.create(_consts.commandNames.ADD_OBJECT, this._graphics, obj);\n\n              this._invoker.pushUndoStack(command);\n            }\n            /**\n             * Add a 'changeSelection' command\n             * @param {fabric.Object} obj - selection object\n             * @private\n             */\n\n          }, {\n            key: '_pushModifyObjectCommand',\n            value: function _pushModifyObjectCommand(obj) {\n              var _this3 = this;\n\n              var type = obj.type;\n              var props = (0, _selectionModifyHelper.makeSelectionUndoData)(obj, function (item) {\n                return (0, _selectionModifyHelper.makeSelectionUndoDatum)(_this3._graphics.getObjectId(item), item, type === 'activeSelection');\n              });\n\n              var command = _command2.default.create(_consts.commandNames.CHANGE_SELECTION, this._graphics, props);\n\n              command.execute(this._graphics, props);\n\n              this._invoker.pushUndoStack(command);\n            }\n            /**\n             * 'objectActivated' event handler\n             * @param {ObjectProps} props - object properties\n             * @private\n             */\n\n          }, {\n            key: '_onObjectActivated',\n            value: function _onObjectActivated(props) {\n              /**\n               * The event when object is selected(aka activated).\n               * @event ImageEditor#objectActivated\n               * @param {ObjectProps} objectProps - object properties\n               * @example\n               * imageEditor.on('objectActivated', function(props) {\n               *     console.log(props);\n               *     console.log(props.type);\n               *     console.log(props.id);\n               * });\n               */\n              this.fire(_consts.eventNames.OBJECT_ACTIVATED, props);\n            }\n            /**\n             * 'objectMoved' event handler\n             * @param {ObjectProps} props - object properties\n             * @private\n             */\n\n          }, {\n            key: '_onObjectMoved',\n            value: function _onObjectMoved(props) {\n              /**\n               * The event when object is moved\n               * @event ImageEditor#objectMoved\n               * @param {ObjectProps} props - object properties\n               * @example\n               * imageEditor.on('objectMoved', function(props) {\n               *     console.log(props);\n               *     console.log(props.type);\n               * });\n               */\n              this.fire(_consts.eventNames.OBJECT_MOVED, props);\n            }\n            /**\n             * 'objectScaled' event handler\n             * @param {ObjectProps} props - object properties\n             * @private\n             */\n\n          }, {\n            key: '_onObjectScaled',\n            value: function _onObjectScaled(props) {\n              /**\n               * The event when scale factor is changed\n               * @event ImageEditor#objectScaled\n               * @param {ObjectProps} props - object properties\n               * @example\n               * imageEditor.on('objectScaled', function(props) {\n               *     console.log(props);\n               *     console.log(props.type);\n               * });\n               */\n              this.fire(_consts.eventNames.OBJECT_SCALED, props);\n            }\n            /**\n             * 'objectRotated' event handler\n             * @param {ObjectProps} props - object properties\n             * @private\n             */\n\n          }, {\n            key: '_onObjectRotated',\n            value: function _onObjectRotated(props) {\n              /**\n               * The event when object angle is changed\n               * @event ImageEditor#objectRotated\n               * @param {ObjectProps} props - object properties\n               * @example\n               * imageEditor.on('objectRotated', function(props) {\n               *     console.log(props);\n               *     console.log(props.type);\n               * });\n               */\n              this.fire(_consts.eventNames.OBJECT_ROTATED, props);\n            }\n            /**\n             * Get current drawing mode\n             * @returns {string}\n             * @example\n             * // Image editor drawing mode\n             * //\n             * //    NORMAL: 'NORMAL'\n             * //    CROPPER: 'CROPPER'\n             * //    FREE_DRAWING: 'FREE_DRAWING'\n             * //    LINE_DRAWING: 'LINE_DRAWING'\n             * //    TEXT: 'TEXT'\n             * //\n             * if (imageEditor.getDrawingMode() === 'FREE_DRAWING') {\n             *     imageEditor.stopDrawingMode();\n             * }\n             */\n\n          }, {\n            key: 'getDrawingMode',\n            value: function getDrawingMode() {\n              return this._graphics.getDrawingMode();\n            }\n            /**\n             * Clear all objects\n             * @returns {Promise}\n             * @example\n             * imageEditor.clearObjects();\n             */\n\n          }, {\n            key: 'clearObjects',\n            value: function clearObjects() {\n              return this.execute(_consts.commandNames.CLEAR_OBJECTS);\n            }\n            /**\n             * Deactivate all objects\n             * @example\n             * imageEditor.deactivateAll();\n             */\n\n          }, {\n            key: 'deactivateAll',\n            value: function deactivateAll() {\n              this._graphics.deactivateAll();\n\n              this._graphics.renderAll();\n            }\n            /**\n             * discard selction\n             * @example\n             * imageEditor.discardSelection();\n             */\n\n          }, {\n            key: 'discardSelection',\n            value: function discardSelection() {\n              this._graphics.discardSelection();\n            }\n            /**\n             * selectable status change\n             * @param {boolean} selectable - selectable status\n             * @example\n             * imageEditor.changeSelectableAll(false); // or true\n             */\n\n          }, {\n            key: 'changeSelectableAll',\n            value: function changeSelectableAll(selectable) {\n              this._graphics.changeSelectableAll(selectable);\n            }\n            /**\n             * Init history\n             */\n\n          }, {\n            key: '_initHistory',\n            value: function _initHistory() {\n              if (this.ui) {\n                this.ui.initHistory();\n              }\n            }\n            /**\n             * Clear history\n             */\n\n          }, {\n            key: '_clearHistory',\n            value: function _clearHistory() {\n              if (this.ui) {\n                this.ui.clearHistory();\n              }\n            }\n            /**\n             * Invoke command\n             * @param {String} commandName - Command name\n             * @param {...*} args - Arguments for creating command\n             * @returns {Promise}\n             * @private\n             */\n\n          }, {\n            key: 'execute',\n            value: function execute(commandName) {\n              var _invoker;\n\n              for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n              } // Inject an Graphics instance as first parameter\n\n\n              var theArgs = [this._graphics].concat(args);\n              return (_invoker = this._invoker).execute.apply(_invoker, [commandName].concat(theArgs));\n            }\n            /**\n             * Invoke command\n             * @param {String} commandName - Command name\n             * @param {...*} args - Arguments for creating command\n             * @returns {Promise}\n             * @private\n             */\n\n          }, {\n            key: 'executeSilent',\n            value: function executeSilent(commandName) {\n              var _invoker2;\n\n              for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                args[_key2 - 1] = arguments[_key2];\n              } // Inject an Graphics instance as first parameter\n\n\n              var theArgs = [this._graphics].concat(args);\n              return (_invoker2 = this._invoker).executeSilent.apply(_invoker2, [commandName].concat(theArgs));\n            }\n            /**\n             * Undo\n             * @param {number} [iterationCount=1] - Iteration count of undo\n             * @returns {Promise}\n             * @example\n             * imageEditor.undo();\n             */\n\n          }, {\n            key: 'undo',\n            value: function undo() {\n              var _this4 = this;\n\n              var iterationCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n              var promise = _util.Promise.resolve();\n\n              for (var i = 0; i < iterationCount; i += 1) {\n                promise = promise.then(function () {\n                  return _this4._invoker.undo();\n                });\n              }\n\n              return promise;\n            }\n            /**\n             * Redo\n             * @param {number} [iterationCount=1] - Iteration count of redo\n             * @returns {Promise}\n             * @example\n             * imageEditor.redo();\n             */\n\n          }, {\n            key: 'redo',\n            value: function redo() {\n              var _this5 = this;\n\n              var iterationCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n              var promise = _util.Promise.resolve();\n\n              for (var i = 0; i < iterationCount; i += 1) {\n                promise = promise.then(function () {\n                  return _this5._invoker.redo();\n                });\n              }\n\n              return promise;\n            }\n            /**\n             * Zoom\n             * @param {number} x - x axis of center point for zoom\n             * @param {number} y - y axis of center point for zoom\n             * @param {number} zoomLevel - level of zoom(1.0 ~ 5.0)\n             */\n\n          }, {\n            key: 'zoom',\n            value: function zoom(_ref2) {\n              var x = _ref2.x,\n                  y = _ref2.y,\n                  zoomLevel = _ref2.zoomLevel;\n\n              this._graphics.zoom({\n                x: x,\n                y: y\n              }, zoomLevel);\n            }\n            /**\n             * Reset zoom. Change zoom level to 1.0\n             */\n\n          }, {\n            key: 'resetZoom',\n            value: function resetZoom() {\n              this._graphics.resetZoom();\n            }\n            /**\n             * Load image from file\n             * @param {File} imgFile - Image file\n             * @param {string} [imageName] - imageName\n             * @returns {Promise<SizeChange, ErrorMsg>}\n             * @example\n             * imageEditor.loadImageFromFile(file).then(result => {\n             *      console.log('old : ' + result.oldWidth + ', ' + result.oldHeight);\n             *      console.log('new : ' + result.newWidth + ', ' + result.newHeight);\n             * });\n             */\n\n          }, {\n            key: 'loadImageFromFile',\n            value: function loadImageFromFile(imgFile, imageName) {\n              if (!imgFile) {\n                return _util.Promise.reject(_consts.rejectMessages.invalidParameters);\n              }\n\n              var imgUrl = URL.createObjectURL(imgFile);\n              imageName = imageName || imgFile.name;\n              return this.loadImageFromURL(imgUrl, imageName).then(function (value) {\n                URL.revokeObjectURL(imgFile);\n                return value;\n              });\n            }\n            /**\n             * Load image from url\n             * @param {string} url - File url\n             * @param {string} imageName - imageName\n             * @returns {Promise<SizeChange, ErrorMsg>}\n             * @example\n             * imageEditor.loadImageFromURL('http://url/testImage.png', 'lena').then(result => {\n             *      console.log('old : ' + result.oldWidth + ', ' + result.oldHeight);\n             *      console.log('new : ' + result.newWidth + ', ' + result.newHeight);\n             * });\n             */\n\n          }, {\n            key: 'loadImageFromURL',\n            value: function loadImageFromURL(url, imageName) {\n              if (!imageName || !url) {\n                return _util.Promise.reject(_consts.rejectMessages.invalidParameters);\n              }\n\n              return this.execute(_consts.commandNames.LOAD_IMAGE, imageName, url);\n            }\n            /**\n             * Add image object on canvas\n             * @param {string} imgUrl - Image url to make object\n             * @returns {Promise<ObjectProps, ErrorMsg>}\n             * @example\n             * imageEditor.addImageObject('path/fileName.jpg').then(objectProps => {\n             *     console.log(ojectProps.id);\n             * });\n             */\n\n          }, {\n            key: 'addImageObject',\n            value: function addImageObject(imgUrl) {\n              if (!imgUrl) {\n                return _util.Promise.reject(_consts.rejectMessages.invalidParameters);\n              }\n\n              return this.execute(_consts.commandNames.ADD_IMAGE_OBJECT, imgUrl);\n            }\n            /**\n             * Start a drawing mode. If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n             * @param {String} mode Can be one of <I>'CROPPER', 'FREE_DRAWING', 'LINE_DRAWING', 'TEXT', 'SHAPE'</I>\n             * @param {Object} [option] parameters of drawing mode, it's available with 'FREE_DRAWING', 'LINE_DRAWING'\n             *  @param {Number} [option.width] brush width\n             *  @param {String} [option.color] brush color\n             *  @param {Object} [option.arrowType] arrow decorate\n             *    @param {string} [option.arrowType.tail] arrow decorate for tail. 'chevron' or 'triangle'\n             *    @param {string} [option.arrowType.head] arrow decorate for head. 'chevron' or 'triangle'\n             * @returns {boolean} true if success or false\n             * @example\n             * imageEditor.startDrawingMode('FREE_DRAWING', {\n             *      width: 10,\n             *      color: 'rgba(255,0,0,0.5)'\n             * });\n             * imageEditor.startDrawingMode('LINE_DRAWING', {\n             *      width: 10,\n             *      color: 'rgba(255,0,0,0.5)',\n             *      arrowType: {\n             *          tail: 'chevron' // triangle\n             *      }\n             * });\n             *\n             */\n\n          }, {\n            key: 'startDrawingMode',\n            value: function startDrawingMode(mode, option) {\n              return this._graphics.startDrawingMode(mode, option);\n            }\n            /**\n             * Stop the current drawing mode and back to the 'NORMAL' mode\n             * @example\n             * imageEditor.stopDrawingMode();\n             */\n\n          }, {\n            key: 'stopDrawingMode',\n            value: function stopDrawingMode() {\n              this._graphics.stopDrawingMode();\n            }\n            /**\n             * Crop this image with rect\n             * @param {Object} rect crop rect\n             *  @param {Number} rect.left left position\n             *  @param {Number} rect.top top position\n             *  @param {Number} rect.width width\n             *  @param {Number} rect.height height\n             * @returns {Promise}\n             * @example\n             * imageEditor.crop(imageEditor.getCropzoneRect());\n             */\n\n          }, {\n            key: 'crop',\n            value: function crop(rect) {\n              var data = this._graphics.getCroppedImageData(rect);\n\n              if (!data) {\n                return _util.Promise.reject(_consts.rejectMessages.invalidParameters);\n              }\n\n              return this.loadImageFromURL(data.url, data.imageName);\n            }\n            /**\n             * Get the cropping rect\n             * @returns {Object}  {{left: number, top: number, width: number, height: number}} rect\n             */\n\n          }, {\n            key: 'getCropzoneRect',\n            value: function getCropzoneRect() {\n              return this._graphics.getCropzoneRect();\n            }\n            /**\n             * Set the cropping rect\n             * @param {number} [mode] crop rect mode [1, 1.5, 1.3333333333333333, 1.25, 1.7777777777777777]\n             */\n\n          }, {\n            key: 'setCropzoneRect',\n            value: function setCropzoneRect(mode) {\n              this._graphics.setCropzoneRect(mode);\n            }\n            /**\n             * Flip\n             * @returns {Promise}\n             * @param {string} type - 'flipX' or 'flipY' or 'reset'\n             * @returns {Promise<FlipStatus, ErrorMsg>}\n             * @private\n             */\n\n          }, {\n            key: '_flip',\n            value: function _flip(type) {\n              return this.execute(_consts.commandNames.FLIP_IMAGE, type);\n            }\n            /**\n             * Flip x\n             * @returns {Promise<FlipStatus, ErrorMsg>}\n             * @example\n             * imageEditor.flipX().then((status => {\n             *     console.log('flipX: ', status.flipX);\n             *     console.log('flipY: ', status.flipY);\n             *     console.log('angle: ', status.angle);\n             * }).catch(message => {\n             *     console.log('error: ', message);\n             * });\n             */\n\n          }, {\n            key: 'flipX',\n            value: function flipX() {\n              return this._flip('flipX');\n            }\n            /**\n             * Flip y\n             * @returns {Promise<FlipStatus, ErrorMsg>}\n             * @example\n             * imageEditor.flipY().then(status => {\n             *     console.log('flipX: ', status.flipX);\n             *     console.log('flipY: ', status.flipY);\n             *     console.log('angle: ', status.angle);\n             * }).catch(message => {\n             *     console.log('error: ', message);\n             * });\n             */\n\n          }, {\n            key: 'flipY',\n            value: function flipY() {\n              return this._flip('flipY');\n            }\n            /**\n             * Reset flip\n             * @returns {Promise<FlipStatus, ErrorMsg>}\n             * @example\n             * imageEditor.resetFlip().then(status => {\n             *     console.log('flipX: ', status.flipX);\n             *     console.log('flipY: ', status.flipY);\n             *     console.log('angle: ', status.angle);\n             * }).catch(message => {\n             *     console.log('error: ', message);\n             * });;\n             */\n\n          }, {\n            key: 'resetFlip',\n            value: function resetFlip() {\n              return this._flip('reset');\n            }\n            /**\n             * @param {string} type - 'rotate' or 'setAngle'\n             * @param {number} angle - angle value (degree)\n             * @param {boolean} isSilent - is silent execution or not\n             * @returns {Promise<RotateStatus, ErrorMsg>}\n             * @private\n             */\n\n          }, {\n            key: '_rotate',\n            value: function _rotate(type, angle, isSilent) {\n              var result = null;\n\n              if (isSilent) {\n                result = this.executeSilent(_consts.commandNames.ROTATE_IMAGE, type, angle);\n              } else {\n                result = this.execute(_consts.commandNames.ROTATE_IMAGE, type, angle);\n              }\n\n              return result;\n            }\n            /**\n             * Rotate image\n             * @returns {Promise}\n             * @param {number} angle - Additional angle to rotate image\n             * @param {boolean} isSilent - is silent execution or not\n             * @returns {Promise<RotateStatus, ErrorMsg>}\n             * @example\n             * imageEditor.rotate(10); // angle = 10\n             * imageEditor.rotate(10); // angle = 20\n             * imageEditor.rotate(5); // angle = 5\n             * imageEditor.rotate(-95); // angle = -90\n             * imageEditor.rotate(10).then(status => {\n             *     console.log('angle: ', status.angle);\n             * })).catch(message => {\n             *     console.log('error: ', message);\n             * });\n             */\n\n          }, {\n            key: 'rotate',\n            value: function rotate(angle, isSilent) {\n              return this._rotate('rotate', angle, isSilent);\n            }\n            /**\n             * Set angle\n             * @param {number} angle - Angle of image\n             * @param {boolean} isSilent - is silent execution or not\n             * @returns {Promise<RotateStatus, ErrorMsg>}\n             * @example\n             * imageEditor.setAngle(10); // angle = 10\n             * imageEditor.rotate(10); // angle = 20\n             * imageEditor.setAngle(5); // angle = 5\n             * imageEditor.rotate(50); // angle = 55\n             * imageEditor.setAngle(-40); // angle = -40\n             * imageEditor.setAngle(10).then(status => {\n             *     console.log('angle: ', status.angle);\n             * })).catch(message => {\n             *     console.log('error: ', message);\n             * });\n             */\n\n          }, {\n            key: 'setAngle',\n            value: function setAngle(angle, isSilent) {\n              return this._rotate('setAngle', angle, isSilent);\n            }\n            /**\n             * Set drawing brush\n             * @param {Object} option brush option\n             *  @param {Number} option.width width\n             *  @param {String} option.color color like 'FFFFFF', 'rgba(0, 0, 0, 0.5)'\n             * @example\n             * imageEditor.startDrawingMode('FREE_DRAWING');\n             * imageEditor.setBrush({\n             *     width: 12,\n             *     color: 'rgba(0, 0, 0, 0.5)'\n             * });\n             * imageEditor.setBrush({\n             *     width: 8,\n             *     color: 'FFFFFF'\n             * });\n             */\n\n          }, {\n            key: 'setBrush',\n            value: function setBrush(option) {\n              this._graphics.setBrush(option);\n            }\n            /**\n             * Set states of current drawing shape\n             * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n             * @param {Object} [options] - Shape options\n             *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n             *        Shape foreground color (ex: '#fff', 'transparent')\n             *      @param {string} [options.stoke] - Shape outline color\n             *      @param {number} [options.strokeWidth] - Shape outline width\n             *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n             *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n             *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n             *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n             *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n             * @example\n             * imageEditor.setDrawingShape('rect', {\n             *     fill: 'red',\n             *     width: 100,\n             *     height: 200\n             * });\n             * @example\n             * imageEditor.setDrawingShape('rect', {\n             *     fill: {\n             *         type: 'filter',\n             *         filter: [{blur: 0.3}, {pixelate: 20}]\n             *     },\n             *     width: 100,\n             *     height: 200\n             * });\n             * @example\n             * imageEditor.setDrawingShape('circle', {\n             *     fill: 'transparent',\n             *     stroke: 'blue',\n             *     strokeWidth: 3,\n             *     rx: 10,\n             *     ry: 100\n             * });\n             * @example\n             * imageEditor.setDrawingShape('triangle', { // When resizing, the shape keep the 1:1 ratio\n             *     width: 1,\n             *     height: 1,\n             *     isRegular: true\n             * });\n             * @example\n             * imageEditor.setDrawingShape('circle', { // When resizing, the shape keep the 1:1 ratio\n             *     rx: 10,\n             *     ry: 10,\n             *     isRegular: true\n             * });\n             */\n\n          }, {\n            key: 'setDrawingShape',\n            value: function setDrawingShape(type, options) {\n              this._graphics.setDrawingShape(type, options);\n            }\n          }, {\n            key: 'setDrawingIcon',\n            value: function setDrawingIcon(type, iconColor) {\n              this._graphics.setIconStyle(type, iconColor);\n            }\n            /**\n             * Add shape\n             * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n             * @param {Object} options - Shape options\n             *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n             *        Shape foreground color (ex: '#fff', 'transparent')\n             *      @param {string} [options.stroke] - Shape outline color\n             *      @param {number} [options.strokeWidth] - Shape outline width\n             *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n             *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n             *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n             *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n             *      @param {number} [options.left] - Shape x position\n             *      @param {number} [options.top] - Shape y position\n             *      @param {boolean} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n             * @returns {Promise<ObjectProps, ErrorMsg>}\n             * @example\n             * imageEditor.addShape('rect', {\n             *     fill: 'red',\n             *     stroke: 'blue',\n             *     strokeWidth: 3,\n             *     width: 100,\n             *     height: 200,\n             *     left: 10,\n             *     top: 10,\n             *     isRegular: true\n             * });\n             * @example\n             * imageEditor.addShape('circle', {\n             *     fill: 'red',\n             *     stroke: 'blue',\n             *     strokeWidth: 3,\n             *     rx: 10,\n             *     ry: 100,\n             *     isRegular: false\n             * }).then(objectProps => {\n             *     console.log(objectProps.id);\n             * });\n             * @example\n             * imageEditor.addShape('rect', {\n             *     fill: {\n             *         type: 'filter',\n             *         filter: [{blur: 0.3}, {pixelate: 20}]\n             *     },\n             *     stroke: 'blue',\n             *     strokeWidth: 3,\n             *     rx: 10,\n             *     ry: 100,\n             *     isRegular: false\n             * }).then(objectProps => {\n             *     console.log(objectProps.id);\n             * });\n             */\n\n          }, {\n            key: 'addShape',\n            value: function addShape(type, options) {\n              options = options || {};\n\n              this._setPositions(options);\n\n              return this.execute(_consts.commandNames.ADD_SHAPE, type, options);\n            }\n            /**\n             * Change shape\n             * @param {number} id - object id\n             * @param {Object} options - Shape options\n             *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n             *        Shape foreground color (ex: '#fff', 'transparent')\n             *      @param {string} [options.stroke] - Shape outline color\n             *      @param {number} [options.strokeWidth] - Shape outline width\n             *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n             *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n             *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n             *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n             *      @param {boolean} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n             * @param {boolean} isSilent - is silent execution or not\n             * @returns {Promise}\n             * @example\n             * // call after selecting shape object on canvas\n             * imageEditor.changeShape(id, { // change rectagle or triangle\n             *     fill: 'red',\n             *     stroke: 'blue',\n             *     strokeWidth: 3,\n             *     width: 100,\n             *     height: 200\n             * });\n             * @example\n             * // call after selecting shape object on canvas\n             * imageEditor.changeShape(id, { // change circle\n             *     fill: 'red',\n             *     stroke: 'blue',\n             *     strokeWidth: 3,\n             *     rx: 10,\n             *     ry: 100\n             * });\n             */\n\n          }, {\n            key: 'changeShape',\n            value: function changeShape(id, options, isSilent) {\n              var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n              return this[executeMethodName](_consts.commandNames.CHANGE_SHAPE, id, options);\n            }\n            /**\n             * Add text on image\n             * @param {string} text - Initial input text\n             * @param {Object} [options] Options for generating text\n             *     @param {Object} [options.styles] Initial styles\n             *         @param {string} [options.styles.fill] Color\n             *         @param {string} [options.styles.fontFamily] Font type for text\n             *         @param {number} [options.styles.fontSize] Size\n             *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n             *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n             *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n             *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n             *     @param {{x: number, y: number}} [options.position] - Initial position\n             *     @param {boolean} [options.autofocus] - text autofocus, default is true\n             * @returns {Promise}\n             * @example\n             * imageEditor.addText('init text');\n             * @example\n             * imageEditor.addText('init text', {\n             *     styles: {\n             *         fill: '#000',\n             *         fontSize: 20,\n             *         fontWeight: 'bold'\n             *     },\n             *     position: {\n             *         x: 10,\n             *         y: 10\n             *     }\n             * }).then(objectProps => {\n             *     console.log(objectProps.id);\n             * });\n             */\n\n          }, {\n            key: 'addText',\n            value: function addText(text, options) {\n              text = text || '';\n              options = options || {};\n              return this.execute(_consts.commandNames.ADD_TEXT, text, options);\n            }\n            /**\n             * Change contents of selected text object on image\n             * @param {number} id - object id\n             * @param {string} text - Changing text\n             * @returns {Promise<ObjectProps, ErrorMsg>}\n             * @example\n             * imageEditor.changeText(id, 'change text');\n             */\n\n          }, {\n            key: 'changeText',\n            value: function changeText(id, text) {\n              text = text || '';\n              return this.execute(_consts.commandNames.CHANGE_TEXT, id, text);\n            }\n            /**\n             * Set style\n             * @param {number} id - object id\n             * @param {Object} styleObj - text styles\n             *     @param {string} [styleObj.fill] Color\n             *     @param {string} [styleObj.fontFamily] Font type for text\n             *     @param {number} [styleObj.fontSize] Size\n             *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n             *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n             *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n             *     @param {string} [styleObj.textDecoration] Type of line (underline / line-through / overline)\n             * @param {boolean} isSilent - is silent execution or not\n             * @returns {Promise}\n             * @example\n             * imageEditor.changeTextStyle(id, {\n             *     fontStyle: 'italic'\n             * });\n             */\n\n          }, {\n            key: 'changeTextStyle',\n            value: function changeTextStyle(id, styleObj, isSilent) {\n              var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n              return this[executeMethodName](_consts.commandNames.CHANGE_TEXT_STYLE, id, styleObj);\n            }\n            /**\n             * change text mode\n             * @param {string} type - change type\n             * @private\n             */\n\n          }, {\n            key: '_changeActivateMode',\n            value: function _changeActivateMode(type) {\n              if (type !== 'ICON' && this.getDrawingMode() !== type) {\n                this.startDrawingMode(type);\n              }\n            }\n            /**\n             * 'textChanged' event handler\n             * @param {Object} target - changed text object\n             * @private\n             */\n\n          }, {\n            key: '_onTextChanged',\n            value: function _onTextChanged(target) {\n              this.fire(_consts.eventNames.TEXT_CHANGED, target);\n            }\n            /**\n             * 'iconCreateResize' event handler\n             * @param {Object} originPointer origin pointer\n             *  @param {Number} originPointer.x x position\n             *  @param {Number} originPointer.y y position\n             * @private\n             */\n\n          }, {\n            key: '_onIconCreateResize',\n            value: function _onIconCreateResize(originPointer) {\n              this.fire(_consts.eventNames.ICON_CREATE_RESIZE, originPointer);\n            }\n            /**\n             * 'iconCreateEnd' event handler\n             * @param {Object} originPointer origin pointer\n             *  @param {Number} originPointer.x x position\n             *  @param {Number} originPointer.y y position\n             * @private\n             */\n\n          }, {\n            key: '_onIconCreateEnd',\n            value: function _onIconCreateEnd(originPointer) {\n              this.fire(_consts.eventNames.ICON_CREATE_END, originPointer);\n            }\n            /**\n             * 'textEditing' event handler\n             * @private\n             */\n\n          }, {\n            key: '_onTextEditing',\n            value: function _onTextEditing() {\n              /**\n               * The event which starts to edit text object\n               * @event ImageEditor#textEditing\n               * @example\n               * imageEditor.on('textEditing', function() {\n               *     console.log('text editing');\n               * });\n               */\n              this.fire(_consts.eventNames.TEXT_EDITING);\n            }\n            /**\n             * Mousedown event handler in case of 'TEXT' drawing mode\n             * @param {fabric.Event} event - Current mousedown event object\n             * @private\n             */\n\n          }, {\n            key: '_onAddText',\n            value: function _onAddText(event) {\n              /**\n               * The event when 'TEXT' drawing mode is enabled and click non-object area.\n               * @event ImageEditor#addText\n               * @param {Object} pos\n               *  @param {Object} pos.originPosition - Current position on origin canvas\n               *      @param {Number} pos.originPosition.x - x\n               *      @param {Number} pos.originPosition.y - y\n               *  @param {Object} pos.clientPosition - Current position on client area\n               *      @param {Number} pos.clientPosition.x - x\n               *      @param {Number} pos.clientPosition.y - y\n               * @example\n               * imageEditor.on('addText', function(pos) {\n               *     console.log('text position on canvas: ' + pos.originPosition);\n               *     console.log('text position on brwoser: ' + pos.clientPosition);\n               * });\n               */\n              this.fire(_consts.eventNames.ADD_TEXT, {\n                originPosition: event.originPosition,\n                clientPosition: event.clientPosition\n              });\n            }\n            /**\n             * 'addObject' event handler\n             * @param {Object} objectProps added object properties\n             * @private\n             */\n\n          }, {\n            key: '_onAddObject',\n            value: function _onAddObject(objectProps) {\n              var obj = this._graphics.getObject(objectProps.id);\n\n              this._invoker.fire(_consts.eventNames.EXECUTE_COMMAND, (0, _util.getObjectType)(obj.type));\n\n              this._pushAddObjectCommand(obj);\n            }\n            /**\n             * 'objectAdded' event handler\n             * @param {Object} objectProps added object properties\n             * @private\n             */\n\n          }, {\n            key: '_onObjectAdded',\n            value: function _onObjectAdded(objectProps) {\n              /**\n               * The event when object added\n               * @event ImageEditor#objectAdded\n               * @param {ObjectProps} props - object properties\n               * @example\n               * imageEditor.on('objectAdded', function(props) {\n               *     console.log(props);\n               * });\n               */\n              this.fire(OBJECT_ADDED, objectProps);\n              /**\n               * The event when object added (deprecated)\n               * @event ImageEditor#addObjectAfter\n               * @param {ObjectProps} props - object properties\n               * @deprecated\n               */\n\n              this.fire(ADD_OBJECT_AFTER, objectProps);\n            }\n            /**\n             * 'objectModified' event handler\n             * @param {fabric.Object} obj - selection object\n             * @private\n             */\n\n          }, {\n            key: '_onObjectModified',\n            value: function _onObjectModified(obj) {\n              if (obj.type !== _consts.OBJ_TYPE.CROPZONE) {\n                this._invoker.fire(_consts.eventNames.EXECUTE_COMMAND, (0, _util.getObjectType)(obj.type));\n\n                this._pushModifyObjectCommand(obj);\n              }\n            }\n            /**\n             * 'selectionCleared' event handler\n             * @private\n             */\n\n          }, {\n            key: '_selectionCleared',\n            value: function _selectionCleared() {\n              this.fire(SELECTION_CLEARED);\n            }\n            /**\n             * 'selectionCreated' event handler\n             * @param {Object} eventTarget - Fabric object\n             * @private\n             */\n\n          }, {\n            key: '_selectionCreated',\n            value: function _selectionCreated(eventTarget) {\n              this.fire(SELECTION_CREATED, eventTarget);\n            }\n            /**\n             * Register custom icons\n             * @param {{iconType: string, pathValue: string}} infos - Infos to register icons\n             * @example\n             * imageEditor.registerIcons({\n             *     customIcon: 'M 0 0 L 20 20 L 10 10 Z',\n             *     customArrow: 'M 60 0 L 120 60 H 90 L 75 45 V 180 H 45 V 45 L 30 60 H 0 Z'\n             * });\n             */\n\n          }, {\n            key: 'registerIcons',\n            value: function registerIcons(infos) {\n              this._graphics.registerPaths(infos);\n            }\n            /**\n             * Change canvas cursor type\n             * @param {string} cursorType - cursor type\n             * @example\n             * imageEditor.changeCursor('crosshair');\n             */\n\n          }, {\n            key: 'changeCursor',\n            value: function changeCursor(cursorType) {\n              this._graphics.changeCursor(cursorType);\n            }\n            /**\n             * Add icon on canvas\n             * @param {string} type - Icon type ('arrow', 'cancel', custom icon name)\n             * @param {Object} options - Icon options\n             *      @param {string} [options.fill] - Icon foreground color\n             *      @param {number} [options.left] - Icon x position\n             *      @param {number} [options.top] - Icon y position\n             * @returns {Promise<ObjectProps, ErrorMsg>}\n             * @example\n             * imageEditor.addIcon('arrow'); // The position is center on canvas\n             * @example\n             * imageEditor.addIcon('arrow', {\n             *     left: 100,\n             *     top: 100\n             * }).then(objectProps => {\n             *     console.log(objectProps.id);\n             * });\n             */\n\n          }, {\n            key: 'addIcon',\n            value: function addIcon(type, options) {\n              options = options || {};\n\n              this._setPositions(options);\n\n              return this.execute(_consts.commandNames.ADD_ICON, type, options);\n            }\n            /**\n             * Change icon color\n             * @param {number} id - object id\n             * @param {string} color - Color for icon\n             * @returns {Promise}\n             * @example\n             * imageEditor.changeIconColor(id, '#000000');\n             */\n\n          }, {\n            key: 'changeIconColor',\n            value: function changeIconColor(id, color) {\n              return this.execute(_consts.commandNames.CHANGE_ICON_COLOR, id, color);\n            }\n            /**\n             * Remove an object or group by id\n             * @param {number} id - object id\n             * @returns {Promise}\n             * @example\n             * imageEditor.removeObject(id);\n             */\n\n          }, {\n            key: 'removeObject',\n            value: function removeObject(id) {\n              var _graphics$getObject = this._graphics.getObject(id),\n                  type = _graphics$getObject.type;\n\n              return this.execute(_consts.commandNames.REMOVE_OBJECT, id, (0, _util.getObjectType)(type));\n            }\n            /**\n             * Whether it has the filter or not\n             * @param {string} type - Filter type\n             * @returns {boolean} true if it has the filter\n             */\n\n          }, {\n            key: 'hasFilter',\n            value: function hasFilter(type) {\n              return this._graphics.hasFilter(type);\n            }\n            /**\n             * Remove filter on canvas image\n             * @param {string} type - Filter type\n             * @returns {Promise<FilterResult, ErrorMsg>}\n             * @example\n             * imageEditor.removeFilter('Grayscale').then(obj => {\n             *     console.log('filterType: ', obj.type);\n             *     console.log('actType: ', obj.action);\n             * }).catch(message => {\n             *     console.log('error: ', message);\n             * });\n             */\n\n          }, {\n            key: 'removeFilter',\n            value: function removeFilter(type) {\n              return this.execute(_consts.commandNames.REMOVE_FILTER, type);\n            }\n            /**\n             * Apply filter on canvas image\n             * @param {string} type - Filter type\n             * @param {object} options - Options to apply filter\n             * @param {boolean} isSilent - is silent execution or not\n             * @returns {Promise<FilterResult, ErrorMsg>}\n             * @example\n             * imageEditor.applyFilter('Grayscale');\n             * @example\n             * imageEditor.applyFilter('mask', {maskObjId: id}).then(obj => {\n             *     console.log('filterType: ', obj.type);\n             *     console.log('actType: ', obj.action);\n             * }).catch(message => {\n             *     console.log('error: ', message);\n             * });;\n             */\n\n          }, {\n            key: 'applyFilter',\n            value: function applyFilter(type, options, isSilent) {\n              var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n              return this[executeMethodName](_consts.commandNames.APPLY_FILTER, type, options);\n            }\n            /**\n             * Get data url\n             * @param {Object} options - options for toDataURL\n             *   @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n             *   @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n             *   @param {Number} [options.multiplier=1] Multiplier to scale by\n             *   @param {Number} [options.left] Cropping left offset. Introduced in fabric v1.2.14\n             *   @param {Number} [options.top] Cropping top offset. Introduced in fabric v1.2.14\n             *   @param {Number} [options.width] Cropping width. Introduced in fabric v1.2.14\n             *   @param {Number} [options.height] Cropping height. Introduced in fabric v1.2.14\n             * @returns {string} A DOMString containing the requested data URI\n             * @example\n             * imgEl.src = imageEditor.toDataURL();\n             *\n             * imageEditor.loadImageFromURL(imageEditor.toDataURL(), 'FilterImage').then(() => {\n             *      imageEditor.addImageObject(imgUrl);\n             * });\n             */\n\n          }, {\n            key: 'toDataURL',\n            value: function toDataURL(options) {\n              return this._graphics.toDataURL(options);\n            }\n            /**\n             * Get image name\n             * @returns {string} image name\n             * @example\n             * console.log(imageEditor.getImageName());\n             */\n\n          }, {\n            key: 'getImageName',\n            value: function getImageName() {\n              return this._graphics.getImageName();\n            }\n            /**\n             * Clear undoStack\n             * @example\n             * imageEditor.clearUndoStack();\n             */\n\n          }, {\n            key: 'clearUndoStack',\n            value: function clearUndoStack() {\n              this._invoker.clearUndoStack();\n            }\n            /**\n             * Clear redoStack\n             * @example\n             * imageEditor.clearRedoStack();\n             */\n\n          }, {\n            key: 'clearRedoStack',\n            value: function clearRedoStack() {\n              this._invoker.clearRedoStack();\n            }\n            /**\n             * Whehter the undo stack is empty or not\n             * @returns {boolean}\n             * imageEditor.isEmptyUndoStack();\n             */\n\n          }, {\n            key: 'isEmptyUndoStack',\n            value: function isEmptyUndoStack() {\n              return this._invoker.isEmptyUndoStack();\n            }\n            /**\n             * Whehter the redo stack is empty or not\n             * @returns {boolean}\n             * imageEditor.isEmptyRedoStack();\n             */\n\n          }, {\n            key: 'isEmptyRedoStack',\n            value: function isEmptyRedoStack() {\n              return this._invoker.isEmptyRedoStack();\n            }\n            /**\n             * Resize canvas dimension\n             * @param {{width: number, height: number}} dimension - Max width & height\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'resizeCanvasDimension',\n            value: function resizeCanvasDimension(dimension) {\n              if (!dimension) {\n                return _util.Promise.reject(_consts.rejectMessages.invalidParameters);\n              }\n\n              return this.execute(_consts.commandNames.RESIZE_CANVAS_DIMENSION, dimension);\n            }\n            /**\n             * Destroy\n             */\n\n          }, {\n            key: 'destroy',\n            value: function destroy() {\n              var _this6 = this;\n\n              this.stopDrawingMode();\n\n              this._detachDomEvents();\n\n              this._graphics.destroy();\n\n              this._graphics = null;\n\n              if (this.ui) {\n                this._detachColorPickerInputBoxEvents();\n\n                this.ui.destroy();\n              }\n\n              forEach(this, function (value, key) {\n                _this6[key] = null;\n              }, this);\n            }\n            /**\n             * Set position\n             * @param {Object} options - Position options (left or top)\n             * @private\n             */\n\n          }, {\n            key: '_setPositions',\n            value: function _setPositions(options) {\n              var centerPosition = this._graphics.getCenter();\n\n              if (isUndefined(options.left)) {\n                options.left = centerPosition.left;\n              }\n\n              if (isUndefined(options.top)) {\n                options.top = centerPosition.top;\n              }\n            }\n            /**\n             * Set properties of active object\n             * @param {number} id - object id\n             * @param {Object} keyValue - key & value\n             * @returns {Promise}\n             * @example\n             * imageEditor.setObjectProperties(id, {\n             *     left:100,\n             *     top:100,\n             *     width: 200,\n             *     height: 200,\n             *     opacity: 0.5\n             * });\n             */\n\n          }, {\n            key: 'setObjectProperties',\n            value: function setObjectProperties(id, keyValue) {\n              return this.execute(_consts.commandNames.SET_OBJECT_PROPERTIES, id, keyValue);\n            }\n            /**\n             * Set properties of active object, Do not leave an invoke history.\n             * @param {number} id - object id\n             * @param {Object} keyValue - key & value\n             * @example\n             * imageEditor.setObjectPropertiesQuietly(id, {\n             *     left:100,\n             *     top:100,\n             *     width: 200,\n             *     height: 200,\n             *     opacity: 0.5\n             * });\n             */\n\n          }, {\n            key: 'setObjectPropertiesQuietly',\n            value: function setObjectPropertiesQuietly(id, keyValue) {\n              this._graphics.setObjectProperties(id, keyValue);\n            }\n            /**\n             * Get properties of active object corresponding key\n             * @param {number} id - object id\n             * @param {Array<string>|ObjectProps|string} keys - property's key\n             * @returns {ObjectProps} properties if id is valid or null\n             * @example\n             * var props = imageEditor.getObjectProperties(id, 'left');\n             * console.log(props);\n             * @example\n             * var props = imageEditor.getObjectProperties(id, ['left', 'top', 'width', 'height']);\n             * console.log(props);\n             * @example\n             * var props = imageEditor.getObjectProperties(id, {\n             *     left: null,\n             *     top: null,\n             *     width: null,\n             *     height: null,\n             *     opacity: null\n             * });\n             * console.log(props);\n             */\n\n          }, {\n            key: 'getObjectProperties',\n            value: function getObjectProperties(id, keys) {\n              var object = this._graphics.getObject(id);\n\n              if (!object) {\n                return null;\n              }\n\n              return this._graphics.getObjectProperties(id, keys);\n            }\n            /**\n             * Get the canvas size\n             * @returns {Object} {{width: number, height: number}} canvas size\n             * @example\n             * var canvasSize = imageEditor.getCanvasSize();\n             * console.log(canvasSize.width);\n             * console.height(canvasSize.height);\n             */\n\n          }, {\n            key: 'getCanvasSize',\n            value: function getCanvasSize() {\n              return this._graphics.getCanvasSize();\n            }\n            /**\n             * Get object position by originX, originY\n             * @param {number} id - object id\n             * @param {string} originX - can be 'left', 'center', 'right'\n             * @param {string} originY - can be 'top', 'center', 'bottom'\n             * @returns {Object} {{x:number, y: number}} position by origin if id is valid, or null\n             * @example\n             * var position = imageEditor.getObjectPosition(id, 'left', 'top');\n             * console.log(position);\n             */\n\n          }, {\n            key: 'getObjectPosition',\n            value: function getObjectPosition(id, originX, originY) {\n              return this._graphics.getObjectPosition(id, originX, originY);\n            }\n            /**\n             * Set object position  by originX, originY\n             * @param {number} id - object id\n             * @param {Object} posInfo - position object\n             *  @param {number} posInfo.x - x position\n             *  @param {number} posInfo.y - y position\n             *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n             *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n             * @returns {Promise}\n             * @example\n             * // align the object to 'left', 'top'\n             * imageEditor.setObjectPosition(id, {\n             *     x: 0,\n             *     y: 0,\n             *     originX: 'left',\n             *     originY: 'top'\n             * });\n             * @example\n             * // align the object to 'right', 'top'\n             * var canvasSize = imageEditor.getCanvasSize();\n             * imageEditor.setObjectPosition(id, {\n             *     x: canvasSize.width,\n             *     y: 0,\n             *     originX: 'right',\n             *     originY: 'top'\n             * });\n             * @example\n             * // align the object to 'left', 'bottom'\n             * var canvasSize = imageEditor.getCanvasSize();\n             * imageEditor.setObjectPosition(id, {\n             *     x: 0,\n             *     y: canvasSize.height,\n             *     originX: 'left',\n             *     originY: 'bottom'\n             * });\n             * @example\n             * // align the object to 'right', 'bottom'\n             * var canvasSize = imageEditor.getCanvasSize();\n             * imageEditor.setObjectPosition(id, {\n             *     x: canvasSize.width,\n             *     y: canvasSize.height,\n             *     originX: 'right',\n             *     originY: 'bottom'\n             * });\n             */\n\n          }, {\n            key: 'setObjectPosition',\n            value: function setObjectPosition(id, posInfo) {\n              return this.execute(_consts.commandNames.SET_OBJECT_POSITION, id, posInfo);\n            }\n          }]);\n\n          return ImageEditor;\n        }();\n\n        _action2.default.mixin(ImageEditor);\n\n        CustomEvents.mixin(ImageEditor);\n        exports.default = ImageEditor;\n        /***/\n      },\n\n      /***/\n      \"./src/js/interface/command.js\":\n      /*!*************************************!*\\\n        !*** ./src/js/interface/command.js ***!\n        \\*************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Command interface\n         */\n\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _errorMessage = __webpack_require__(\n        /*! @/factory/errorMessage */\n        \"./src/js/factory/errorMessage.js\");\n\n        var _errorMessage2 = _interopRequireDefault(_errorMessage);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var createMessage = _errorMessage2.default.create;\n        var errorTypes = _errorMessage2.default.types;\n        /**\n         * Command class\n         * @class\n         * @param {{name:function, execute: function, undo: function,\n         *          executeCallback: function, undoCallback: function}} actions - Command actions\n         * @param {Array} args - passing arguments on execute, undo\n         * @ignore\n         */\n\n        var Command = function () {\n          function Command(actions, args) {\n            _classCallCheck(this, Command);\n            /**\n             * command name\n             * @type {string}\n             */\n\n\n            this.name = actions.name;\n            /**\n             * arguments\n             * @type {Array}\n             */\n\n            this.args = args;\n            /**\n             * Execute function\n             * @type {function}\n             */\n\n            this.execute = actions.execute;\n            /**\n             * Undo function\n             * @type {function}\n             */\n\n            this.undo = actions.undo;\n            /**\n             * executeCallback\n             * @type {function}\n             */\n\n            this.executeCallback = actions.executeCallback || null;\n            /**\n             * undoCallback\n             * @type {function}\n             */\n\n            this.undoCallback = actions.undoCallback || null;\n            /**\n             * data for undo\n             * @type {Object}\n             */\n\n            this.undoData = {};\n          }\n          /**\n           * Execute action\n           * @param {Object.<string, Component>} compMap - Components injection\n           * @abstract\n           */\n\n\n          _createClass(Command, [{\n            key: 'execute',\n            value: function execute() {\n              throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'execute'));\n            }\n            /**\n             * Undo action\n             * @param {Object.<string, Component>} compMap - Components injection\n             * @abstract\n             */\n\n          }, {\n            key: 'undo',\n            value: function undo() {\n              throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'undo'));\n            }\n            /**\n             * command for redo if undoData exists\n             * @returns {boolean} isRedo\n             */\n\n          }, {\n            key: 'setUndoData',\n\n            /**\n             * Set undoData action\n             * @param {Object} undoData - maked undo data\n             * @param {Object} cachedUndoDataForSilent - cached undo data\n             * @param {boolean} isSilent - is silent execution or not\n             * @returns {Object} cachedUndoDataForSilent\n             */\n            value: function setUndoData(undoData, cachedUndoDataForSilent, isSilent) {\n              if (cachedUndoDataForSilent) {\n                undoData = cachedUndoDataForSilent;\n              }\n\n              if (!isSilent) {\n                _tuiCodeSnippet2.default.extend(this.undoData, undoData);\n\n                cachedUndoDataForSilent = null;\n              } else if (!cachedUndoDataForSilent) {\n                cachedUndoDataForSilent = undoData;\n              }\n\n              return cachedUndoDataForSilent;\n            }\n            /**\n             * Attach execute callabck\n             * @param {function} callback - Callback after execution\n             * @returns {Command} this\n             */\n\n          }, {\n            key: 'setExecuteCallback',\n            value: function setExecuteCallback(callback) {\n              this.executeCallback = callback;\n              return this;\n            }\n            /**\n             * Attach undo callback\n             * @param {function} callback - Callback after undo\n             * @returns {Command} this\n             */\n\n          }, {\n            key: 'setUndoCallback',\n            value: function setUndoCallback(callback) {\n              this.undoCallback = callback;\n              return this;\n            }\n          }, {\n            key: 'isRedo',\n            get: function get() {\n              return Object.keys(this.undoData).length > 0;\n            }\n          }]);\n\n          return Command;\n        }();\n\n        exports.default = Command;\n        /***/\n      },\n\n      /***/\n      \"./src/js/interface/component.js\":\n      /*!***************************************!*\\\n        !*** ./src/js/interface/component.js ***!\n        \\***************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Component interface\n         */\n\n        /**\n         * Component interface\n         * @class\n         * @param {string} name - component name\n         * @param {Graphics} graphics - Graphics instance\n         * @ignore\n         */\n\n\n        var Component = function () {\n          function Component(name, graphics) {\n            _classCallCheck(this, Component);\n            /**\n             * Component name\n             * @type {string}\n             */\n\n\n            this.name = name;\n            /**\n             * Graphics instance\n             * @type {Graphics}\n             */\n\n            this.graphics = graphics;\n          }\n          /**\n           * Fire Graphics event\n           * @returns {Object} return value\n           */\n\n\n          _createClass(Component, [{\n            key: \"fire\",\n            value: function fire() {\n              var context = this.graphics;\n\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              return this.graphics.fire.apply(context, args);\n            }\n            /**\n             * Save image(background) of canvas\n             * @param {string} name - Name of image\n             * @param {fabric.Image} oImage - Fabric image instance\n             */\n\n          }, {\n            key: \"setCanvasImage\",\n            value: function setCanvasImage(name, oImage) {\n              this.graphics.setCanvasImage(name, oImage);\n            }\n            /**\n             * Returns canvas element of fabric.Canvas[[lower-canvas]]\n             * @returns {HTMLCanvasElement}\n             */\n\n          }, {\n            key: \"getCanvasElement\",\n            value: function getCanvasElement() {\n              return this.graphics.getCanvasElement();\n            }\n            /**\n             * Get fabric.Canvas instance\n             * @returns {fabric.Canvas}\n             */\n\n          }, {\n            key: \"getCanvas\",\n            value: function getCanvas() {\n              return this.graphics.getCanvas();\n            }\n            /**\n             * Get canvasImage (fabric.Image instance)\n             * @returns {fabric.Image}\n             */\n\n          }, {\n            key: \"getCanvasImage\",\n            value: function getCanvasImage() {\n              return this.graphics.getCanvasImage();\n            }\n            /**\n             * Get image name\n             * @returns {string}\n             */\n\n          }, {\n            key: \"getImageName\",\n            value: function getImageName() {\n              return this.graphics.getImageName();\n            }\n            /**\n             * Get image editor\n             * @returns {ImageEditor}\n             */\n\n          }, {\n            key: \"getEditor\",\n            value: function getEditor() {\n              return this.graphics.getEditor();\n            }\n            /**\n             * Return component name\n             * @returns {string}\n             */\n\n          }, {\n            key: \"getName\",\n            value: function getName() {\n              return this.name;\n            }\n            /**\n             * Set image properties\n             * @param {Object} setting - Image properties\n             * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n             */\n\n          }, {\n            key: \"setImageProperties\",\n            value: function setImageProperties(setting, withRendering) {\n              this.graphics.setImageProperties(setting, withRendering);\n            }\n            /**\n             * Set canvas dimension - css only\n             * @param {Object} dimension - Canvas css dimension\n             */\n\n          }, {\n            key: \"setCanvasCssDimension\",\n            value: function setCanvasCssDimension(dimension) {\n              this.graphics.setCanvasCssDimension(dimension);\n            }\n            /**\n             * Set canvas dimension - css only\n             * @param {Object} dimension - Canvas backstore dimension\n             */\n\n          }, {\n            key: \"setCanvasBackstoreDimension\",\n            value: function setCanvasBackstoreDimension(dimension) {\n              this.graphics.setCanvasBackstoreDimension(dimension);\n            }\n            /**\n             * Adjust canvas dimension with scaling image\n             */\n\n          }, {\n            key: \"adjustCanvasDimension\",\n            value: function adjustCanvasDimension() {\n              this.graphics.adjustCanvasDimension();\n            }\n          }]);\n\n          return Component;\n        }();\n\n        exports.default = Component;\n        /***/\n      },\n\n      /***/\n      \"./src/js/interface/drawingMode.js\":\n      /*!*****************************************!*\\\n        !*** ./src/js/interface/drawingMode.js ***!\n        \\*****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview DrawingMode interface\n         */\n\n\n        var _errorMessage = __webpack_require__(\n        /*! @/factory/errorMessage */\n        \"./src/js/factory/errorMessage.js\");\n\n        var _errorMessage2 = _interopRequireDefault(_errorMessage);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var createMessage = _errorMessage2.default.create;\n        var errorTypes = _errorMessage2.default.types;\n        /**\n         * DrawingMode interface\n         * @class\n         * @param {string} name - drawing mode name\n         * @ignore\n         */\n\n        var DrawingMode = function () {\n          function DrawingMode(name) {\n            _classCallCheck(this, DrawingMode);\n            /**\n             * the name of drawing mode\n             * @type {string}\n             */\n\n\n            this.name = name;\n          }\n          /**\n           * Get this drawing mode name;\n           * @returns {string} drawing mode name\n           */\n\n\n          _createClass(DrawingMode, [{\n            key: 'getName',\n            value: function getName() {\n              return this.name;\n            }\n            /**\n             * start this drawing mode\n             * @param {Object} options - drawing mode options\n             * @abstract\n             */\n\n          }, {\n            key: 'start',\n            value: function start() {\n              throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'start'));\n            }\n            /**\n             * stop this drawing mode\n             * @abstract\n             */\n\n          }, {\n            key: 'end',\n            value: function end() {\n              throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'stop'));\n            }\n          }]);\n\n          return DrawingMode;\n        }();\n\n        exports.default = DrawingMode;\n        /***/\n      },\n\n      /***/\n      \"./src/js/invoker.js\":\n      /*!***************************!*\\\n        !*** ./src/js/invoker.js ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Invoker - invoke commands\n         */\n\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _command = __webpack_require__(\n        /*! @/factory/command */\n        \"./src/js/factory/command.js\");\n\n        var _command2 = _interopRequireDefault(_command);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var isFunction = _tuiCodeSnippet2.default.isFunction,\n            isString = _tuiCodeSnippet2.default.isString,\n            CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\n        /**\n         * Invoker\n         * @class\n         * @ignore\n         */\n\n        var Invoker = function () {\n          function Invoker() {\n            _classCallCheck(this, Invoker);\n            /**\n             * Undo stack\n             * @type {Array.<Command>}\n             * @private\n             */\n\n\n            this._undoStack = [];\n            /**\n             * Redo stack\n             * @type {Array.<Command>}\n             * @private\n             */\n\n            this._redoStack = [];\n            /**\n             * Lock-flag for executing command\n             * @type {boolean}\n             * @private\n             */\n\n            this._isLocked = false;\n            this._isSilent = false;\n          }\n          /**\n           * Invoke command execution\n           * @param {Command} command - Command\n           * @param {boolean} [isRedo=false] - check if command is redo\n           * @returns {Promise}\n           * @private\n           */\n\n\n          _createClass(Invoker, [{\n            key: '_invokeExecution',\n            value: function _invokeExecution(command) {\n              var _this = this;\n\n              var isRedo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              this.lock();\n              var args = command.args;\n\n              if (!args) {\n                args = [];\n              }\n\n              return command.execute.apply(command, args).then(function (value) {\n                if (!_this._isSilent) {\n                  _this.pushUndoStack(command);\n\n                  _this.fire(isRedo ? _consts.eventNames.AFTER_REDO : _consts.eventNames.EXECUTE_COMMAND, command);\n                }\n\n                _this.unlock();\n\n                if (isFunction(command.executeCallback)) {\n                  command.executeCallback(value);\n                }\n\n                return value;\n              })['catch'](function (message) {\n                _this.unlock();\n\n                return _util.Promise.reject(message);\n              });\n            }\n            /**\n             * Invoke command undo\n             * @param {Command} command - Command\n             * @returns {Promise}\n             * @private\n             */\n\n          }, {\n            key: '_invokeUndo',\n            value: function _invokeUndo(command) {\n              var _this2 = this;\n\n              this.lock();\n              var args = command.args;\n\n              if (!args) {\n                args = [];\n              }\n\n              return command.undo.apply(command, args).then(function (value) {\n                _this2.pushRedoStack(command);\n\n                _this2.fire(_consts.eventNames.AFTER_UNDO, command);\n\n                _this2.unlock();\n\n                if (isFunction(command.undoCallback)) {\n                  command.undoCallback(value);\n                }\n\n                return value;\n              })['catch'](function (message) {\n                _this2.unlock();\n\n                return _util.Promise.reject(message);\n              });\n            }\n            /**\n             * fire REDO_STACK_CHANGED event\n             * @private\n             */\n\n          }, {\n            key: '_fireRedoStackChanged',\n            value: function _fireRedoStackChanged() {\n              this.fire(_consts.eventNames.REDO_STACK_CHANGED, this._redoStack.length);\n            }\n            /**\n             * fire UNDO_STACK_CHANGED event\n             * @private\n             */\n\n          }, {\n            key: '_fireUndoStackChanged',\n            value: function _fireUndoStackChanged() {\n              this.fire(_consts.eventNames.UNDO_STACK_CHANGED, this._undoStack.length);\n            }\n            /**\n             * Lock this invoker\n             */\n\n          }, {\n            key: 'lock',\n            value: function lock() {\n              this._isLocked = true;\n            }\n            /**\n             * Unlock this invoker\n             */\n\n          }, {\n            key: 'unlock',\n            value: function unlock() {\n              this._isLocked = false;\n            }\n          }, {\n            key: 'executeSilent',\n            value: function executeSilent() {\n              var _this3 = this;\n\n              this._isSilent = true;\n\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              return this.execute.apply(this, args.concat([this._isSilent])).then(function () {\n                _this3._isSilent = false;\n              });\n            }\n            /**\n             * Invoke command\n             * Store the command to the undoStack\n             * Clear the redoStack\n             * @param {String} commandName - Command name\n             * @param {...*} args - Arguments for creating command\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'execute',\n            value: function execute() {\n              var _this4 = this;\n\n              if (this._isLocked) {\n                return _util.Promise.reject(_consts.rejectMessages.isLock);\n              }\n\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var command = args[0];\n\n              if (isString(command)) {\n                command = _command2.default.create.apply(_command2.default, args);\n              }\n\n              return this._invokeExecution(command).then(function (value) {\n                _this4.clearRedoStack();\n\n                return value;\n              });\n            }\n            /**\n             * Undo command\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'undo',\n            value: function undo() {\n              var command = this._undoStack.pop();\n\n              var promise = void 0;\n              var message = '';\n\n              if (command && this._isLocked) {\n                this.pushUndoStack(command, true);\n                command = null;\n              }\n\n              if (command) {\n                if (this.isEmptyUndoStack()) {\n                  this._fireUndoStackChanged();\n                }\n\n                promise = this._invokeUndo(command);\n              } else {\n                message = _consts.rejectMessages.undo;\n\n                if (this._isLocked) {\n                  message = message + ' Because ' + _consts.rejectMessages.isLock;\n                }\n\n                promise = _util.Promise.reject(message);\n              }\n\n              return promise;\n            }\n            /**\n             * Redo command\n             * @returns {Promise}\n             */\n\n          }, {\n            key: 'redo',\n            value: function redo() {\n              var command = this._redoStack.pop();\n\n              var promise = void 0;\n              var message = '';\n\n              if (command && this._isLocked) {\n                this.pushRedoStack(command, true);\n                command = null;\n              }\n\n              if (command) {\n                if (this.isEmptyRedoStack()) {\n                  this._fireRedoStackChanged();\n                }\n\n                promise = this._invokeExecution(command, true);\n              } else {\n                message = _consts.rejectMessages.redo;\n\n                if (this._isLocked) {\n                  message = message + ' Because ' + _consts.rejectMessages.isLock;\n                }\n\n                promise = _util.Promise.reject(message);\n              }\n\n              return promise;\n            }\n            /**\n             * Push undo stack\n             * @param {Command} command - command\n             * @param {boolean} [isSilent] - Fire event or not\n             */\n\n          }, {\n            key: 'pushUndoStack',\n            value: function pushUndoStack(command, isSilent) {\n              this._undoStack.push(command);\n\n              if (!isSilent) {\n                this._fireUndoStackChanged();\n              }\n            }\n            /**\n             * Push redo stack\n             * @param {Command} command - command\n             * @param {boolean} [isSilent] - Fire event or not\n             */\n\n          }, {\n            key: 'pushRedoStack',\n            value: function pushRedoStack(command, isSilent) {\n              this._redoStack.push(command);\n\n              if (!isSilent) {\n                this._fireRedoStackChanged();\n              }\n            }\n            /**\n             * Return whether the redoStack is empty\n             * @returns {boolean}\n             */\n\n          }, {\n            key: 'isEmptyRedoStack',\n            value: function isEmptyRedoStack() {\n              return this._redoStack.length === 0;\n            }\n            /**\n             * Return whether the undoStack is empty\n             * @returns {boolean}\n             */\n\n          }, {\n            key: 'isEmptyUndoStack',\n            value: function isEmptyUndoStack() {\n              return this._undoStack.length === 0;\n            }\n            /**\n             * Clear undoStack\n             */\n\n          }, {\n            key: 'clearUndoStack',\n            value: function clearUndoStack() {\n              if (!this.isEmptyUndoStack()) {\n                this._undoStack = [];\n\n                this._fireUndoStackChanged();\n              }\n            }\n            /**\n             * Clear redoStack\n             */\n\n          }, {\n            key: 'clearRedoStack',\n            value: function clearRedoStack() {\n              if (!this.isEmptyRedoStack()) {\n                this._redoStack = [];\n\n                this._fireRedoStackChanged();\n              }\n            }\n          }]);\n\n          return Invoker;\n        }();\n\n        CustomEvents.mixin(Invoker);\n        exports.default = Invoker;\n        /***/\n      },\n\n      /***/\n      \"./src/js/polyfill.js\":\n      /*!****************************!*\\\n        !*** ./src/js/polyfill.js ***!\n        \\****************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\"; // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n        // Any copyright is dedicated to the Public Domain. http://creativecommons.org/publicdomain/zero/1.0/if (!Element.prototype.matches)\n\n        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n        if (!Element.prototype.closest) Element.prototype.closest = function (s) {\n          var el = this;\n          if (!document.documentElement.contains(el)) return null;\n\n          do {\n            if (el.matches(s)) return el;\n            el = el.parentElement || el.parentNode;\n          } while (el !== null && el.nodeType === 1);\n\n          return null;\n        };\n        /*\n         * classList.js: Cross-browser full element.classList implementation.\n         * 1.1.20170427\n         *\n         * By Eli Grey, http://eligrey.com\n         * License: Dedicated to the public domain.\n         *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n         */\n\n        /*global self, document, DOMException */\n\n        /*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\n        if ('document' in window.self) {\n          // Full polyfill for browsers with no classList support\n          // Including IE < Edge missing SVGElement.classList\n          if (!('classList' in document.createElement('_')) || document.createElementNS && !('classList' in document.createElementNS('http://www.w3.org/2000/svg', 'g'))) {\n            (function (view) {\n              'use strict';\n\n              if (!('Element' in view)) return;\n\n              var classListProp = 'classList',\n                  protoProp = 'prototype',\n                  elemCtrProto = view.Element[protoProp],\n                  objCtr = Object,\n                  strTrim = String[protoProp].trim || function () {\n                return this.replace(/^\\s+|\\s+$/g, '');\n              },\n                  arrIndexOf = Array[protoProp].indexOf || function (item) {\n                var i = 0,\n                    len = this.length;\n\n                for (; i < len; i++) {\n                  if (i in this && this[i] === item) {\n                    return i;\n                  }\n                }\n\n                return -1;\n              },\n                  // Vendors: please allow content code to instantiate DOMExceptions\n              DOMEx = function DOMEx(type, message) {\n                this.name = type;\n                this.code = DOMException[type];\n                this.message = message;\n              },\n                  checkTokenAndGetIndex = function checkTokenAndGetIndex(classList, token) {\n                if (token === '') {\n                  throw new DOMEx('SYNTAX_ERR', 'An invalid or illegal string was specified');\n                }\n\n                if (/\\s/.test(token)) {\n                  throw new DOMEx('INVALID_CHARACTER_ERR', 'String contains an invalid character');\n                }\n\n                return arrIndexOf.call(classList, token);\n              },\n                  ClassList = function ClassList(elem) {\n                var trimmedClasses = strTrim.call(elem.getAttribute('class') || ''),\n                    classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : [],\n                    i = 0,\n                    len = classes.length;\n\n                for (; i < len; i++) {\n                  this.push(classes[i]);\n                }\n\n                this._updateClassName = function () {\n                  elem.setAttribute('class', this.toString());\n                };\n              },\n                  classListProto = ClassList[protoProp] = [],\n                  classListGetter = function classListGetter() {\n                return new ClassList(this);\n              }; // Most DOMException implementations don't allow calling DOMException's toString()\n              // on non-DOMExceptions. Error's toString() is sufficient here.\n\n\n              DOMEx[protoProp] = Error[protoProp];\n\n              classListProto.item = function (i) {\n                return this[i] || null;\n              };\n\n              classListProto.contains = function (token) {\n                token += '';\n                return checkTokenAndGetIndex(this, token) !== -1;\n              };\n\n              classListProto.add = function () {\n                var tokens = arguments,\n                    i = 0,\n                    l = tokens.length,\n                    token,\n                    updated = false;\n\n                do {\n                  token = tokens[i] + '';\n\n                  if (checkTokenAndGetIndex(this, token) === -1) {\n                    this.push(token);\n                    updated = true;\n                  }\n                } while (++i < l);\n\n                if (updated) {\n                  this._updateClassName();\n                }\n              };\n\n              classListProto.remove = function () {\n                var tokens = arguments,\n                    i = 0,\n                    l = tokens.length,\n                    token,\n                    updated = false,\n                    index;\n\n                do {\n                  token = tokens[i] + '';\n                  index = checkTokenAndGetIndex(this, token);\n\n                  while (index !== -1) {\n                    this.splice(index, 1);\n                    updated = true;\n                    index = checkTokenAndGetIndex(this, token);\n                  }\n                } while (++i < l);\n\n                if (updated) {\n                  this._updateClassName();\n                }\n              };\n\n              classListProto.toggle = function (token, force) {\n                token += '';\n                var result = this.contains(token),\n                    method = result ? force !== true && 'remove' : force !== false && 'add';\n\n                if (method) {\n                  this[method](token);\n                }\n\n                if (force === true || force === false) {\n                  return force;\n                } else {\n                  return !result;\n                }\n              };\n\n              classListProto.toString = function () {\n                return this.join(' ');\n              };\n\n              if (objCtr.defineProperty) {\n                var classListPropDesc = {\n                  get: classListGetter,\n                  enumerable: true,\n                  configurable: true\n                };\n\n                try {\n                  objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                } catch (ex) {\n                  // IE 8 doesn't support enumerable:true\n                  // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n                  // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n                  if (ex.number === undefined || ex.number === -0x7ff5ec54) {\n                    classListPropDesc.enumerable = false;\n                    objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                  }\n                }\n              } else if (objCtr[protoProp].__defineGetter__) {\n                elemCtrProto.__defineGetter__(classListProp, classListGetter);\n              }\n            })(window.self);\n          } // There is full or partial native classList support, so just check if we need\n          // to normalize the add/remove and toggle APIs.\n\n\n          (function () {\n            'use strict';\n\n            var testElement = document.createElement('_');\n            testElement.classList.add('c1', 'c2'); // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n            // classList.remove exist but support only one argument at a time.\n\n            if (!testElement.classList.contains('c2')) {\n              var createMethod = function createMethod(method) {\n                var original = DOMTokenList.prototype[method];\n\n                DOMTokenList.prototype[method] = function (token) {\n                  var i,\n                      len = arguments.length;\n\n                  for (i = 0; i < len; i++) {\n                    token = arguments[i];\n                    original.call(this, token);\n                  }\n                };\n              };\n\n              createMethod('add');\n              createMethod('remove');\n            }\n\n            testElement.classList.toggle('c3', false); // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n            // support the second argument.\n\n            if (testElement.classList.contains('c3')) {\n              var _toggle = DOMTokenList.prototype.toggle;\n\n              DOMTokenList.prototype.toggle = function (token, force) {\n                if (1 in arguments && !this.contains(token) === !force) {\n                  return force;\n                } else {\n                  return _toggle.call(this, token);\n                }\n              };\n            }\n\n            testElement = null;\n          })();\n        }\n        /*!\n         * @copyright Copyright (c) 2017 IcoMoon.io\n         * @license   Licensed under MIT license\n         *            See https://github.com/Keyamoon/svgxuse\n         * @version   1.2.6\n         */\n\n        /*jslint browser: true */\n\n        /*global XDomainRequest, MutationObserver, window */\n\n\n        (function () {\n          'use strict';\n\n          if (typeof window !== 'undefined' && window.addEventListener) {\n            var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n\n            var checkUseElems;\n            var tid; // timeout id\n\n            var debouncedCheck = function debouncedCheck() {\n              clearTimeout(tid);\n              tid = setTimeout(checkUseElems, 100);\n            };\n\n            var unobserveChanges = function unobserveChanges() {\n              return;\n            };\n\n            var observeChanges = function observeChanges() {\n              var observer;\n              window.addEventListener('resize', debouncedCheck, false);\n              window.addEventListener('orientationchange', debouncedCheck, false);\n\n              if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                  childList: true,\n                  subtree: true,\n                  attributes: true\n                });\n\n                unobserveChanges = function unobserveChanges() {\n                  try {\n                    observer.disconnect();\n                    window.removeEventListener('resize', debouncedCheck, false);\n                    window.removeEventListener('orientationchange', debouncedCheck, false);\n                  } catch (ignore) {}\n                };\n              } else {\n                document.documentElement.addEventListener('DOMSubtreeModified', debouncedCheck, false);\n\n                unobserveChanges = function unobserveChanges() {\n                  document.documentElement.removeEventListener('DOMSubtreeModified', debouncedCheck, false);\n                  window.removeEventListener('resize', debouncedCheck, false);\n                  window.removeEventListener('orientationchange', debouncedCheck, false);\n                };\n              }\n            };\n\n            var createRequest = function createRequest(url) {\n              // In IE 9, cross origin requests can only be sent using XDomainRequest.\n              // XDomainRequest would fail if CORS headers are not set.\n              // Therefore, XDomainRequest should only be used with cross origin requests.\n              function getOrigin(loc) {\n                var a;\n\n                if (loc.protocol !== undefined) {\n                  a = loc;\n                } else {\n                  a = document.createElement('a');\n                  a.href = loc;\n                }\n\n                return a.protocol.replace(/:/g, '') + a.host;\n              }\n\n              var Request;\n              var origin;\n              var origin2;\n\n              if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n\n                if (Request.withCredentials === undefined && origin2 !== '' && origin2 !== origin) {\n                  Request = XDomainRequest || undefined;\n                } else {\n                  Request = XMLHttpRequest;\n                }\n              }\n\n              return Request;\n            };\n\n            var xlinkNS = 'http://www.w3.org/1999/xlink';\n\n            checkUseElems = function checkUseElems() {\n              var base;\n              var bcr;\n              var fallback = ''; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n\n              var hash;\n              var href;\n              var i;\n              var inProgressCount = 0;\n              var isHidden;\n              var Request;\n              var url;\n              var uses;\n              var xhr;\n\n              function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n\n                if (inProgressCount === 0) {\n                  // if all xhrs were resolved\n                  unobserveChanges(); // make sure to remove old handlers\n\n                  observeChanges(); // watch for changes to DOM\n                }\n              }\n\n              function attrUpdateFunc(spec) {\n                return function () {\n                  if (cache[spec.base] !== true) {\n                    spec.useEl.setAttributeNS(xlinkNS, 'xlink:href', '#' + spec.hash);\n\n                    if (spec.useEl.hasAttribute('href')) {\n                      spec.useEl.setAttribute('href', '#' + spec.hash);\n                    }\n                  }\n                };\n              }\n\n              function onloadFunc(xhr) {\n                return function () {\n                  var body = document.body;\n                  var x = document.createElement('x');\n                  var svg;\n                  xhr.onload = null;\n                  x.innerHTML = xhr.responseText;\n                  svg = x.getElementsByTagName('svg')[0];\n\n                  if (svg) {\n                    svg.setAttribute('aria-hidden', 'true');\n                    svg.style.position = 'absolute';\n                    svg.style.width = 0;\n                    svg.style.height = 0;\n                    svg.style.overflow = 'hidden';\n                    body.insertBefore(svg, body.firstChild);\n                  }\n\n                  observeIfDone();\n                };\n              }\n\n              function onErrorTimeout(xhr) {\n                return function () {\n                  xhr.onerror = null;\n                  xhr.ontimeout = null;\n                  observeIfDone();\n                };\n              }\n\n              unobserveChanges(); // stop watching for changes to DOM\n              // find all use elements\n\n              uses = document.getElementsByTagName('use');\n\n              for (i = 0; i < uses.length; i += 1) {\n                try {\n                  bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                  // failed to get bounding rectangle of the use element\n                  bcr = false;\n                }\n\n                href = uses[i].getAttribute('href') || uses[i].getAttributeNS(xlinkNS, 'href') || uses[i].getAttribute('xlink:href');\n\n                if (href && href.split) {\n                  url = href.split('#');\n                } else {\n                  url = ['', ''];\n                }\n\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                  // the use element is empty\n                  // if there is a reference to an external SVG, try to fetch it\n                  // use the optional fallback URL if there is no reference to an external SVG\n                  if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                    base = fallback;\n                  }\n\n                  if (uses[i].hasAttribute('href')) {\n                    uses[i].setAttributeNS(xlinkNS, 'xlink:href', href);\n                  }\n\n                  if (base.length) {\n                    // schedule updating xlink:href\n                    xhr = cache[base];\n\n                    if (xhr !== true) {\n                      // true signifies that prepending the SVG was not required\n                      setTimeout(attrUpdateFunc({\n                        useEl: uses[i],\n                        base: base,\n                        hash: hash\n                      }), 0);\n                    }\n\n                    if (xhr === undefined) {\n                      Request = createRequest(base);\n\n                      if (Request !== undefined) {\n                        xhr = new Request();\n                        cache[base] = xhr;\n                        xhr.onload = onloadFunc(xhr);\n                        xhr.onerror = onErrorTimeout(xhr);\n                        xhr.ontimeout = onErrorTimeout(xhr);\n                        xhr.open('GET', base);\n                        xhr.send();\n                        inProgressCount += 1;\n                      }\n                    }\n                  }\n                } else {\n                  if (!isHidden) {\n                    if (cache[base] === undefined) {\n                      // remember this URL if the use element was not empty and no request was sent\n                      cache[base] = true;\n                    } else if (cache[base].onload) {\n                      // if it turns out that prepending the SVG is not necessary,\n                      // abort the in-progress xhr.\n                      cache[base].abort();\n                      delete cache[base].onload;\n                      cache[base] = true;\n                    }\n                  } else if (base.length && cache[base]) {\n                    setTimeout(attrUpdateFunc({\n                      useEl: uses[i],\n                      base: base,\n                      hash: hash\n                    }), 0);\n                  }\n                }\n              }\n\n              uses = '';\n              inProgressCount += 1;\n              observeIfDone();\n            };\n\n            var _winLoad;\n\n            _winLoad = function winLoad() {\n              window.removeEventListener('load', _winLoad, false); // to prevent memory leaks\n\n              tid = setTimeout(checkUseElems, 0);\n            };\n\n            if (document.readyState !== 'complete') {\n              // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n              window.addEventListener('load', _winLoad, false);\n            } else {\n              // No need to add a listener if the document is already loaded, initialize immediately.\n              _winLoad();\n            }\n          }\n        })();\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui.js\":\n      /*!**********************!*\\\n        !*** ./src/js/ui.js ***!\n        \\**********************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        var _mainContainer = __webpack_require__(\n        /*! @/ui/template/mainContainer */\n        \"./src/js/ui/template/mainContainer.js\");\n\n        var _mainContainer2 = _interopRequireDefault(_mainContainer);\n\n        var _controls = __webpack_require__(\n        /*! @/ui/template/controls */\n        \"./src/js/ui/template/controls.js\");\n\n        var _controls2 = _interopRequireDefault(_controls);\n\n        var _theme = __webpack_require__(\n        /*! @/ui/theme/theme */\n        \"./src/js/ui/theme/theme.js\");\n\n        var _theme2 = _interopRequireDefault(_theme);\n\n        var _shape = __webpack_require__(\n        /*! @/ui/shape */\n        \"./src/js/ui/shape.js\");\n\n        var _shape2 = _interopRequireDefault(_shape);\n\n        var _crop = __webpack_require__(\n        /*! @/ui/crop */\n        \"./src/js/ui/crop.js\");\n\n        var _crop2 = _interopRequireDefault(_crop);\n\n        var _flip = __webpack_require__(\n        /*! @/ui/flip */\n        \"./src/js/ui/flip.js\");\n\n        var _flip2 = _interopRequireDefault(_flip);\n\n        var _rotate = __webpack_require__(\n        /*! @/ui/rotate */\n        \"./src/js/ui/rotate.js\");\n\n        var _rotate2 = _interopRequireDefault(_rotate);\n\n        var _text = __webpack_require__(\n        /*! @/ui/text */\n        \"./src/js/ui/text.js\");\n\n        var _text2 = _interopRequireDefault(_text);\n\n        var _mask = __webpack_require__(\n        /*! @/ui/mask */\n        \"./src/js/ui/mask.js\");\n\n        var _mask2 = _interopRequireDefault(_mask);\n\n        var _icon = __webpack_require__(\n        /*! @/ui/icon */\n        \"./src/js/ui/icon.js\");\n\n        var _icon2 = _interopRequireDefault(_icon);\n\n        var _draw = __webpack_require__(\n        /*! @/ui/draw */\n        \"./src/js/ui/draw.js\");\n\n        var _draw2 = _interopRequireDefault(_draw);\n\n        var _filter = __webpack_require__(\n        /*! @/ui/filter */\n        \"./src/js/ui/filter.js\");\n\n        var _filter2 = _interopRequireDefault(_filter);\n\n        var _history = __webpack_require__(\n        /*! @/ui/history */\n        \"./src/js/ui/history.js\");\n\n        var _history2 = _interopRequireDefault(_history);\n\n        var _locale = __webpack_require__(\n        /*! @/ui/locale/locale */\n        \"./src/js/ui/locale/locale.js\");\n\n        var _locale2 = _interopRequireDefault(_locale);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var SUB_UI_COMPONENT = {\n          Shape: _shape2.default,\n          Crop: _crop2.default,\n          Flip: _flip2.default,\n          Rotate: _rotate2.default,\n          Text: _text2.default,\n          Mask: _mask2.default,\n          Icon: _icon2.default,\n          Draw: _draw2.default,\n          Filter: _filter2.default\n        };\n        var CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\n        var BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION = '1300';\n        var HISTORY_MENU = 'history';\n        var HISTORY_PANEL_CLASS_NAME = 'tie-panel-history';\n        var CLASS_NAME_ON = 'on';\n        var ZOOM_BUTTON_TYPE = {\n          ZOOM_IN: 'zoomIn',\n          HAND: 'hand'\n        };\n        /**\n         * Ui class\n         * @class\n         * @param {string|HTMLElement} element - Wrapper's element or selector\n         * @param {Object} [options] - Ui setting options\n         *   @param {number} options.loadImage - Init default load image\n         *   @param {number} options.initMenu - Init start menu\n         *   @param {Boolean} [options.menuBarPosition=bottom] - Let\n         *   @param {Boolean} [options.applyCropSelectionStyle=false] - Let\n         *   @param {Boolean} [options.usageStatistics=false] - Use statistics or not\n         *   @param {Object} [options.uiSize] - ui size of editor\n         *     @param {string} options.uiSize.width - width of ui\n         *     @param {string} options.uiSize.height - height of ui\n         * @param {Object} actions - ui action instance\n         */\n\n        var Ui = function () {\n          function Ui(element, options, actions) {\n            _classCallCheck(this, Ui);\n\n            this.options = this._initializeOption(options);\n            this._actions = actions;\n            this.submenu = false;\n            this.imageSize = {};\n            this.uiSize = {};\n            this._locale = new _locale2.default(this.options.locale);\n            this.theme = new _theme2.default(this.options.theme);\n            this.eventHandler = {};\n            this._submenuChangeTransection = false;\n            this._selectedElement = null;\n            this._mainElement = null;\n            this._editorElementWrap = null;\n            this._editorElement = null;\n            this._menuBarElement = null;\n            this._subMenuElement = null;\n\n            this._makeUiElement(element);\n\n            this._setUiSize();\n\n            this._initMenuEvent = false;\n\n            this._makeSubMenu();\n\n            this._attachHistoryEvent();\n\n            this._attachZoomEvent();\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Ui, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeUiEvent();\n\n              this._destroyAllMenu();\n\n              this._selectedElement.innerHTML = '';\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Set Default Selection for includeUI\n             * @param {Object} option - imageEditor options\n             * @returns {Object} - extends selectionStyle option\n             * @ignore\n             */\n\n          }, {\n            key: 'setUiDefaultSelectionStyle',\n            value: function setUiDefaultSelectionStyle(option) {\n              return _tuiCodeSnippet2.default.extend({\n                applyCropSelectionStyle: true,\n                applyGroupSelectionStyle: true,\n                selectionStyle: {\n                  cornerStyle: 'circle',\n                  cornerSize: 16,\n                  cornerColor: '#fff',\n                  cornerStrokeColor: '#fff',\n                  transparentCorners: false,\n                  lineWidth: 2,\n                  borderColor: '#fff'\n                }\n              }, option);\n            }\n            /**\n             * Change editor size\n             * @param {Object} resizeInfo - ui & image size info\n             *   @param {Object} [resizeInfo.uiSize] - image size dimension\n             *     @param {string} resizeInfo.uiSize.width - ui width\n             *     @param {string} resizeInfo.uiSize.height - ui height\n             *   @param {Object} [resizeInfo.imageSize] - image size dimension\n             *     @param {Number} resizeInfo.imageSize.oldWidth - old width\n             *     @param {Number} resizeInfo.imageSize.oldHeight - old height\n             *     @param {Number} resizeInfo.imageSize.newWidth - new width\n             *     @param {Number} resizeInfo.imageSize.newHeight - new height\n             * @example\n             * // Change the image size and ui size, and change the affected ui state together.\n             * imageEditor.ui.resizeEditor({\n             *     imageSize: {oldWidth: 100, oldHeight: 100, newWidth: 700, newHeight: 700},\n             *     uiSize: {width: 1000, height: 1000}\n             * });\n             * @example\n             * // Apply the ui state while preserving the previous attribute (for example, if responsive Ui)\n             * imageEditor.ui.resizeEditor();\n             */\n\n          }, {\n            key: 'resizeEditor',\n            value: function resizeEditor() {\n              var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  uiSize = _ref.uiSize,\n                  _ref$imageSize = _ref.imageSize,\n                  imageSize = _ref$imageSize === undefined ? this.imageSize : _ref$imageSize;\n\n              if (imageSize !== this.imageSize) {\n                this.imageSize = imageSize;\n              }\n\n              if (uiSize) {\n                this._setUiSize(uiSize);\n              }\n\n              var _getCanvasMaxDimensio = this._getCanvasMaxDimension(),\n                  width = _getCanvasMaxDimensio.width,\n                  height = _getCanvasMaxDimensio.height;\n\n              var editorElementStyle = this._editorElement.style;\n              var menuBarPosition = this.options.menuBarPosition;\n              editorElementStyle.height = height + 'px';\n              editorElementStyle.width = width + 'px';\n\n              this._setEditorPosition(menuBarPosition);\n\n              this._editorElementWrap.style.bottom = '0px';\n              this._editorElementWrap.style.top = '0px';\n              this._editorElementWrap.style.left = '0px';\n              this._editorElementWrap.style.width = '100%';\n              var selectElementClassList = this._selectedElement.classList;\n\n              if (menuBarPosition === 'top' && this._selectedElement.offsetWidth < BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION) {\n                selectElementClassList.add('tui-image-editor-top-optimization');\n              } else {\n                selectElementClassList.remove('tui-image-editor-top-optimization');\n              }\n            }\n            /**\n             * Toggle zoom button status\n             * @param {string} type - type of zoom button\n             */\n\n          }, {\n            key: 'toggleZoomButtonStatus',\n            value: function toggleZoomButtonStatus(type) {\n              var targetClassList = this._buttonElements[type].classList;\n              targetClassList.toggle(CLASS_NAME_ON);\n\n              if (type === ZOOM_BUTTON_TYPE.ZOOM_IN) {\n                this._buttonElements[ZOOM_BUTTON_TYPE.HAND].classList.remove(CLASS_NAME_ON);\n              } else {\n                this._buttonElements[ZOOM_BUTTON_TYPE.ZOOM_IN].classList.remove(CLASS_NAME_ON);\n              }\n            }\n            /**\n             * Turn off zoom-in button status\n             */\n\n          }, {\n            key: 'offZoomInButtonStatus',\n            value: function offZoomInButtonStatus() {\n              var zoomInClassList = this._buttonElements[ZOOM_BUTTON_TYPE.ZOOM_IN].classList;\n              zoomInClassList.remove(CLASS_NAME_ON);\n            }\n            /**\n             * Change hand button status\n             * @param {boolean} enabled - status to change\n             */\n\n          }, {\n            key: 'changeHandButtonStatus',\n            value: function changeHandButtonStatus(enabled) {\n              var handClassList = this._buttonElements[ZOOM_BUTTON_TYPE.HAND].classList;\n              handClassList[enabled ? 'add' : 'remove'](CLASS_NAME_ON);\n            }\n            /**\n             * Change help button status\n             * @param {string} buttonType - target button type\n             * @param {Boolean} enableStatus - enabled status\n             * @ignore\n             */\n\n          }, {\n            key: 'changeHelpButtonEnabled',\n            value: function changeHelpButtonEnabled(buttonType, enableStatus) {\n              var buttonClassList = this._buttonElements[buttonType].classList;\n              buttonClassList[enableStatus ? 'add' : 'remove']('enabled');\n            }\n            /**\n             * Change delete button status\n             * @param {Object} [options] - Ui setting options\n             *   @param {object} [options.loadImage] - Init default load image\n             *   @param {string} [options.initMenu] - Init start menu\n             *   @param {string} [options.menuBarPosition=bottom] - Let\n             *   @param {boolean} [options.applyCropSelectionStyle=false] - Let\n             *   @param {boolean} [options.usageStatistics=false] - Send statistics ping or not\n             * @returns {Object} initialize option\n             * @private\n             */\n\n          }, {\n            key: '_initializeOption',\n            value: function _initializeOption(options) {\n              return _tuiCodeSnippet2.default.extend({\n                loadImage: {\n                  path: '',\n                  name: ''\n                },\n                locale: {},\n                menuIconPath: '',\n                menu: ['crop', 'flip', 'rotate', 'draw', 'shape', 'icon', 'text', 'mask', 'filter'],\n                initMenu: '',\n                uiSize: {\n                  width: '100%',\n                  height: '100%'\n                },\n                menuBarPosition: 'bottom'\n              }, options);\n            }\n            /**\n             * Set ui container size\n             * @param {Object} uiSize - ui dimension\n             *   @param {string} uiSize.width - css width property\n             *   @param {string} uiSize.height - css height property\n             * @private\n             */\n\n          }, {\n            key: '_setUiSize',\n            value: function _setUiSize() {\n              var uiSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.uiSize;\n              var elementDimension = this._selectedElement.style;\n              elementDimension.width = uiSize.width;\n              elementDimension.height = uiSize.height;\n            }\n            /**\n             * Make submenu dom element\n             * @private\n             */\n\n          }, {\n            key: '_makeSubMenu',\n            value: function _makeSubMenu() {\n              var _this = this;\n\n              _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                var SubComponentClass = SUB_UI_COMPONENT[menuName.replace(/^[a-z]/, function ($0) {\n                  return $0.toUpperCase();\n                })]; // make menu element\n\n                _this._makeMenuElement(menuName); // menu btn element\n\n\n                _this._buttonElements[menuName] = _this._menuBarElement.querySelector('.tie-btn-' + menuName); // submenu ui instance\n\n                _this[menuName] = new SubComponentClass(_this._subMenuElement, {\n                  locale: _this._locale,\n                  makeSvgIcon: _this.theme.makeMenSvgIconSet.bind(_this.theme),\n                  menuBarPosition: _this.options.menuBarPosition,\n                  usageStatistics: _this.options.usageStatistics\n                });\n              });\n            }\n            /**\n             * Attach history event\n             * @private\n             */\n\n          }, {\n            key: '_attachHistoryEvent',\n            value: function _attachHistoryEvent() {\n              this.on(_consts.eventNames.EXECUTE_COMMAND, this._addHistory.bind(this));\n              this.on(_consts.eventNames.AFTER_UNDO, this._selectPrevHistory.bind(this));\n              this.on(_consts.eventNames.AFTER_REDO, this._selectNextHistory.bind(this));\n            }\n            /**\n             * Attach zoom event\n             * @private\n             */\n\n          }, {\n            key: '_attachZoomEvent',\n            value: function _attachZoomEvent() {\n              var _this2 = this;\n\n              this.on(_consts.eventNames.HAND_STARTED, function () {\n                _this2.offZoomInButtonStatus();\n\n                _this2.changeHandButtonStatus(true);\n              });\n              this.on(_consts.eventNames.HAND_STOPPED, function () {\n                return _this2.changeHandButtonStatus(false);\n              });\n            }\n            /**\n             * Make primary ui dom element\n             * @param {string|HTMLElement} element - Wrapper's element or selector\n             * @private\n             */\n\n          }, {\n            key: '_makeUiElement',\n            value: function _makeUiElement(element) {\n              var selectedElement = void 0;\n              window.snippet = _tuiCodeSnippet2.default;\n\n              if (element.nodeType) {\n                selectedElement = element;\n              } else {\n                selectedElement = document.querySelector(element);\n              }\n\n              var selector = (0, _util.getSelector)(selectedElement);\n              selectedElement.classList.add('tui-image-editor-container');\n              selectedElement.innerHTML = (0, _controls2.default)({\n                locale: this._locale,\n                biImage: this.theme.getStyle('common.bi'),\n                loadButtonStyle: this.theme.getStyle('loadButton'),\n                downloadButtonStyle: this.theme.getStyle('downloadButton'),\n                menuBarPosition: this.options.menuBarPosition\n              }) + (0, _mainContainer2.default)({\n                locale: this._locale,\n                biImage: this.theme.getStyle('common.bi'),\n                commonStyle: this.theme.getStyle('common'),\n                headerStyle: this.theme.getStyle('header'),\n                loadButtonStyle: this.theme.getStyle('loadButton'),\n                downloadButtonStyle: this.theme.getStyle('downloadButton'),\n                submenuStyle: this.theme.getStyle('submenu')\n              });\n              this._selectedElement = selectedElement;\n\n              this._selectedElement.classList.add(this.options.menuBarPosition);\n\n              this._mainElement = selector('.tui-image-editor-main');\n              this._editorElementWrap = selector('.tui-image-editor-wrap');\n              this._editorElement = selector('.tui-image-editor');\n              this._helpMenuBarElement = selector('.tui-image-editor-help-menu');\n              this._menuBarElement = selector('.tui-image-editor-menu');\n              this._subMenuElement = selector('.tui-image-editor-submenu');\n              this._buttonElements = {\n                download: this._selectedElement.querySelectorAll('.tui-image-editor-download-btn'),\n                load: this._selectedElement.querySelectorAll('.tui-image-editor-load-btn')\n              };\n\n              this._addHelpMenus();\n\n              this._historyMenu = new _history2.default(this._buttonElements[HISTORY_MENU], {\n                locale: this._locale,\n                makeSvgIcon: this.theme.makeMenSvgIconSet.bind(this.theme)\n              });\n\n              this._activateZoomMenus();\n            }\n            /**\n             * Activate help menus for zoom.\n             * @private\n             */\n\n          }, {\n            key: '_activateZoomMenus',\n            value: function _activateZoomMenus() {\n              var _this3 = this;\n\n              _tuiCodeSnippet2.default.forEach(_consts.ZOOM_HELP_MENUS, function (menu) {\n                _this3.changeHelpButtonEnabled(menu, true);\n              });\n            }\n            /**\n             * make array for help menu output, including partitions.\n             * @returns {Array}\n             * @private\n             */\n\n          }, {\n            key: '_makeHelpMenuWithPartition',\n            value: function _makeHelpMenuWithPartition() {\n              return [].concat(_consts.ZOOM_HELP_MENUS, [''], _consts.COMMAND_HELP_MENUS, [''], _consts.DELETE_HELP_MENUS);\n            }\n            /**\n             * Add help menu\n             * @private\n             */\n\n          }, {\n            key: '_addHelpMenus',\n            value: function _addHelpMenus() {\n              var _this4 = this;\n\n              var helpMenuWithPartition = this._makeHelpMenuWithPartition();\n\n              _tuiCodeSnippet2.default.forEach(helpMenuWithPartition, function (menuName) {\n                if (!menuName) {\n                  _this4._makeMenuPartitionElement();\n                } else {\n                  _this4._makeMenuElement(menuName, ['normal', 'disabled', 'hover'], 'help');\n\n                  _this4._buttonElements[menuName] = _this4._helpMenuBarElement.querySelector('.tie-btn-' + menuName);\n                }\n              });\n            }\n            /**\n             * Make menu partition element\n             * @private\n             */\n\n          }, {\n            key: '_makeMenuPartitionElement',\n            value: function _makeMenuPartitionElement() {\n              var partitionElement = document.createElement('li');\n              var partitionInnerElement = document.createElement('div');\n              partitionElement.className = (0, _util.cls)('item');\n              partitionInnerElement.className = (0, _util.cls)('icpartition');\n              partitionElement.appendChild(partitionInnerElement);\n\n              this._helpMenuBarElement.appendChild(partitionElement);\n            }\n            /**\n             * Make menu button element\n             * @param {string} menuName - menu name\n             * @param {Array} useIconTypes - Possible values are  \\['normal', 'active', 'hover', 'disabled'\\]\n             * @param {string} menuType - 'normal' or 'help'\n             * @private\n             */\n\n          }, {\n            key: '_makeMenuElement',\n            value: function _makeMenuElement(menuName) {\n              var useIconTypes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['normal', 'active', 'hover'];\n              var menuType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'normal';\n              var btnElement = document.createElement('li');\n              var menuItemHtml = this.theme.makeMenSvgIconSet(useIconTypes, menuName);\n\n              this._addTooltipAttribute(btnElement, menuName);\n\n              btnElement.className = 'tie-btn-' + menuName + ' ' + (0, _util.cls)('item') + ' ' + menuType;\n              btnElement.innerHTML = menuItemHtml;\n\n              if (menuType === 'normal') {\n                this._menuBarElement.appendChild(btnElement);\n              } else {\n                this._helpMenuBarElement.appendChild(btnElement);\n              }\n            }\n            /**\n             * Add help action event\n             * @private\n             */\n\n          }, {\n            key: '_addHelpActionEvent',\n            value: function _addHelpActionEvent() {\n              var _this5 = this;\n\n              _tuiCodeSnippet2.default.forEach(_consts.HELP_MENUS, function (helpName) {\n                _this5.eventHandler[helpName] = function (event) {\n                  return _this5._actions.main[helpName](event);\n                };\n\n                _this5._buttonElements[helpName].addEventListener('click', _this5.eventHandler[helpName]);\n              });\n            }\n            /**\n             * Remove help action event\n             * @private\n             */\n\n          }, {\n            key: '_removeHelpActionEvent',\n            value: function _removeHelpActionEvent() {\n              var _this6 = this;\n\n              _tuiCodeSnippet2.default.forEach(_consts.HELP_MENUS, function (helpName) {\n                _this6._buttonElements[helpName].removeEventListener('click', _this6.eventHandler[helpName]);\n              });\n            }\n            /**\n             * Add history\n             * @param {Command|string} command - command or command name\n             */\n\n          }, {\n            key: '_addHistory',\n            value: function _addHistory(command) {\n              if (!(0, _util.isSilentCommand)(command)) {\n                var historyTitle = typeof command === 'string' ? {\n                  name: command\n                } : (0, _util.getHistoryTitle)(command);\n\n                this._historyMenu.add(historyTitle);\n              }\n            }\n            /**\n             * Init history\n             */\n\n          }, {\n            key: 'initHistory',\n            value: function initHistory() {\n              this._historyMenu.init();\n            }\n            /**\n             * Clear history\n             */\n\n          }, {\n            key: 'clearHistory',\n            value: function clearHistory() {\n              this._historyMenu.clear();\n            }\n            /**\n             * Select prev history\n             */\n\n          }, {\n            key: '_selectPrevHistory',\n            value: function _selectPrevHistory() {\n              this._historyMenu.prev();\n            }\n            /**\n             * Select next history\n             */\n\n          }, {\n            key: '_selectNextHistory',\n            value: function _selectNextHistory() {\n              this._historyMenu.next();\n            }\n            /**\n             * Toggle history menu\n             * @param {object} event - event object\n             */\n\n          }, {\n            key: 'toggleHistoryMenu',\n            value: function toggleHistoryMenu(event) {\n              var target = event.target;\n              var item = target.closest('.' + HISTORY_PANEL_CLASS_NAME);\n\n              if (item) {\n                return;\n              }\n\n              var historyButtonClassList = this._buttonElements[HISTORY_MENU].classList;\n              historyButtonClassList.toggle('opened');\n            }\n            /**\n             * Add attribute for menu tooltip\n             * @param {HTMLElement} element - menu element\n             * @param {string} tooltipName - tooltipName\n             * @private\n             */\n\n          }, {\n            key: '_addTooltipAttribute',\n            value: function _addTooltipAttribute(element, tooltipName) {\n              element.setAttribute('tooltip-content', this._locale.localize(tooltipName.replace(/^[a-z]/g, function ($0) {\n                return $0.toUpperCase();\n              })));\n            }\n            /**\n             * Add download event\n             * @private\n             */\n\n          }, {\n            key: '_addDownloadEvent',\n            value: function _addDownloadEvent() {\n              var _this7 = this;\n\n              this.eventHandler.download = function () {\n                return _this7._actions.main.download();\n              };\n\n              _tuiCodeSnippet2.default.forEach(this._buttonElements.download, function (element) {\n                element.addEventListener('click', _this7.eventHandler.download);\n              });\n            }\n          }, {\n            key: '_removeDownloadEvent',\n            value: function _removeDownloadEvent() {\n              var _this8 = this;\n\n              _tuiCodeSnippet2.default.forEach(this._buttonElements.download, function (element) {\n                element.removeEventListener('click', _this8.eventHandler.download);\n              });\n            }\n            /**\n             * Add load event\n             * @private\n             */\n\n          }, {\n            key: '_addLoadEvent',\n            value: function _addLoadEvent() {\n              var _this9 = this;\n\n              this.eventHandler.loadImage = function (event) {\n                return _this9._actions.main.load(event.target.files[0]);\n              };\n\n              _tuiCodeSnippet2.default.forEach(this._buttonElements.load, function (element) {\n                element.addEventListener('change', _this9.eventHandler.loadImage);\n              });\n            }\n            /**\n             * Remove load event\n             * @private\n             */\n\n          }, {\n            key: '_removeLoadEvent',\n            value: function _removeLoadEvent() {\n              var _this10 = this;\n\n              _tuiCodeSnippet2.default.forEach(this._buttonElements.load, function (element) {\n                element.removeEventListener('change', _this10.eventHandler.loadImage);\n              });\n            }\n            /**\n             * Add menu event\n             * @param {string} menuName - menu name\n             * @private\n             */\n\n          }, {\n            key: '_addMainMenuEvent',\n            value: function _addMainMenuEvent(menuName) {\n              var _this11 = this;\n\n              this.eventHandler[menuName] = function () {\n                return _this11.changeMenu(menuName);\n              };\n\n              this._buttonElements[menuName].addEventListener('click', this.eventHandler[menuName]);\n            }\n            /**\n             * Add menu event\n             * @param {string} menuName - menu name\n             * @private\n             */\n\n          }, {\n            key: '_addSubMenuEvent',\n            value: function _addSubMenuEvent(menuName) {\n              var _this12 = this;\n\n              this[menuName].addEvent(this._actions[menuName]);\n              this[menuName].on(_consts.eventNames.INPUT_BOX_EDITING_STARTED, function () {\n                return _this12.fire(_consts.eventNames.INPUT_BOX_EDITING_STARTED);\n              });\n              this[menuName].on(_consts.eventNames.INPUT_BOX_EDITING_STOPPED, function () {\n                return _this12.fire(_consts.eventNames.INPUT_BOX_EDITING_STOPPED);\n              });\n            }\n            /**\n             * Add menu event\n             * @private\n             */\n\n          }, {\n            key: '_addMenuEvent',\n            value: function _addMenuEvent() {\n              var _this13 = this;\n\n              _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this13._addMainMenuEvent(menuName);\n\n                _this13._addSubMenuEvent(menuName);\n              });\n            }\n            /**\n             * Remove menu event\n             * @private\n             */\n\n          }, {\n            key: '_removeMainMenuEvent',\n            value: function _removeMainMenuEvent() {\n              var _this14 = this;\n\n              _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this14._buttonElements[menuName].removeEventListener('click', _this14.eventHandler[menuName]);\n\n                _this14[menuName].off(_consts.eventNames.INPUT_BOX_EDITING_STARTED);\n\n                _this14[menuName].off(_consts.eventNames.INPUT_BOX_EDITING_STOPPED);\n              });\n            }\n            /**\n             * Get editor area element\n             * @returns {HTMLElement} editor area html element\n             * @ignore\n             */\n\n          }, {\n            key: 'getEditorArea',\n            value: function getEditorArea() {\n              return this._editorElement;\n            }\n            /**\n             * Add event for menu items\n             * @ignore\n             */\n\n          }, {\n            key: 'activeMenuEvent',\n            value: function activeMenuEvent() {\n              if (this._initMenuEvent) {\n                return;\n              }\n\n              this._addHelpActionEvent();\n\n              this._addDownloadEvent();\n\n              this._addMenuEvent();\n\n              this._initMenu();\n\n              this._historyMenu.addEvent(this._actions.history);\n\n              this._initMenuEvent = true;\n            }\n            /**\n             * Remove ui event\n             * @private\n             */\n\n          }, {\n            key: '_removeUiEvent',\n            value: function _removeUiEvent() {\n              this._removeHelpActionEvent();\n\n              this._removeDownloadEvent();\n\n              this._removeLoadEvent();\n\n              this._removeMainMenuEvent();\n\n              this._historyMenu.removeEvent();\n            }\n            /**\n             * Destroy all menu instance\n             * @private\n             */\n\n          }, {\n            key: '_destroyAllMenu',\n            value: function _destroyAllMenu() {\n              var _this15 = this;\n\n              _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this15[menuName].destroy();\n              });\n\n              this._historyMenu.destroy();\n            }\n            /**\n             * Init canvas\n             * @ignore\n             */\n\n          }, {\n            key: 'initCanvas',\n            value: function initCanvas() {\n              var _this16 = this;\n\n              var loadImageInfo = this._getLoadImage();\n\n              if (loadImageInfo.path) {\n                this._actions.main.initLoadImage(loadImageInfo.path, loadImageInfo.name).then(function () {\n                  _this16.activeMenuEvent();\n                });\n              }\n\n              this._addLoadEvent();\n\n              var gridVisual = document.createElement('div');\n              gridVisual.className = (0, _util.cls)('grid-visual');\n              var grid = '<table>\\n           <tr><td class=\"dot left-top\"></td><td></td><td class=\"dot right-top\"></td></tr>\\n           <tr><td></td><td></td><td></td></tr>\\n           <tr><td class=\"dot left-bottom\"></td><td></td><td class=\"dot right-bottom\"></td></tr>\\n         </table>';\n              gridVisual.innerHTML = grid;\n              this._editorContainerElement = this._editorElement.querySelector('.tui-image-editor-canvas-container');\n\n              this._editorContainerElement.appendChild(gridVisual);\n            }\n            /**\n             * get editor area element\n             * @returns {Object} load image option\n             * @private\n             */\n\n          }, {\n            key: '_getLoadImage',\n            value: function _getLoadImage() {\n              return this.options.loadImage;\n            }\n            /**\n             * change menu\n             * @param {string} menuName - menu name\n             * @param {boolean} toggle - whether toogle or not\n             * @param {boolean} discardSelection - discard selection\n             * @ignore\n             */\n\n          }, {\n            key: 'changeMenu',\n            value: function changeMenu(menuName) {\n              var toggle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n              var discardSelection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n              if (!this._submenuChangeTransection) {\n                this._submenuChangeTransection = true;\n\n                this._changeMenu(menuName, toggle, discardSelection);\n\n                this._submenuChangeTransection = false;\n              }\n            }\n            /**\n             * change menu\n             * @param {string} menuName - menu name\n             * @param {boolean} toggle - whether toggle or not\n             * @param {boolean} discardSelection - discard selection\n             * @private\n             */\n\n          }, {\n            key: '_changeMenu',\n            value: function _changeMenu(menuName, toggle, discardSelection) {\n              if (this.submenu) {\n                this._buttonElements[this.submenu].classList.remove('active');\n\n                this._mainElement.classList.remove('tui-image-editor-menu-' + this.submenu);\n\n                if (discardSelection) {\n                  this._actions.main.discardSelection();\n                }\n\n                this._actions.main.changeSelectableAll(true);\n\n                this[this.submenu].changeStandbyMode();\n              }\n\n              if (this.submenu === menuName && toggle) {\n                this.submenu = null;\n              } else {\n                this._buttonElements[menuName].classList.add('active');\n\n                this._mainElement.classList.add('tui-image-editor-menu-' + menuName);\n\n                this.submenu = menuName;\n                this[this.submenu].changeStartMode();\n              }\n\n              this.resizeEditor();\n            }\n            /**\n             * Init menu\n             * @private\n             */\n\n          }, {\n            key: '_initMenu',\n            value: function _initMenu() {\n              if (this.options.initMenu) {\n                var evt = document.createEvent('MouseEvents');\n                evt.initEvent('click', true, false);\n\n                this._buttonElements[this.options.initMenu].dispatchEvent(evt);\n              }\n\n              if (this.icon) {\n                this.icon.registerDefaultIcon();\n              }\n            }\n            /**\n             * Get canvas max Dimension\n             * @returns {Object} - width & height of editor\n             * @private\n             */\n\n          }, {\n            key: '_getCanvasMaxDimension',\n            value: function _getCanvasMaxDimension() {\n              var _editorContainerEleme = this._editorContainerElement.style,\n                  maxWidth = _editorContainerEleme.maxWidth,\n                  maxHeight = _editorContainerEleme.maxHeight;\n              var width = parseFloat(maxWidth);\n              var height = parseFloat(maxHeight);\n              return {\n                width: width,\n                height: height\n              };\n            }\n            /**\n             * Set editor position\n             * @param {string} menuBarPosition - top or right or bottom or left\n             * @private\n             */\n            // eslint-disable-next-line complexity\n\n          }, {\n            key: '_setEditorPosition',\n            value: function _setEditorPosition(menuBarPosition) {\n              var _getCanvasMaxDimensio2 = this._getCanvasMaxDimension(),\n                  width = _getCanvasMaxDimensio2.width,\n                  height = _getCanvasMaxDimensio2.height;\n\n              var editorElementStyle = this._editorElement.style;\n              var top = 0;\n              var left = 0;\n\n              if (this.submenu) {\n                if (menuBarPosition === 'bottom') {\n                  if (height > this._editorElementWrap.scrollHeight - 150) {\n                    top = (height - this._editorElementWrap.scrollHeight) / 2;\n                  } else {\n                    top = 150 / 2 * -1;\n                  }\n                } else if (menuBarPosition === 'top') {\n                  if (height > this._editorElementWrap.offsetHeight - 150) {\n                    top = 150 / 2 - (height - (this._editorElementWrap.offsetHeight - 150)) / 2;\n                  } else {\n                    top = 150 / 2;\n                  }\n                } else if (menuBarPosition === 'left') {\n                  if (width > this._editorElementWrap.offsetWidth - 248) {\n                    left = 248 / 2 - (width - (this._editorElementWrap.offsetWidth - 248)) / 2;\n                  } else {\n                    left = 248 / 2;\n                  }\n                } else if (menuBarPosition === 'right') {\n                  if (width > this._editorElementWrap.scrollWidth - 248) {\n                    left = (width - this._editorElementWrap.scrollWidth) / 2;\n                  } else {\n                    left = 248 / 2 * -1;\n                  }\n                }\n              }\n\n              editorElementStyle.top = top + 'px';\n              editorElementStyle.left = left + 'px';\n            }\n          }]);\n\n          return Ui;\n        }();\n\n        CustomEvents.mixin(Ui);\n        exports.default = Ui;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/crop.js\":\n      /*!***************************!*\\\n        !*** ./src/js/ui/crop.js ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _crop = __webpack_require__(\n        /*! @/ui/template/submenu/crop */\n        \"./src/js/ui/template/submenu/crop.js\");\n\n        var _crop2 = _interopRequireDefault(_crop);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * Crop ui class\n         * @class\n         * @ignore\n         */\n\n\n        var Crop = function (_Submenu) {\n          _inherits(Crop, _Submenu);\n\n          function Crop(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Crop);\n\n            var _this = _possibleConstructorReturn(this, (Crop.__proto__ || Object.getPrototypeOf(Crop)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'crop',\n              makeSvgIcon: makeSvgIcon,\n              menuBarPosition: menuBarPosition,\n              templateHtml: _crop2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this.status = 'active';\n            _this._els = {\n              apply: _this.selector('.tie-crop-button .apply'),\n              cancel: _this.selector('.tie-crop-button .cancel'),\n              preset: _this.selector('.tie-crop-preset-button')\n            };\n            _this.defaultPresetButton = _this._els.preset.querySelector('.preset-none');\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Crop, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Add event for crop\n             * @param {Object} actions - actions for crop\n             *   @param {Function} actions.crop - crop action\n             *   @param {Function} actions.cancel - cancel action\n             *   @param {Function} actions.preset - draw rectzone at a predefined ratio\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              var apply = this._applyEventHandler.bind(this);\n\n              var cancel = this._cancelEventHandler.bind(this);\n\n              var cropzonePreset = this._cropzonePresetEventHandler.bind(this);\n\n              this.eventHandler = {\n                apply: apply,\n                cancel: cancel,\n                cropzonePreset: cropzonePreset\n              };\n              this.actions = actions;\n\n              this._els.apply.addEventListener('click', apply);\n\n              this._els.cancel.addEventListener('click', cancel);\n\n              this._els.preset.addEventListener('click', cropzonePreset);\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              this._els.apply.removeEventListener('click', this.eventHandler.apply);\n\n              this._els.cancel.removeEventListener('click', this.eventHandler.cancel);\n\n              this._els.preset.removeEventListener('click', this.eventHandler.cropzonePreset);\n            }\n          }, {\n            key: '_applyEventHandler',\n            value: function _applyEventHandler() {\n              this.actions.crop();\n\n              this._els.apply.classList.remove('active');\n            }\n          }, {\n            key: '_cancelEventHandler',\n            value: function _cancelEventHandler() {\n              this.actions.cancel();\n\n              this._els.apply.classList.remove('active');\n            }\n          }, {\n            key: '_cropzonePresetEventHandler',\n            value: function _cropzonePresetEventHandler(event) {\n              var button = event.target.closest('.tui-image-editor-button.preset');\n\n              if (button) {\n                var _button$className$mat = button.className.match(/preset-[^\\s]+/),\n                    presetType = _button$className$mat[0];\n\n                this._setPresetButtonActive(button);\n\n                this.actions.preset(presetType);\n              }\n            }\n            /**\n             * Executed when the menu starts.\n             */\n\n          }, {\n            key: 'changeStartMode',\n            value: function changeStartMode() {\n              this.actions.modeChange('crop');\n            }\n            /**\n             * Returns the menu to its default state.\n             */\n\n          }, {\n            key: 'changeStandbyMode',\n            value: function changeStandbyMode() {\n              this.actions.stopDrawingMode();\n\n              this._setPresetButtonActive();\n            }\n            /**\n             * Change apply button status\n             * @param {Boolean} enableStatus - apply button status\n             */\n\n          }, {\n            key: 'changeApplyButtonStatus',\n            value: function changeApplyButtonStatus(enableStatus) {\n              if (enableStatus) {\n                this._els.apply.classList.add('active');\n              } else {\n                this._els.apply.classList.remove('active');\n              }\n            }\n            /**\n             * Set preset button to active status\n             * @param {HTMLElement} button - event target element\n             * @private\n             */\n\n          }, {\n            key: '_setPresetButtonActive',\n            value: function _setPresetButtonActive() {\n              var button = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.defaultPresetButton;\n\n              _tuiCodeSnippet2.default.forEach([].slice.call(this._els.preset.querySelectorAll('.preset')), function (presetButton) {\n                presetButton.classList.remove('active');\n              });\n\n              if (button) {\n                button.classList.add('active');\n              }\n            }\n          }]);\n\n          return Crop;\n        }(_submenuBase2.default);\n\n        exports.default = Crop;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/draw.js\":\n      /*!***************************!*\\\n        !*** ./src/js/ui/draw.js ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _colorpicker = __webpack_require__(\n        /*! @/ui/tools/colorpicker */\n        \"./src/js/ui/tools/colorpicker.js\");\n\n        var _colorpicker2 = _interopRequireDefault(_colorpicker);\n\n        var _range = __webpack_require__(\n        /*! @/ui/tools/range */\n        \"./src/js/ui/tools/range.js\");\n\n        var _range2 = _interopRequireDefault(_range);\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _draw = __webpack_require__(\n        /*! @/ui/template/submenu/draw */\n        \"./src/js/ui/template/submenu/draw.js\");\n\n        var _draw2 = _interopRequireDefault(_draw);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        var DRAW_OPACITY = 0.7;\n        /**\n         * Draw ui class\n         * @class\n         * @ignore\n         */\n\n        var Draw = function (_Submenu) {\n          _inherits(Draw, _Submenu);\n\n          function Draw(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Draw);\n\n            var _this = _possibleConstructorReturn(this, (Draw.__proto__ || Object.getPrototypeOf(Draw)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'draw',\n              makeSvgIcon: makeSvgIcon,\n              menuBarPosition: menuBarPosition,\n              templateHtml: _draw2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this._els = {\n              lineSelectButton: _this.selector('.tie-draw-line-select-button'),\n              drawColorPicker: new _colorpicker2.default(_this.selector('.tie-draw-color'), '#00a9ff', _this.toggleDirection, _this.usageStatistics),\n              drawRange: new _range2.default({\n                slider: _this.selector('.tie-draw-range'),\n                input: _this.selector('.tie-draw-range-value')\n              }, _consts.defaultDrawRangeValues)\n            };\n            _this.type = null;\n            _this.color = _this._els.drawColorPicker.color;\n            _this.width = _this._els.drawRange.value;\n            _this.colorPickerInputBox = _this._els.drawColorPicker.colorpickerElement.querySelector(_consts.selectorNames.COLOR_PICKER_INPUT_BOX);\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Draw, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              this._els.drawColorPicker.destroy();\n\n              this._els.drawRange.destroy();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Add event for draw\n             * @param {Object} actions - actions for crop\n             *   @param {Function} actions.setDrawMode - set draw mode\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              this.eventHandler.changeDrawType = this._changeDrawType.bind(this);\n              this.actions = actions;\n\n              this._els.lineSelectButton.addEventListener('click', this.eventHandler.changeDrawType);\n\n              this._els.drawColorPicker.on('change', this._changeDrawColor.bind(this));\n\n              this._els.drawRange.on('change', this._changeDrawRange.bind(this));\n\n              this.colorPickerInputBox.addEventListener(_consts.eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n              this.colorPickerInputBox.addEventListener(_consts.eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              this._els.lineSelectButton.removeEventListener('click', this.eventHandler.changeDrawType);\n\n              this._els.drawColorPicker.off();\n\n              this._els.drawRange.off();\n\n              this.colorPickerInputBox.removeEventListener(_consts.eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n              this.colorPickerInputBox.removeEventListener(_consts.eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n            }\n            /**\n             * set draw mode - action runner\n             */\n\n          }, {\n            key: 'setDrawMode',\n            value: function setDrawMode() {\n              this.actions.setDrawMode(this.type, {\n                width: this.width,\n                color: (0, _util.getRgb)(this.color, DRAW_OPACITY)\n              });\n            }\n            /**\n             * Returns the menu to its default state.\n             */\n\n          }, {\n            key: 'changeStandbyMode',\n            value: function changeStandbyMode() {\n              this.type = null;\n              this.actions.stopDrawingMode();\n              this.actions.changeSelectableAll(true);\n\n              this._els.lineSelectButton.classList.remove('free');\n\n              this._els.lineSelectButton.classList.remove('line');\n            }\n            /**\n             * Executed when the menu starts.\n             */\n\n          }, {\n            key: 'changeStartMode',\n            value: function changeStartMode() {\n              this.type = 'free';\n\n              this._els.lineSelectButton.classList.add('free');\n\n              this.setDrawMode();\n            }\n            /**\n             * Change draw type event\n             * @param {object} event - line select event\n             * @private\n             */\n\n          }, {\n            key: '_changeDrawType',\n            value: function _changeDrawType(event) {\n              var button = event.target.closest('.tui-image-editor-button');\n\n              if (button) {\n                var lineType = this.getButtonType(button, ['free', 'line']);\n                this.actions.discardSelection();\n\n                if (this.type === lineType) {\n                  this.changeStandbyMode();\n                  return;\n                }\n\n                this.changeStandbyMode();\n                this.type = lineType;\n\n                this._els.lineSelectButton.classList.add(lineType);\n\n                this.setDrawMode();\n              }\n            }\n            /**\n             * Change drawing color\n             * @param {string} color - select drawing color\n             * @private\n             */\n\n          }, {\n            key: '_changeDrawColor',\n            value: function _changeDrawColor(color) {\n              this.color = color || 'transparent';\n\n              if (!this.type) {\n                this.changeStartMode();\n              } else {\n                this.setDrawMode();\n              }\n            }\n            /**\n             * Change drawing Range\n             * @param {number} value - select drawing range\n             * @private\n             */\n\n          }, {\n            key: '_changeDrawRange',\n            value: function _changeDrawRange(value) {\n              this.width = value;\n\n              if (!this.type) {\n                this.changeStartMode();\n              } else {\n                this.setDrawMode();\n              }\n            }\n          }]);\n\n          return Draw;\n        }(_submenuBase2.default);\n\n        exports.default = Draw;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/filter.js\":\n      /*!*****************************!*\\\n        !*** ./src/js/ui/filter.js ***!\n        \\*****************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _colorpicker = __webpack_require__(\n        /*! @/ui/tools/colorpicker */\n        \"./src/js/ui/tools/colorpicker.js\");\n\n        var _colorpicker2 = _interopRequireDefault(_colorpicker);\n\n        var _range = __webpack_require__(\n        /*! @/ui/tools/range */\n        \"./src/js/ui/tools/range.js\");\n\n        var _range2 = _interopRequireDefault(_range);\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _filter = __webpack_require__(\n        /*! @/ui/template/submenu/filter */\n        \"./src/js/ui/template/submenu/filter.js\");\n\n        var _filter2 = _interopRequireDefault(_filter);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        var PICKER_CONTROL_HEIGHT = '130px';\n        var BLEND_OPTIONS = ['add', 'diff', 'subtract', 'multiply', 'screen', 'lighten', 'darken'];\n        var FILTER_OPTIONS = ['grayscale', 'invert', 'sepia', 'vintage', 'blur', 'sharpen', 'emboss', 'remove-white', 'brightness', 'noise', 'pixelate', 'color-filter', 'tint', 'multiply', 'blend'];\n        var filterNameMap = {\n          grayscale: 'grayscale',\n          invert: 'invert',\n          sepia: 'sepia',\n          blur: 'blur',\n          sharpen: 'sharpen',\n          emboss: 'emboss',\n          removeWhite: 'removeColor',\n          brightness: 'brightness',\n          contrast: 'contrast',\n          saturation: 'saturation',\n          vintage: 'vintage',\n          polaroid: 'polaroid',\n          noise: 'noise',\n          pixelate: 'pixelate',\n          colorFilter: 'removeColor',\n          tint: 'blendColor',\n          multiply: 'blendColor',\n          blend: 'blendColor',\n          hue: 'hue',\n          gamma: 'gamma'\n        };\n        var RANGE_INSTANCE_NAMES = ['removewhiteDistanceRange', 'colorfilterThresholdRange', 'pixelateRange', 'noiseRange', 'brightnessRange', 'tintOpacity'];\n        var COLORPICKER_INSTANCE_NAMES = ['filterBlendColor', 'filterMultiplyColor', 'filterTintColor'];\n        /**\n         * Filter ui class\n         * @class\n         * @ignore\n         */\n\n        var Filter = function (_Submenu) {\n          _inherits(Filter, _Submenu);\n\n          function Filter(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Filter);\n\n            var _this = _possibleConstructorReturn(this, (Filter.__proto__ || Object.getPrototypeOf(Filter)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'filter',\n              menuBarPosition: menuBarPosition,\n              templateHtml: _filter2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this.selectBoxShow = false;\n            _this.checkedMap = {};\n\n            _this._makeControlElement();\n\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Filter, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              this._destroyToolInstance();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Remove event for filter\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              var _this2 = this;\n\n              _tuiCodeSnippet2.default.forEach(FILTER_OPTIONS, function (filter) {\n                var filterCheckElement = _this2.selector('.tie-' + filter);\n\n                var filterNameCamelCase = (0, _util.toCamelCase)(filter);\n                filterCheckElement.removeEventListener('change', _this2.eventHandler[filterNameCamelCase]);\n              });\n\n              _tuiCodeSnippet2.default.forEach([].concat(RANGE_INSTANCE_NAMES, COLORPICKER_INSTANCE_NAMES), function (instanceName) {\n                _this2._els[instanceName].off();\n              });\n\n              this._els.blendType.removeEventListener('change', this.eventHandler.changeBlendFilter);\n\n              this._els.blendType.removeEventListener('click', this.eventHandler.changeBlendFilter);\n\n              _tuiCodeSnippet2.default.forEachArray(this.colorPickerInputBoxes, function (inputBox) {\n                inputBox.removeEventListener(_consts.eventNames.FOCUS, _this2._onStartEditingInputBox.bind(_this2));\n                inputBox.removeEventListener(_consts.eventNames.BLUR, _this2._onStopEditingInputBox.bind(_this2));\n              }, this);\n            }\n          }, {\n            key: '_destroyToolInstance',\n            value: function _destroyToolInstance() {\n              var _this3 = this;\n\n              _tuiCodeSnippet2.default.forEach([].concat(RANGE_INSTANCE_NAMES, COLORPICKER_INSTANCE_NAMES), function (instanceName) {\n                _this3._els[instanceName].destroy();\n              });\n            }\n            /**\n             * Add event for filter\n             * @param {Object} actions - actions for crop\n             *   @param {Function} actions.applyFilter - apply filter option\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(_ref2) {\n              var _this4 = this;\n\n              var applyFilter = _ref2.applyFilter;\n\n              var changeFilterState = function changeFilterState(filterName) {\n                return _this4._changeFilterState.bind(_this4, applyFilter, filterName);\n              };\n\n              var changeFilterStateForRange = function changeFilterStateForRange(filterName) {\n                return function (value, isLast) {\n                  return _this4._changeFilterState(applyFilter, filterName, isLast);\n                };\n              };\n\n              this.eventHandler = {\n                changeBlendFilter: changeFilterState('blend'),\n                blandTypeClick: function blandTypeClick(event) {\n                  return event.stopPropagation();\n                }\n              };\n\n              _tuiCodeSnippet2.default.forEach(FILTER_OPTIONS, function (filter) {\n                var filterCheckElement = _this4.selector('.tie-' + filter);\n\n                var filterNameCamelCase = (0, _util.toCamelCase)(filter);\n                _this4.checkedMap[filterNameCamelCase] = filterCheckElement;\n                _this4.eventHandler[filterNameCamelCase] = changeFilterState(filterNameCamelCase);\n                filterCheckElement.addEventListener('change', _this4.eventHandler[filterNameCamelCase]);\n              });\n\n              this._els.removewhiteDistanceRange.on('change', changeFilterStateForRange('removeWhite'));\n\n              this._els.colorfilterThresholdRange.on('change', changeFilterStateForRange('colorFilter'));\n\n              this._els.pixelateRange.on('change', changeFilterStateForRange('pixelate'));\n\n              this._els.noiseRange.on('change', changeFilterStateForRange('noise'));\n\n              this._els.brightnessRange.on('change', changeFilterStateForRange('brightness'));\n\n              this._els.filterBlendColor.on('change', this.eventHandler.changeBlendFilter);\n\n              this._els.filterMultiplyColor.on('change', changeFilterState('multiply'));\n\n              this._els.filterTintColor.on('change', changeFilterState('tint'));\n\n              this._els.tintOpacity.on('change', changeFilterStateForRange('tint'));\n\n              this._els.filterMultiplyColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n              this._els.filterTintColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n              this._els.filterBlendColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n              this._els.blendType.addEventListener('change', this.eventHandler.changeBlendFilter);\n\n              this._els.blendType.addEventListener('click', this.eventHandler.blandTypeClick);\n\n              _tuiCodeSnippet2.default.forEachArray(this.colorPickerInputBoxes, function (inputBox) {\n                inputBox.addEventListener(_consts.eventNames.FOCUS, _this4._onStartEditingInputBox.bind(_this4));\n                inputBox.addEventListener(_consts.eventNames.BLUR, _this4._onStopEditingInputBox.bind(_this4));\n              }, this);\n            }\n            /**\n             * Set filter for undo changed\n             * @param {Object} changedFilterInfos - changed command infos\n             *   @param {string} type - filter type\n             *   @param {string} action - add or remove\n             *   @param {Object} options - filter options\n             */\n\n          }, {\n            key: 'setFilterState',\n            value: function setFilterState(changedFilterInfos) {\n              var type = changedFilterInfos.type,\n                  options = changedFilterInfos.options,\n                  action = changedFilterInfos.action;\n\n              var filterName = this._getFilterNameFromOptions(type, options);\n\n              var isRemove = action === 'remove';\n\n              if (!isRemove) {\n                this._setFilterState(filterName, options);\n              }\n\n              this.checkedMap[filterName].checked = !isRemove;\n            }\n            /**\n             * Init all filter's checkbox to unchecked state\n             */\n\n          }, {\n            key: 'initFilterCheckBoxState',\n            value: function initFilterCheckBoxState() {\n              _tuiCodeSnippet2.default.forEach(this.checkedMap, function (filter) {\n                filter.checked = false;\n              }, this);\n            }\n            /**\n             * Set filter for undo changed\n             * @param {string} filterName - filter name\n             * @param {Object} options - filter options\n             * @private\n             */\n            // eslint-disable-next-line complexity\n\n          }, {\n            key: '_setFilterState',\n            value: function _setFilterState(filterName, options) {\n              if (filterName === 'colorFilter') {\n                this._els.colorfilterThresholdRange.value = options.distance;\n              } else if (filterName === 'removeWhite') {\n                this._els.removewhiteDistanceRange.value = options.distance;\n              } else if (filterName === 'pixelate') {\n                this._els.pixelateRange.value = options.blocksize;\n              } else if (filterName === 'brightness') {\n                this._els.brightnessRange.value = options.brightness;\n              } else if (filterName === 'noise') {\n                this._els.noiseRange.value = options.noise;\n              } else if (filterName === 'tint') {\n                this._els.tintOpacity.value = options.alpha;\n                this._els.filterTintColor.color = options.color;\n              } else if (filterName === 'blend') {\n                this._els.filterBlendColor.color = options.color;\n              } else if (filterName === 'multiply') {\n                this._els.filterMultiplyColor.color = options.color;\n              }\n            }\n            /**\n             * Get filter name\n             * @param {string} type - filter type\n             * @param {Object} options - filter options\n             * @returns {string} filter name\n             * @private\n             */\n\n          }, {\n            key: '_getFilterNameFromOptions',\n            value: function _getFilterNameFromOptions(type, options) {\n              var filterName = type;\n\n              if (type === 'removeColor') {\n                filterName = _tuiCodeSnippet2.default.isExisty(options.useAlpha) ? 'removeWhite' : 'colorFilter';\n              } else if (type === 'blendColor') {\n                filterName = {\n                  add: 'blend',\n                  multiply: 'multiply',\n                  tint: 'tint'\n                }[options.mode];\n              }\n\n              return filterName;\n            }\n            /**\n             * Add event for filter\n             * @param {Function} applyFilter - actions for firter\n             * @param {string} filterName - filter name\n             * @param {boolean} [isLast] - Is last change\n             */\n\n          }, {\n            key: '_changeFilterState',\n            value: function _changeFilterState(applyFilter, filterName) {\n              var isLast = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n              var apply = this.checkedMap[filterName].checked;\n              var type = filterNameMap[filterName];\n              var checkboxGroup = this.checkedMap[filterName].closest('.tui-image-editor-checkbox-group');\n\n              if (checkboxGroup) {\n                if (apply) {\n                  checkboxGroup.classList.remove('tui-image-editor-disabled');\n                } else {\n                  checkboxGroup.classList.add('tui-image-editor-disabled');\n                }\n              }\n\n              applyFilter(apply, type, this._getFilterOption(filterName), !isLast);\n            }\n            /**\n             * Get filter option\n             * @param {String} type - filter type\n             * @returns {Object} filter option object\n             * @private\n             */\n            // eslint-disable-next-line complexity\n\n          }, {\n            key: '_getFilterOption',\n            value: function _getFilterOption(type) {\n              var option = {};\n\n              switch (type) {\n                case 'removeWhite':\n                  option.color = '#FFFFFF';\n                  option.useAlpha = false;\n                  option.distance = parseFloat(this._els.removewhiteDistanceRange.value);\n                  break;\n\n                case 'colorFilter':\n                  option.color = '#FFFFFF';\n                  option.distance = parseFloat(this._els.colorfilterThresholdRange.value);\n                  break;\n\n                case 'pixelate':\n                  option.blocksize = (0, _util.toInteger)(this._els.pixelateRange.value);\n                  break;\n\n                case 'noise':\n                  option.noise = (0, _util.toInteger)(this._els.noiseRange.value);\n                  break;\n\n                case 'brightness':\n                  option.brightness = parseFloat(this._els.brightnessRange.value);\n                  break;\n\n                case 'blend':\n                  option.mode = 'add';\n                  option.color = this._els.filterBlendColor.color;\n                  option.mode = this._els.blendType.value;\n                  break;\n\n                case 'multiply':\n                  option.mode = 'multiply';\n                  option.color = this._els.filterMultiplyColor.color;\n                  break;\n\n                case 'tint':\n                  option.mode = 'tint';\n                  option.color = this._els.filterTintColor.color;\n                  option.alpha = this._els.tintOpacity.value;\n                  break;\n\n                case 'blur':\n                  option.blur = this._els.blurRange.value;\n                  break;\n\n                default:\n                  break;\n              }\n\n              return option;\n            }\n            /**\n             * Make submenu range and colorpicker control\n             * @private\n             */\n\n          }, {\n            key: '_makeControlElement',\n            value: function _makeControlElement() {\n              this._els = {\n                removewhiteDistanceRange: new _range2.default({\n                  slider: this.selector('.tie-removewhite-distance-range')\n                }, _consts.defaultFilterRangeValues.removewhiteDistanceRange),\n                brightnessRange: new _range2.default({\n                  slider: this.selector('.tie-brightness-range')\n                }, _consts.defaultFilterRangeValues.brightnessRange),\n                noiseRange: new _range2.default({\n                  slider: this.selector('.tie-noise-range')\n                }, _consts.defaultFilterRangeValues.noiseRange),\n                pixelateRange: new _range2.default({\n                  slider: this.selector('.tie-pixelate-range')\n                }, _consts.defaultFilterRangeValues.pixelateRange),\n                colorfilterThresholdRange: new _range2.default({\n                  slider: this.selector('.tie-colorfilter-threshold-range')\n                }, _consts.defaultFilterRangeValues.colorfilterThresholdRange),\n                filterTintColor: new _colorpicker2.default(this.selector('.tie-filter-tint-color'), '#03bd9e', this.toggleDirection, this.usageStatistics),\n                filterMultiplyColor: new _colorpicker2.default(this.selector('.tie-filter-multiply-color'), '#515ce6', this.toggleDirection, this.usageStatistics),\n                filterBlendColor: new _colorpicker2.default(this.selector('.tie-filter-blend-color'), '#ffbb3b', this.toggleDirection, this.usageStatistics),\n                blurRange: _consts.defaultFilterRangeValues.blurFilterRange\n              };\n              this._els.tintOpacity = this._pickerWithRange(this._els.filterTintColor.pickerControl);\n              this._els.blendType = this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl);\n              this.colorPickerControls.push(this._els.filterTintColor);\n              this.colorPickerControls.push(this._els.filterMultiplyColor);\n              this.colorPickerControls.push(this._els.filterBlendColor);\n              this.colorPickerInputBoxes = [];\n              this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(_consts.selectorNames.COLOR_PICKER_INPUT_BOX));\n              this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(_consts.selectorNames.COLOR_PICKER_INPUT_BOX));\n              this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(_consts.selectorNames.COLOR_PICKER_INPUT_BOX));\n            }\n            /**\n             * Make submenu control for picker & range mixin\n             * @param {HTMLElement} pickerControl - pickerControl dom element\n             * @returns {Range}\n             * @private\n             */\n\n          }, {\n            key: '_pickerWithRange',\n            value: function _pickerWithRange(pickerControl) {\n              var rangeWrap = document.createElement('div');\n              var rangeLabel = document.createElement('label');\n              var slider = document.createElement('div');\n              slider.id = 'tie-filter-tint-opacity';\n              rangeLabel.innerHTML = 'Opacity';\n              rangeWrap.appendChild(rangeLabel);\n              rangeWrap.appendChild(slider);\n              pickerControl.appendChild(rangeWrap);\n              pickerControl.style.height = PICKER_CONTROL_HEIGHT;\n              return new _range2.default({\n                slider: slider\n              }, _consts.defaultFilterRangeValues.tintOpacityRange);\n            }\n            /**\n             * Make submenu control for picker & selectbox\n             * @param {HTMLElement} pickerControl - pickerControl dom element\n             * @returns {HTMLElement}\n             * @private\n             */\n\n          }, {\n            key: '_pickerWithSelectbox',\n            value: function _pickerWithSelectbox(pickerControl) {\n              var selectlistWrap = document.createElement('div');\n              var selectlist = document.createElement('select');\n              var optionlist = document.createElement('ul');\n              selectlistWrap.className = 'tui-image-editor-selectlist-wrap';\n              optionlist.className = 'tui-image-editor-selectlist';\n              selectlistWrap.appendChild(selectlist);\n              selectlistWrap.appendChild(optionlist);\n\n              this._makeSelectOptionList(selectlist);\n\n              pickerControl.appendChild(selectlistWrap);\n              pickerControl.style.height = PICKER_CONTROL_HEIGHT;\n\n              this._drawSelectOptionList(selectlist, optionlist);\n\n              this._pickerWithSelectboxForAddEvent(selectlist, optionlist);\n\n              return selectlist;\n            }\n            /**\n             * Make selectbox option list custom style\n             * @param {HTMLElement} selectlist - selectbox element\n             * @param {HTMLElement} optionlist - custom option list item element\n             * @private\n             */\n\n          }, {\n            key: '_drawSelectOptionList',\n            value: function _drawSelectOptionList(selectlist, optionlist) {\n              var options = selectlist.querySelectorAll('option');\n\n              _tuiCodeSnippet2.default.forEach(options, function (option) {\n                var optionElement = document.createElement('li');\n                optionElement.innerHTML = option.innerHTML;\n                optionElement.setAttribute('data-item', option.value);\n                optionlist.appendChild(optionElement);\n              });\n            }\n            /**\n             * custom selectbox custom event\n             * @param {HTMLElement} selectlist - selectbox element\n             * @param {HTMLElement} optionlist - custom option list item element\n             * @private\n             */\n\n          }, {\n            key: '_pickerWithSelectboxForAddEvent',\n            value: function _pickerWithSelectboxForAddEvent(selectlist, optionlist) {\n              var _this5 = this;\n\n              optionlist.addEventListener('click', function (event) {\n                var optionValue = event.target.getAttribute('data-item');\n                var fireEvent = document.createEvent('HTMLEvents');\n                selectlist.querySelector('[value=\"' + optionValue + '\"]').selected = true;\n                fireEvent.initEvent('change', true, true);\n                selectlist.dispatchEvent(fireEvent);\n                _this5.selectBoxShow = false;\n                optionlist.style.display = 'none';\n              });\n              selectlist.addEventListener('mousedown', function (event) {\n                event.preventDefault();\n                _this5.selectBoxShow = !_this5.selectBoxShow;\n                optionlist.style.display = _this5.selectBoxShow ? 'block' : 'none';\n                optionlist.setAttribute('data-selectitem', selectlist.value);\n                optionlist.querySelector('[data-item=\\'' + selectlist.value + '\\']').classList.add('active');\n              });\n            }\n            /**\n             * Make option list for select control\n             * @param {HTMLElement} selectlist - blend option select list element\n             * @private\n             */\n\n          }, {\n            key: '_makeSelectOptionList',\n            value: function _makeSelectOptionList(selectlist) {\n              _tuiCodeSnippet2.default.forEach(BLEND_OPTIONS, function (option) {\n                var selectOption = document.createElement('option');\n                selectOption.setAttribute('value', option);\n                selectOption.innerHTML = option.replace(/^[a-z]/, function ($0) {\n                  return $0.toUpperCase();\n                });\n                selectlist.appendChild(selectOption);\n              });\n            }\n          }]);\n\n          return Filter;\n        }(_submenuBase2.default);\n\n        exports.default = Filter;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/flip.js\":\n      /*!***************************!*\\\n        !*** ./src/js/ui/flip.js ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _flip = __webpack_require__(\n        /*! @/ui/template/submenu/flip */\n        \"./src/js/ui/template/submenu/flip.js\");\n\n        var _flip2 = _interopRequireDefault(_flip);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * Flip ui class\n         * @class\n         * @ignore\n         */\n\n\n        var Flip = function (_Submenu) {\n          _inherits(Flip, _Submenu);\n\n          function Flip(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Flip);\n\n            var _this = _possibleConstructorReturn(this, (Flip.__proto__ || Object.getPrototypeOf(Flip)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'flip',\n              makeSvgIcon: makeSvgIcon,\n              menuBarPosition: menuBarPosition,\n              templateHtml: _flip2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this.flipStatus = false;\n            _this._els = {\n              flipButton: _this.selector('.tie-flip-button')\n            };\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Flip, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Add event for flip\n             * @param {Object} actions - actions for flip\n             *   @param {Function} actions.flip - flip action\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              this.eventHandler.changeFlip = this._changeFlip.bind(this);\n              this._actions = actions;\n\n              this._els.flipButton.addEventListener('click', this.eventHandler.changeFlip);\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              this._els.flipButton.removeEventListener('click', this.eventHandler.changeFlip);\n            }\n            /**\n             * change Flip status\n             * @param {object} event - change event\n             * @private\n             */\n\n          }, {\n            key: '_changeFlip',\n            value: function _changeFlip(event) {\n              var _this2 = this;\n\n              var button = event.target.closest('.tui-image-editor-button');\n\n              if (button) {\n                var flipType = this.getButtonType(button, ['flipX', 'flipY', 'resetFlip']);\n\n                if (!this.flipStatus && flipType === 'resetFlip') {\n                  return;\n                }\n\n                this._actions.flip(flipType).then(function (flipStatus) {\n                  var flipClassList = _this2._els.flipButton.classList;\n                  _this2.flipStatus = false;\n                  flipClassList.remove('resetFlip');\n\n                  _tuiCodeSnippet2.default.forEach(['flipX', 'flipY'], function (type) {\n                    flipClassList.remove(type);\n\n                    if (flipStatus[type]) {\n                      flipClassList.add(type);\n                      flipClassList.add('resetFlip');\n                      _this2.flipStatus = true;\n                    }\n                  });\n                });\n              }\n            }\n          }]);\n\n          return Flip;\n        }(_submenuBase2.default);\n\n        exports.default = Flip;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/history.js\":\n      /*!******************************!*\\\n        !*** ./src/js/ui/history.js ***!\n        \\******************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _panelMenu = __webpack_require__(\n        /*! @/ui/panelMenu */\n        \"./src/js/ui/panelMenu.js\");\n\n        var _panelMenu2 = _interopRequireDefault(_panelMenu);\n\n        var _history = __webpack_require__(\n        /*! @/ui/template/submenu/history */\n        \"./src/js/ui/template/submenu/history.js\");\n\n        var _history2 = _interopRequireDefault(_history);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        var historyClassName = 'history-item';\n        var selectedClassName = 'selected-item';\n        var disabledClassName = 'disabled-item';\n        /**\n         * History ui class\n         * @class\n         * @ignore\n         */\n\n        var History = function (_Panel) {\n          _inherits(History, _Panel);\n\n          function History(menuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon;\n\n            _classCallCheck(this, History);\n\n            var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, menuElement, {\n              name: 'history'\n            }));\n\n            menuElement.classList.add('enabled');\n            _this.locale = locale;\n            _this.makeSvgIcon = makeSvgIcon;\n            _this._eventHandler = {};\n            _this._historyIndex = _this.getListLength();\n            return _this;\n          }\n          /**\n           * Add history\n           * @param {string} name - name of history\n           * @param {?string} detail - detail information of history\n           */\n\n\n          _createClass(History, [{\n            key: 'add',\n            value: function add(_ref2) {\n              var name = _ref2.name,\n                  detail = _ref2.detail;\n\n              if (this._hasDisabledItem()) {\n                this.deleteListItemElement(this._historyIndex + 1, this.getListLength());\n              }\n\n              var html = (0, _history2.default)({\n                locale: this.locale,\n                makeSvgIcon: this.makeSvgIcon,\n                name: name,\n                detail: detail\n              });\n              var item = this.makeListItemElement(html);\n              this.pushListItemElement(item);\n              this._historyIndex = this.getListLength() - 1;\n\n              this._selectItem(this._historyIndex);\n            }\n            /**\n             * Init history\n             */\n\n          }, {\n            key: 'init',\n            value: function init() {\n              this.deleteListItemElement(1, this.getListLength());\n              this._historyIndex = 0;\n\n              this._selectItem(this._historyIndex);\n            }\n            /**\n             * Clear history\n             */\n\n          }, {\n            key: 'clear',\n            value: function clear() {\n              this.deleteListItemElement(0, this.getListLength());\n              this._historyIndex = -1;\n            }\n            /**\n             * Select previous history of current selected history\n             */\n\n          }, {\n            key: 'prev',\n            value: function prev() {\n              this._historyIndex -= 1;\n\n              this._selectItem(this._historyIndex);\n            }\n            /**\n             * Select next history of current selected history\n             */\n\n          }, {\n            key: 'next',\n            value: function next() {\n              this._historyIndex += 1;\n\n              this._selectItem(this._historyIndex);\n            }\n            /**\n             * Whether history menu has disabled item\n             * @returns {boolean}\n             */\n\n          }, {\n            key: '_hasDisabledItem',\n            value: function _hasDisabledItem() {\n              return this.getListLength() - 1 > this._historyIndex;\n            }\n            /**\n             * Add history menu event\n             * @private\n             */\n\n          }, {\n            key: '_addHistoryEventListener',\n            value: function _addHistoryEventListener() {\n              var _this2 = this;\n\n              this._eventHandler.history = function (event) {\n                return _this2._clickHistoryItem(event);\n              };\n\n              this.listElement.addEventListener('click', this._eventHandler.history);\n            }\n            /**\n             * Remove history menu event\n             * @private\n             */\n\n          }, {\n            key: '_removeHistoryEventListener',\n            value: function _removeHistoryEventListener() {\n              this.listElement.removeEventListener('click', this._eventHandler.history);\n            }\n            /**\n             * onClick history menu event listener\n             * @param {object} event - event object\n             * @private\n             */\n\n          }, {\n            key: '_clickHistoryItem',\n            value: function _clickHistoryItem(event) {\n              var target = event.target;\n              var item = target.closest('.' + historyClassName);\n\n              if (!item) {\n                return;\n              }\n\n              var index = Number.parseInt(item.getAttribute('data-index'), 10);\n\n              if (index !== this._historyIndex) {\n                var count = Math.abs(index - this._historyIndex);\n\n                if (index < this._historyIndex) {\n                  this._actions.undo(count);\n                } else {\n                  this._actions.redo(count);\n                }\n              }\n            }\n            /**\n             * Change item's state to selected state\n             * @param {number} index - index of selected item\n             */\n\n          }, {\n            key: '_selectItem',\n            value: function _selectItem(index) {\n              for (var i = 0; i < this.getListLength(); i += 1) {\n                this.removeClass(i, selectedClassName);\n                this.removeClass(i, disabledClassName);\n\n                if (i > index) {\n                  this.addClass(i, disabledClassName);\n                }\n              }\n\n              this.addClass(index, selectedClassName);\n            }\n            /**\n             * Destroys the instance.\n             */\n\n          }, {\n            key: 'destroy',\n            value: function destroy() {\n              this.removeEvent();\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Add event for history\n             * @param {Object} actions - actions for crop\n             *   @param {Function} actions.undo - undo action\n             *   @param {Function} actions.redo - redo action\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              this._actions = actions;\n\n              this._addHistoryEventListener();\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: 'removeEvent',\n            value: function removeEvent() {\n              this._removeHistoryEventListener();\n            }\n          }]);\n\n          return History;\n        }(_panelMenu2.default);\n\n        exports.default = History;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/icon.js\":\n      /*!***************************!*\\\n        !*** ./src/js/ui/icon.js ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _colorpicker = __webpack_require__(\n        /*! @/ui/tools/colorpicker */\n        \"./src/js/ui/tools/colorpicker.js\");\n\n        var _colorpicker2 = _interopRequireDefault(_colorpicker);\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _icon = __webpack_require__(\n        /*! @/ui/template/submenu/icon */\n        \"./src/js/ui/template/submenu/icon.js\");\n\n        var _icon2 = _interopRequireDefault(_icon);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * Icon ui class\n         * @class\n         * @ignore\n         */\n\n\n        var Icon = function (_Submenu) {\n          _inherits(Icon, _Submenu);\n\n          function Icon(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Icon);\n\n            var _this = _possibleConstructorReturn(this, (Icon.__proto__ || Object.getPrototypeOf(Icon)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'icon',\n              makeSvgIcon: makeSvgIcon,\n              menuBarPosition: menuBarPosition,\n              templateHtml: _icon2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this.iconType = null;\n            _this._iconMap = {};\n            _this._els = {\n              registerIconButton: _this.selector('.tie-icon-image-file'),\n              addIconButton: _this.selector('.tie-icon-add-button'),\n              iconColorpicker: new _colorpicker2.default(_this.selector('.tie-icon-color'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics)\n            };\n            _this.colorPickerInputBox = _this._els.iconColorpicker.colorpickerElement.querySelector(_consts.selectorNames.COLOR_PICKER_INPUT_BOX);\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Icon, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              this._els.iconColorpicker.destroy();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Add event for icon\n             * @param {Object} actions - actions for icon\n             *   @param {Function} actions.registerCustomIcon - register icon\n             *   @param {Function} actions.addIcon - add icon\n             *   @param {Function} actions.changeColor - change icon color\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              var registerIcon = this._registerIconHandler.bind(this);\n\n              var addIcon = this._addIconHandler.bind(this);\n\n              this.eventHandler = {\n                registerIcon: registerIcon,\n                addIcon: addIcon\n              };\n              this.actions = actions;\n\n              this._els.iconColorpicker.on('change', this._changeColorHandler.bind(this));\n\n              this._els.registerIconButton.addEventListener('change', registerIcon);\n\n              this._els.addIconButton.addEventListener('click', addIcon);\n\n              this.colorPickerInputBox.addEventListener(_consts.eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n              this.colorPickerInputBox.addEventListener(_consts.eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              this._els.iconColorpicker.off();\n\n              this._els.registerIconButton.removeEventListener('change', this.eventHandler.registerIcon);\n\n              this._els.addIconButton.removeEventListener('click', this.eventHandler.addIcon);\n\n              this.colorPickerInputBox.removeEventListener(_consts.eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n              this.colorPickerInputBox.removeEventListener(_consts.eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n            }\n            /**\n             * Clear icon type\n             */\n\n          }, {\n            key: 'clearIconType',\n            value: function clearIconType() {\n              this._els.addIconButton.classList.remove(this.iconType);\n\n              this.iconType = null;\n            }\n            /**\n             * Register default icon\n             */\n\n          }, {\n            key: 'registerDefaultIcon',\n            value: function registerDefaultIcon() {\n              var _this2 = this;\n\n              _tuiCodeSnippet2.default.forEach(_consts.defaultIconPath, function (path, type) {\n                _this2.actions.registerDefaultIcons(type, path);\n              });\n            }\n            /**\n             * Set icon picker color\n             * @param {string} iconColor - rgb color string\n             */\n\n          }, {\n            key: 'setIconPickerColor',\n            value: function setIconPickerColor(iconColor) {\n              this._els.iconColorpicker.color = iconColor;\n            }\n            /**\n             * Returns the menu to its default state.\n             */\n\n          }, {\n            key: 'changeStandbyMode',\n            value: function changeStandbyMode() {\n              this.clearIconType();\n              this.actions.cancelAddIcon();\n            }\n            /**\n             * Change icon color\n             * @param {string} color - color for change\n             * @private\n             */\n\n          }, {\n            key: '_changeColorHandler',\n            value: function _changeColorHandler(color) {\n              color = color || 'transparent';\n              this.actions.changeColor(color);\n            }\n            /**\n             * Change icon color\n             * @param {object} event - add button event object\n             * @private\n             */\n\n          }, {\n            key: '_addIconHandler',\n            value: function _addIconHandler(event) {\n              var button = event.target.closest('.tui-image-editor-button');\n\n              if (button) {\n                var iconType = button.getAttribute('data-icontype');\n                var iconColor = this._els.iconColorpicker.color;\n                this.actions.discardSelection();\n                this.actions.changeSelectableAll(false);\n\n                this._els.addIconButton.classList.remove(this.iconType);\n\n                this._els.addIconButton.classList.add(iconType);\n\n                if (this.iconType === iconType) {\n                  this.changeStandbyMode();\n                } else {\n                  this.actions.addIcon(iconType, iconColor);\n                  this.iconType = iconType;\n                }\n              }\n            }\n            /**\n             * register icon\n             * @param {object} event - file change event object\n             * @private\n             */\n\n          }, {\n            key: '_registerIconHandler',\n            value: function _registerIconHandler(event) {\n              var imgUrl = void 0;\n\n              if (!_util.isSupportFileApi) {\n                alert('This browser does not support file-api');\n              }\n\n              var _event$target$files = event.target.files,\n                  file = _event$target$files[0];\n\n              if (file) {\n                imgUrl = URL.createObjectURL(file);\n                this.actions.registerCustomIcon(imgUrl, file);\n              }\n            }\n          }]);\n\n          return Icon;\n        }(_submenuBase2.default);\n\n        exports.default = Icon;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/locale/locale.js\":\n      /*!************************************!*\\\n        !*** ./src/js/ui/locale/locale.js ***!\n        \\************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        /**\n         * Translate messages\n         */\n\n\n        var Locale = function () {\n          function Locale(locale) {\n            _classCallCheck(this, Locale);\n\n            this._locale = locale;\n          }\n          /**\n           * localize message\n           * @param {string} message - message who will be localized\n           * @returns {string}\n           */\n\n\n          _createClass(Locale, [{\n            key: \"localize\",\n            value: function localize(message) {\n              return this._locale[message] || message;\n            }\n          }]);\n\n          return Locale;\n        }();\n\n        exports.default = Locale;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/mask.js\":\n      /*!***************************!*\\\n        !*** ./src/js/ui/mask.js ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _mask = __webpack_require__(\n        /*! @/ui/template/submenu/mask */\n        \"./src/js/ui/template/submenu/mask.js\");\n\n        var _mask2 = _interopRequireDefault(_mask);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * Mask ui class\n         * @class\n         * @ignore\n         */\n\n\n        var Mask = function (_Submenu) {\n          _inherits(Mask, _Submenu);\n\n          function Mask(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Mask);\n\n            var _this = _possibleConstructorReturn(this, (Mask.__proto__ || Object.getPrototypeOf(Mask)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'mask',\n              makeSvgIcon: makeSvgIcon,\n              menuBarPosition: menuBarPosition,\n              templateHtml: _mask2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this._els = {\n              applyButton: _this.selector('.tie-mask-apply'),\n              maskImageButton: _this.selector('.tie-mask-image-file')\n            };\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Mask, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Add event for mask\n             * @param {Object} actions - actions for crop\n             *   @param {Function} actions.loadImageFromURL - load image action\n             *   @param {Function} actions.applyFilter - apply filter action\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              var loadMaskFile = this._loadMaskFile.bind(this);\n\n              var applyMask = this._applyMask.bind(this);\n\n              this.eventHandler = {\n                loadMaskFile: loadMaskFile,\n                applyMask: applyMask\n              };\n              this.actions = actions;\n\n              this._els.maskImageButton.addEventListener('change', loadMaskFile);\n\n              this._els.applyButton.addEventListener('click', applyMask);\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              this._els.maskImageButton.removeEventListener('change', this.eventHandler.loadMaskFile);\n\n              this._els.applyButton.removeEventListener('click', this.eventHandler.applyMask);\n            }\n            /**\n             * Apply mask\n             * @private\n             */\n\n          }, {\n            key: '_applyMask',\n            value: function _applyMask() {\n              this.actions.applyFilter();\n\n              this._els.applyButton.classList.remove('active');\n            }\n            /**\n             * Load mask file\n             * @param {object} event - File change event object\n             * @private\n             */\n\n          }, {\n            key: '_loadMaskFile',\n            value: function _loadMaskFile(event) {\n              var imgUrl = void 0;\n\n              if (!(0, _util.isSupportFileApi)()) {\n                alert('This browser does not support file-api');\n              }\n\n              var _event$target$files = event.target.files,\n                  file = _event$target$files[0];\n\n              if (file) {\n                imgUrl = URL.createObjectURL(file);\n                this.actions.loadImageFromURL(imgUrl, file);\n\n                this._els.applyButton.classList.add('active');\n              }\n            }\n          }]);\n\n          return Mask;\n        }(_submenuBase2.default);\n\n        exports.default = Mask;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/panelMenu.js\":\n      /*!********************************!*\\\n        !*** ./src/js/ui/panelMenu.js ***!\n        \\********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        /**\n         * Menu Panel Class\n         * @class\n         * @ignore\n         */\n\n\n        var Panel = function () {\n          /**\n           * @param {HTMLElement} menuElement - menu dom element\n           * @param {Object} options - menu options\n           *   @param {string} options.name - name of panel menu\n           */\n          function Panel(menuElement, _ref) {\n            var name = _ref.name;\n\n            _classCallCheck(this, Panel);\n\n            this.name = name;\n            this.items = [];\n            this.panelElement = this._makePanelElement();\n            this.listElement = this._makeListElement();\n            this.panelElement.appendChild(this.listElement);\n            menuElement.appendChild(this.panelElement);\n          }\n          /**\n           * Make Panel element\n           * @returns {HTMLElement}\n           */\n\n\n          _createClass(Panel, [{\n            key: '_makePanelElement',\n            value: function _makePanelElement() {\n              var panel = document.createElement('div');\n              panel.className = 'tie-panel-' + this.name;\n              return panel;\n            }\n            /**\n             * Make list element\n             * @returns {HTMLElement} list element\n             * @private\n             */\n\n          }, {\n            key: '_makeListElement',\n            value: function _makeListElement() {\n              var list = document.createElement('ol');\n              list.className = this.name + '-list';\n              return list;\n            }\n            /**\n             * Make list item element\n             * @param {string} html - history list item html\n             * @returns {HTMLElement} list item element\n             */\n\n          }, {\n            key: 'makeListItemElement',\n            value: function makeListItemElement(html) {\n              var listItem = document.createElement('li');\n              listItem.innerHTML = html;\n              listItem.className = this.name + '-item';\n              listItem.setAttribute('data-index', this.items.length);\n              return listItem;\n            }\n            /**\n             * Push list item element\n             * @param {HTMLElement} item - list item element to add to the list\n             */\n\n          }, {\n            key: 'pushListItemElement',\n            value: function pushListItemElement(item) {\n              this.listElement.appendChild(item);\n              this.listElement.scrollTop += item.offsetHeight;\n              this.items.push(item);\n            }\n            /**\n             * Delete list item element\n             * @param {number} start - start index to delete\n             * @param {number} end - end index to delete\n             */\n\n          }, {\n            key: 'deleteListItemElement',\n            value: function deleteListItemElement(start, end) {\n              var items = this.items;\n\n              for (var i = start; i < end; i += 1) {\n                this.listElement.removeChild(items[i]);\n              }\n\n              items.splice(start, end - start + 1);\n            }\n            /**\n             * Get list's length\n             * @returns {number}\n             */\n\n          }, {\n            key: 'getListLength',\n            value: function getListLength() {\n              return this.items.length;\n            }\n            /**\n             * Add class name of item\n             * @param {number} index - index of item\n             * @param {string} className - class name to add\n             */\n\n          }, {\n            key: 'addClass',\n            value: function addClass(index, className) {\n              if (this.items[index]) {\n                this.items[index].classList.add(className);\n              }\n            }\n            /**\n             * Remove class name of item\n             * @param {number} index - index of item\n             * @param {string} className - class name to remove\n             */\n\n          }, {\n            key: 'removeClass',\n            value: function removeClass(index, className) {\n              if (this.items[index]) {\n                this.items[index].classList.remove(className);\n              }\n            }\n            /**\n             * Toggle class name of item\n             * @param {number} index - index of item\n             * @param {string} className - class name to remove\n             */\n\n          }, {\n            key: 'toggleClass',\n            value: function toggleClass(index, className) {\n              if (this.items[index]) {\n                this.items[index].classList.toggle(className);\n              }\n            }\n          }]);\n\n          return Panel;\n        }();\n\n        exports.default = Panel;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/rotate.js\":\n      /*!*****************************!*\\\n        !*** ./src/js/ui/rotate.js ***!\n        \\*****************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _range = __webpack_require__(\n        /*! @/ui/tools/range */\n        \"./src/js/ui/tools/range.js\");\n\n        var _range2 = _interopRequireDefault(_range);\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _rotate = __webpack_require__(\n        /*! @/ui/template/submenu/rotate */\n        \"./src/js/ui/template/submenu/rotate.js\");\n\n        var _rotate2 = _interopRequireDefault(_rotate);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        var CLOCKWISE = 30;\n        var COUNTERCLOCKWISE = -30;\n        /**\n         * Rotate ui class\n         * @class\n         * @ignore\n         */\n\n        var Rotate = function (_Submenu) {\n          _inherits(Rotate, _Submenu);\n\n          function Rotate(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Rotate);\n\n            var _this = _possibleConstructorReturn(this, (Rotate.__proto__ || Object.getPrototypeOf(Rotate)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'rotate',\n              makeSvgIcon: makeSvgIcon,\n              menuBarPosition: menuBarPosition,\n              templateHtml: _rotate2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this._value = 0;\n            _this._els = {\n              rotateButton: _this.selector('.tie-rotate-button'),\n              rotateRange: new _range2.default({\n                slider: _this.selector('.tie-rotate-range'),\n                input: _this.selector('.tie-rotate-range-value')\n              }, _consts.defaultRotateRangeValues)\n            };\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Rotate, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              this._els.rotateRange.destroy();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n          }, {\n            key: 'setRangeBarAngle',\n            value: function setRangeBarAngle(type, angle) {\n              var resultAngle = angle;\n\n              if (type === 'rotate') {\n                resultAngle = parseInt(this._els.rotateRange.value, 10) + angle;\n              }\n\n              this._setRangeBarRatio(resultAngle);\n            }\n          }, {\n            key: '_setRangeBarRatio',\n            value: function _setRangeBarRatio(angle) {\n              this._els.rotateRange.value = angle;\n            }\n            /**\n             * Add event for rotate\n             * @param {Object} actions - actions for crop\n             *   @param {Function} actions.rotate - rotate action\n             *   @param {Function} actions.setAngle - set angle action\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              this.eventHandler.rotationAngleChanged = this._changeRotateForButton.bind(this); // {rotate, setAngle}\n\n              this.actions = actions;\n\n              this._els.rotateButton.addEventListener('click', this.eventHandler.rotationAngleChanged);\n\n              this._els.rotateRange.on('change', this._changeRotateForRange.bind(this));\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              this._els.rotateButton.removeEventListener('click', this.eventHandler.rotationAngleChanged);\n\n              this._els.rotateRange.off();\n            }\n            /**\n             * Change rotate for range\n             * @param {number} value - angle value\n             * @param {boolean} isLast - Is last change\n             * @private\n             */\n\n          }, {\n            key: '_changeRotateForRange',\n            value: function _changeRotateForRange(value, isLast) {\n              var angle = (0, _util.toInteger)(value);\n              this.actions.setAngle(angle, !isLast);\n              this._value = angle;\n            }\n            /**\n             * Change rotate for button\n             * @param {object} event - add button event object\n             * @private\n             */\n\n          }, {\n            key: '_changeRotateForButton',\n            value: function _changeRotateForButton(event) {\n              var button = event.target.closest('.tui-image-editor-button');\n              var angle = this._els.rotateRange.value;\n\n              if (button) {\n                var rotateType = this.getButtonType(button, ['counterclockwise', 'clockwise']);\n                var rotateAngle = {\n                  clockwise: CLOCKWISE,\n                  counterclockwise: COUNTERCLOCKWISE\n                }[rotateType];\n                var newAngle = parseInt(angle, 10) + rotateAngle;\n                var isRotatable = newAngle >= -360 && newAngle <= 360;\n\n                if (isRotatable) {\n                  this.actions.rotate(rotateAngle);\n                }\n              }\n            }\n          }]);\n\n          return Rotate;\n        }(_submenuBase2.default);\n\n        exports.default = Rotate;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/shape.js\":\n      /*!****************************!*\\\n        !*** ./src/js/ui/shape.js ***!\n        \\****************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _colorpicker = __webpack_require__(\n        /*! @/ui/tools/colorpicker */\n        \"./src/js/ui/tools/colorpicker.js\");\n\n        var _colorpicker2 = _interopRequireDefault(_colorpicker);\n\n        var _range = __webpack_require__(\n        /*! @/ui/tools/range */\n        \"./src/js/ui/tools/range.js\");\n\n        var _range2 = _interopRequireDefault(_range);\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _shape = __webpack_require__(\n        /*! @/ui/template/submenu/shape */\n        \"./src/js/ui/template/submenu/shape.js\");\n\n        var _shape2 = _interopRequireDefault(_shape);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        var SHAPE_DEFAULT_OPTION = {\n          stroke: '#ffbb3b',\n          fill: '',\n          strokeWidth: 3\n        };\n        /**\n         * Shape ui class\n         * @class\n         * @ignore\n         */\n\n        var Shape = function (_Submenu) {\n          _inherits(Shape, _Submenu);\n\n          function Shape(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Shape);\n\n            var _this = _possibleConstructorReturn(this, (Shape.__proto__ || Object.getPrototypeOf(Shape)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'shape',\n              makeSvgIcon: makeSvgIcon,\n              menuBarPosition: menuBarPosition,\n              templateHtml: _shape2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this.type = null;\n            _this.options = SHAPE_DEFAULT_OPTION;\n            _this._els = {\n              shapeSelectButton: _this.selector('.tie-shape-button'),\n              shapeColorButton: _this.selector('.tie-shape-color-button'),\n              strokeRange: new _range2.default({\n                slider: _this.selector('.tie-stroke-range'),\n                input: _this.selector('.tie-stroke-range-value')\n              }, _consts.defaultShapeStrokeValues),\n              fillColorpicker: new _colorpicker2.default(_this.selector('.tie-color-fill'), '', _this.toggleDirection, _this.usageStatistics),\n              strokeColorpicker: new _colorpicker2.default(_this.selector('.tie-color-stroke'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics)\n            };\n\n            _this.colorPickerControls.push(_this._els.fillColorpicker);\n\n            _this.colorPickerControls.push(_this._els.strokeColorpicker);\n\n            _this.colorPickerInputBoxes = [];\n\n            _this.colorPickerInputBoxes.push(_this._els.fillColorpicker.colorpickerElement.querySelector(_consts.selectorNames.COLOR_PICKER_INPUT_BOX));\n\n            _this.colorPickerInputBoxes.push(_this._els.strokeColorpicker.colorpickerElement.querySelector(_consts.selectorNames.COLOR_PICKER_INPUT_BOX));\n\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Shape, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              this._els.strokeRange.destroy();\n\n              this._els.fillColorpicker.destroy();\n\n              this._els.strokeColorpicker.destroy();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Add event for shape\n             * @param {Object} actions - actions for shape\n             *   @param {Function} actions.changeShape - change shape mode\n             *   @param {Function} actions.setDrawingShape - set drawing shape\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              var _this2 = this;\n\n              this.eventHandler.shapeTypeSelected = this._changeShapeHandler.bind(this);\n              this.actions = actions;\n\n              this._els.shapeSelectButton.addEventListener('click', this.eventHandler.shapeTypeSelected);\n\n              this._els.strokeRange.on('change', this._changeStrokeRangeHandler.bind(this));\n\n              this._els.fillColorpicker.on('change', this._changeFillColorHandler.bind(this));\n\n              this._els.strokeColorpicker.on('change', this._changeStrokeColorHandler.bind(this));\n\n              this._els.fillColorpicker.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n              this._els.strokeColorpicker.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n              _tuiCodeSnippet2.default.forEachArray(this.colorPickerInputBoxes, function (inputBox) {\n                inputBox.addEventListener(_consts.eventNames.FOCUS, _this2._onStartEditingInputBox.bind(_this2));\n                inputBox.addEventListener(_consts.eventNames.BLUR, _this2._onStopEditingInputBox.bind(_this2));\n              }, this);\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              var _this3 = this;\n\n              this._els.shapeSelectButton.removeEventListener('click', this.eventHandler.shapeTypeSelected);\n\n              this._els.strokeRange.off();\n\n              this._els.fillColorpicker.off();\n\n              this._els.strokeColorpicker.off();\n\n              _tuiCodeSnippet2.default.forEachArray(this.colorPickerInputBoxes, function (inputBox) {\n                inputBox.removeEventListener(_consts.eventNames.FOCUS, _this3._onStartEditingInputBox.bind(_this3));\n                inputBox.removeEventListener(_consts.eventNames.BLUR, _this3._onStopEditingInputBox.bind(_this3));\n              }, this);\n            }\n            /**\n             * Set Shape status\n             * @param {Object} options - options of shape status\n             *   @param {string} strokeWidth - stroke width\n             *   @param {string} strokeColor - stroke color\n             *   @param {string} fillColor - fill color\n             */\n\n          }, {\n            key: 'setShapeStatus',\n            value: function setShapeStatus(_ref2) {\n              var strokeWidth = _ref2.strokeWidth,\n                  strokeColor = _ref2.strokeColor,\n                  fillColor = _ref2.fillColor;\n              this._els.strokeRange.value = strokeWidth;\n              this._els.strokeColorpicker.color = strokeColor;\n              this._els.fillColorpicker.color = fillColor;\n              this.options.stroke = strokeColor;\n              this.options.fill = fillColor;\n              this.options.strokeWidth = strokeWidth;\n              this.actions.setDrawingShape(this.type, {\n                strokeWidth: strokeWidth\n              });\n            }\n            /**\n             * Executed when the menu starts.\n             */\n\n          }, {\n            key: 'changeStartMode',\n            value: function changeStartMode() {\n              this.actions.stopDrawingMode();\n            }\n            /**\n             * Returns the menu to its default state.\n             */\n\n          }, {\n            key: 'changeStandbyMode',\n            value: function changeStandbyMode() {\n              this.type = null;\n              this.actions.changeSelectableAll(true);\n\n              this._els.shapeSelectButton.classList.remove('circle');\n\n              this._els.shapeSelectButton.classList.remove('triangle');\n\n              this._els.shapeSelectButton.classList.remove('rect');\n            }\n            /**\n             * set range stroke max value\n             * @param {number} maxValue - expect max value for change\n             */\n\n          }, {\n            key: 'setMaxStrokeValue',\n            value: function setMaxStrokeValue(maxValue) {\n              var strokeMaxValue = maxValue;\n\n              if (strokeMaxValue <= 0) {\n                strokeMaxValue = _consts.defaultShapeStrokeValues.max;\n              }\n\n              this._els.strokeRange.max = strokeMaxValue;\n            }\n            /**\n             * Set stroke value\n             * @param {number} value - expect value for strokeRange change\n             */\n\n          }, {\n            key: 'setStrokeValue',\n            value: function setStrokeValue(value) {\n              this._els.strokeRange.value = value;\n\n              this._els.strokeRange.trigger('change');\n            }\n            /**\n             * Get stroke value\n             * @returns {number} - stroke range value\n             */\n\n          }, {\n            key: 'getStrokeValue',\n            value: function getStrokeValue() {\n              return this._els.strokeRange.value;\n            }\n            /**\n             * Change icon color\n             * @param {object} event - add button event object\n             * @private\n             */\n\n          }, {\n            key: '_changeShapeHandler',\n            value: function _changeShapeHandler(event) {\n              var button = event.target.closest('.tui-image-editor-button');\n\n              if (button) {\n                this.actions.stopDrawingMode();\n                this.actions.discardSelection();\n                var shapeType = this.getButtonType(button, ['circle', 'triangle', 'rect']);\n\n                if (this.type === shapeType) {\n                  this.changeStandbyMode();\n                  return;\n                }\n\n                this.changeStandbyMode();\n                this.type = shapeType;\n                event.currentTarget.classList.add(shapeType);\n                this.actions.changeSelectableAll(false);\n                this.actions.modeChange('shape');\n              }\n            }\n            /**\n             * Change stroke range\n             * @param {number} value - stroke range value\n             * @param {boolean} isLast - Is last change\n             * @private\n             */\n\n          }, {\n            key: '_changeStrokeRangeHandler',\n            value: function _changeStrokeRangeHandler(value, isLast) {\n              this.options.strokeWidth = (0, _util.toInteger)(value);\n              this.actions.changeShape({\n                strokeWidth: value\n              }, !isLast);\n              this.actions.setDrawingShape(this.type, this.options);\n            }\n            /**\n             * Change shape color\n             * @param {string} color - fill color\n             * @private\n             */\n\n          }, {\n            key: '_changeFillColorHandler',\n            value: function _changeFillColorHandler(color) {\n              color = color || 'transparent';\n              this.options.fill = color;\n              this.actions.changeShape({\n                fill: color\n              });\n            }\n            /**\n             * Change shape stroke color\n             * @param {string} color - fill color\n             * @private\n             */\n\n          }, {\n            key: '_changeStrokeColorHandler',\n            value: function _changeStrokeColorHandler(color) {\n              color = color || 'transparent';\n              this.options.stroke = color;\n              this.actions.changeShape({\n                stroke: color\n              });\n            }\n          }]);\n\n          return Shape;\n        }(_submenuBase2.default);\n\n        exports.default = Shape;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/submenuBase.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/ui/submenuBase.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        /**\n         * Submenu Base Class\n         * @class\n         * @ignore\n         */\n\n\n        var Submenu = function () {\n          /**\n           * @param {HTMLElement} subMenuElement - submenu dom element\n           * @param {Locale} locale - translate text\n           * @param {string} name - name of sub menu\n           * @param {Object} iconStyle - style of icon\n           * @param {string} menuBarPosition - position of menu\n           * @param {*} templateHtml - template for SubMenuElement\n           * @param {boolean} [usageStatistics=false] - template for SubMenuElement\n           */\n          function Submenu(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                name = _ref.name,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                templateHtml = _ref.templateHtml,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Submenu);\n\n            this.subMenuElement = subMenuElement;\n            this.menuBarPosition = menuBarPosition;\n            this.toggleDirection = menuBarPosition === 'top' ? 'down' : 'up';\n            this.colorPickerControls = [];\n            this.usageStatistics = usageStatistics;\n            this.eventHandler = {};\n\n            this._makeSubMenuElement({\n              locale: locale,\n              name: name,\n              makeSvgIcon: makeSvgIcon,\n              templateHtml: templateHtml\n            });\n          }\n          /**\n           * editor dom ui query selector\n           * @param {string} selectName - query selector string name\n           * @returns {HTMLElement}\n           */\n\n\n          _createClass(Submenu, [{\n            key: 'selector',\n            value: function selector(selectName) {\n              return this.subMenuElement.querySelector(selectName);\n            }\n            /**\n             * change show state change for colorpicker instance\n             * @param {Colorpicker} occurredControl - target Colorpicker Instance\n             */\n\n          }, {\n            key: 'colorPickerChangeShow',\n            value: function colorPickerChangeShow(occurredControl) {\n              this.colorPickerControls.forEach(function (pickerControl) {\n                if (occurredControl !== pickerControl) {\n                  pickerControl.hide();\n                }\n              });\n            }\n            /**\n             * Get button type\n             * @param {HTMLElement} button - event target element\n             * @param {array} buttonNames - Array of button names\n             * @returns {string} - button type\n             */\n\n          }, {\n            key: 'getButtonType',\n            value: function getButtonType(button, buttonNames) {\n              return button.className.match(RegExp('(' + buttonNames.join('|') + ')'))[0];\n            }\n            /**\n             * Get button type\n             * @param {HTMLElement} target - event target element\n             * @param {string} removeClass - remove class name\n             * @param {string} addClass - add class name\n             */\n\n          }, {\n            key: 'changeClass',\n            value: function changeClass(target, removeClass, addClass) {\n              target.classList.remove(removeClass);\n              target.classList.add(addClass);\n            }\n            /**\n             * Interface method whose implementation is optional.\n             * Returns the menu to its default state.\n             */\n\n          }, {\n            key: 'changeStandbyMode',\n            value: function changeStandbyMode() {}\n            /**\n             * Interface method whose implementation is optional.\n             * Executed when the menu starts.\n             */\n\n          }, {\n            key: 'changeStartMode',\n            value: function changeStartMode() {}\n            /**\n             * Make submenu dom element\n             * @param {Locale} locale - translate text\n             * @param {string} name - submenu name\n             * @param {Object} iconStyle -  icon style\n             * @param {*} templateHtml - template for SubMenuElement\n             * @private\n             */\n\n          }, {\n            key: '_makeSubMenuElement',\n            value: function _makeSubMenuElement(_ref2) {\n              var locale = _ref2.locale,\n                  name = _ref2.name,\n                  iconStyle = _ref2.iconStyle,\n                  makeSvgIcon = _ref2.makeSvgIcon,\n                  templateHtml = _ref2.templateHtml;\n              var iconSubMenu = document.createElement('div');\n              iconSubMenu.className = 'tui-image-editor-menu-' + name;\n              iconSubMenu.innerHTML = templateHtml({\n                locale: locale,\n                iconStyle: iconStyle,\n                makeSvgIcon: makeSvgIcon\n              });\n              this.subMenuElement.appendChild(iconSubMenu);\n            }\n          }, {\n            key: '_onStartEditingInputBox',\n            value: function _onStartEditingInputBox() {\n              this.fire(_consts.eventNames.INPUT_BOX_EDITING_STARTED);\n            }\n          }, {\n            key: '_onStopEditingInputBox',\n            value: function _onStopEditingInputBox() {\n              this.fire(_consts.eventNames.INPUT_BOX_EDITING_STOPPED);\n            }\n          }]);\n\n          return Submenu;\n        }();\n\n        _tuiCodeSnippet.CustomEvents.mixin(Submenu);\n\n        exports.default = Submenu;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/template/controls.js\":\n      /*!****************************************!*\\\n        !*** ./src/js/ui/template/controls.js ***!\n        \\****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              biImage = _ref.biImage,\n              loadButtonStyle = _ref.loadButtonStyle,\n              downloadButtonStyle = _ref.downloadButtonStyle,\n              menuBarPosition = _ref.menuBarPosition;\n          return '\\n    <ul class=\"tui-image-editor-help-menu ' + (0, _util.getHelpMenuBarPosition)(menuBarPosition) + '\"></ul>\\n    <div class=\"tui-image-editor-controls\">\\n        <div class=\"tui-image-editor-controls-logo\">\\n            <img src=\"' + biImage + '\" />\\n        </div>\\n        <ul class=\"tui-image-editor-menu\"></ul>\\n\\n        <div class=\"tui-image-editor-controls-buttons\">\\n            <div style=\"' + loadButtonStyle + '\">\\n                ' + locale.localize('Load') + '\\n                <input type=\"file\" class=\"tui-image-editor-load-btn\" />\\n            </div>\\n            <button class=\"tui-image-editor-download-btn\" style=\"' + downloadButtonStyle + '\">\\n                ' + locale.localize('Download') + '\\n            </button>\\n        </div>\\n    </div>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/mainContainer.js\":\n      /*!*********************************************!*\\\n        !*** ./src/js/ui/template/mainContainer.js ***!\n        \\*********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              biImage = _ref.biImage,\n              commonStyle = _ref.commonStyle,\n              headerStyle = _ref.headerStyle,\n              loadButtonStyle = _ref.loadButtonStyle,\n              downloadButtonStyle = _ref.downloadButtonStyle,\n              submenuStyle = _ref.submenuStyle;\n          return '\\n    <div class=\"tui-image-editor-main-container\" style=\"' + commonStyle + '\">\\n        <div class=\"tui-image-editor-header\" style=\"' + headerStyle + '\">\\n            <div class=\"tui-image-editor-header-logo\">\\n                <img src=\"' + biImage + '\" />\\n            </div>\\n            <div class=\"tui-image-editor-header-buttons\">\\n                <div style=\"' + loadButtonStyle + '\">\\n                    ' + locale.localize('Load') + '\\n                    <input type=\"file\" class=\"tui-image-editor-load-btn\" />\\n                </div>\\n                <button class=\"tui-image-editor-download-btn\" style=\"' + downloadButtonStyle + '\">\\n                    ' + locale.localize('Download') + '\\n                </button>\\n            </div>\\n        </div>\\n        <div class=\"tui-image-editor-main\">\\n            <div class=\"tui-image-editor-submenu\">\\n                <div class=\"tui-image-editor-submenu-style\" style=\"' + submenuStyle + '\"></div>\\n            </div>\\n            <div class=\"tui-image-editor-wrap\">\\n                <div class=\"tui-image-editor-size-wrap\">\\n                    <div class=\"tui-image-editor-align-wrap\">\\n                        <div class=\"tui-image-editor\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/style.js\":\n      /*!*************************************!*\\\n        !*** ./src/js/ui/template/style.js ***!\n        \\*************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        exports.default = function (_ref) {\n          var subMenuLabelActive = _ref.subMenuLabelActive,\n              subMenuLabelNormal = _ref.subMenuLabelNormal,\n              subMenuRangeTitle = _ref.subMenuRangeTitle,\n              submenuPartitionVertical = _ref.submenuPartitionVertical,\n              submenuPartitionHorizontal = _ref.submenuPartitionHorizontal,\n              submenuCheckbox = _ref.submenuCheckbox,\n              submenuRangePointer = _ref.submenuRangePointer,\n              submenuRangeValue = _ref.submenuRangeValue,\n              submenuColorpickerTitle = _ref.submenuColorpickerTitle,\n              submenuColorpickerButton = _ref.submenuColorpickerButton,\n              submenuRangeBar = _ref.submenuRangeBar,\n              submenuRangeSubbar = _ref.submenuRangeSubbar,\n              submenuDisabledRangePointer = _ref.submenuDisabledRangePointer,\n              submenuDisabledRangeBar = _ref.submenuDisabledRangeBar,\n              submenuDisabledRangeSubbar = _ref.submenuDisabledRangeSubbar,\n              submenuIconSize = _ref.submenuIconSize,\n              menuIconSize = _ref.menuIconSize,\n              biSize = _ref.biSize,\n              menuIconStyle = _ref.menuIconStyle,\n              submenuIconStyle = _ref.submenuIconStyle;\n          return \"\\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\\\"icon-bubble\\\"] label,\\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype=\\\"icon-heart\\\"] label,\\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype=\\\"icon-location\\\"] label,\\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype=\\\"icon-polygon\\\"] label,\\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype=\\\"icon-star\\\"] label,\\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype=\\\"icon-star-2\\\"] label,\\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype=\\\"icon-arrow-3\\\"] label,\\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype=\\\"icon-arrow-2\\\"] label,\\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype=\\\"icon-arrow\\\"] label,\\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\\\"icon-bubble\\\"] label,\\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\\n    .tie-crop-button .tui-image-editor-button.apply.active label,\\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\\n    .tie-text-effect-button .tui-image-editor-button.active label,\\n    .tie-text-align-button.left .tui-image-editor-button.left label,\\n    .tie-text-align-button.center .tui-image-editor-button.center label,\\n    .tie-text-align-button.right .tui-image-editor-button.right label,\\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\\n        \" + subMenuLabelActive + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\\n        \" + subMenuLabelNormal + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\\n        \" + subMenuRangeTitle + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-partition > div {\\n        \" + submenuPartitionVertical + \"\\n    }\\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\\n        \" + submenuPartitionHorizontal + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\\n        \" + submenuCheckbox + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\\n        border: 0;\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\\n        \" + submenuRangePointer + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\\n        \" + submenuRangeBar + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\\n        \" + submenuRangeSubbar + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\\n        \" + submenuDisabledRangePointer + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\\n        \" + submenuDisabledRangeSubbar + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\\n        \" + submenuDisabledRangeBar + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-range-value {\\n        \" + submenuRangeValue + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\\n        \" + submenuColorpickerTitle + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\\n        \" + submenuColorpickerButton + \"\\n    }\\n    .tui-image-editor-container .svg_ic-menu {\\n        \" + menuIconSize + \"\\n    }\\n    .tui-image-editor-container .svg_ic-submenu {\\n        \" + submenuIconSize + \"\\n    }\\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\\n        \" + biSize + \"\\n    }\\n    .tui-image-editor-menu use.normal.use-default,\\n    .tui-image-editor-help-menu use.normal.use-default {\\n        fill-rule: evenodd;\\n        fill: \" + menuIconStyle.normal.color + \";\\n        stroke: \" + menuIconStyle.normal.color + \";\\n    }\\n    .tui-image-editor-menu use.active.use-default,\\n    .tui-image-editor-help-menu use.active.use-default {\\n        fill-rule: evenodd;\\n        fill: \" + menuIconStyle.active.color + \";\\n        stroke: \" + menuIconStyle.active.color + \";\\n    }\\n    .tui-image-editor-menu use.hover.use-default,\\n    .tui-image-editor-help-menu use.hover.use-default {\\n        fill-rule: evenodd;\\n        fill: \" + menuIconStyle.hover.color + \";\\n        stroke: \" + menuIconStyle.hover.color + \";\\n    }\\n    .tui-image-editor-menu use.disabled.use-default,\\n    .tui-image-editor-help-menu use.disabled.use-default {\\n        fill-rule: evenodd;\\n        fill: \" + menuIconStyle.disabled.color + \";\\n        stroke: \" + menuIconStyle.disabled.color + \";\\n    }\\n    .tui-image-editor-submenu use.normal.use-default {\\n        fill-rule: evenodd;\\n        fill: \" + submenuIconStyle.normal.color + \";\\n        stroke: \" + submenuIconStyle.normal.color + \";\\n    }\\n    .tui-image-editor-submenu use.active.use-default {\\n        fill-rule: evenodd;\\n        fill: \" + submenuIconStyle.active.color + \";\\n        stroke: \" + submenuIconStyle.active.color + \";\\n    }\\n\";\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/crop.js\":\n      /*!********************************************!*\\\n        !*** ./src/js/ui/template/submenu/crop.js ***!\n        \\********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon;\n          return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-crop-preset-button\">\\n            <div class=\"tui-image-editor-button preset preset-none active\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-rectangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Custom') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-square\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('Square') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-3-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('3:2') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-4-3\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('4:3') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-5-4\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('5:4') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-7-5\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('7:5') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-16-9\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('16:9') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition tui-image-editor-newline\">\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-crop-button action\">\\n            <div class=\"tui-image-editor-button apply\">\\n                ' + makeSvgIcon(['normal', 'active'], 'apply') + '\\n                <label>\\n                    ' + locale.localize('Apply') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button cancel\">\\n                ' + makeSvgIcon(['normal', 'active'], 'cancel') + '\\n                <label>\\n                    ' + locale.localize('Cancel') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/draw.js\":\n      /*!********************************************!*\\\n        !*** ./src/js/ui/template/submenu/draw.js ***!\n        \\********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon;\n          return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-draw-line-select-button\">\\n            <div class=\"tui-image-editor-button free\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'draw-free', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Free') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button line\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'draw-line', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Straight') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-draw-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Range') + '</label>\\n            <div class=\"tie-draw-range\"></div>\\n            <input class=\"tie-draw-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/filter.js\":\n      /*!**********************************************!*\\\n        !*** ./src/js/ui/template/submenu/filter.js ***!\n        \\**********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Locale} locale - Translate text\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale;\n          return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tui-image-editor-submenu-align\">\\n            <div class=\"tui-image-editor-checkbox-wrap fixed-width\">\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-grayscale\">\\n                        <span>' + locale.localize('Grayscale') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-invert\">\\n                        <span>' + locale.localize('Invert') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-sepia\">\\n                        <span>' + locale.localize('Sepia') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-vintage\">\\n                        <span>' + locale.localize('Sepia2') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-blur\">\\n                        <span>' + locale.localize('Blur') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-sharpen\">\\n                        <span>' + locale.localize('Sharpen') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-emboss\">\\n                        <span>' + locale.localize('Emboss') + '</span>\\n                    </label>\\n                </div>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-submenu-align\">\\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\" style=\"margin-bottom: 7px;\">\\n                <div class=\"tui-image-editor-checkbox-wrap\">\\n                    <div class=\"tui-image-editor-checkbox\">\\n                        <label>\\n                            <input type=\"checkbox\" class=\"tie-remove-white\">\\n                            <span>' + locale.localize('Remove White') + '</span>\\n                        </label>\\n                    </div>\\n                </div>\\n                <div class=\"tui-image-editor-newline tui-image-editor-range-wrap short\">\\n                    <label>' + locale.localize('Distance') + '</label>\\n                    <div class=\"tie-removewhite-distance-range\"></div>\\n                </div>\\n            </div>\\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\">\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-brightness\">\\n                        <span>' + locale.localize('Brightness') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-range-wrap short\">\\n                    <div class=\"tie-brightness-range\"></div>\\n                </div>\\n            </div>\\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\">\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-noise\">\\n                        <span>' + locale.localize('Noise') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-range-wrap short\">\\n                    <div class=\"tie-noise-range\"></div>\\n                </div>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-submenu-align\">\\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\">\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-pixelate\">\\n                        <span>' + locale.localize('Pixelate') + '</span>\\n                    </label>\\n                </div>\\n                <div class=\"tui-image-editor-range-wrap short\">\\n                    <div class=\"tie-pixelate-range\"></div>\\n                </div>\\n            </div>\\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\">\\n                <div class=\"tui-image-editor-newline tui-image-editor-checkbox-wrap\">\\n                    <div class=\"tui-image-editor-checkbox\">\\n                        <label>\\n                            <input type=\"checkbox\" class=\"tie-color-filter\">\\n                            <span>' + locale.localize('Color Filter') + '</span>\\n                        </label>\\n                    </div>\\n                </div>\\n                <div class=\"tui-image-editor-newline tui-image-editor-range-wrap short\">\\n                    <label>' + locale.localize('Threshold') + '</label>\\n                    <div class=\"tie-colorfilter-threshold-range\"></div>\\n                </div>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"filter-color-item\">\\n                <div class=\"tie-filter-tint-color\" title=\"' + locale.localize('Tint') + '\"></div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-tint\">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n            <div class=\"filter-color-item\">\\n                <div class=\"tie-filter-multiply-color\" title=\"' + locale.localize('Multiply') + '\"></div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-multiply\">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n            <div class=\"filter-color-item\">\\n                <div class=\"tie-filter-blend-color\" title=\"' + locale.localize('Blend') + '\"></div>\\n                <div class=\"tui-image-editor-checkbox\">\\n                    <label>\\n                        <input type=\"checkbox\" class=\"tie-blend\">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/flip.js\":\n      /*!********************************************!*\\\n        !*** ./src/js/ui/template/submenu/flip.js ***!\n        \\********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon;\n          return '\\n    <ul class=\"tie-flip-button tui-image-editor-submenu-item\">\\n        <li>\\n            <div class=\"tui-image-editor-button flipX\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-x', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Flip X') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button flipY\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-y', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Flip Y') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tui-image-editor-button resetFlip\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-reset', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Reset') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/history.js\":\n      /*!***********************************************!*\\\n        !*** ./src/js/ui/template/submenu/history.js ***!\n        \\***********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         *   @param {string} name - history name\n         *   @param {string} detail - history detail information\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon,\n              name = _ref.name,\n              detail = _ref.detail;\n          return '\\n    <div class=\"tui-image-editor-history-item history\">\\n        <div class=\"history-item-icon\">\\n            ' + makeSvgIcon(['normal', 'active'], 'history-' + name.toLowerCase(), true) + '\\n        </div>\\n        <span>\\n            ' + locale.localize(name) + '\\n            ' + (detail ? '(' + locale.localize(detail) + ')' : '') + '\\n        </span>\\n        <div class=\"history-item-checkbox\">\\n            ' + makeSvgIcon(['normal'], 'history-check', true) + '\\n        </div>\\n    </div>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/icon.js\":\n      /*!********************************************!*\\\n        !*** ./src/js/ui/template/submenu/icon.js ***!\n        \\********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon;\n          return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-icon-add-button\">\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow-2', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow-2') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow-3\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow-3', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow-3') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-star\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-star', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Star-1') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-star-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-star-2', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Star-2') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-polygon\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-polygon', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Polygon') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-location\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-location', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Location') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-heart\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-heart', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Heart') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-bubble\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-bubble', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Bubble') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-icon-add-button\">\\n            <div class=\"tui-image-editor-button\" style=\"margin:0\">\\n                <div>\\n                    <input type=\"file\" accept=\"image/*\" class=\"tie-icon-image-file\">\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-load', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Custom icon') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-icon-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/mask.js\":\n      /*!********************************************!*\\\n        !*** ./src/js/ui/template/submenu/mask.js ***!\n        \\********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon;\n          return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li>\\n            <div class=\"tui-image-editor-button\">\\n                <div>\\n                    <input type=\"file\" accept=\"image/*\" class=\"tie-mask-image-file\">\\n                    ' + makeSvgIcon(['normal', 'active'], 'mask-load', true) + '\\n                </div>\\n                <label> ' + locale.localize('Load Mask Image') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-mask-apply tui-image-editor-newline apply\" style=\"margin-top: 22px;margin-bottom: 5px\">\\n            <div class=\"tui-image-editor-button apply\">\\n                ' + makeSvgIcon(['normal', 'active'], 'apply') + '\\n                <label>\\n                    ' + locale.localize('Apply') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/rotate.js\":\n      /*!**********************************************!*\\\n        !*** ./src/js/ui/template/submenu/rotate.js ***!\n        \\**********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon;\n          return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-rotate-button\">\\n            <div class=\"tui-image-editor-button clockwise\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'rotate-clockwise', true) + '\\n                </div>\\n                <label> 30 </label>\\n            </div>\\n            <div class=\"tui-image-editor-button counterclockwise\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'rotate-counterclockwise', true) + '\\n                </div>\\n                <label> -30 </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Range') + '</label>\\n            <div class=\"tie-rotate-range\"></div>\\n            <input class=\"tie-rotate-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/shape.js\":\n      /*!*********************************************!*\\\n        !*** ./src/js/ui/template/submenu/shape.js ***!\n        \\*********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon;\n          return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-shape-button\">\\n            <div class=\"tui-image-editor-button rect\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-rectangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Rectangle') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button circle\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-circle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Circle') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button triangle\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-triangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Triangle') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-shape-color-button\">\\n            <div class=\"tie-color-fill\" title=\"' + locale.localize('Fill') + '\"></div>\\n            <div class=\"tie-color-stroke\" title=\"' + locale.localize('Stroke') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Stroke') + '</label>\\n            <div class=\"tie-stroke-range\"></div>\\n            <input class=\"tie-stroke-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/template/submenu/text.js\":\n      /*!********************************************!*\\\n        !*** ./src/js/ui/template/submenu/text.js ***!\n        \\********************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @param {Object} submenuInfo - submenu info for make template\n         *   @param {Locale} locale - Translate text\n         *   @param {Function} makeSvgIcon - svg icon generator\n         * @returns {string}\n         */\n\n        exports.default = function (_ref) {\n          var locale = _ref.locale,\n              makeSvgIcon = _ref.makeSvgIcon;\n          return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-text-effect-button\">\\n            <div class=\"tui-image-editor-button bold\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-bold', true) + '\\n                </div>\\n                <label> ' + locale.localize('Bold') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button italic\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-italic', true) + '\\n                </div>\\n                <label> ' + locale.localize('Italic') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button underline\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-underline', true) + '\\n                </div>\\n                <label> ' + locale.localize('Underline') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-text-align-button\">\\n            <div class=\"tui-image-editor-button left\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-left', true) + '\\n                </div>\\n                <label> ' + locale.localize('Left') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button center\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-center', true) + '\\n                </div>\\n                <label> ' + locale.localize('Center') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button right\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-right', true) + '\\n                </div>\\n                <label> ' + locale.localize('Right') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-text-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Text size') + '</label>\\n            <div class=\"tie-text-range\"></div>\\n            <input class=\"tie-text-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n        };\n        /***/\n\n      },\n\n      /***/\n      \"./src/js/ui/text.js\":\n      /*!***************************!*\\\n        !*** ./src/js/ui/text.js ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _range = __webpack_require__(\n        /*! @/ui/tools/range */\n        \"./src/js/ui/tools/range.js\");\n\n        var _range2 = _interopRequireDefault(_range);\n\n        var _colorpicker = __webpack_require__(\n        /*! @/ui/tools/colorpicker */\n        \"./src/js/ui/tools/colorpicker.js\");\n\n        var _colorpicker2 = _interopRequireDefault(_colorpicker);\n\n        var _submenuBase = __webpack_require__(\n        /*! @/ui/submenuBase */\n        \"./src/js/ui/submenuBase.js\");\n\n        var _submenuBase2 = _interopRequireDefault(_submenuBase);\n\n        var _text = __webpack_require__(\n        /*! @/ui/template/submenu/text */\n        \"./src/js/ui/template/submenu/text.js\");\n\n        var _text2 = _interopRequireDefault(_text);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n        /**\n         * Crop ui class\n         * @class\n         * @ignore\n         */\n\n\n        var Text = function (_Submenu) {\n          _inherits(Text, _Submenu);\n\n          function Text(subMenuElement, _ref) {\n            var locale = _ref.locale,\n                makeSvgIcon = _ref.makeSvgIcon,\n                menuBarPosition = _ref.menuBarPosition,\n                usageStatistics = _ref.usageStatistics;\n\n            _classCallCheck(this, Text);\n\n            var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this, subMenuElement, {\n              locale: locale,\n              name: 'text',\n              makeSvgIcon: makeSvgIcon,\n              menuBarPosition: menuBarPosition,\n              templateHtml: _text2.default,\n              usageStatistics: usageStatistics\n            }));\n\n            _this.effect = {\n              bold: false,\n              italic: false,\n              underline: false\n            };\n            _this.align = 'left';\n            _this._els = {\n              textEffectButton: _this.selector('.tie-text-effect-button'),\n              textAlignButton: _this.selector('.tie-text-align-button'),\n              textColorpicker: new _colorpicker2.default(_this.selector('.tie-text-color'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics),\n              textRange: new _range2.default({\n                slider: _this.selector('.tie-text-range'),\n                input: _this.selector('.tie-text-range-value')\n              }, _consts.defaultTextRangeValues)\n            };\n            _this.colorPickerInputBox = _this._els.textColorpicker.colorpickerElement.querySelector(_consts.selectorNames.COLOR_PICKER_INPUT_BOX);\n            return _this;\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Text, [{\n            key: 'destroy',\n            value: function destroy() {\n              this._removeEvent();\n\n              this._els.textColorpicker.destroy();\n\n              this._els.textRange.destroy();\n\n              (0, _util.assignmentForDestroy)(this);\n            }\n            /**\n             * Add event for text\n             * @param {Object} actions - actions for text\n             *   @param {Function} actions.changeTextStyle - change text style\n             */\n\n          }, {\n            key: 'addEvent',\n            value: function addEvent(actions) {\n              var setTextEffect = this._setTextEffectHandler.bind(this);\n\n              var setTextAlign = this._setTextAlignHandler.bind(this);\n\n              this.eventHandler = {\n                setTextEffect: setTextEffect,\n                setTextAlign: setTextAlign\n              };\n              this.actions = actions;\n\n              this._els.textEffectButton.addEventListener('click', setTextEffect);\n\n              this._els.textAlignButton.addEventListener('click', setTextAlign);\n\n              this._els.textRange.on('change', this._changeTextRnageHandler.bind(this));\n\n              this._els.textColorpicker.on('change', this._changeColorHandler.bind(this));\n\n              this.colorPickerInputBox.addEventListener(_consts.eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n              this.colorPickerInputBox.addEventListener(_consts.eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              var _eventHandler = this.eventHandler,\n                  setTextEffect = _eventHandler.setTextEffect,\n                  setTextAlign = _eventHandler.setTextAlign;\n\n              this._els.textEffectButton.removeEventListener('click', setTextEffect);\n\n              this._els.textAlignButton.removeEventListener('click', setTextAlign);\n\n              this._els.textRange.off();\n\n              this._els.textColorpicker.off();\n\n              this.colorPickerInputBox.removeEventListener(_consts.eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n              this.colorPickerInputBox.removeEventListener(_consts.eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n            }\n            /**\n             * Returns the menu to its default state.\n             */\n\n          }, {\n            key: 'changeStandbyMode',\n            value: function changeStandbyMode() {\n              this.actions.stopDrawingMode();\n            }\n            /**\n             * Executed when the menu starts.\n             */\n\n          }, {\n            key: 'changeStartMode',\n            value: function changeStartMode() {\n              this.actions.modeChange('text');\n            }\n          }, {\n            key: 'setTextStyleStateOnAction',\n            value: function setTextStyleStateOnAction() {\n              var textStyle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n              var fill = textStyle.fill,\n                  fontSize = textStyle.fontSize,\n                  fontStyle = textStyle.fontStyle,\n                  fontWeight = textStyle.fontWeight,\n                  textDecoration = textStyle.textDecoration,\n                  textAlign = textStyle.textAlign;\n              this.textColor = fill;\n              this.fontSize = fontSize;\n              this.setEffectState('italic', fontStyle);\n              this.setEffectState('bold', fontWeight);\n              this.setEffectState('underline', textDecoration);\n              this.setAlignState(textAlign);\n            }\n          }, {\n            key: 'setEffectState',\n            value: function setEffectState(effectName, value) {\n              var effectValue = value === 'italic' || value === 'bold' || value === 'underline';\n\n              var button = this._els.textEffectButton.querySelector('.tui-image-editor-button.' + effectName);\n\n              this.effect[effectName] = effectValue;\n              button.classList[effectValue ? 'add' : 'remove']('active');\n            }\n          }, {\n            key: 'setAlignState',\n            value: function setAlignState(value) {\n              var button = this._els.textAlignButton;\n              button.classList.remove(this.align);\n              button.classList.add(value);\n              this.align = value;\n            }\n            /**\n             * text effect set handler\n             * @param {object} event - add button event object\n             * @private\n             */\n\n          }, {\n            key: '_setTextEffectHandler',\n            value: function _setTextEffectHandler(event) {\n              var button = event.target.closest('.tui-image-editor-button');\n\n              if (button) {\n                var _button$className$mat = button.className.match(/(bold|italic|underline)/),\n                    styleType = _button$className$mat[0];\n\n                var styleObj = {\n                  bold: {\n                    fontWeight: 'bold'\n                  },\n                  italic: {\n                    fontStyle: 'italic'\n                  },\n                  underline: {\n                    textDecoration: 'underline'\n                  }\n                }[styleType];\n                this.effect[styleType] = !this.effect[styleType];\n                button.classList.toggle('active');\n                this.actions.changeTextStyle(styleObj);\n              }\n            }\n            /**\n             * text effect set handler\n             * @param {object} event - add button event object\n             * @private\n             */\n\n          }, {\n            key: '_setTextAlignHandler',\n            value: function _setTextAlignHandler(event) {\n              var button = event.target.closest('.tui-image-editor-button');\n\n              if (button) {\n                var styleType = this.getButtonType(button, ['left', 'center', 'right']);\n                event.currentTarget.classList.remove(this.align);\n\n                if (this.align !== styleType) {\n                  event.currentTarget.classList.add(styleType);\n                }\n\n                this.actions.changeTextStyle({\n                  textAlign: styleType\n                });\n                this.align = styleType;\n              }\n            }\n            /**\n             * text align set handler\n             * @param {number} value - range value\n             * @param {boolean} isLast - Is last change\n             * @private\n             */\n\n          }, {\n            key: '_changeTextRnageHandler',\n            value: function _changeTextRnageHandler(value, isLast) {\n              this.actions.changeTextStyle({\n                fontSize: value\n              }, !isLast);\n            }\n            /**\n             * change color handler\n             * @param {string} color - change color string\n             * @private\n             */\n\n          }, {\n            key: '_changeColorHandler',\n            value: function _changeColorHandler(color) {\n              color = color || 'transparent';\n              this.actions.changeTextStyle({\n                fill: color\n              });\n            }\n          }, {\n            key: 'textColor',\n            set: function set(color) {\n              this._els.textColorpicker.color = color;\n            }\n            /**\n             * Get text color\n             * @returns {string} - text color\n             */\n            ,\n            get: function get() {\n              return this._els.textColorpicker.color;\n            }\n            /**\n             * Get text size\n             * @returns {string} - text size\n             */\n\n          }, {\n            key: 'fontSize',\n            get: function get() {\n              return this._els.textRange.value;\n            }\n            /**\n             * Set text size\n             * @param {Number} value - text size\n             */\n            ,\n            set: function set(value) {\n              this._els.textRange.value = value;\n            }\n            /**\n             * get font style\n             * @returns {string} - font style\n             */\n\n          }, {\n            key: 'fontStyle',\n            get: function get() {\n              return this.effect.italic ? 'italic' : 'normal';\n            }\n            /**\n             * get font weight\n             * @returns {string} - font weight\n             */\n\n          }, {\n            key: 'fontWeight',\n            get: function get() {\n              return this.effect.bold ? 'bold' : 'normal';\n            }\n            /**\n             * get text underline text underline\n             * @returns {boolean} - true or false\n             */\n\n          }, {\n            key: 'underline',\n            get: function get() {\n              return this.effect.underline;\n            }\n          }]);\n\n          return Text;\n        }(_submenuBase2.default);\n\n        exports.default = Text;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/theme/standard.js\":\n      /*!*************************************!*\\\n        !*** ./src/js/ui/theme/standard.js ***!\n        \\*************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview The standard theme\n         */\n\n        /**\n         * Full configuration for theme.<br>\n         * @typedef {object} themeConfig\n         * @property {string} common.bi.image - Brand icon image\n         * @property {string} common.bisize.width - Icon image width\n         * @property {string} common.bisize.height - Icon Image Height\n         * @property {string} common.backgroundImage - Background image\n         * @property {string} common.backgroundColor - Background color\n         * @property {string} common.border - Full area border style\n         * @property {string} header.backgroundImage - header area background\n         * @property {string} header.backgroundColor - header area background color\n         * @property {string} header.border - header area border style\n         * @property {string} loadButton.backgroundColor - load button background color\n         * @property {string} loadButton.border - load button border style\n         * @property {string} loadButton.color - load button foreground color\n         * @property {string} loadButton.fontFamily - load button font type\n         * @property {string} loadButton.fontSize - load button font size\n         * @property {string} downloadButton.backgroundColor - download button background color\n         * @property {string} downloadButton.border - download button border style\n         * @property {string} downloadButton.color - download button foreground color\n         * @property {string} downloadButton.fontFamily - download button font type\n         * @property {string} downloadButton.fontSize - download button font size\n         * @property {string} menu.normalIcon.color - Menu normal color for default icon\n         * @property {string} menu.normalIcon.path - Menu normal icon svg bundle file path\n         * @property {string} menu.normalIcon.name - Menu normal icon svg bundle name\n         * @property {string} menu.activeIcon.color - Menu active color for default icon\n         * @property {string} menu.activeIcon.path - Menu active icon svg bundle file path\n         * @property {string} menu.activeIcon.name - Menu active icon svg bundle name\n         * @property {string} menu.disabled.color - Menu disabled color for default icon\n         * @property {string} menu.disabled.path - Menu disabled icon svg bundle file path\n         * @property {string} menu.disabled.name - Menu disabled icon svg bundle name\n         * @property {string} menu.hover.color - Menu default icon hover color\n         * @property {string} menu.hover.path - Menu hover icon svg bundle file path\n         * @property {string} menu.hover.name - Menu hover icon svg bundle name\n         * @property {string} menu.iconSize.width - Menu icon Size Width\n         * @property {string} menu.iconSize.height - Menu Icon Size Height\n         * @property {string} submenu.backgroundColor - Sub-menu area background color\n         * @property {string} submenu.partition.color - Submenu partition line color\n         * @property {string} submenu.normalIcon.color - Submenu normal color for default icon\n         * @property {string} submenu.normalIcon.path - Submenu default icon svg bundle file path\n         * @property {string} submenu.normalIcon.name - Submenu default icon svg bundle name\n         * @property {string} submenu.activeIcon.color - Submenu active color for default icon\n         * @property {string} submenu.activeIcon.path - Submenu active icon svg bundle file path\n         * @property {string} submenu.activeIcon.name - Submenu active icon svg bundle name\n         * @property {string} submenu.iconSize.width - Submenu icon Size Width\n         * @property {string} submenu.iconSize.height - Submenu Icon Size Height\n         * @property {string} submenu.normalLabel.color - Submenu default label color\n         * @property {string} submenu.normalLabel.fontWeight - Sub Menu Default Label Font Thickness\n         * @property {string} submenu.activeLabel.color - Submenu active label color\n         * @property {string} submenu.activeLabel.fontWeight - Submenu active label Font thickness\n         * @property {string} checkbox.border - Checkbox border style\n         * @property {string} checkbox.backgroundColor - Checkbox background color\n         * @property {string} range.pointer.color - range control pointer color\n         * @property {string} range.bar.color - range control bar color\n         * @property {string} range.subbar.color - range control subbar color\n         * @property {string} range.value.color - range number box font color\n         * @property {string} range.value.fontWeight - range number box font thickness\n         * @property {string} range.value.fontSize - range number box font size\n         * @property {string} range.value.border - range number box border style\n         * @property {string} range.value.backgroundColor - range number box background color\n         * @property {string} range.title.color - range title font color\n         * @property {string} range.title.fontWeight - range title font weight\n         * @property {string} colorpicker.button.border - colorpicker button border style\n         * @property {string} colorpicker.title.color - colorpicker button title font color\n         * @example\n         // default keys and styles\n         var customTheme = {\n            'common.bi.image': 'https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png',\n            'common.bisize.width': '251px',\n            'common.bisize.height': '21px',\n            'common.backgroundImage': 'none',\n            'common.backgroundColor': '#1e1e1e',\n            'common.border': '0px',\n        \n            // header\n            'header.backgroundImage': 'none',\n            'header.backgroundColor': 'transparent',\n            'header.border': '0px',\n        \n            // load button\n            'loadButton.backgroundColor': '#fff',\n            'loadButton.border': '1px solid #ddd',\n            'loadButton.color': '#222',\n            'loadButton.fontFamily': 'NotoSans, sans-serif',\n            'loadButton.fontSize': '12px',\n        \n            // download button\n            'downloadButton.backgroundColor': '#fdba3b',\n            'downloadButton.border': '1px solid #fdba3b',\n            'downloadButton.color': '#fff',\n            'downloadButton.fontFamily': 'NotoSans, sans-serif',\n            'downloadButton.fontSize': '12px',\n        \n            // icons default\n            'menu.normalIcon.color': '#8a8a8a',\n            'menu.activeIcon.color': '#555555',\n            'menu.disabledIcon.color': '#434343',\n            'menu.hoverIcon.color': '#e9e9e9',\n            'submenu.normalIcon.color': '#8a8a8a',\n            'submenu.activeIcon.color': '#e9e9e9',\n        \n            'menu.iconSize.width': '24px',\n            'menu.iconSize.height': '24px',\n            'submenu.iconSize.width': '32px',\n            'submenu.iconSize.height': '32px',\n        \n            // submenu primary color\n            'submenu.backgroundColor': '#1e1e1e',\n            'submenu.partition.color': '#858585',\n        \n            // submenu labels\n            'submenu.normalLabel.color': '#858585',\n            'submenu.normalLabel.fontWeight': 'lighter',\n            'submenu.activeLabel.color': '#fff',\n            'submenu.activeLabel.fontWeight': 'lighter',\n        \n            // checkbox style\n            'checkbox.border': '1px solid #ccc',\n            'checkbox.backgroundColor': '#fff',\n        \n            // rango style\n            'range.pointer.color': '#fff',\n            'range.bar.color': '#666',\n            'range.subbar.color': '#d1d1d1',\n        \n            'range.disabledPointer.color': '#414141',\n            'range.disabledBar.color': '#282828',\n            'range.disabledSubbar.color': '#414141',\n        \n            'range.value.color': '#fff',\n            'range.value.fontWeight': 'lighter',\n            'range.value.fontSize': '11px',\n            'range.value.border': '1px solid #353535',\n            'range.value.backgroundColor': '#151515',\n            'range.title.color': '#fff',\n            'range.title.fontWeight': 'lighter',\n        \n            // colorpicker style\n            'colorpicker.button.border': '1px solid #1e1e1e',\n            'colorpicker.title.color': '#fff'\n        };\n         */\n\n        exports.default = {\n          'common.bi.image': 'https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png',\n          'common.bisize.width': '251px',\n          'common.bisize.height': '21px',\n          'common.backgroundImage': 'none',\n          'common.backgroundColor': '#1e1e1e',\n          'common.border': '0px',\n          // header\n          'header.backgroundImage': 'none',\n          'header.backgroundColor': 'transparent',\n          'header.border': '0px',\n          // load button\n          'loadButton.backgroundColor': '#fff',\n          'loadButton.border': '1px solid #ddd',\n          'loadButton.color': '#222',\n          'loadButton.fontFamily': \"'Noto Sans', sans-serif\",\n          'loadButton.fontSize': '12px',\n          // download button\n          'downloadButton.backgroundColor': '#fdba3b',\n          'downloadButton.border': '1px solid #fdba3b',\n          'downloadButton.color': '#fff',\n          'downloadButton.fontFamily': \"'Noto Sans', sans-serif\",\n          'downloadButton.fontSize': '12px',\n          // main icons\n          'menu.normalIcon.color': '#8a8a8a',\n          'menu.activeIcon.color': '#555555',\n          'menu.disabledIcon.color': '#434343',\n          'menu.hoverIcon.color': '#e9e9e9',\n          // submenu icons\n          'submenu.normalIcon.color': '#8a8a8a',\n          'submenu.activeIcon.color': '#e9e9e9',\n          'menu.iconSize.width': '24px',\n          'menu.iconSize.height': '24px',\n          'submenu.iconSize.width': '32px',\n          'submenu.iconSize.height': '32px',\n          // submenu primary color\n          'submenu.backgroundColor': '#1e1e1e',\n          'submenu.partition.color': '#3c3c3c',\n          // submenu labels\n          'submenu.normalLabel.color': '#8a8a8a',\n          'submenu.normalLabel.fontWeight': 'lighter',\n          'submenu.activeLabel.color': '#fff',\n          'submenu.activeLabel.fontWeight': 'lighter',\n          // checkbox style\n          'checkbox.border': '0px',\n          'checkbox.backgroundColor': '#fff',\n          // range style\n          'range.pointer.color': '#fff',\n          'range.bar.color': '#666',\n          'range.subbar.color': '#d1d1d1',\n          'range.disabledPointer.color': '#414141',\n          'range.disabledBar.color': '#282828',\n          'range.disabledSubbar.color': '#414141',\n          'range.value.color': '#fff',\n          'range.value.fontWeight': 'lighter',\n          'range.value.fontSize': '11px',\n          'range.value.border': '1px solid #353535',\n          'range.value.backgroundColor': '#151515',\n          'range.title.color': '#fff',\n          'range.title.fontWeight': 'lighter',\n          // colorpicker style\n          'colorpicker.button.border': '1px solid #1e1e1e',\n          'colorpicker.title.color': '#fff'\n        };\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/theme/theme.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/ui/theme/theme.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _style = __webpack_require__(\n        /*! @/ui/template/style */\n        \"./src/js/ui/template/style.js\");\n\n        var _style2 = _interopRequireDefault(_style);\n\n        var _standard = __webpack_require__(\n        /*! @/ui/theme/standard */\n        \"./src/js/ui/theme/standard.js\");\n\n        var _standard2 = _interopRequireDefault(_standard);\n\n        var _default = __webpack_require__(\n        /*! @svg/default.svg */\n        \"./src/svg/default.svg\");\n\n        var _default2 = _interopRequireDefault(_default);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        /**\n         * Theme manager\n         * @class\n         * @param {Object} customTheme - custom theme\n         * @ignore\n         */\n\n\n        var Theme = function () {\n          function Theme(customTheme) {\n            _classCallCheck(this, Theme);\n\n            this.styles = this._changeToObject((0, _tuiCodeSnippet.extend)({}, _standard2.default, customTheme));\n            (0, _util.styleLoad)(this._styleMaker());\n\n            this._loadDefaultSvgIcon();\n          }\n          /**\n           * Get a Style cssText or StyleObject\n           * @param {string} type - style type\n           * @returns {string|object} - cssText or StyleObject\n           */\n          // eslint-disable-next-line complexity\n\n\n          _createClass(Theme, [{\n            key: 'getStyle',\n            value: function getStyle(type) {\n              var result = null;\n              var firstProperty = type.replace(/\\..+$/, '');\n              var option = this.styles[type];\n\n              switch (type) {\n                case 'common.bi':\n                  result = this.styles[type].image;\n                  break;\n\n                case 'menu.icon':\n                  result = {\n                    active: this.styles[firstProperty + '.activeIcon'],\n                    normal: this.styles[firstProperty + '.normalIcon'],\n                    hover: this.styles[firstProperty + '.hoverIcon'],\n                    disabled: this.styles[firstProperty + '.disabledIcon']\n                  };\n                  break;\n\n                case 'submenu.icon':\n                  result = {\n                    active: this.styles[firstProperty + '.activeIcon'],\n                    normal: this.styles[firstProperty + '.normalIcon']\n                  };\n                  break;\n\n                case 'submenu.label':\n                  result = {\n                    active: this._makeCssText(this.styles[firstProperty + '.activeLabel']),\n                    normal: this._makeCssText(this.styles[firstProperty + '.normalLabel'])\n                  };\n                  break;\n\n                case 'submenu.partition':\n                  result = {\n                    vertical: this._makeCssText((0, _tuiCodeSnippet.extend)({}, option, {\n                      borderLeft: '1px solid ' + option.color\n                    })),\n                    horizontal: this._makeCssText((0, _tuiCodeSnippet.extend)({}, option, {\n                      borderBottom: '1px solid ' + option.color\n                    }))\n                  };\n                  break;\n\n                case 'range.disabledPointer':\n                case 'range.disabledBar':\n                case 'range.disabledSubbar':\n                case 'range.pointer':\n                case 'range.bar':\n                case 'range.subbar':\n                  option.backgroundColor = option.color;\n                  result = this._makeCssText(option);\n                  break;\n\n                default:\n                  result = this._makeCssText(option);\n                  break;\n              }\n\n              return result;\n            }\n            /**\n             * Make css resource\n             * @returns {string} - serialized css text\n             * @private\n             */\n\n          }, {\n            key: '_styleMaker',\n            value: function _styleMaker() {\n              var submenuLabelStyle = this.getStyle('submenu.label');\n              var submenuPartitionStyle = this.getStyle('submenu.partition');\n              return (0, _style2.default)({\n                subMenuLabelActive: submenuLabelStyle.active,\n                subMenuLabelNormal: submenuLabelStyle.normal,\n                submenuPartitionVertical: submenuPartitionStyle.vertical,\n                submenuPartitionHorizontal: submenuPartitionStyle.horizontal,\n                biSize: this.getStyle('common.bisize'),\n                subMenuRangeTitle: this.getStyle('range.title'),\n                submenuRangePointer: this.getStyle('range.pointer'),\n                submenuRangeBar: this.getStyle('range.bar'),\n                submenuRangeSubbar: this.getStyle('range.subbar'),\n                submenuDisabledRangePointer: this.getStyle('range.disabledPointer'),\n                submenuDisabledRangeBar: this.getStyle('range.disabledBar'),\n                submenuDisabledRangeSubbar: this.getStyle('range.disabledSubbar'),\n                submenuRangeValue: this.getStyle('range.value'),\n                submenuColorpickerTitle: this.getStyle('colorpicker.title'),\n                submenuColorpickerButton: this.getStyle('colorpicker.button'),\n                submenuCheckbox: this.getStyle('checkbox'),\n                menuIconSize: this.getStyle('menu.iconSize'),\n                submenuIconSize: this.getStyle('submenu.iconSize'),\n                menuIconStyle: this.getStyle('menu.icon'),\n                submenuIconStyle: this.getStyle('submenu.icon')\n              });\n            }\n            /**\n             * Change to low dimensional object.\n             * @param {object} styleOptions - style object of user interface\n             * @returns {object} low level object for style apply\n             * @private\n             */\n\n          }, {\n            key: '_changeToObject',\n            value: function _changeToObject(styleOptions) {\n              var styleObject = {};\n              (0, _tuiCodeSnippet.forEach)(styleOptions, function (value, key) {\n                var keyExplode = key.match(/^(.+)\\.([a-z]+)$/i);\n                var property = keyExplode[1],\n                    subProperty = keyExplode[2];\n\n                if (!styleObject[property]) {\n                  styleObject[property] = {};\n                }\n\n                styleObject[property][subProperty] = value;\n              });\n              return styleObject;\n            }\n            /**\n             * Style object to Csstext serialize\n             * @param {object} styleObject - style object\n             * @returns {string} - css text string\n             * @private\n             */\n\n          }, {\n            key: '_makeCssText',\n            value: function _makeCssText(styleObject) {\n              var _this = this;\n\n              var converterStack = [];\n              (0, _tuiCodeSnippet.forEach)(styleObject, function (value, key) {\n                if (['backgroundImage'].indexOf(key) > -1 && value !== 'none') {\n                  value = 'url(' + value + ')';\n                }\n\n                converterStack.push(_this._toUnderScore(key) + ': ' + value);\n              });\n              return converterStack.join(';');\n            }\n            /**\n             * Camel key string to Underscore string\n             * @param {string} targetString - change target\n             * @returns {string}\n             * @private\n             */\n\n          }, {\n            key: '_toUnderScore',\n            value: function _toUnderScore(targetString) {\n              return targetString.replace(/([A-Z])/g, function ($0, $1) {\n                return '-' + $1.toLowerCase();\n              });\n            }\n            /**\n             * Load default svg icon\n             * @private\n             */\n\n          }, {\n            key: '_loadDefaultSvgIcon',\n            value: function _loadDefaultSvgIcon() {\n              if (!document.getElementById('tui-image-editor-svg-default-icons')) {\n                var parser = new DOMParser();\n                var dom = parser.parseFromString(_default2.default, 'text/xml');\n                document.body.appendChild(dom.documentElement);\n              }\n            }\n            /**\n             * Make className for svg icon\n             * @param {string} iconType - normal' or 'active' or 'hover' or 'disabled\n             * @param {boolean} isSubmenu - submenu icon or not.\n             * @returns {string}\n             * @private\n             */\n\n          }, {\n            key: '_makeIconClassName',\n            value: function _makeIconClassName(iconType, isSubmenu) {\n              var iconStyleInfo = isSubmenu ? this.getStyle('submenu.icon') : this.getStyle('menu.icon');\n              var _iconStyleInfo$iconTy = iconStyleInfo[iconType],\n                  path = _iconStyleInfo$iconTy.path,\n                  name = _iconStyleInfo$iconTy.name;\n              return path && name ? iconType : iconType + ' use-default';\n            }\n            /**\n             * Make svg use link path name\n             * @param {string} iconType - normal' or 'active' or 'hover' or 'disabled\n             * @param {boolean} isSubmenu - submenu icon or not.\n             * @returns {string}\n             * @private\n             */\n\n          }, {\n            key: '_makeSvgIconPrefix',\n            value: function _makeSvgIconPrefix(iconType, isSubmenu) {\n              var iconStyleInfo = isSubmenu ? this.getStyle('submenu.icon') : this.getStyle('menu.icon');\n              var _iconStyleInfo$iconTy2 = iconStyleInfo[iconType],\n                  path = _iconStyleInfo$iconTy2.path,\n                  name = _iconStyleInfo$iconTy2.name;\n              return path && name ? path + '#' + name + '-' : '#';\n            }\n            /**\n             * Make svg use link path name\n             * @param {Array.<string>} useIconTypes - normal' or 'active' or 'hover' or 'disabled\n             * @param {string} menuName - menu name\n             * @param {boolean} isSubmenu - submenu icon or not.\n             * @returns {string}\n             * @private\n             */\n\n          }, {\n            key: '_makeSvgItem',\n            value: function _makeSvgItem(useIconTypes, menuName, isSubmenu) {\n              var _this2 = this;\n\n              return (0, _tuiCodeSnippet.map)(useIconTypes, function (iconType) {\n                var svgIconPrefix = _this2._makeSvgIconPrefix(iconType, isSubmenu);\n\n                var iconName = _this2._toUnderScore(menuName);\n\n                var svgIconClassName = _this2._makeIconClassName(iconType, isSubmenu);\n\n                return '<use xlink:href=\"' + svgIconPrefix + 'ic-' + iconName + '\" class=\"' + svgIconClassName + '\"/>';\n              }).join('');\n            }\n            /**\n             * Make svg icon set\n             * @param {Array.<string>} useIconTypes - normal' or 'active' or 'hover' or 'disabled\n             * @param {string} menuName - menu name\n             * @param {boolean} isSubmenu - submenu icon or not.\n             * @returns {string}\n             */\n\n          }, {\n            key: 'makeMenSvgIconSet',\n            value: function makeMenSvgIconSet(useIconTypes, menuName) {\n              var isSubmenu = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              return '<svg class=\"svg_ic-' + (isSubmenu ? 'submenu' : 'menu') + '\">' + this._makeSvgItem(useIconTypes, menuName, isSubmenu) + '</svg>';\n            }\n          }]);\n\n          return Theme;\n        }();\n\n        exports.default = Theme;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/tools/colorpicker.js\":\n      /*!****************************************!*\\\n        !*** ./src/js/ui/tools/colorpicker.js ***!\n        \\****************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _tuiColorPicker = __webpack_require__(\n        /*! tui-color-picker */\n        \"tui-color-picker\");\n\n        var _tuiColorPicker2 = _interopRequireDefault(_tuiColorPicker);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var PICKER_COLOR = ['#000000', '#2a2a2a', '#545454', '#7e7e7e', '#a8a8a8', '#d2d2d2', '#ffffff', '', '#ff4040', '#ff6518', '#ffbb3b', '#03bd9e', '#00a9ff', '#515ce6', '#9e5fff', '#ff5583'];\n        /**\n         * Colorpicker control class\n         * @class\n         * @ignore\n         */\n\n        var Colorpicker = function () {\n          function Colorpicker(colorpickerElement) {\n            var defaultColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '#7e7e7e';\n            var toggleDirection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'up';\n            var usageStatistics = arguments[3];\n\n            _classCallCheck(this, Colorpicker);\n\n            this.colorpickerElement = colorpickerElement;\n            this.usageStatistics = usageStatistics;\n            this._show = false;\n            this._colorpickerElement = colorpickerElement;\n            this._toggleDirection = toggleDirection;\n\n            this._makePickerButtonElement(defaultColor);\n\n            this._makePickerLayerElement(colorpickerElement, colorpickerElement.getAttribute('title'));\n\n            this._color = defaultColor;\n            this.picker = _tuiColorPicker2.default.create({\n              container: this.pickerElement,\n              preset: PICKER_COLOR,\n              color: defaultColor,\n              usageStatistics: this.usageStatistics\n            });\n\n            this._addEvent();\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Colorpicker, [{\n            key: 'destroy',\n            value: function destroy() {\n              var _this = this;\n\n              this._removeEvent();\n\n              this.picker.destroy();\n              this.colorpickerElement.innerHTML = '';\n\n              _tuiCodeSnippet2.default.forEach(this, function (value, key) {\n                _this[key] = null;\n              });\n            }\n            /**\n             * Get color\n             * @returns {Number} color value\n             */\n\n          }, {\n            key: '_changeColorElement',\n\n            /**\n             * Change color element\n             * @param {string} color color value\n             * #private\n             */\n            value: function _changeColorElement(color) {\n              if (color) {\n                this.colorElement.classList.remove('transparent');\n                this.colorElement.style.backgroundColor = color;\n              } else {\n                this.colorElement.style.backgroundColor = '#fff';\n                this.colorElement.classList.add('transparent');\n              }\n            }\n            /**\n             * Make picker button element\n             * @param {string} defaultColor color value\n             * @private\n             */\n\n          }, {\n            key: '_makePickerButtonElement',\n            value: function _makePickerButtonElement(defaultColor) {\n              this.colorpickerElement.classList.add('tui-image-editor-button');\n              this.colorElement = document.createElement('div');\n              this.colorElement.className = 'color-picker-value';\n\n              if (defaultColor) {\n                this.colorElement.style.backgroundColor = defaultColor;\n              } else {\n                this.colorElement.classList.add('transparent');\n              }\n            }\n            /**\n             * Make picker layer element\n             * @param {HTMLElement} colorpickerElement color picker element\n             * @param {string} title picker title\n             * @private\n             */\n\n          }, {\n            key: '_makePickerLayerElement',\n            value: function _makePickerLayerElement(colorpickerElement, title) {\n              var label = document.createElement('label');\n              var triangle = document.createElement('div');\n              this.pickerControl = document.createElement('div');\n              this.pickerControl.className = 'color-picker-control';\n              this.pickerElement = document.createElement('div');\n              this.pickerElement.className = 'color-picker';\n              label.innerHTML = title;\n              triangle.className = 'triangle';\n              this.pickerControl.appendChild(this.pickerElement);\n              this.pickerControl.appendChild(triangle);\n              colorpickerElement.appendChild(this.pickerControl);\n              colorpickerElement.appendChild(this.colorElement);\n              colorpickerElement.appendChild(label);\n            }\n            /**\n             * Add event\n             * @private\n             */\n\n          }, {\n            key: '_addEvent',\n            value: function _addEvent() {\n              var _this2 = this;\n\n              this.picker.on('selectColor', function (value) {\n                _this2._changeColorElement(value.color);\n\n                _this2._color = value.color;\n\n                _this2.fire('change', value.color);\n              });\n              this.eventHandler = {\n                pickerToggle: this._pickerToggleEventHandler.bind(this),\n                pickerHide: function pickerHide() {\n                  return _this2.hide();\n                }\n              };\n              this.colorpickerElement.addEventListener('click', this.eventHandler.pickerToggle);\n              document.body.addEventListener('click', this.eventHandler.pickerHide);\n            }\n            /**\n             * Remove event\n             * @private\n             */\n\n          }, {\n            key: '_removeEvent',\n            value: function _removeEvent() {\n              this.colorpickerElement.removeEventListener('click', this.eventHandler.pickerToggle);\n              document.body.removeEventListener('click', this.eventHandler.pickerHide);\n              this.picker.off();\n            }\n            /**\n             * Picker toggle event handler\n             * @param {object} event - change event\n             * @private\n             */\n\n          }, {\n            key: '_pickerToggleEventHandler',\n            value: function _pickerToggleEventHandler(event) {\n              var target = event.target;\n\n              var isInPickerControl = target && this._isElementInColorPickerControl(target);\n\n              if (!isInPickerControl || isInPickerControl && this._isPaletteButton(target)) {\n                this._show = !this._show;\n                this.pickerControl.style.display = this._show ? 'block' : 'none';\n\n                this._setPickerControlPosition();\n\n                this.fire('changeShow', this);\n              }\n\n              event.stopPropagation();\n            }\n            /**\n             * Check hex input or not\n             * @param {Element} target - Event target element\n             * @returns {boolean}\n             * @private\n             */\n\n          }, {\n            key: '_isPaletteButton',\n            value: function _isPaletteButton(target) {\n              return target.className === 'tui-colorpicker-palette-button';\n            }\n            /**\n             * Check given element is in pickerControl element\n             * @param {Element} element - element to check\n             * @returns {boolean}\n             * @private\n             */\n\n          }, {\n            key: '_isElementInColorPickerControl',\n            value: function _isElementInColorPickerControl(element) {\n              var parentNode = element;\n\n              while (parentNode !== document.body) {\n                if (!parentNode) {\n                  break;\n                }\n\n                if (parentNode === this.pickerControl) {\n                  return true;\n                }\n\n                parentNode = parentNode.parentNode;\n              }\n\n              return false;\n            }\n          }, {\n            key: 'hide',\n            value: function hide() {\n              this._show = false;\n              this.pickerControl.style.display = 'none';\n            }\n            /**\n             * Set picker control position\n             * @private\n             */\n\n          }, {\n            key: '_setPickerControlPosition',\n            value: function _setPickerControlPosition() {\n              var controlStyle = this.pickerControl.style;\n              var halfPickerWidth = this._colorpickerElement.clientWidth / 2 + 2;\n              var left = this.pickerControl.offsetWidth / 2 - halfPickerWidth;\n              var top = (this.pickerControl.offsetHeight + 10) * -1;\n\n              if (this._toggleDirection === 'down') {\n                top = 30;\n              }\n\n              controlStyle.top = top + 'px';\n              controlStyle.left = '-' + left + 'px';\n            }\n          }, {\n            key: 'color',\n            get: function get() {\n              return this._color;\n            }\n            /**\n             * Set color\n             * @param {string} color color value\n             */\n            ,\n            set: function set(color) {\n              this._color = color;\n\n              this._changeColorElement(color);\n            }\n          }]);\n\n          return Colorpicker;\n        }();\n\n        _tuiCodeSnippet2.default.CustomEvents.mixin(Colorpicker);\n\n        exports.default = Colorpicker;\n        /***/\n      },\n\n      /***/\n      \"./src/js/ui/tools/range.js\":\n      /*!**********************************!*\\\n        !*** ./src/js/ui/tools/range.js ***!\n        \\**********************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\n        var _util = __webpack_require__(\n        /*! @/util */\n        \"./src/js/util.js\");\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var INPUT_FILTER_REGEXP = /(-?)([0-9]*)[^0-9]*([0-9]*)/g;\n        /**\n         * Range control class\n         * @class\n         * @ignore\n         */\n\n        var Range = function () {\n          /**\n           * @constructor\n           * @extends {View}\n           * @param {Object} rangeElements - Html resources for creating sliders\n           *  @param {HTMLElement} rangeElements.slider - b\n           *  @param {HTMLElement} [rangeElements.input] - c\n           * @param {Object} options - Slider make options\n           *  @param {number} options.min - min value\n           *  @param {number} options.max - max value\n           *  @param {number} options.value - default value\n           *  @param {number} [options.useDecimal] - Decimal point processing.\n           *  @param {boolean} [options.realTimeEvent] - Reflect live events.\n           */\n          function Range(rangeElements) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            _classCallCheck(this, Range);\n\n            this._value = options.value || 0;\n            this.rangeElement = rangeElements.slider;\n            this.rangeInputElement = rangeElements.input;\n\n            this._drawRangeElement();\n\n            this.rangeWidth = this._getRangeWidth();\n            this._min = options.min || 0;\n            this._max = options.max || 100;\n            this._useDecimal = options.useDecimal;\n            this._absMax = this._min * -1 + this._max;\n            this.realTimeEvent = options.realTimeEvent || false;\n            this.eventHandler = {\n              startChangingSlide: this._startChangingSlide.bind(this),\n              stopChangingSlide: this._stopChangingSlide.bind(this),\n              changeSlide: this._changeSlide.bind(this),\n              changeSlideFinally: this._changeSlideFinally.bind(this),\n              changeInput: this._changeValueWithInput.bind(this, false),\n              changeInputFinally: this._changeValueWithInput.bind(this, true),\n              changeInputWithArrow: this._changeValueWithInputKeyEvent.bind(this)\n            };\n\n            this._addClickEvent();\n\n            this._addDragEvent();\n\n            this._addInputEvent();\n\n            this.value = options.value;\n            this.trigger('change');\n          }\n          /**\n           * Destroys the instance.\n           */\n\n\n          _createClass(Range, [{\n            key: 'destroy',\n            value: function destroy() {\n              var _this = this;\n\n              this._removeClickEvent();\n\n              this._removeDragEvent();\n\n              this._removeInputEvent();\n\n              this.rangeElement.innerHTML = '';\n\n              _tuiCodeSnippet2.default.forEach(this, function (value, key) {\n                _this[key] = null;\n              });\n            }\n            /**\n             * Set range max value and re position cursor\n             * @param {number} maxValue - max value\n             */\n\n          }, {\n            key: 'trigger',\n\n            /**\n             * event trigger\n             * @param {string} type - type\n             */\n            value: function trigger(type) {\n              this.fire(type, this._value);\n            }\n            /**\n             * Calculate slider width\n             * @returns {number} - slider width\n             */\n\n          }, {\n            key: '_getRangeWidth',\n            value: function _getRangeWidth() {\n              var getElementWidth = function getElementWidth(element) {\n                return (0, _util.toInteger)(window.getComputedStyle(element, null).width);\n              };\n\n              return getElementWidth(this.rangeElement) - getElementWidth(this.pointer);\n            }\n            /**\n             * Make range element\n             * @private\n             */\n\n          }, {\n            key: '_drawRangeElement',\n            value: function _drawRangeElement() {\n              this.rangeElement.classList.add('tui-image-editor-range');\n              this.bar = document.createElement('div');\n              this.bar.className = 'tui-image-editor-virtual-range-bar';\n              this.subbar = document.createElement('div');\n              this.subbar.className = 'tui-image-editor-virtual-range-subbar';\n              this.pointer = document.createElement('div');\n              this.pointer.className = 'tui-image-editor-virtual-range-pointer';\n              this.bar.appendChild(this.subbar);\n              this.bar.appendChild(this.pointer);\n              this.rangeElement.appendChild(this.bar);\n            }\n            /**\n             * Add range input editing event\n             * @private\n             */\n\n          }, {\n            key: '_addInputEvent',\n            value: function _addInputEvent() {\n              if (this.rangeInputElement) {\n                this.rangeInputElement.addEventListener('keydown', this.eventHandler.changeInputWithArrow);\n                this.rangeInputElement.addEventListener('keyup', this.eventHandler.changeInput);\n                this.rangeInputElement.addEventListener('blur', this.eventHandler.changeInputFinally);\n              }\n            }\n            /**\n             * Remove range input editing event\n             * @private\n             */\n\n          }, {\n            key: '_removeInputEvent',\n            value: function _removeInputEvent() {\n              if (this.rangeInputElement) {\n                this.rangeInputElement.removeEventListener('keydown', this.eventHandler.changeInputWithArrow);\n                this.rangeInputElement.removeEventListener('keyup', this.eventHandler.changeInput);\n                this.rangeInputElement.removeEventListener('blur', this.eventHandler.changeInputFinally);\n              }\n            }\n            /**\n             * change angle event\n             * @param {object} event - key event\n             * @private\n             */\n\n          }, {\n            key: '_changeValueWithInputKeyEvent',\n            value: function _changeValueWithInputKeyEvent(event) {\n              var keyCode = event.keyCode,\n                  target = event.target;\n\n              if ([_consts.keyCodes.ARROW_UP, _consts.keyCodes.ARROW_DOWN].indexOf(keyCode) < 0) {\n                return;\n              }\n\n              var value = Number(target.value);\n              value = this._valueUpDownForKeyEvent(value, keyCode);\n              var unChanged = value < this._min || value > this._max;\n\n              if (!unChanged) {\n                var clampValue = (0, _util.clamp)(value, this._min, this.max);\n                this.value = clampValue;\n                this.fire('change', clampValue, false);\n              }\n            }\n            /**\n             * value up down for input\n             * @param {number} value - original value number\n             * @param {number} keyCode - input event key code\n             * @returns {number} value - changed value\n             * @private\n             */\n\n          }, {\n            key: '_valueUpDownForKeyEvent',\n            value: function _valueUpDownForKeyEvent(value, keyCode) {\n              var step = this._useDecimal ? 0.1 : 1;\n\n              if (keyCode === _consts.keyCodes.ARROW_UP) {\n                value += step;\n              } else if (keyCode === _consts.keyCodes.ARROW_DOWN) {\n                value -= step;\n              }\n\n              return value;\n            }\n            /**\n             * change angle event\n             * @param {boolean} isLast - Is last change\n             * @param {object} event - key event\n             * @private\n             */\n\n          }, {\n            key: '_changeValueWithInput',\n            value: function _changeValueWithInput(isLast, event) {\n              var keyCode = event.keyCode,\n                  target = event.target;\n\n              if ([_consts.keyCodes.ARROW_UP, _consts.keyCodes.ARROW_DOWN].indexOf(keyCode) >= 0) {\n                return;\n              }\n\n              var stringValue = this._filterForInputText(target.value);\n\n              var waitForChange = !stringValue || isNaN(stringValue);\n              target.value = stringValue;\n\n              if (!waitForChange) {\n                var value = this._useDecimal ? Number(stringValue) : (0, _util.toInteger)(stringValue);\n                value = (0, _util.clamp)(value, this._min, this.max);\n                this.value = value;\n                this.fire('change', value, isLast);\n              }\n            }\n            /**\n             * Add Range click event\n             * @private\n             */\n\n          }, {\n            key: '_addClickEvent',\n            value: function _addClickEvent() {\n              this.rangeElement.addEventListener('click', this.eventHandler.changeSlideFinally);\n            }\n            /**\n             * Remove Range click event\n             * @private\n             */\n\n          }, {\n            key: '_removeClickEvent',\n            value: function _removeClickEvent() {\n              this.rangeElement.removeEventListener('click', this.eventHandler.changeSlideFinally);\n            }\n            /**\n             * Add Range drag event\n             * @private\n             */\n\n          }, {\n            key: '_addDragEvent',\n            value: function _addDragEvent() {\n              this.pointer.addEventListener('mousedown', this.eventHandler.startChangingSlide);\n            }\n            /**\n             * Remove Range drag event\n             * @private\n             */\n\n          }, {\n            key: '_removeDragEvent',\n            value: function _removeDragEvent() {\n              this.pointer.removeEventListener('mousedown', this.eventHandler.startChangingSlide);\n            }\n            /**\n             * change angle event\n             * @param {object} event - change event\n             * @private\n             */\n\n          }, {\n            key: '_changeSlide',\n            value: function _changeSlide(event) {\n              var changePosition = event.screenX;\n              var diffPosition = changePosition - this.firstPosition;\n              var touchPx = this.firstLeft + diffPosition;\n              touchPx = touchPx > this.rangeWidth ? this.rangeWidth : touchPx;\n              touchPx = touchPx < 0 ? 0 : touchPx;\n              this.pointer.style.left = touchPx + 'px';\n              this.subbar.style.right = this.rangeWidth - touchPx + 'px';\n              var ratio = touchPx / this.rangeWidth;\n              var resultValue = this._absMax * ratio + this._min;\n              var value = this._useDecimal ? resultValue : (0, _util.toInteger)(resultValue);\n              var isValueChanged = this.value !== value;\n\n              if (isValueChanged) {\n                this.value = value;\n\n                if (this.realTimeEvent) {\n                  this.fire('change', this._value, false);\n                }\n              }\n            }\n          }, {\n            key: '_changeSlideFinally',\n            value: function _changeSlideFinally(event) {\n              event.stopPropagation();\n\n              if (event.target.className !== 'tui-image-editor-range') {\n                return;\n              }\n\n              var touchPx = event.offsetX;\n              var ratio = touchPx / this.rangeWidth;\n              var value = this._absMax * ratio + this._min;\n              this.pointer.style.left = ratio * this.rangeWidth + 'px';\n              this.subbar.style.right = (1 - ratio) * this.rangeWidth + 'px';\n              this.value = value;\n              this.fire('change', value, true);\n            }\n          }, {\n            key: '_startChangingSlide',\n            value: function _startChangingSlide(event) {\n              this.firstPosition = event.screenX;\n              this.firstLeft = (0, _util.toInteger)(this.pointer.style.left) || 0;\n              document.addEventListener('mousemove', this.eventHandler.changeSlide);\n              document.addEventListener('mouseup', this.eventHandler.stopChangingSlide);\n            }\n            /**\n             * stop change angle event\n             * @private\n             */\n\n          }, {\n            key: '_stopChangingSlide',\n            value: function _stopChangingSlide() {\n              this.fire('change', this._value, true);\n              document.removeEventListener('mousemove', this.eventHandler.changeSlide);\n              document.removeEventListener('mouseup', this.eventHandler.stopChangingSlide);\n            }\n            /**\n             * Unnecessary string filtering.\n             * @param {string} inputValue - origin string of input\n             * @returns {string} filtered string\n             * @private\n             */\n\n          }, {\n            key: '_filterForInputText',\n            value: function _filterForInputText(inputValue) {\n              return inputValue.replace(INPUT_FILTER_REGEXP, '$1$2$3');\n            }\n          }, {\n            key: 'max',\n            set: function set(maxValue) {\n              this._max = maxValue;\n              this._absMax = this._min * -1 + this._max;\n              this.value = this._value;\n            },\n            get: function get() {\n              return this._max;\n            }\n            /**\n             * Get range value\n             * @returns {Number} range value\n             */\n\n          }, {\n            key: 'value',\n            get: function get() {\n              return this._value;\n            }\n            /**\n             * Set range value\n             * @param {Number} value range value\n             */\n            ,\n            set: function set(value) {\n              value = this._useDecimal ? value : (0, _util.toInteger)(value);\n              var absValue = value - this._min;\n              var leftPosition = absValue * this.rangeWidth / this._absMax;\n\n              if (this.rangeWidth < leftPosition) {\n                leftPosition = this.rangeWidth;\n              }\n\n              this.pointer.style.left = leftPosition + 'px';\n              this.subbar.style.right = this.rangeWidth - leftPosition + 'px';\n              this._value = value;\n\n              if (this.rangeInputElement) {\n                this.rangeInputElement.value = value;\n              }\n            }\n          }]);\n\n          return Range;\n        }();\n\n        _tuiCodeSnippet2.default.CustomEvents.mixin(Range);\n\n        exports.default = Range;\n        /***/\n      },\n\n      /***/\n      \"./src/js/util.js\":\n      /*!************************!*\\\n        !*** ./src/js/util.js ***!\n        \\************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports, __webpack_require__) {\n        \"use strict\";\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n        exports.Promise = undefined;\n        exports.clamp = clamp;\n        exports.keyMirror = keyMirror;\n        exports.makeStyleText = makeStyleText;\n        exports.getProperties = getProperties;\n        exports.toInteger = toInteger;\n        exports.toCamelCase = toCamelCase;\n        exports.isSupportFileApi = isSupportFileApi;\n        exports.getRgb = getRgb;\n        exports.sendHostName = sendHostName;\n        exports.styleLoad = styleLoad;\n        exports.getSelector = getSelector;\n        exports.base64ToBlob = base64ToBlob;\n        exports.fixFloatingPoint = fixFloatingPoint;\n        exports.assignmentForDestroy = assignmentForDestroy;\n        exports.cls = cls;\n        exports.changeOrigin = changeOrigin;\n        exports.flipObject = flipObject;\n        exports.setCustomProperty = setCustomProperty;\n        exports.getCustomProperty = getCustomProperty;\n        exports.capitalizeString = capitalizeString;\n        exports.includes = includes;\n        exports.getFillTypeFromOption = getFillTypeFromOption;\n        exports.getFillTypeFromObject = getFillTypeFromObject;\n        exports.isShape = isShape;\n        exports.getObjectType = getObjectType;\n        exports.isSilentCommand = isSilentCommand;\n        exports.getHistoryTitle = getHistoryTitle;\n        exports.getHelpMenuBarPosition = getHelpMenuBarPosition;\n        exports.isEmptyCropzone = isEmptyCropzone;\n\n        var _tuiCodeSnippet = __webpack_require__(\n        /*! tui-code-snippet */\n        \"tui-code-snippet\");\n\n        var _promise = __webpack_require__(\n        /*! core-js-pure/features/promise */\n        \"./node_modules/core-js-pure/features/promise/index.js\");\n\n        var _promise2 = _interopRequireDefault(_promise);\n\n        var _consts = __webpack_require__(\n        /*! @/consts */\n        \"./src/js/consts.js\");\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        var FLOATING_POINT_DIGIT = 2;\n        /**\n         * @author NHN. FE Development Team <dl_javascript@nhn.com>\n         * @fileoverview Util\n         */\n\n        var CSS_PREFIX = 'tui-image-editor-';\n        var min = Math.min,\n            max = Math.max;\n        var hostnameSent = false;\n        /**\n         * Export Promise Class (for simplified module path)\n         * @returns {Promise} promise class\n         */\n\n        exports.Promise = _promise2.default;\n        /**\n         * Clamp value\n         * @param {number} value - Value\n         * @param {number} minValue - Minimum value\n         * @param {number} maxValue - Maximum value\n         * @returns {number} clamped value\n         */\n\n        function clamp(value, minValue, maxValue) {\n          if (minValue > maxValue) {\n            var _ref = [maxValue, minValue];\n            minValue = _ref[0];\n            maxValue = _ref[1];\n          }\n\n          return max(minValue, min(value, maxValue));\n        }\n        /**\n         * Make key-value object from arguments\n         * @returns {object.<string, string>}\n         */\n\n\n        function keyMirror() {\n          var obj = {};\n\n          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          (0, _tuiCodeSnippet.forEach)(args, function (key) {\n            obj[key] = key;\n          });\n          return obj;\n        }\n        /**\n         * Make CSSText\n         * @param {Object} styleObj - Style info object\n         * @returns {string} Connected string of style\n         */\n\n\n        function makeStyleText(styleObj) {\n          var styleStr = '';\n          (0, _tuiCodeSnippet.forEach)(styleObj, function (value, prop) {\n            styleStr += prop + ': ' + value + ';';\n          });\n          return styleStr;\n        }\n        /**\n         * Get object's properties\n         * @param {Object} obj - object\n         * @param {Array} keys - keys\n         * @returns {Object} properties object\n         */\n\n\n        function getProperties(obj, keys) {\n          var props = {};\n          var length = keys.length;\n          var i = 0;\n          var key = void 0;\n\n          for (i = 0; i < length; i += 1) {\n            key = keys[i];\n            props[key] = obj[key];\n          }\n\n          return props;\n        }\n        /**\n         * ParseInt simpliment\n         * @param {number} value - Value\n         * @returns {number}\n         */\n\n\n        function toInteger(value) {\n          return parseInt(value, 10);\n        }\n        /**\n         * String to camelcase string\n         * @param {string} targetString - change target\n         * @returns {string}\n         * @private\n         */\n\n\n        function toCamelCase(targetString) {\n          return targetString.replace(/-([a-z])/g, function ($0, $1) {\n            return $1.toUpperCase();\n          });\n        }\n        /**\n         * Check browser file api support\n         * @returns {boolean}\n         * @private\n         */\n\n\n        function isSupportFileApi() {\n          return !!(window.File && window.FileList && window.FileReader);\n        }\n        /**\n         * hex to rgb\n         * @param {string} color - hex color\n         * @param {string} alpha - color alpha value\n         * @returns {string} rgb expression\n         */\n\n\n        function getRgb(color, alpha) {\n          if (color.length === 4) {\n            color = '' + color + color.slice(1, 4);\n          }\n\n          var r = parseInt(color.slice(1, 3), 16);\n          var g = parseInt(color.slice(3, 5), 16);\n          var b = parseInt(color.slice(5, 7), 16);\n          var a = alpha || 1;\n          return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';\n        }\n        /**\n         * send hostname\n         */\n\n\n        function sendHostName() {\n          if (hostnameSent) {\n            return;\n          }\n\n          hostnameSent = true;\n          (0, _tuiCodeSnippet.sendHostname)('image-editor', 'UA-129999381-1');\n        }\n        /**\n         * Apply css resource\n         * @param {string} styleBuffer - serialized css text\n         * @param {string} tagId - style tag id\n         */\n\n\n        function styleLoad(styleBuffer, tagId) {\n          var _document$getElements = document.getElementsByTagName('head'),\n              head = _document$getElements[0];\n\n          var linkElement = document.createElement('link');\n          var styleData = encodeURIComponent(styleBuffer);\n\n          if (tagId) {\n            linkElement.id = tagId; // linkElement.id = 'tui-image-editor-theme-style';\n          }\n\n          linkElement.setAttribute('rel', 'stylesheet');\n          linkElement.setAttribute('type', 'text/css');\n          linkElement.setAttribute('href', 'data:text/css;charset=UTF-8,' + styleData);\n          head.appendChild(linkElement);\n        }\n        /**\n         * Get selector\n         * @param {HTMLElement} targetElement - target element\n         * @returns {Function} selector\n         */\n\n\n        function getSelector(targetElement) {\n          return function (str) {\n            return targetElement.querySelector(str);\n          };\n        }\n        /**\n         * Change base64 to blob\n         * @param {String} data - base64 string data\n         * @returns {Blob} Blob Data\n         */\n\n\n        function base64ToBlob(data) {\n          var rImageType = /data:(image\\/.+);base64,/;\n          var mimeString = '';\n          var raw = void 0,\n              uInt8Array = void 0,\n              i = void 0;\n          raw = data.replace(rImageType, function (header, imageType) {\n            mimeString = imageType;\n            return '';\n          });\n          raw = atob(raw);\n          var rawLength = raw.length;\n          uInt8Array = new Uint8Array(rawLength); // eslint-disable-line\n\n          for (i = 0; i < rawLength; i += 1) {\n            uInt8Array[i] = raw.charCodeAt(i);\n          }\n\n          return new Blob([uInt8Array], {\n            type: mimeString\n          });\n        }\n        /**\n         * Fix floating point diff.\n         * @param {number} value - original value\n         * @returns {number} fixed value\n         */\n\n\n        function fixFloatingPoint(value) {\n          return Number(value.toFixed(FLOATING_POINT_DIGIT));\n        }\n        /**\n         * Assignment for destroying objects.\n         * @param {Object} targetObject - object to be removed.\n         */\n\n\n        function assignmentForDestroy(targetObject) {\n          (0, _tuiCodeSnippet.forEach)(targetObject, function (value, key) {\n            targetObject[key] = null;\n          });\n        }\n        /**\n         * Make class name for ui\n         * @param {String} str  - main string of className\n         * @param {String} prefix - prefix string of className\n         * @returns {String} class name\n         */\n\n\n        function cls() {\n          var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n          var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n          if (str.charAt(0) === '.') {\n            return '.' + CSS_PREFIX + prefix + str.slice(1);\n          }\n\n          return '' + CSS_PREFIX + prefix + str;\n        }\n        /**\n         * Change object origin\n         * @param {fabric.Object} fObject - fabric object\n         * @param {Object} origin - origin of fabric object\n         *   @param {string} originX - horizontal basis.\n         *   @param {string} originY - vertical basis.\n         */\n\n\n        function changeOrigin(fObject, origin) {\n          var originX = origin.originX,\n              originY = origin.originY;\n\n          var _fObject$getPointByOr = fObject.getPointByOrigin(originX, originY),\n              left = _fObject$getPointByOr.x,\n              top = _fObject$getPointByOr.y;\n\n          fObject.set({\n            left: left,\n            top: top,\n            originX: originX,\n            originY: originY\n          });\n          fObject.setCoords();\n        }\n        /**\n         * Object key value flip\n         * @param {Object} targetObject - The data object of the key value.\n         * @returns {Object}\n         */\n\n\n        function flipObject(targetObject) {\n          var result = {};\n          Object.keys(targetObject).forEach(function (key) {\n            result[targetObject[key]] = key;\n          });\n          return result;\n        }\n        /**\n         * Set custom properties\n         * @param {Object} targetObject - target object\n         * @param {Object} props - custom props object\n         */\n\n\n        function setCustomProperty(targetObject, props) {\n          targetObject.customProps = targetObject.customProps || {};\n          (0, _tuiCodeSnippet.extend)(targetObject.customProps, props);\n        }\n        /**\n         * Get custom property\n         * @param {fabric.Object} fObject - fabric object\n         * @param {Array|string} propNames - prop name array\n         * @returns {object | number | string}\n         */\n\n\n        function getCustomProperty(fObject, propNames) {\n          var resultObject = {};\n\n          if ((0, _tuiCodeSnippet.isString)(propNames)) {\n            propNames = [propNames];\n          }\n\n          (0, _tuiCodeSnippet.forEach)(propNames, function (propName) {\n            resultObject[propName] = fObject.customProps[propName];\n          });\n          return resultObject;\n        }\n        /**\n         * Capitalize string\n         * @param {string} targetString - target string\n         * @returns {string}\n         */\n\n\n        function capitalizeString(targetString) {\n          return targetString.charAt(0).toUpperCase() + targetString.slice(1);\n        }\n        /**\n         * Array includes check\n         * @param {Array} targetArray - target array\n         * @param {string|number} compareValue - compare value\n         * @returns {boolean}\n         */\n\n\n        function includes(targetArray, compareValue) {\n          return targetArray.indexOf(compareValue) >= 0;\n        }\n        /**\n         * Get fill type\n         * @param {Object | string} fillOption - shape fill option\n         * @returns {string} 'color' or 'filter'\n         */\n\n\n        function getFillTypeFromOption() {\n          var fillOption = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          return (0, _tuiCodeSnippet.pick)(fillOption, 'type') || _consts.SHAPE_FILL_TYPE.COLOR;\n        }\n        /**\n         * Get fill type of shape type object\n         * @param {fabric.Object} shapeObj - fabric object\n         * @returns {string} 'transparent' or 'color' or 'filter'\n         */\n\n\n        function getFillTypeFromObject(shapeObj) {\n          var _shapeObj$fill = shapeObj.fill,\n              fill = _shapeObj$fill === undefined ? {} : _shapeObj$fill;\n\n          if (fill.source) {\n            return _consts.SHAPE_FILL_TYPE.FILTER;\n          }\n\n          return _consts.SHAPE_FILL_TYPE.COLOR;\n        }\n        /**\n         * Check if the object is a shape object.\n         * @param {fabric.Object} obj - fabric object\n         * @returns {boolean}\n         */\n\n\n        function isShape(obj) {\n          return (0, _tuiCodeSnippet.inArray)(obj.get('type'), _consts.SHAPE_TYPE) >= 0;\n        }\n        /**\n         * Get object type\n         * @param {string} type - fabric object type\n         * @returns {string} type of object (ex: shape, icon, ...)\n         */\n\n\n        function getObjectType(type) {\n          if (includes(_consts.SHAPE_TYPE, type)) {\n            return 'Shape';\n          }\n\n          switch (type) {\n            case 'i-text':\n              return 'Text';\n\n            case 'path':\n            case 'line':\n              return 'Draw';\n\n            case 'activeSelection':\n              return 'Group';\n\n            default:\n              return toStartOfCapital(type);\n          }\n        }\n        /**\n         * Get filter type\n         * @param {string} type - fabric filter type\n         * @param {object} [options] - filter type options\n         *   @param {boolean} [options.useAlpha=true] - usage of alpha(true is 'color filter', false is 'remove white')\n         *   @param {string} [options.mode] - mode of blendColor\n         * @returns {string} type of filter (ex: sepia, blur, ...)\n         */\n\n\n        function getFilterType(type) {\n          var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n              _ref2$useAlpha = _ref2.useAlpha,\n              useAlpha = _ref2$useAlpha === undefined ? true : _ref2$useAlpha,\n              mode = _ref2.mode;\n\n          var VINTAGE = _consts.filterType.VINTAGE,\n              REMOVE_COLOR = _consts.filterType.REMOVE_COLOR,\n              BLEND_COLOR = _consts.filterType.BLEND_COLOR,\n              SEPIA2 = _consts.filterType.SEPIA2,\n              COLOR_FILTER = _consts.filterType.COLOR_FILTER,\n              REMOVE_WHITE = _consts.filterType.REMOVE_WHITE,\n              BLEND = _consts.filterType.BLEND;\n          var filterName = void 0;\n\n          switch (type) {\n            case VINTAGE:\n              filterName = SEPIA2;\n              break;\n\n            case REMOVE_COLOR:\n              filterName = useAlpha ? COLOR_FILTER : REMOVE_WHITE;\n              break;\n\n            case BLEND_COLOR:\n              filterName = mode === 'add' ? BLEND : mode;\n              break;\n\n            default:\n              filterName = type;\n          }\n\n          return toStartOfCapital(filterName);\n        }\n        /**\n         * Check if command is silent command\n         * @param {Command|string} command - command or command name\n         * @returns {boolean}\n         */\n\n\n        function isSilentCommand(command) {\n          var LOAD_IMAGE = _consts.commandNames.LOAD_IMAGE;\n          return typeof command === 'string' ? LOAD_IMAGE === command : LOAD_IMAGE === command.name;\n        }\n        /**\n         * Get command name\n         * @param {Command|string} command - command or command name\n         * @returns {{name: string, ?detail: string}}\n         */\n        // eslint-disable-next-line complexity, require-jsdoc\n\n\n        function getHistoryTitle(command) {\n          var FLIP_IMAGE = _consts.commandNames.FLIP_IMAGE,\n              ROTATE_IMAGE = _consts.commandNames.ROTATE_IMAGE,\n              ADD_TEXT = _consts.commandNames.ADD_TEXT,\n              APPLY_FILTER = _consts.commandNames.APPLY_FILTER,\n              REMOVE_FILTER = _consts.commandNames.REMOVE_FILTER,\n              CHANGE_SHAPE = _consts.commandNames.CHANGE_SHAPE,\n              CHANGE_ICON_COLOR = _consts.commandNames.CHANGE_ICON_COLOR,\n              CHANGE_TEXT_STYLE = _consts.commandNames.CHANGE_TEXT_STYLE,\n              CLEAR_OBJECTS = _consts.commandNames.CLEAR_OBJECTS,\n              ADD_IMAGE_OBJECT = _consts.commandNames.ADD_IMAGE_OBJECT,\n              REMOVE_OBJECT = _consts.commandNames.REMOVE_OBJECT;\n          var name = command.name,\n              args = command.args;\n          var historyInfo = void 0;\n\n          switch (name) {\n            case FLIP_IMAGE:\n              historyInfo = {\n                name: name,\n                detail: args[1] === 'reset' ? args[1] : args[1].slice(4)\n              };\n              break;\n\n            case ROTATE_IMAGE:\n              historyInfo = {\n                name: name,\n                detail: args[2]\n              };\n              break;\n\n            case APPLY_FILTER:\n              historyInfo = {\n                name: _consts.historyNames.APPLY_FILTER,\n                detail: getFilterType(args[1], args[2])\n              };\n              break;\n\n            case REMOVE_FILTER:\n              historyInfo = {\n                name: _consts.historyNames.REMOVE_FILTER,\n                detail: 'Remove'\n              };\n              break;\n\n            case CHANGE_SHAPE:\n              historyInfo = {\n                name: _consts.historyNames.CHANGE_SHAPE,\n                detail: 'Change'\n              };\n              break;\n\n            case CHANGE_ICON_COLOR:\n              historyInfo = {\n                name: _consts.historyNames.CHANGE_ICON_COLOR,\n                detail: 'Change'\n              };\n              break;\n\n            case CHANGE_TEXT_STYLE:\n              historyInfo = {\n                name: _consts.historyNames.CHANGE_TEXT_STYLE,\n                detail: 'Change'\n              };\n              break;\n\n            case REMOVE_OBJECT:\n              historyInfo = {\n                name: _consts.historyNames.REMOVE_OBJECT,\n                detail: args[2]\n              };\n              break;\n\n            case CLEAR_OBJECTS:\n              historyInfo = {\n                name: _consts.historyNames.CLEAR_OBJECTS,\n                detail: 'All'\n              };\n              break;\n\n            case ADD_IMAGE_OBJECT:\n              historyInfo = {\n                name: _consts.historyNames.ADD_IMAGE_OBJECT,\n                detail: 'Add'\n              };\n              break;\n\n            case ADD_TEXT:\n              historyInfo = {\n                name: _consts.historyNames.ADD_TEXT\n              };\n              break;\n\n            default:\n              historyInfo = {\n                name: name\n              };\n              break;\n          }\n\n          if (args[1] === 'mask') {\n            historyInfo = {\n              name: _consts.historyNames.LOAD_MASK_IMAGE,\n              detail: 'Apply'\n            };\n          }\n\n          return historyInfo;\n        }\n        /**\n         * Get help menubar position(opposite of menubar)\n         * @param {string} position - position of menubar\n         * @returns {string} position of help menubar\n         */\n\n\n        function getHelpMenuBarPosition(position) {\n          if (position === 'top') {\n            return 'bottom';\n          }\n\n          if (position === 'left') {\n            return 'right';\n          }\n\n          if (position === 'right') {\n            return 'left';\n          }\n\n          return 'top';\n        }\n        /**\n         * Change to capital start letter\n         * @param {string} str - string to change\n         * @returns {string}\n         */\n\n\n        function toStartOfCapital(str) {\n          return str.replace(/[a-z]/, function (first) {\n            return first.toUpperCase();\n          });\n        }\n        /**\n         * Check if cropRect is Empty.\n         * @param {Object} cropRect - cropRect object\n         *  @param {Number} cropRect.left - cropRect left position value\n         *  @param {Number} cropRect.top - cropRect top position value\n         *  @param {Number} cropRect.width - cropRect width value\n         *  @param {Number} cropRect.height - cropRect height value\n         * @returns {boolean}\n         */\n\n\n        function isEmptyCropzone(cropRect) {\n          var left = cropRect.left,\n              top = cropRect.top,\n              width = cropRect.width,\n              height = cropRect.height;\n          var LEFT = _consts.emptyCropRectValues.LEFT,\n              TOP = _consts.emptyCropRectValues.TOP,\n              WIDTH = _consts.emptyCropRectValues.WIDTH,\n              HEIGHT = _consts.emptyCropRectValues.HEIGHT;\n          return left === LEFT && top === TOP && width === WIDTH && height === HEIGHT;\n        }\n        /***/\n\n      },\n\n      /***/\n      \"./src/svg/default.svg\":\n      /*!*****************************!*\\\n        !*** ./src/svg/default.svg ***!\n        \\*****************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = \"<svg display=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"><defs id=\\\"tui-image-editor-svg-default-icons\\\"><symbol id=\\\"ic-apply\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" stroke=\\\"none\\\" fill=\\\"none\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M4 12.011l5 5L20.011 6\\\"></path></symbol><symbol id=\\\"ic-cancel\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M6 6l12 12M18 6L6 18\\\"></path></symbol><symbol id=\\\"ic-crop\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" stroke=\\\"none\\\" fill=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M4 0h1v20a1 1 0 0 1-1-1V0zM20 17h-1V5h1v12zm0 2v5h-1v-5h1z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M5 19h19v1H5zM4.762 4v1H0V4h4.762zM7 4h12a1 1 0 0 1 1 1H7V4z\\\"></path></symbol><symbol id=\\\"ic-delete-all\\\" viewBox=\\\"0 0 24 24\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M5 23H3a1 1 0 0 1-1-1V6h1v16h2v1zm16-10h-1V6h1v7zM9 13H8v-3h1v3zm3 0h-1v-3h1v3zm3 0h-1v-3h1v3zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M0 3h23v1H0zM11.286 21H8.714L8 23H7l1-2.8V20h.071L9.5 16h1l1.429 4H12v.2l1 2.8h-1l-.714-2zm-.357-1L10 17.4 9.071 20h1.858zM20 22h3v1h-4v-7h1v6zm-5 0h3v1h-4v-7h1v6z\\\"></path></symbol><symbol id=\\\"ic-delete\\\" viewBox=\\\"0 0 24 24\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M3 6v16h17V6h1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6h1zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M0 3h23v1H0zM8 10h1v6H8v-6zm3 0h1v6h-1v-6zm3 0h1v6h-1v-6z\\\"></path></symbol><symbol id=\\\"ic-draw-free\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M2.5 20.929C2.594 10.976 4.323 6 7.686 6c5.872 0 2.524 19 7.697 19s1.89-14.929 6.414-14.929 1.357 10.858 5.13 10.858c1.802 0 2.657-2.262 2.566-6.786\\\"></path></symbol><symbol id=\\\"ic-draw-line\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M2 15.5h28\\\"></path></symbol><symbol id=\\\"ic-draw\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M2.5 21.5H5c.245 0 .48-.058.691-.168l.124-.065.14.01c.429.028.85-.127 1.16-.437L22.55 5.405a.5.5 0 0 0 0-.707l-3.246-3.245a.5.5 0 0 0-.707 0L3.162 16.888a1.495 1.495 0 0 0-.437 1.155l.01.14-.065.123c-.111.212-.17.448-.17.694v2.5z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M16.414 3.707l3.89 3.89-.708.706-3.889-3.889z\\\"></path></symbol><symbol id=\\\"ic-filter\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M12 7v1H2V7h10zm6 0h4v1h-4V7zM12 16v1h10v-1H12zm-6 0H2v1h4v-1z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M8.5 20a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM15.5 11a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z\\\"></path></symbol><symbol id=\\\"ic-flip-reset\\\" viewBox=\\\"0 0 31 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M31 0H0v32h31z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M28 16a8 8 0 0 1-8 8H3v-1h1v-7H3a8 8 0 0 1 8-8h17v1h-1v7h1zM11 9a7 7 0 0 0-7 7v7h16a7 7 0 0 0 7-7V9H11z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M24 5l3.5 3.5L24 12M7 20l-3.5 3.5L7 27\\\"></path></symbol><symbol id=\\\"ic-flip-x\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M32 32H0V0h32z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M17 32h-1V0h1zM27.167 11l.5 3h-1.03l-.546-3h1.076zm-.5-3h-1.122L25 5h-5V4h5.153a1 1 0 0 1 .986.836L26.667 8zm1.5 9l.5 3h-.94l-.545-3h.985zm1 6l.639 3.836A1 1 0 0 1 28.819 28H26v-1h3l-.726-4h.894zM23 28h-3v-1h3v1zM13 4v1H7L3 27h10v1H3.18a1 1 0 0 1-.986-1.164l3.666-22A1 1 0 0 1 6.847 4H13z\\\"></path></symbol><symbol id=\\\"ic-flip-y\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M0 0v32h32V0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M0 16v1h32v-1zM11 27.167l3 .5v-1.03l-3-.546v1.076zm-3-.5v-1.122L5 25v-5H4v5.153a1 1 0 0 0 .836.986L8 26.667zm9 1.5l3 .5v-.94l-3-.545v.985zm6 1l3.836.639A1 1 0 0 0 28 28.82V26h-1v3l-4-.727v.894zM28 23v-3h-1v3h1zM4 13h1V7l22-4v10h1V3.18a1 1 0 0 0-1.164-.986l-22 3.667A1 1 0 0 0 4 6.847V13z\\\"></path></symbol><symbol id=\\\"ic-flip\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path fill=\\\"inherit\\\" stroke=\\\"none\\\" d=\\\"M11 0h1v24h-1zM19 21v-1h2v-2h1v2a1 1 0 0 1-1 1h-2zm-2 0h-3v-1h3v1zm5-5h-1v-3h1v3zm0-5h-1V8h1v3zm0-5h-1V4h-2V3h2a1 1 0 0 1 1 1v2zm-5-3v1h-3V3h3zM9 3v1H2v16h7v1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7z\\\"></path></symbol><symbol id=\\\"ic-history\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M0 0H24V24H0z\\\" transform=\\\"translate(-740 -16) translate(547 8) translate(193 8)\\\"></path><path fill=\\\"inherit\\\" stroke=\\\"none\\\" d=\\\"M12.5 1C18.299 1 23 5.701 23 11.5S18.299 22 12.5 22c-5.29 0-9.665-3.911-10.394-8.999h1.012C3.838 17.534 7.764 21 12.5 21c5.247 0 9.5-4.253 9.5-9.5S17.747 2 12.5 2C8.49 2 5.06 4.485 3.666 8H3h4v1H2V4h1v3.022C4.68 3.462 8.303 1 12.5 1zm.5 5l-.001 5.291 2.537 2.537-.708.708L12.292 12H12V6h1z\\\" transform=\\\"translate(-740 -16) translate(547 8) translate(193 8)\\\"></path></symbol><symbol id=\\\"ic-history-check\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path stroke=\\\"#555555\\\" d=\\\"M4.5 -1L1.5 2 6.5 7\\\" transform=\\\"translate(-60 -804) translate(60 804) translate(2 3) rotate(-90 4 3)\\\"></path></g></symbol><symbol id=\\\"ic-history-crop\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-84 -804) translate(84 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M2 0h1v10c-.552 0-1-.448-1-1V0zM10 9v3H9V9h1zM9 2h1v6H9V2z\\\" transform=\\\"translate(-84 -804) translate(84 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M2 9H12V10H2zM9 2c.513 0 .936.386.993.883L10 3H3V2h6zM2 3H0V2h2v1z\\\" transform=\\\"translate(-84 -804) translate(84 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-draw\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 1H12V13H0z\\\" transform=\\\"translate(-156 -804) translate(156 803)\\\"></path><path stroke=\\\"#434343\\\" d=\\\"M9.622 1.584l1.835 1.658-8.31 8.407L.5 12.5V11l9.122-9.416z\\\" transform=\\\"translate(-156 -804) translate(156 803)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M7.628 3.753L10.378 3.753 10.378 4.253 7.628 4.253z\\\" transform=\\\"translate(-156 -804) translate(156 803) rotate(45 9.003 4.003)\\\"></path></g></symbol><symbol id=\\\"ic-history-filter\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-276 -804) translate(276 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M12 3v1H9V3h3zM7 4H0V3h7v1z\\\" transform=\\\"translate(-276 -804) translate(276 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M12 8v1H9V8h3zM7 9H0V8h7v1z\\\" transform=\\\"translate(-276 -804) translate(276 804) matrix(-1 0 0 1 12 0)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M8 1c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zM4 7c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1z\\\" transform=\\\"translate(-276 -804) translate(276 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-flip\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-108 -804) translate(108 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M6 0L7 0 7 12 6 12zM11 10V9h1v1.5c0 .276-.224.5-.5.5H10v-1h1zM5 1v1H1v8h4v1H.5c-.276 0-.5-.224-.5-.5v-9c0-.276.224-.5.5-.5H5zm7 5v2h-1V6h1zm0-3v2h-1V3h1zM9 1v1H7V1h2zm2.5 0c.276 0 .5.224.5.5V2h-2V1h1.5zM9 11H7v-1h2v1z\\\" transform=\\\"translate(-108 -804) translate(108 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-icon\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-204 -804) translate(204 804)\\\"></path><path stroke=\\\"#434343\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.1\\\" d=\\\"M6 9.568L2.601 11 2.975 7.467 0.5 4.82 4.13 4.068 6 1 7.87 4.068 11.5 4.82 9.025 7.467 9.399 11z\\\" transform=\\\"translate(-204 -804) translate(204 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-mask\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(-252 -804) translate(252 804)\\\"><path d=\\\"M0 0H12V12H0z\\\"></path><circle cx=\\\"6\\\" cy=\\\"6\\\" r=\\\"2.5\\\" stroke=\\\"#444\\\"></circle><path fill=\\\"#434343\\\" d=\\\"M11.5 0c.276 0 .5.224.5.5v11c0 .276-.224.5-.5.5H.5c-.276 0-.5-.224-.5-.5V.5C0 .224.224 0 .5 0h11zM11 1H1v10h10V1z\\\"></path></g></g></symbol><symbol id=\\\"ic-history-rotate\\\" viewBox=\\\"0 0 24 24\\\"><defs><path id=\\\"rfn4rylffa\\\" d=\\\"M7 12c-.335 0-.663-.025-.983-.074C3.171 11.492 1 9.205 1 6.444c0-1.363.534-2.613 1.415-3.58\\\"></path><mask id=\\\"6f9gn2dysb\\\" width=\\\"6\\\" height=\\\"9.136\\\" x=\\\"0\\\" y=\\\"0\\\" maskUnits=\\\"objectBoundingBox\\\"><use xlink:href=\\\"#rfn4rylffa\\\" stroke=\\\"434343\\\"></use></mask></defs><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(-132 -804) translate(132 804)\\\"><path d=\\\"M0 0.5H12V12.5H0z\\\"></path><path fill=\\\"#434343\\\" d=\\\"M6.5 1C9.538 1 12 3.462 12 6.5c0 2.37-1.5 4.39-3.6 5.163l-.407-.916C9.744 10.13 11 8.462 11 6.5 11 4.015 8.985 2 6.5 2c-.777 0-1.509.197-2.147.544L4 1.75l-.205-.04C4.594 1.258 5.517 1 6.5 1z\\\"></path><use stroke=\\\"#434343\\\" stroke-dasharray=\\\"2 1.25\\\" stroke-width=\\\"1\\\" mask=\\\"url(#6f9gn2dysb)\\\" xlink:href=\\\"#rfn4rylffa\\\"></use><path fill=\\\"#434343\\\" d=\\\"M4.279 0L6 1.75 4.25 3.571 3.543 2.864 4.586 1.75 3.572 0.707z\\\" transform=\\\"matrix(-1 0 0 1 9.543 0)\\\"></path></g></g></symbol><symbol id=\\\"ic-history-shape\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-180 -804) translate(180 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M11.5 4c.276 0 .5.224.5.5v7c0 .276-.224.5-.5.5h-7c-.276 0-.5-.224-.5-.5V8.8h1V11h6V5H8.341l-.568-1H11.5z\\\" transform=\\\"translate(-180 -804) translate(180 804)\\\"></path><path stroke=\\\"#434343\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M4.5 0.5L8.5 7.611 0.5 7.611z\\\" transform=\\\"translate(-180 -804) translate(180 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-text\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-228 -804) translate(228 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M2 1h8c.552 0 1 .448 1 1H1c0-.552.448-1 1-1z\\\" transform=\\\"translate(-228 -804) translate(228 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M1 1H2V3H1zM10 1H11V3H10zM5.5 1L6.5 1 6.5 11 5.5 11z\\\" transform=\\\"translate(-228 -804) translate(228 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M4 10H8V11H4z\\\" transform=\\\"translate(-228 -804) translate(228 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-load\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-324 -805) translate(324 805)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M5 0c.552 0 1 .448 1 1v1h5.5c.276 0 .5.224.5.5v8c0 .276-.224.5-.5.5H.5c-.276 0-.5-.224-.5-.5V1c0-.552.448-1 1-1h4zm0 1H1v9h10V3H5V1z\\\" transform=\\\"translate(-324 -805) translate(324 805)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M1 2L5 2 5 3 1 3z\\\" transform=\\\"translate(-324 -805) translate(324 805)\\\"></path></g></symbol><symbol id=\\\"ic-history-delete\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g fill=\\\"#434343\\\"><path d=\\\"M2 9h8V1h1v8.5c0 .276-.224.5-.5.5h-9c-.276 0-.5-.224-.5-.5V1h1v8zM0 0H12V1H0z\\\" transform=\\\"translate(-300 -804) translate(300 804) translate(0 2)\\\"></path><path d=\\\"M4 3H5V7H4zM7 3H8V7H7z\\\" transform=\\\"translate(-300 -804) translate(300 804) translate(0 2)\\\"></path><path d=\\\"M4 1h4V0h1v1.5c0 .276-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5V0h1v1z\\\" transform=\\\"translate(-300 -804) translate(300 804) matrix(1 0 0 -1 0 2)\\\"></path></g></g></symbol><symbol id=\\\"ic-history-group\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(-348 -804) translate(348 804)\\\"><path d=\\\"M0 0H12V12H0z\\\"></path><path fill=\\\"#434343\\\" d=\\\"M1 9v2h1v1H.5c-.276 0-.5-.224-.5-.5V9h1zm11 1v1.5c0 .276-.224.5-.5.5H9v-1h2v-1h1zm-4 1v1H6v-1h2zm-3 0v1H3v-1h2zm7-4v2h-1V7h1zM1 6v2H0V6h1zm11-2v2h-1V4h1zM1 3v2H0V3h1zm10.5-3c.276 0 .5.224.5.5V3h-1V1h-1V0h1.5zM6 0v1H4V0h2zm3 0v1H7V0h2zM0 .5C0 .224.224 0 .5 0H3v1H1v1H0V.5zM9.5 4c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5V8.355c.317.094.652.145 1 .145V9h4V5h-.5c0-.348-.05-.683-.145-1H9.5z\\\"></path><circle cx=\\\"5\\\" cy=\\\"5\\\" r=\\\"2.5\\\" stroke=\\\"#434343\\\"></circle></g></g></symbol><symbol id=\\\"ic-icon-arrow-2\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M21.793 18.5H2.5v-5h18.935l-7.6-8h5.872l10.5 10.5-10.5 10.5h-5.914l8-8z\\\"></path></symbol><symbol id=\\\"ic-icon-arrow-3\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M25.288 16.42L14.208 27.5H6.792l11.291-11.291L6.826 4.5h7.381l11.661 11.661-.58.258z\\\"></path></symbol><symbol id=\\\"ic-icon-arrow\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M2.5 11.5v9h18v5.293L30.293 16 20.5 6.207V11.5h-18z\\\"></path></symbol><symbol id=\\\"ic-icon-bubble\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M22.207 24.5L16.5 30.207V24.5H8A6.5 6.5 0 0 1 1.5 18V9A6.5 6.5 0 0 1 8 2.5h16A6.5 6.5 0 0 1 30.5 9v9a6.5 6.5 0 0 1-6.5 6.5h-1.793z\\\"></path></symbol><symbol id=\\\"ic-icon-heart\\\" viewBox=\\\"0 0 32 32\\\"><path fill-rule=\\\"nonzero\\\" fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M15.996 30.675l1.981-1.79c7.898-7.177 10.365-9.718 12.135-13.012.922-1.716 1.377-3.37 1.377-5.076 0-4.65-3.647-8.297-8.297-8.297-2.33 0-4.86 1.527-6.817 3.824l-.38.447-.381-.447C13.658 4.027 11.126 2.5 8.797 2.5 4.147 2.5.5 6.147.5 10.797c0 1.714.46 3.375 1.389 5.098 1.775 3.288 4.26 5.843 12.123 12.974l1.984 1.806z\\\"></path></symbol><symbol id=\\\"ic-icon-load\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M17.314 18.867l1.951-2.53 4 5.184h-17l6.5-8.84 4.549 6.186z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M25 3h1v9h-1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M22 6l3.5-3.5L29 6\\\"></path></symbol><symbol id=\\\"ic-icon-location\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M16 31.28C23.675 23.302 27.5 17.181 27.5 13c0-6.351-5.149-11.5-11.5-11.5S4.5 6.649 4.5 13c0 4.181 3.825 10.302 11.5 18.28z\\\"></path><circle fill=\\\"none\\\" stroke=\\\"inherit\\\" cx=\\\"16\\\" cy=\\\"13\\\" r=\\\"4.5\\\"></circle></symbol><symbol id=\\\"ic-icon-polygon\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M.576 16L8.29 29.5h15.42L31.424 16 23.71 2.5H8.29L.576 16z\\\"></path></symbol><symbol id=\\\"ic-icon-star-2\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M19.446 31.592l2.265-3.272 3.946.25.636-3.94 3.665-1.505-1.12-3.832 2.655-2.962-2.656-2.962 1.12-3.832-3.664-1.505-.636-3.941-3.946.25-2.265-3.271L16 3.024 12.554 1.07 10.289 4.34l-3.946-.25-.636 3.941-3.665 1.505 1.12 3.832L.508 16.33l2.656 2.962-1.12 3.832 3.664 1.504.636 3.942 3.946-.25 2.265 3.27L16 29.638l3.446 1.955z\\\"></path></symbol><symbol id=\\\"ic-icon-star\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M25.292 29.878l-1.775-10.346 7.517-7.327-10.388-1.51L16 1.282l-4.646 9.413-10.388 1.51 7.517 7.327-1.775 10.346L16 24.993l9.292 4.885z\\\"></path></symbol><symbol id=\\\"ic-icon\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M11.923 19.136L5.424 22l.715-7.065-4.731-5.296 6.94-1.503L11.923 2l3.574 6.136 6.94 1.503-4.731 5.296L18.42 22z\\\"></path></symbol><symbol id=\\\"ic-mask-load\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01zM15 23a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-1a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M25 3h1v9h-1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M22 6l3.5-3.5L29 6\\\"></path></symbol><symbol id=\\\"ic-mask\\\" viewBox=\\\"0 0 24 24\\\"><circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"4.5\\\" stroke=\\\"inherit\\\" fill=\\\"none\\\"></circle><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 1h20a1 1 0 0 1 1 1v20a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm0 1v20h20V2H2z\\\"></path></symbol><symbol id=\\\"ic-redo\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" opacity=\\\".5\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M21 6H9a6 6 0 1 0 0 12h12v1H9A7 7 0 0 1 9 5h12v1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M19 3l2.5 2.5L19 8\\\"></path></symbol><symbol id=\\\"ic-reset\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" opacity=\\\".5\\\" stroke=\\\"none\\\" fill=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 13v-1a7 7 0 0 1 7-7h13v1h-1v5h1v1a7 7 0 0 1-7 7H2v-1h1v-5H2zm7-7a6 6 0 0 0-6 6v6h12a6 6 0 0 0 6-6V6H9z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M19 3l2.5 2.5L19 8M5 16l-2.5 2.5L5 21\\\"></path></symbol><symbol id=\\\"ic-rotate-clockwise\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M29 17h-.924c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12C4.076 10.398 9.407 5.041 16 5V4C8.82 4 3 9.82 3 17s5.82 13 13 13 13-5.82 13-13z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M16 1.5l4 3-4 3\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M16 4h4v1h-4z\\\"></path></symbol><symbol id=\\\"ic-rotate-counterclockwise\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" d=\\\"M3 17h.924c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.602-5.331-11.96-11.924-12V4c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 24.18 3 17z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M12 4h4v1h-4z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M16 1.5l-4 3 4 3\\\"></path></symbol><symbol id=\\\"ic-rotate\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path fill=\\\"inherit\\\" stroke=\\\"none\\\" d=\\\"M8.349 22.254a10.002 10.002 0 0 1-2.778-1.719l.65-.76a9.002 9.002 0 0 0 2.495 1.548l-.367.931zm2.873.704l.078-.997a9 9 0 1 0-.557-17.852l-.14-.99A10.076 10.076 0 0 1 12.145 3c5.523 0 10 4.477 10 10s-4.477 10-10 10c-.312 0-.62-.014-.924-.042zm-7.556-4.655a9.942 9.942 0 0 1-1.253-2.996l.973-.234a8.948 8.948 0 0 0 1.124 2.693l-.844.537zm-1.502-5.91A9.949 9.949 0 0 1 2.88 9.23l.925.382a8.954 8.954 0 0 0-.644 2.844l-.998-.062zm2.21-5.686c.687-.848 1.51-1.58 2.436-2.166l.523.852a9.048 9.048 0 0 0-2.188 1.95l-.771-.636z\\\"></path><path stroke=\\\"inherit\\\" fill=\\\"none\\\" stroke-linecap=\\\"square\\\" d=\\\"M13 1l-2.5 2.5L13 6\\\"></path></symbol><symbol id=\\\"ic-shape-circle\\\" viewBox=\\\"0 0 32 32\\\"><circle cx=\\\"16\\\" cy=\\\"16\\\" r=\\\"14.5\\\" fill=\\\"none\\\" stroke=\\\"inherit\\\"></circle></symbol><symbol id=\\\"ic-shape-rectangle\\\" viewBox=\\\"0 0 32 32\\\"><rect width=\\\"27\\\" height=\\\"27\\\" x=\\\"2.5\\\" y=\\\"2.5\\\" fill=\\\"none\\\" stroke=\\\"inherit\\\" rx=\\\"1\\\"></rect></symbol><symbol id=\\\"ic-shape-triangle\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M16 2.5l15.5 27H.5z\\\"></path></symbol><symbol id=\\\"ic-shape\\\" viewBox=\\\"0 0 24 24\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M14.706 8H21a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4h1v4h12V9h-5.706l-.588-1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M8.5 1.5l7.5 13H1z\\\"></path></symbol><symbol id=\\\"ic-text-align-center\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 5h28v1H2zM8 12h16v1H8zM2 19h28v1H2zM8 26h16v1H8z\\\"></path></symbol><symbol id=\\\"ic-text-align-left\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 5h28v1H2zM2 12h16v1H2zM2 19h28v1H2zM2 26h16v1H2z\\\"></path></symbol><symbol id=\\\"ic-text-align-right\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 5h28v1H2zM14 12h16v1H14zM2 19h28v1H2zM14 26h16v1H14z\\\"></path></symbol><symbol id=\\\"ic-text-bold\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M7 2h2v2H7zM7 28h2v2H7z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-width=\\\"2\\\" d=\\\"M9 3v12h9a6 6 0 1 0 0-12H9zM9 15v14h10a7 7 0 0 0 0-14H9z\\\"></path></symbol><symbol id=\\\"ic-text-italic\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M15 2h5v1h-5zM11 29h5v1h-5zM17 3h1l-4 26h-1z\\\"></path></symbol><symbol id=\\\"ic-text-underline\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M8 2v14a8 8 0 1 0 16 0V2h1v14a9 9 0 0 1-18 0V2h1zM3 29h26v1H3z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M5 2h5v1H5zM22 2h5v1h-5z\\\"></path></symbol><symbol id=\\\"ic-text\\\" viewBox=\\\"0 0 24 24\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M4 3h15a1 1 0 0 1 1 1H3a1 1 0 0 1 1-1zM3 4h1v1H3zM19 4h1v1h-1z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M11 3h1v18h-1z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M10 20h3v1h-3z\\\"></path></symbol><symbol id=\\\"ic-undo\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M24 0H0v24h24z\\\" opacity=\\\".5\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M3 6h12a6 6 0 1 1 0 12H3v1h12a7 7 0 0 0 0-14H3v1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M5 3L2.5 5.5 5 8\\\"></path></symbol><symbol id=\\\"ic-zoom-in\\\" viewBox=\\\"0 0 24 24\\\"><g transform=\\\"translate(-229 -290) translate(229 290)\\\"><circle cx=\\\"10.5\\\" cy=\\\"10.5\\\" r=\\\"9\\\" stroke=\\\"inherit\\\" fill=\\\"none\\\"></circle><path fill=\\\"inherit\\\" d=\\\"M18.828 15.828H19.828V22.828H18.828z\\\" transform=\\\"rotate(-45 19.328 19.328)\\\"></path><path fill=\\\"inherit\\\" d=\\\"M7 10H14V11H7z\\\"></path><path fill=\\\"inherit\\\" d=\\\"M10 7H11V14H10z\\\"></path></g></symbol><symbol id=\\\"ic-zoom-out\\\" viewBox=\\\"0 0 24 24\\\"><g transform=\\\"translate(-263 -290) translate(263 290)\\\"><circle cx=\\\"10.5\\\" cy=\\\"10.5\\\" r=\\\"9\\\" stroke=\\\"inherit\\\" fill=\\\"none\\\"></circle><path fill=\\\"inherit\\\" d=\\\"M18.828 15.828H19.828V22.828H18.828z\\\" transform=\\\"rotate(-45 19.328 19.328)\\\"></path><path fill=\\\"inherit\\\" d=\\\"M7 10H14V11H7z\\\"></path></g></symbol><symbol id=\\\"ic-hand\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" stroke-linejoin=\\\"round\\\"><path fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M8.672 3.36c1.328 0 2.114.78 2.29 1.869l.014.101.023.006v1.042l-.638-.185c-.187-.055-.323-.211-.354-.399L10 5.713c0-.825-.42-1.353-1.328-1.353C7.695 4.36 7 5.041 7 5.713v7.941c0 .439-.524.665-.843.364l-1.868-1.761c-.595-.528-1.316-.617-1.918-.216-.522.348-.562 1.203-.18 1.8L7.738 22h11.013l.285-.518c1.247-2.326 1.897-4.259 1.96-5.785l.004-.239V8.035c0-.656-.5-1.17-1-1.17-.503 0-1 .456-1 1.17 0 .333-.32.573-.64.48L18 8.41V7.368l.086.026.042-.136c.279-.805.978-1.332 1.738-1.388L20 5.865c1.057 0 2 .967 2 2.17v7.423c0 1.929-.845 4.352-2.521 7.29-.09.156-.255.252-.435.252H7.474c-.166 0-.321-.082-.414-.219l-5.704-8.39c-.653-1.019-.584-2.486.46-3.182 1-.666 2.216-.516 3.148.31L6 12.495V5.713c0-1.18 1.058-2.263 2.49-2.348z\\\" transform=\\\"translate(-297 -290) translate(297 290)\\\"></path><path fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M12.5 1.5c1.325 0 2.41 1.032 2.495 2.336L15 4v7.22h-1V4c0-.828-.672-1.5-1.5-1.5-.78 0-1.42.595-1.493 1.356L11 4v7.22h-1V4c0-1.38 1.12-2.5 2.5-2.5z\\\" transform=\\\"translate(-297 -290) translate(297 290)\\\"></path><path fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M16.5 3.5c1.325 0 2.41 1.032 2.495 2.336L19 6v6.3h-1V6c0-.828-.672-1.5-1.5-1.5-.78 0-1.42.595-1.493 1.356L15 6v2.44h-1V6c0-1.38 1.12-2.5 2.5-2.5z\\\" transform=\\\"translate(-297 -290) translate(297 290)\\\"></path></g></symbol></defs></svg>\";\n        /***/\n      },\n\n      /***/\n      \"fabric\":\n      /*!****************************************************************************************************************!*\\\n        !*** external {\"commonjs\":[\"fabric\",\"fabric\"],\"commonjs2\":[\"fabric\",\"fabric\"],\"amd\":\"fabric\",\"root\":\"fabric\"} ***!\n        \\****************************************************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = __WEBPACK_EXTERNAL_MODULE_fabric__;\n        /***/\n      },\n\n      /***/\n      \"tui-code-snippet\":\n      /*!******************************************************************************************************************************!*\\\n        !*** external {\"commonjs\":\"tui-code-snippet\",\"commonjs2\":\"tui-code-snippet\",\"amd\":\"tui-code-snippet\",\"root\":[\"tui\",\"util\"]} ***!\n        \\******************************************************************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = __WEBPACK_EXTERNAL_MODULE_tui_code_snippet__;\n        /***/\n      },\n\n      /***/\n      \"tui-color-picker\":\n      /*!*************************************************************************************************************************************!*\\\n        !*** external {\"commonjs\":\"tui-color-picker\",\"commonjs2\":\"tui-color-picker\",\"amd\":\"tui-color-picker\",\"root\":[\"tui\",\"colorPicker\"]} ***!\n        \\*************************************************************************************************************************************/\n\n      /*! no static exports found */\n\n      /***/\n      function (module, exports) {\n        module.exports = __WEBPACK_EXTERNAL_MODULE_tui_color_picker__;\n        /***/\n      }\n      /******/\n\n    })\n  );\n});","map":{"version":3,"mappings":"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A;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEA;UACA;;UACA;YACA;YACA;YACA;YACA,mCAJA,CAKA;;YACA;UACA,CATA,CAUA;;;UACA,qEAXA,CAYA;UACA;UACA;;UACA,6EAfA,CAgBA;;UACA;;UACA;YACAiB;cAAsB;YAAc,CAApC,EAAoC;cAAe;YAAc,CAAjE;UACA,CAFA;;UAGA;UACAgK;UACA;YAAqC;UAAc,CAAnD,aAAmDC,WAAnD;QACC,CAxBD;QA0BA;UACAC;YAAyD;UAAc,CAAvE;QACC,CAFD,GAIA;;QACA;UACA;UACA;QACA,CAHA;;QAKA;UACA;UACAf;UACA;UACAgB;YACA;YACA;YACA,cAHA,CAIA;;YACA;cACA;cACA;cACA;cACA;cACA;cACA;;cACA;gBACA;kBACA;oBACA;oBACAhB;kBACA;;kBACA,0CACA;oBACA;oBACA3D,wBAFA,CAEoC;;oBACpC;sBACA4E;sBACAC;oBACA;kBACA;;kBACA;oBACA1D;kBACW,CAFX,MAEW;oBACXH;kBACW,CAFA,MAEAE;gBACF,CAnBT,MAmBSC;cACF,CArBP,CAqBO;gBACP;gBACAA;cACA;YACA;;YACAwC;YACAA;YACA;UACG,CAzCH;QA0CA,CA9CA;;QAgDA;UACA;;UACA;YACAmB;YACAA;YACAA;YACAA;YACA1C;UACG,CANH,MAMG0C;YAAe/D,gBAAf;YAAeoD;UAAf;;UACH,uDACA;QACA,CAXA;;QAaA;UACAY;YACA;YACA;YACA;;YACA;cACA/E;gBACA;kBACAW;gBACS,CAFT,MAESqE;cACF,CAJP,EADA,CAMA;;cACArB;cACA;YACA;UACG,CAdH;QAeA,CAhBA;;QAkBA;UACA;QACA,CAFA;;QAIA;UACAoB;YACA;cACApE;YACK,CAFL,MAEKqE;UACF,CAJH;QAKA,CANA;;QAQA;UACA;YACAzE;UACA,CAFA;QAGA,CAJA;;QAMA;UACA;UACAoD;UACA;UACAA;UACAA;UACAjD;QACA,CAPA;;QASA;UACA;UACAiD;UACA;;UA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","names":["module","define","exports","root","window","i","l","modules","__webpack_require__","Object","enumerable","get","value","bind","key","length","index","includes","indexOf","next","done","SAFE_CLOSING","iteratorWithReturn","Array","object","exec","toString","CORRECT_ARGUMENTS","F","IteratorPrototype","IteratorConstructor","setToStringTag","Iterators","configurable","writable","createIteratorConstructor","IterablePrototype","DEFAULT","CurrentIteratorPrototype","setPrototypeOf","createNonEnumerableProperty","INCORRECT_VALUES_NAME","defaultIterator","methods","values","keys","entries","redefine","$","target","proto","forced","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","match","version","f","Wrapper","prototype","FORCED","USE_NATIVE","targetProperty","descriptor","nativeProperty","sourceProperty","resultProperty","VIRTUAL_PROTOTYPE","path","aFunction","it","check","Function","hasOwnProperty","arguments","a","store","set","wmset","has","hiddenKeys","enforce","getterFor","iterator","iterFn","result","boundFunction","iterate","arrayIterator","PrototypeOfArrayIteratorPrototype","BUGGY_SAFARI_ITERATORS","flush","fn","head","last","notify","process","toggle","node","characterData","promise","then","macrotask","resolve","reject","activeXDocument","iframe","html","iframeDocument","NullProtoObject","EmptyConstructor","anObject","P","O","propertyIsEnumerable","nativePropertyIsEnumerable","setter","CORRECT_SETTER","aPossiblePrototype","undefined","error","global","defineProperty","push","mode","copyright","first","second","CONVERT_TO_STRING","codeAt","charAt","run","queue","defer","clear","Dispatch","channel","port","setTimeout","test","WellKnownSymbolsStore","setInternalState","type","kind","state","addToUnscopables","stat","allSettled","remaining","promiseResolve","alreadyCalled","status","reason","NativePromise","real","isFunction","onFinally","constructor","FakePromise","PromiseConstructor","microtask","domain","exited","event","task","dispatchEvent","internalReject","anInstance","Internal","executor","notified","parent","reactions","rejection","reaction","OwnPromiseCapability","newPromiseCapabilityModule","newGenericPromiseCapability","nativeThen","onFulfilled","onRejected","unsafe","fetch","wrap","Promise","setSpecies","PromiseWrapper","capability","all","$promiseResolve","race","defineIterator","string","point","that","errors","$AggregateError","message","name","AggregateError","any","alreadyResolved","alreadyRejected","g","ImageEditor","getActions","main","_mainAction","shape","_shapeAction","crop","_cropAction","flip","_flipAction","rotate","_rotateAction","text","_textAction","mask","_maskAction","draw","_drawAction","icon","_iconAction","filter","_filterAction","history","_historyAction","exitCropOnAction","_this","ui","submenu","stopDrawingMode","changeMenu","setAngleRangeBarOnAction","angle","setRangeBarAngle","setFilterStateRangeBarOnAction","filterOptions","setFilterState","onEndUndoRedo","toggleZoomMode","zoomMode","_graphics","getZoomMode","zoomModes","ZOOM","startDrawingMode","drawingModes","startZoomInMode","endZoomInMode","toggleHandMode","HAND","startHandMode","endHandMode","initFilterState","initFilterCheckBoxState","initLoadImage","imagePath","imageName","loadImageFromURL","sizeValue","initializeImgUrl","resizeEditor","imageSize","clearUndoStack","_invoker","fire","eventNames","EXECUTE_COMMAND","historyNames","LOAD_IMAGE","undo","isEmptyUndoStack","deactivateAll","redo","isEmptyRedoStack","reset","_initHistory","delete","changeHelpButtonEnabled","removeActiveObject","activeObjectId","deleteAll","clearObjects","load","file","alert","URL","createObjectURL","loadImageFromFile","activeMenuEvent","_clearHistory","download","dataURL","toDataURL","getImageName","blob","w","saveAs","split","pop","open","document","body","innerHTML","toggleHistoryMenu","zoomIn","toggleZoomButtonStatus","zoomOut","hand","offZoomInButtonStatus","_commonAction","changeColor","color","_this2","changeIconColor","addIcon","iconType","iconColor","setDrawingIcon","cancelAddIcon","clearIconType","changeSelectableAll","changeCursor","registerDefaultIcons","iconObj","registerIcons","registerCustomIcon","imgUrl","imagetracer","Imagetracer","imageToSVG","svgstr","svgPath","left","top","tracerDefaultOption","setDrawMode","settings","_this3","setColor","setBrush","_this4","addImageObject","revokeObjectURL","LOAD_MASK_IMAGE","applyFilter","maskObjId","changeTextStyle","styleObj","isSilent","_this5","_this6","setAngle","changeShape","changeShapeObject","_this7","setDrawingShape","shapeType","cropRect","_this8","getCropzoneRect","CROP","cancel","preset","presetType","setCropzoneRect","changeApplyButtonStatus","flipType","_this9","applying","options","_this10","hasFilter","removeFilter","setReAction","on","undoStackChanged","_this11","redoStackChanged","objectActivated","obj","id","setShapeStatus","strokeColor","stroke","strokeWidth","fillColor","fill","setMaxStrokeValue","Math","min","width","height","changeStandbyMode","setTextStyleStateOnAction","setIconPickerColor","addText","pos","textColor","fontSize","fontStyle","fontWeight","underline","fontFamily","position","originPosition","styles","addObjectAfter","objectScaled","strokeValue","getStrokeValue","setStrokeValue","selectionCleared","count","_this12","TEXT","CROPPER","SHAPE","modeChange","menu","drawingMenuNames","_this13","_changeActivateMode","discardSelection","mixin","ICON","componentNames","command","commandNames","ADD_ICON","execute","graphics","iconComp","getComponent","add","objectProps","undoData","getObject","remove","commandFactory","register","ADD_IMAGE_OBJECT","ADD_OBJECT","contains","rejectMessages","addedObject","noObject","ADD_SHAPE","shapeComp","ADD_TEXT","textComp","undoObject","textObject","FILTER","cachedUndoDataForSilent","makeUndoData","prevfilterOption","APPLY_FILTER","filterComp","maskObj","isType","invalidParameters","snippet","extend","isRedo","getOptions","setUndoData","setActiveObject","CHANGE_ICON_COLOR","targetObj","getColor","CHANGE_SELECTION","props","forEach","prop","setObjectProperties","datum","forEachOwnProperties","CHANGE_SHAPE","change","CHANGE_TEXT","getText","textObj","undoValue","CHANGE_TEXT_STYLE","setStyle","CLEAR_OBJECTS","objects","removeAll","FLIP","FLIP_IMAGE","flipComp","setting","getCurrentSetting","IMAGE_LOADER","loader","prevImage","getCanvasImage","prevImageWidth","prevImageHeight","objectItem","evented","image","newImage","oldWidth","oldHeight","newWidth","newHeight","REMOVE_FILTER","REMOVE_OBJECT","removeObjectById","RESIZE_CANVAS_DIMENSION","dimension","size","cssMaxWidth","cssMaxHeight","setCssMaxDimension","adjustCanvasDimension","ROTATION","rotationComp","getCurrentAngle","ROTATE_IMAGE","args","SET_OBJECT_POSITION","posInfo","objectId","getObjectProperties","setObjectPosition","renderAll","SET_OBJECT_PROPERTIES","MOUSE_MOVE_THRESHOLD","DEFAULT_OPTION","presetRatio","Cropper","_classCallCheck","_cropzone","_startX","_startY","_withShiftKey","_listeners","keydown","_onKeyDown","keyup","_onKeyUp","mousedown","_onFabricMouseDown","mousemove","_onFabricMouseMove","mouseup","_onFabricMouseUp","canvas","getCanvas","forEachObject","Cropzone","cornerSize","cornerColor","CROPZONE_DEFAULT_OPTIONS","cropSelectionStyle","discardActiveObject","selection","defaultCursor","fabric","util","addListener","cropzone","off","removeListener","visible","fEvent","coord","getPointer","e","x","y","pointer","abs","_calcRectDimensionFromPoint","canvasWidth","getWidth","canvasHeight","getHeight","startX","startY","listeners","containsCropzone","imageData","url","isValid","_getPresetPropertiesForCropSize","originalWidth","originalHeight","standardSize","getScale","orignalValue","scaleWidth","map","scaleHeight","keyCode","keyCodes","SHIFT","Component","filters","Image","Mask","Sharpen","Emboss","ColorFilter","Filter","sourceImg","_getSourceImage","imgFilter","_getFilter","_createFilter","_changeFilterValues","_apply","action","unsupportedOperation","_removeFilter","callback","applyFilters","filterObj","fabricType","_getFabricFilterType","ImageFilter","item","toUpperCase","slice","Flip","canvasImage","flipX","flipY","newSetting","isChangingFlipX","isChangingFlipY","setImageProperties","_invertAngle","_flipObjects","parseFloat","setCoords","current","FreeDrawing","FREE_DRAWING","oColor","Color","isDrawingMode","brush","freeDrawingBrush","toRgba","pathMap","arrow","Icon","_oColor","_pathMap","_type","_iconColor","_handlers","selectionStyle","fObjectOptions","SELECTION_STYLE","_createIcon","_icon","controlStyle","createObjectProperties","pathInfos","Path","_startPoint","events","moveOriginPointer","scaleX","scaleY","OBJECT_ADDED","imageOption","padding","crossOrigin","ImageLoader","img","backgroundImage","setCanvasImage","_setBackgroundImage","oImage","loadImage","setBackgroundImage","getElement","loadingImageFailed","Line","LINE","_width","arrowType","tail","_arrowType","setHeadOption","points","_line","ArrowLine","_createLineEventObjectProperties","x2","y2","params","x1","y1","startPosition","endPosition","Rotation","oldAngle","oldImageCenter","getCenterPoint","newImageCenter","_rotateForEachObject","angleDiff","centerDiff","objCenter","radian","degreesToRadians","newObjCenter","rotatePoint","additionalAngle","SHAPE_INIT_OPTIONS","rx","ry","SHAPE_DEFAULT_OPTIONS","DEFAULT_TYPE","DEFAULT_WIDTH","DEFAULT_HEIGHT","makeFabricFillOption","createStaticCanvas","fillOption","fillType","extOption","newStaticCanvas","Shape","_shapeObj","_options","_isSelected","uniformScaling","extendOption","_extendOptions","shapeObj","_createInstance","objectProperties","_bindEventOnShape","_resetPositionFillFilter","unsupportedType","hasFillOption","fillProp","SHAPE_FILL_TYPE","fillImage","filterOption","COLOR","originalShapeObj","instance","Rect","Ellipse","Triangle","selectionStyles","self","added","resizeHelper","setOrigins","selected","deselected","modified","currentObj","adjustOriginToCenter","modifiedInGroup","activeSelection","_fillFilterRePositionInGroupSelection","moving","rotating","scaling","setCursor","resize","startPointX","startPointY","isRegular","KEY_CODES","patternSourceCanvas","originalAngle","originX","originY","addWithUpdate","realizeTransform","defaultStyles","resetStyles","textAlign","DBCLICK_TIME","Text","_defaultStyles","_selectedObj","_editingObj","select","_onFabricSelect","selectClear","_onFabricSelectClear","_onFabricScaling","textChanged","_onFabricTextChanged","_textarea","_ratio","_lastClickTime","Date","getTime","_editingObjInfos","isPrevEditing","adjustOriginPosition","setCanvasRatio","editStatus","getPointByOrigin","newText","_setInitPos","isExisty","autofocus","IText","enterEditing","selectAll","getActiveObject","activeObj","val","_getTextDecorationAdaptObject","textDecoration","canvasElement","getCanvasElement","cssWidth","parseInt","style","maxWidth","originWidth","linethrough","overline","ratio","getCanvasRatio","textareaStyle","ceil","editingObj","editingObjInfos","textContent","transWidth","transHeight","display","stamp","TEXT_CHANGED","scrollLeft","scrollTop","getSelectedObj","setSelectedInfo","_fireAddText","originPointer","clientPosition","clientX","clientY","newClickTime","_isDoubleClick","isEditing","TEXT_EDITING","DEFAULT_SCROLL_OPTION","opacity","selectable","hoverCursor","DEFAULT_VERTICAL_SCROLL_RATIO","SIZE","MARGIN","BORDER_RADIUS","DEFAULT_HORIZONTAL_SCROLL_RATIO","DEFAULT_ZOOM_LEVEL","ZOOM_CHANGED","OBJECT_MODIFIED","KEY_DOWN","KEY_UP","HAND_STARTED","HAND_STOPPED","Zoom","zoomArea","_centerPoints","zoomLevel","startZoom","_onMouseDownWithZoomMode","moveZoom","_onMouseMoveWithZoomMode","stopZoom","_onMouseUpWithZoomMode","startHand","_onMouseDownWithHandMode","moveHand","_onMouseMoveWithHandMode","stopHand","_onMouseUpWithHandMode","zoomChanged","_changeScrollState","_startHandModeWithSpaceBar","_endHandModeWithSpaceBar","aspectRatio","_verticalScroll","_horizontalScroll","_startTextEditingHandler","_stopTextEditingHandler","isTextEditing","withSpace","SPACE","_changeObjectsEventedState","_startHandPoint","deltaX","deltaY","center","_getCenterPoint","_isMaxZoomLevel","prevZoomLevel","zoomToPoint","_fireZoomChanged","centerPoints","prevX","prevY","_isDefaultZoomLevel","setViewportTransform","_movePointOfZoom","viewport","tl","tr","bl","viewportWidth","viewportHeight","horizontalScrollWidth","horizontalScrollHeight","horizontalScrollLeft","horizontalScrollMargin","horizontalScrollBorderRadius","verticalScrollWidth","verticalScrollHeight","verticalScrollTop","verticalScrollMargin","verticalScrollBorderRadius","_addScrollBar","scrollBarTid","clearTimeout","calcViewportBoundaries","ZOOM_HELP_MENUS","COMMAND_HELP_MENUS","DELETE_HELP_MENUS","HELP_MENUS","SHAPE_TYPE","OBJ_TYPE","CROPZONE","filterType","VINTAGE","SEPIA2","REMOVE_COLOR","COLOR_FILTER","REMOVE_WHITE","BLEND_COLOR","BLEND","lockSkewingX","lockSkewingY","bringForward","hasRotatingPoint","hasBorders","lockScalingFlip","lockRotation","OBJECT_ACTIVATED","OBJECT_MOVED","OBJECT_SCALED","OBJECT_CREATED","OBJECT_ROTATED","ICON_CREATE_RESIZE","ICON_CREATE_END","ADD_OBJECT_AFTER","MOUSE_DOWN","MOUSE_UP","MOUSE_MOVE","REDO_STACK_CHANGED","UNDO_STACK_CHANGED","SELECTION_CLEARED","SELECTION_CREATED","AFTER_UNDO","AFTER_REDO","INPUT_BOX_EDITING_STARTED","INPUT_BOX_EDITING_STOPPED","FOCUS","BLUR","selectorNames","COLOR_PICKER_INPUT_BOX","ADD_MASK_IMAGE","Z","Y","C","V","BACKSPACE","DEL","ARROW_DOWN","ARROW_UP","borderColor","transparentCorners","invalidDrawingMode","isLock","noActiveObject","rotation","defaultIconPath","defaultRotateRangeValues","realTimeEvent","max","defaultDrawRangeValues","defaultShapeStrokeValues","defaultTextRangeValues","defaultFilterRangeValues","tintOpacityRange","useDecimal","removewhiteDistanceRange","brightnessRange","noiseRange","pixelateRange","colorfilterThresholdRange","blurFilterRange","emptyCropRectValues","LEFT","TOP","WIDTH","HEIGHT","CropperDrawingMode","cropper","components","start","end","DrawingMode","FreeDrawingMode","freeDrawing","IconDrawingMode","LineDrawingMode","LINE_DRAWING","lineDrawing","ShapeDrawingMode","TextDrawingMode","ZoomDrawingMode","zoom","ARROW_ANGLE","CHEVRON_SIZE_RATIO","TRIANGLE_SIZE_RATIO","RADIAN_CONVERSION_VALUE","createClass","initialize","callSuper","_render","ctx","calcLinePoints","fromX","fromY","toX","toY","linePosition","lineWidth","_renderBasicLinePath","_drawDecoratorPath","_renderStroke","beginPath","moveTo","lineTo","_drawDecoratorPathType","_drawTrianglePath","_drawChevronPath","decorateSize","closePath","standardX","standardY","compareX","compareY","atan2","PI","rotatedPosition","changeAngle","getRotatePosition","distance","referencePosition","cos","sin","BaseFilter","threshold","applyTo","canvasEl","context","getContext","getImageData","data","filterColor","sourceFromHex","len","_getColor","_isOutsideThreshold","putImageData","color1","color2","diff","bytes","CORNER_TYPE_TOP_LEFT","CORNER_TYPE_TOP_RIGHT","CORNER_TYPE_MIDDLE_TOP","CORNER_TYPE_MIDDLE_LEFT","CORNER_TYPE_MIDDLE_RIGHT","CORNER_TYPE_MIDDLE_BOTTOM","CORNER_TYPE_BOTTOM_LEFT","CORNER_TYPE_BOTTOM_RIGHT","CORNER_TYPE_LIST","NOOP_FUNCTION","cornerTypeValid","selectedCorner","getScaleBasis","diffX","diffY","extendsOptions","_addEventHandler","canvasEventDelegation","eventName","delegationState","isRegistered","canvasEventTrigger","canvasEventRegister","eventTrigger","_onMoving","_onScaling","_renderCropzone","cropzoneDashLineWidth","cropzoneDashLineOffset","originalFlipX","originalFlipY","originalScaleX","originalScaleY","scale","_fillOuterRect","_fillInnerRect","_strokeBorder","lineDashWidth","lineDashOffset","fillStyle","_getCoordinates","save","restore","outerX","outerY","_caculateInnerPosition","strokeStyle","outer","halfWidth","halfHeight","setLineDash","maxLeft","maxTop","transform","corner","_calcScalingSizeFromPointer","isCornerTypeValid","_resizeCropZone","adjustRatioCropzoneSize","leftMaker","topMaker","maxHeight","scaleTo","maxScaleFactor","v","_getCropzoneRectInfo","getBoundingRect","rectTop","rectLeft","rectWidth","rectHeight","rectRight","rectBottom","resizeInfoMap","mt","ml","mr","mb","br","Convolute","matrix","BlendImage","pipelineState","maskCanvasEl","_createCanvasOfMask","maskCtx","_drawMask","_mapData","createCanvasElement","maskImg","translate","drawImage","imgHeight","imgWidth","sourceData","maskData","commands","create","actions","Command","types","messages","UN_IMPLEMENTATION","NO_COMPONENT_NAME","methodName","toLowerCase","func","isArray","isString","forEachArray","CustomEvents","DEFAULT_CSS_MAX_WIDTH","DEFAULT_CSS_MAX_HEIGHT","EXTRA_PX_FOR_PASTE","cssOnly","backstoreOnly","Graphics","element","targetObjectForCopyPaste","_objects","_canvas","_drawingMode","NORMAL","_drawingModeMap","_componentMap","_handler","onMouseDown","_onMouseDown","onObjectAdded","_onObjectAdded","onObjectRemoved","_onObjectRemoved","onObjectMoved","_onObjectMoved","onObjectScaled","_onObjectScaled","onObjectModified","_onObjectModified","onObjectRotated","_onObjectRotated","onObjectSelected","_onObjectSelected","onPathCreated","_onPathCreated","onSelectionCleared","_onSelectionCleared","onSelectionCreated","_onSelectionCreated","_setObjectCachingToFalse","_setCanvasElement","_createDrawingModeInstances","_createComponents","_attachCanvasEvents","_attachZoomEvents","wrapperEl","parentNode","removeChild","_detachZoomEvents","attachKeyboardZoomEvents","detachKeyboardZoomEvents","theArgs","getObjects","includesBackground","isValidGroup","isEmpty","_activeObject","activeObject","isSelection","group","Group","_addFabricObject","getObjectId","ActiveSelection","option","_isSameDrawingMode","drawingModeInstance","_getDrawingModeInstance","getDrawingMode","resetZoom","changeVisibility","dataUrl","maxDimension","_calcMaxDimension","setCanvasCssDimension","setCanvasBackstoreDimension","centerObject","setDimensions","withRendering","_callbackAfterLoadingImageObject","fromURL","getCenter","getCroppedImageData","drawingMode","compName","setStates","registerPaths","cursorType","clone","targetOrigin","centerOrigin","staticCanvas","StaticCanvas","enableRetinaScaling","modeName","objectCaching","selectedElement","nodeType","querySelector","nodeName","createElement","appendChild","Canvas","containerClass","_register","getName","wScaleFactor","hScaleFactor","floor","centerPos","handler","_removeFabricObject","_lazyFire","items","paramsMaker","existEventDelegation","predefinedKeys","_createTextProperties","makeFillPropertyForUserEvent","targetObject","isGroupSelect","targetObjects","newTargetObject","_cloneObject","addedObjects","getActiveSelectionFromObjects","_cloneObjectItem","_copyFabricObjectForPaste","clonedObject","addExtraPx","isReverse","_copyFabricObject","getCanvasSize","rightEdge","bottomEdge","cloned","processForCopiedObject","ImageTracer","pathomit","ltres","qtres","strokewidth","viewbox","linefilter","desc","rightangleenhance","pal","r","b","versionnumber","optionpresets","default","corsenabled","colorsampling","numberofcolors","mincolorratio","colorquantcycles","layering","roundcoords","lcpr","qcpr","blurradius","blurdelta","posterized1","posterized2","curvy","sharp","detailed","smoothed","grayscale","fixedpalette","randomsampling1","randomsampling2","artistic1","artistic2","artistic3","artistic4","posterized3","pathscan_combined_lookup","gks","specpalette","checkoptions","imagedataToSVG","getImgdata","imgd","td","imagedataToTracedata","getsvgstring","ii","colorquantization","tracedata","layers","palette","array","colornum","tracedlayer","batchtracepaths","internodes","pathscan","layeringstep","ls","layercontainerid","drawLayers","bps","batchpathscan","bis","batchinternodes","batchtracelayers","ok","k","arr","idx","cd","cdl","ci","paletteacc","pixelnum","j","cnt","generatepalette","samplepalette","samplepalette2","blur","n","random","ni","sqrt","nj","vx","vy","rcnt","gcnt","bcnt","graystep","colorqnum","pow","colorstep","rndnum","ah","aw","n1","n2","n3","n4","n5","n6","n7","n8","cnum","layer","paths","pacnt","pcnt","px","py","h","dir","pathfinished","holepath","lookuprow","boundingbox","holechildren","t","isholepath","parentidx","parentbbox","parentcnt","boundingboxincludes","childbbox","bpaths","ins","palen","nextidx","nextidx2","previdx","previdx2","testrightangle","linesegment","getdirection","idx1","idx2","idx3","idx4","idx5","binternodes","segtype1","segtype2","seqend","smp","segments","concat","fitseq","seqstart","errorpoint","errorval","curvepass","dist2","pl","fitpoint","t1","t2","t3","cpx","cpy","x3","y3","splitpoint","internodepaths","btracedpaths","tracepath","btbis","places","Number","toFixed","lnum","pathnum","str","tosvgcolorstr","roundtodec","hcnt","hsmp","lcnt","svgpathstring","c","parentid","div","getElementById","radius","delta","d","racc","gacc","bacc","aacc","wacc","imgd2","thisgk","himgd","Uint8ClampedArray","src","onload","torgbastr","fillRect","setCachedUndoDataForDimension","getCachedUndoDataForDimension","makeSelectionUndoData","makeSelectionUndoDatum","cachedUndoDataForChangeDimension","undoDatumMaker","getFillImageFromShape","rePositionFilterTypeFillImage","makeFilterOptionFromFabricImage","makeFillPatternForFilter","resetFillPatternCanvas","reMakePatternImageSource","getCachedCanvasImageElement","FILTER_OPTION_MAP","pixelate","POSITION_DIMENSION_MAP","FILTER_NAME_VALUE_MAP","cachedCanvasImageElement","rotatedShapeCornerDimension","getRotatedDimension","right","bottom","diffLeft","diffTop","cropX","cropY","fillImageMaxSize","calculateFillImageDimensionOutsideCanvas","imageObject","overflowAreaPositionFixer","outDistance","imageLeft","imageTop","calculateDistanceOverflowPart","calculateDimensionLeftTopEdge","calculateDimensionRightBottomEdge","insideCanvasRealImageWidth","insideCanvasRealImageHeight","cropDistance2","cropDistance","compareSize","copiedCanvasElement","makeFillImage","fabricProperty","Pattern","source","repeat","innerImage","newFillImage","toCanvasElement","shapePointNavigation","getShapeEdgePoint","shapeNeighborPointNavigation","linePointsOutsideCanvas","calculateLinePointsOutsideCanvas","reatAngles","calculateLineAngleOfOutsideCanvas","startPointIndex","diffPosition","getReversePositionForFlip","rotationChangePoint1","rotationChangePoint2","isForward","isReverseLeftPositionForFlip","isReverseTopPositionForFlip","minimumPoint","minimumPointIndex","endPointIndex1","endPointIndex2","linePointsOfOneVertexIndex","horizontalVerticalAngle","pointIndex","startPoint","endPoint","ax","ay","bx","by","cx","cy","dx","dy","currentCanvasImageAngle","fabricFilterClassName","DIVISOR","rect","circle","triangle","DIMENSION_KEYS","setStartPoint","originKey","substring","origins","getPositionsOfRotatedOrigin","origin","sx","sy","hasCenterOrigin","adjustOriginByStartPoint","centerPoint","originPositions","adjustOriginByMovingPointer","setPositionByOrigin","adjustDimensionOnScaling","dimensionKeys","maxScale","hasControls","adjustDimensionOnMouseMove","divisor","isTriangle","leftTopPoint","rightTopPoint","rightBottomPoint","leftBottomPoint","lt","rt","rb","lb","isScaling","isUndefined","wrapper","includeUI","usageStatistics","UIOption","UI","setUiDefaultSelectionStyle","Invoker","getEditorArea","_onObjectActivated","objectMoved","objectRotated","objectAdded","objectModified","createdPath","_onCreatedPath","_onAddText","addObject","_onAddObject","textEditing","_onTextEditing","_onTextChanged","iconCreateResize","_onIconCreateResize","iconCreateEnd","_onIconCreateEnd","_selectionCleared","selectionCreated","_selectionCreated","_attachInvokerEvents","_attachGraphicsEvents","_attachDomEvents","_setSelectionStyle","applyCropSelectionStyle","applyGroupSelectionStyle","initCanvas","_attachColorPickerInputBoxEvents","enableGLFiltering","isColorPickerInputBoxEditing","setSelectionStyle","setCropSelectionStyle","eventTarget","addEventListener","removeEventListener","ctrlKey","metaKey","isModifierKey","resetTargetObjectForCopyPaste","pasteObject","clearRedoStack","isDeleteKey","isRemoveReady","isReadyRemoveObject","preventDefault","getActiveObjectIdForRemove","removeObject","pushUndoStack","initHistory","clearHistory","commandName","executeSilent","iterationCount","imgFile","_flip","_rotate","setIconStyle","_setPositions","executeMethodName","_pushAddObjectCommand","_pushModifyObjectCommand","infos","_detachDomEvents","destroy","_detachColorPickerInputBoxEvents","centerPosition","keyValue","getObjectPosition","createMessage","errorMessage","errorTypes","executeCallback","undoCallback","Error","apply","getEditor","_undoStack","_redoStack","_isLocked","_isSilent","lock","unlock","pushRedoStack","_invokeExecution","_fireUndoStackChanged","_invokeUndo","_fireRedoStackChanged","Element","matches","msMatchesSelector","webkitMatchesSelector","closest","s","el","documentElement","parentElement","createElementNS","view","classListProp","protoProp","elemCtrProto","objCtr","strTrim","String","trim","replace","arrIndexOf","DOMEx","code","DOMException","checkTokenAndGetIndex","classList","token","call","ClassList","elem","trimmedClasses","getAttribute","classes","_updateClassName","setAttribute","classListProto","classListGetter","tokens","updated","splice","force","method","join","classListPropDesc","ex","number","__defineGetter__","testElement","createMethod","original","_toggle","cache","checkUseElems","tid","debouncedCheck","unobserveChanges","observeChanges","observer","MutationObserver","observe","childList","subtree","attributes","disconnect","ignore","createRequest","getOrigin","loc","protocol","href","host","Request","origin2","XMLHttpRequest","location","withCredentials","XDomainRequest","xlinkNS","base","bcr","fallback","hash","inProgressCount","isHidden","uses","xhr","observeIfDone","attrUpdateFunc","spec","useEl","setAttributeNS","hasAttribute","onloadFunc","svg","responseText","getElementsByTagName","overflow","insertBefore","firstChild","onErrorTimeout","onerror","ontimeout","getBoundingClientRect","getAttributeNS","send","abort","winLoad","readyState","SUB_UI_COMPONENT","Crop","Rotate","Draw","BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION","HISTORY_MENU","HISTORY_PANEL_CLASS_NAME","CLASS_NAME_ON","ZOOM_BUTTON_TYPE","ZOOM_IN","Ui","_initializeOption","_actions","uiSize","_locale","Locale","locale","theme","Theme","eventHandler","_submenuChangeTransection","_selectedElement","_mainElement","_editorElementWrap","_editorElement","_menuBarElement","_subMenuElement","_makeUiElement","_setUiSize","_initMenuEvent","_makeSubMenu","_attachHistoryEvent","_attachZoomEvent","_removeUiEvent","_destroyAllMenu","cornerStyle","cornerStrokeColor","_getCanvasMaxDimension","editorElementStyle","menuBarPosition","_setEditorPosition","selectElementClassList","offsetWidth","targetClassList","_buttonElements","zoomInClassList","enabled","handClassList","buttonType","enableStatus","buttonClassList","menuIconPath","initMenu","elementDimension","menuName","SubComponentClass","$0","_makeMenuElement","makeSvgIcon","makeMenSvgIconSet","_addHistory","_selectPrevHistory","_selectNextHistory","changeHandButtonStatus","selector","biImage","getStyle","loadButtonStyle","downloadButtonStyle","commonStyle","headerStyle","submenuStyle","_helpMenuBarElement","querySelectorAll","_addHelpMenus","_historyMenu","History","_activateZoomMenus","helpMenuWithPartition","_makeHelpMenuWithPartition","_makeMenuPartitionElement","partitionElement","partitionInnerElement","className","useIconTypes","menuType","btnElement","menuItemHtml","_addTooltipAttribute","helpName","historyTitle","init","prev","historyButtonClassList","tooltipName","localize","files","addEvent","_addMainMenuEvent","_addSubMenuEvent","_this14","_addHelpActionEvent","_addDownloadEvent","_addMenuEvent","_initMenu","_removeHelpActionEvent","_removeDownloadEvent","_removeLoadEvent","_removeMainMenuEvent","removeEvent","_this15","loadImageInfo","_getLoadImage","_this16","_addLoadEvent","gridVisual","grid","_editorContainerElement","_changeMenu","changeStartMode","evt","createEvent","initEvent","registerDefaultIcon","scrollHeight","offsetHeight","scrollWidth","subMenuElement","templateHtml","_els","defaultPresetButton","_removeEvent","_applyEventHandler","_cancelEventHandler","cropzonePreset","_cropzonePresetEventHandler","button","_setPresetButtonActive","presetButton","Submenu","DRAW_OPACITY","lineSelectButton","drawColorPicker","Colorpicker","toggleDirection","drawRange","Range","slider","input","colorPickerInputBox","colorpickerElement","changeDrawType","_changeDrawType","_changeDrawColor","_changeDrawRange","_onStartEditingInputBox","_onStopEditingInputBox","lineType","getButtonType","PICKER_CONTROL_HEIGHT","BLEND_OPTIONS","FILTER_OPTIONS","filterNameMap","invert","sepia","sharpen","emboss","removeWhite","brightness","contrast","saturation","vintage","polaroid","noise","colorFilter","tint","multiply","blend","hue","gamma","RANGE_INSTANCE_NAMES","COLORPICKER_INSTANCE_NAMES","selectBoxShow","checkedMap","_makeControlElement","_destroyToolInstance","filterCheckElement","filterNameCamelCase","instanceName","blendType","changeBlendFilter","colorPickerInputBoxes","inputBox","changeFilterState","filterName","_changeFilterState","changeFilterStateForRange","isLast","blandTypeClick","stopPropagation","filterBlendColor","filterMultiplyColor","filterTintColor","tintOpacity","colorPickerChangeShow","changedFilterInfos","_getFilterNameFromOptions","isRemove","_setFilterState","checked","blocksize","alpha","useAlpha","checkboxGroup","_getFilterOption","blurRange","FILTER_RANGE","_pickerWithRange","pickerControl","_pickerWithSelectbox","colorPickerControls","rangeWrap","rangeLabel","selectlistWrap","selectlist","optionlist","_makeSelectOptionList","_drawSelectOptionList","_pickerWithSelectboxForAddEvent","optionElement","optionValue","fireEvent","selectOption","flipStatus","flipButton","changeFlip","_changeFlip","flipClassList","historyClassName","selectedClassName","disabledClassName","menuElement","_eventHandler","_historyIndex","getListLength","detail","_hasDisabledItem","deleteListItemElement","makeListItemElement","pushListItemElement","_selectItem","_clickHistoryItem","listElement","removeClass","addClass","_addHistoryEventListener","_removeHistoryEventListener","Panel","_iconMap","registerIconButton","addIconButton","iconColorpicker","registerIcon","_registerIconHandler","_addIconHandler","_changeColorHandler","isSupportFileApi","applyButton","maskImageButton","loadMaskFile","_loadMaskFile","applyMask","_applyMask","panelElement","_makePanelElement","_makeListElement","panel","list","listItem","CLOCKWISE","COUNTERCLOCKWISE","_value","rotateButton","rotateRange","resultAngle","_setRangeBarRatio","rotationAngleChanged","_changeRotateForButton","_changeRotateForRange","rotateType","rotateAngle","clockwise","counterclockwise","newAngle","isRotatable","SHAPE_DEFAULT_OPTION","shapeSelectButton","shapeColorButton","strokeRange","fillColorpicker","strokeColorpicker","shapeTypeSelected","_changeShapeHandler","_changeStrokeRangeHandler","_changeFillColorHandler","_changeStrokeColorHandler","maxValue","strokeMaxValue","trigger","currentTarget","_makeSubMenuElement","selectName","occurredControl","hide","buttonNames","RegExp","iconStyle","iconSubMenu","subMenuLabelActive","subMenuLabelNormal","subMenuRangeTitle","submenuPartitionVertical","submenuPartitionHorizontal","submenuCheckbox","submenuRangePointer","submenuRangeValue","submenuColorpickerTitle","submenuColorpickerButton","submenuRangeBar","submenuRangeSubbar","submenuDisabledRangePointer","submenuDisabledRangeBar","submenuDisabledRangeSubbar","submenuIconSize","menuIconSize","biSize","menuIconStyle","submenuIconStyle","normal","active","hover","disabled","effect","bold","italic","align","textEffectButton","textAlignButton","textColorpicker","textRange","setTextEffect","_setTextEffectHandler","setTextAlign","_setTextAlignHandler","_changeTextRnageHandler","textStyle","setEffectState","setAlignState","effectName","effectValue","styleType","customTheme","_changeToObject","standardTheme","_styleMaker","_loadDefaultSvgIcon","firstProperty","_makeCssText","vertical","borderLeft","horizontal","borderBottom","backgroundColor","submenuLabelStyle","submenuPartitionStyle","styleOptions","styleObject","keyExplode","property","subProperty","converterStack","_toUnderScore","targetString","$1","parser","DOMParser","dom","parseFromString","isSubmenu","iconStyleInfo","svgIconPrefix","_makeSvgIconPrefix","iconName","svgIconClassName","_makeIconClassName","_makeSvgItem","PICKER_COLOR","defaultColor","_show","_colorpickerElement","_toggleDirection","_makePickerButtonElement","_makePickerLayerElement","_color","picker","tuiColorPicker","container","pickerElement","_addEvent","colorElement","title","label","_changeColorElement","pickerToggle","_pickerToggleEventHandler","pickerHide","isInPickerControl","_isElementInColorPickerControl","_isPaletteButton","_setPickerControlPosition","halfPickerWidth","clientWidth","INPUT_FILTER_REGEXP","rangeElements","rangeElement","rangeInputElement","_drawRangeElement","rangeWidth","_getRangeWidth","_min","_max","_useDecimal","_absMax","startChangingSlide","_startChangingSlide","stopChangingSlide","_stopChangingSlide","changeSlide","_changeSlide","changeSlideFinally","_changeSlideFinally","changeInput","_changeValueWithInput","changeInputFinally","changeInputWithArrow","_changeValueWithInputKeyEvent","_addClickEvent","_addDragEvent","_addInputEvent","_removeClickEvent","_removeDragEvent","_removeInputEvent","getElementWidth","getComputedStyle","bar","subbar","_valueUpDownForKeyEvent","unChanged","clampValue","step","stringValue","_filterForInputText","waitForChange","isNaN","changePosition","screenX","firstPosition","touchPx","firstLeft","resultValue","isValueChanged","offsetX","inputValue","absValue","leftPosition","clamp","keyMirror","makeStyleText","getProperties","toInteger","toCamelCase","getRgb","sendHostName","styleLoad","getSelector","base64ToBlob","fixFloatingPoint","assignmentForDestroy","cls","changeOrigin","flipObject","setCustomProperty","getCustomProperty","capitalizeString","getFillTypeFromOption","getFillTypeFromObject","isShape","getObjectType","isSilentCommand","getHistoryTitle","getHelpMenuBarPosition","isEmptyCropzone","FLOATING_POINT_DIGIT","CSS_PREFIX","hostnameSent","minValue","styleStr","File","FileReader","styleBuffer","tagId","linkElement","styleData","encodeURIComponent","targetElement","rImageType","mimeString","raw","uInt8Array","header","imageType","atob","rawLength","Uint8Array","charCodeAt","Blob","prefix","fObject","customProps","propNames","resultObject","propName","targetArray","compareValue","toStartOfCapital","getFilterType","historyInfo"],"sources":["webpack://tui.ImageEditor/webpack/universalModuleDefinition","webpack://tui.ImageEditor/webpack/bootstrap","webpack://tui.ImageEditor/node_modules/core-js-pure/es/promise/index.js","webpack://tui.ImageEditor/node_modules/core-js-pure/features/promise/index.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/a-function.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/a-possible-prototype.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/add-to-unscopables.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/an-instance.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/an-object.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/array-includes.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/check-correctness-of-iteration.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/classof-raw.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/classof.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/correct-prototype-getter.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/create-iterator-constructor.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/create-non-enumerable-property.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/create-property-descriptor.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/define-iterator.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/descriptors.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/document-create-element.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/dom-iterables.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/engine-is-ios.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/engine-user-agent.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/engine-v8-version.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/enum-bug-keys.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/export.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/fails.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/function-bind-context.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/get-built-in.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/get-iterator-method.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/global.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/has.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/hidden-keys.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/host-report-errors.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/html.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/ie8-dom-define.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/indexed-object.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/inspect-source.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/internal-state.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/is-array-iterator-method.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/is-forced.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/is-object.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/is-pure.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/iterate.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/iterators-core.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/iterators.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/microtask.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/native-promise-constructor.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/native-symbol.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/native-weak-map.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/new-promise-capability.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-create.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-define-properties.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-define-property.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-get-own-property-descriptor.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-get-prototype-of.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-keys-internal.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-keys.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-property-is-enumerable.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-set-prototype-of.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/object-to-string.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/path.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/perform.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/promise-resolve.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/redefine-all.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/redefine.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/require-object-coercible.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/set-global.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/set-species.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/set-to-string-tag.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/shared-key.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/shared-store.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/shared.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/species-constructor.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/string-multibyte.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/task.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/to-absolute-index.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/to-indexed-object.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/to-integer.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/to-length.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/to-object.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/to-primitive.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/to-string-tag-support.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/uid.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/use-symbol-as-uid.js","webpack://tui.ImageEditor/node_modules/core-js-pure/internals/well-known-symbol.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/es.array.iterator.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/es.object.to-string.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/es.promise.all-settled.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/es.promise.finally.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/es.promise.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/es.string.iterator.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/esnext.aggregate-error.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/esnext.promise.all-settled.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/esnext.promise.any.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/esnext.promise.try.js","webpack://tui.ImageEditor/node_modules/core-js-pure/modules/web.dom-collections.iterator.js","webpack://tui.ImageEditor/(webpack)/buildin/global.js","webpack://tui.ImageEditor/src/css/index.styl","webpack://tui.ImageEditor/src/index.js","webpack://tui.ImageEditor/src/js/action.js","webpack://tui.ImageEditor/src/js/command/addIcon.js","webpack://tui.ImageEditor/src/js/command/addImageObject.js","webpack://tui.ImageEditor/src/js/command/addObject.js","webpack://tui.ImageEditor/src/js/command/addShape.js","webpack://tui.ImageEditor/src/js/command/addText.js","webpack://tui.ImageEditor/src/js/command/applyFilter.js","webpack://tui.ImageEditor/src/js/command/changeIconColor.js","webpack://tui.ImageEditor/src/js/command/changeSelection.js","webpack://tui.ImageEditor/src/js/command/changeShape.js","webpack://tui.ImageEditor/src/js/command/changeText.js","webpack://tui.ImageEditor/src/js/command/changeTextStyle.js","webpack://tui.ImageEditor/src/js/command/clearObjects.js","webpack://tui.ImageEditor/src/js/command/flip.js","webpack://tui.ImageEditor/src/js/command/loadImage.js","webpack://tui.ImageEditor/src/js/command/removeFilter.js","webpack://tui.ImageEditor/src/js/command/removeObject.js","webpack://tui.ImageEditor/src/js/command/resizeCanvasDimension.js","webpack://tui.ImageEditor/src/js/command/rotate.js","webpack://tui.ImageEditor/src/js/command/setObjectPosition.js","webpack://tui.ImageEditor/src/js/command/setObjectProperties.js","webpack://tui.ImageEditor/src/js/component/cropper.js","webpack://tui.ImageEditor/src/js/component/filter.js","webpack://tui.ImageEditor/src/js/component/flip.js","webpack://tui.ImageEditor/src/js/component/freeDrawing.js","webpack://tui.ImageEditor/src/js/component/icon.js","webpack://tui.ImageEditor/src/js/component/imageLoader.js","webpack://tui.ImageEditor/src/js/component/line.js","webpack://tui.ImageEditor/src/js/component/rotation.js","webpack://tui.ImageEditor/src/js/component/shape.js","webpack://tui.ImageEditor/src/js/component/text.js","webpack://tui.ImageEditor/src/js/component/zoom.js","webpack://tui.ImageEditor/src/js/consts.js","webpack://tui.ImageEditor/src/js/drawingMode/cropper.js","webpack://tui.ImageEditor/src/js/drawingMode/freeDrawing.js","webpack://tui.ImageEditor/src/js/drawingMode/icon.js","webpack://tui.ImageEditor/src/js/drawingMode/lineDrawing.js","webpack://tui.ImageEditor/src/js/drawingMode/shape.js","webpack://tui.ImageEditor/src/js/drawingMode/text.js","webpack://tui.ImageEditor/src/js/drawingMode/zoom.js","webpack://tui.ImageEditor/src/js/extension/arrowLine.js","webpack://tui.ImageEditor/src/js/extension/colorFilter.js","webpack://tui.ImageEditor/src/js/extension/cropzone.js","webpack://tui.ImageEditor/src/js/extension/emboss.js","webpack://tui.ImageEditor/src/js/extension/mask.js","webpack://tui.ImageEditor/src/js/extension/sharpen.js","webpack://tui.ImageEditor/src/js/factory/command.js","webpack://tui.ImageEditor/src/js/factory/errorMessage.js","webpack://tui.ImageEditor/src/js/graphics.js","webpack://tui.ImageEditor/src/js/helper/imagetracer.js","webpack://tui.ImageEditor/src/js/helper/selectionModifyHelper.js","webpack://tui.ImageEditor/src/js/helper/shapeFilterFillHelper.js","webpack://tui.ImageEditor/src/js/helper/shapeResizeHelper.js","webpack://tui.ImageEditor/src/js/imageEditor.js","webpack://tui.ImageEditor/src/js/interface/command.js","webpack://tui.ImageEditor/src/js/interface/component.js","webpack://tui.ImageEditor/src/js/interface/drawingMode.js","webpack://tui.ImageEditor/src/js/invoker.js","webpack://tui.ImageEditor/src/js/polyfill.js","webpack://tui.ImageEditor/src/js/ui.js","webpack://tui.ImageEditor/src/js/ui/crop.js","webpack://tui.ImageEditor/src/js/ui/draw.js","webpack://tui.ImageEditor/src/js/ui/filter.js","webpack://tui.ImageEditor/src/js/ui/flip.js","webpack://tui.ImageEditor/src/js/ui/history.js","webpack://tui.ImageEditor/src/js/ui/icon.js","webpack://tui.ImageEditor/src/js/ui/locale/locale.js","webpack://tui.ImageEditor/src/js/ui/mask.js","webpack://tui.ImageEditor/src/js/ui/panelMenu.js","webpack://tui.ImageEditor/src/js/ui/rotate.js","webpack://tui.ImageEditor/src/js/ui/shape.js","webpack://tui.ImageEditor/src/js/ui/submenuBase.js","webpack://tui.ImageEditor/src/js/ui/template/controls.js","webpack://tui.ImageEditor/src/js/ui/template/mainContainer.js","webpack://tui.ImageEditor/src/js/ui/template/style.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/crop.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/draw.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/filter.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/flip.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/history.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/icon.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/mask.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/rotate.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/shape.js","webpack://tui.ImageEditor/src/js/ui/template/submenu/text.js","webpack://tui.ImageEditor/src/js/ui/text.js","webpack://tui.ImageEditor/src/js/ui/theme/standard.js","webpack://tui.ImageEditor/src/js/ui/theme/theme.js","webpack://tui.ImageEditor/src/js/ui/tools/colorpicker.js","webpack://tui.ImageEditor/src/js/ui/tools/range.js","webpack://tui.ImageEditor/src/js/util.js","webpack://tui.ImageEditor/src/svg/default.svg","webpack://tui.ImageEditor/external {\"commonjs\":[\"fabric\",\"fabric\"],\"commonjs2\":[\"fabric\",\"fabric\"],\"amd\":\"fabric\",\"root\":\"fabric\"}","webpack://tui.ImageEditor/external {\"commonjs\":\"tui-code-snippet\",\"commonjs2\":\"tui-code-snippet\",\"amd\":\"tui-code-snippet\",\"root\":[\"tui\",\"util\"]}","webpack://tui.ImageEditor/external {\"commonjs\":\"tui-color-picker\",\"commonjs2\":\"tui-color-picker\",\"amd\":\"tui-color-picker\",\"root\":[\"tui\",\"colorPicker\"]}"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"fabric\")[\"fabric\"], require(\"tui-code-snippet\"), require(\"tui-color-picker\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"fabric\", \"tui-code-snippet\", \"tui-color-picker\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ImageEditor\"] = factory(require(\"fabric\")[\"fabric\"], require(\"tui-code-snippet\"), require(\"tui-color-picker\"));\n\telse\n\t\troot[\"tui\"] = root[\"tui\"] || {}, root[\"tui\"][\"ImageEditor\"] = factory(root[\"fabric\"], root[\"tui\"][\"util\"], root[\"tui\"][\"colorPicker\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_fabric__, __WEBPACK_EXTERNAL_MODULE_tui_code_snippet__, __WEBPACK_EXTERNAL_MODULE_tui_color_picker__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","require('../../modules/es.object.to-string');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nrequire('../../modules/es.promise');\nrequire('../../modules/es.promise.all-settled');\nrequire('../../modules/es.promise.finally');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Promise;\n","var parent = require('../../es/promise');\nrequire('../../modules/esnext.aggregate-error');\n// TODO: Remove from `core-js@4`\nrequire('../../modules/esnext.promise.all-settled');\nrequire('../../modules/esnext.promise.try');\nrequire('../../modules/esnext.promise.any');\n\nmodule.exports = parent;\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","module.exports = function () { /* empty */ };\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar isForced = require('../internals/is-forced');\nvar path = require('../internals/path');\nvar bind = require('../internals/function-bind-context');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof NativeConstructor) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return NativeConstructor.apply(this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || (path[TARGET] = {});\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && has(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty === typeof sourceProperty) continue;\n\n    // bind timers to global for call from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changs in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && typeof sourceProperty == 'function') resultProperty = bind(Function.call, sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    target[key] = resultProperty;\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!has(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      path[VIRTUAL_PROTOTYPE][key] = sourceProperty;\n      // export real prototype methods\n      if (options.real && targetPrototype && !targetPrototype[key]) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = true;\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) {\n    if (options && options.unsafe && target[key]) target[key] = src[key];\n    else redefine(target, key, src[key], options);\n  } return target;\n};\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (target, key, value, options) {\n  if (options && options.enumerable) target[key] = value;\n  else createNonEnumerableProperty(target, key, value);\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineProperty = require('../internals/object-define-property').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar toString = require('../internals/object-to-string');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC, SET_METHOD) {\n  if (it) {\n    var target = STATIC ? it : it.prototype;\n    if (!has(target, TO_STRING_TAG)) {\n      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n      createNonEnumerableProperty(target, 'toString', toString);\n    }\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts && !fails(post)) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// empty\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://github.com/tc39/proposal-promise-allSettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (e) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: e };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.github.io/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar iterate = require('../internals/iterate');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar getInternalAggregateErrorState = InternalStateModule.getterFor('AggregateError');\n\nvar $AggregateError = function AggregateError(errors, message) {\n  var that = this;\n  if (!(that instanceof $AggregateError)) return new $AggregateError(errors, message);\n  if (setPrototypeOf) {\n    that = setPrototypeOf(new Error(message), getPrototypeOf(that));\n  }\n  var errorsArray = [];\n  iterate(errors, errorsArray.push, errorsArray);\n  if (DESCRIPTORS) setInternalState(that, { errors: errorsArray, type: 'AggregateError' });\n  else that.errors = errorsArray;\n  if (message !== undefined) createNonEnumerableProperty(that, 'message', String(message));\n  return that;\n};\n\n$AggregateError.prototype = create(Error.prototype, {\n  constructor: createPropertyDescriptor(5, $AggregateError),\n  message: createPropertyDescriptor(5, ''),\n  name: createPropertyDescriptor(5, 'AggregateError')\n});\n\nif (DESCRIPTORS) defineProperty.f($AggregateError.prototype, 'errors', {\n  get: function () {\n    return getInternalAggregateErrorState(this).errors;\n  },\n  configurable: true\n});\n\n$({ global: true }, {\n  AggregateError: $AggregateError\n});\n","// TODO: Remove from `core-js@4`\nrequire('./es.promise.all-settled.js');\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar getBuiltIn = require('../internals/get-built-in');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\nvar PROMISE_ANY_ERROR = 'No one promise resolved';\n\n// `Promise.any` method\n// https://github.com/tc39/proposal-promise-any\n$({ target: 'Promise', stat: true }, {\n  any: function any(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aFunction(C.resolve);\n      var errors = [];\n      var counter = 0;\n      var remaining = 1;\n      var alreadyResolved = false;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyRejected = false;\n        errors.push(undefined);\n        remaining++;\n        promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyResolved = true;\n          resolve(value);\n        }, function (e) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyRejected = true;\n          errors[index] = e;\n          --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n        });\n      });\n      --remaining || reject(new (getBuiltIn('AggregateError'))(errors, PROMISE_ANY_ERROR));\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\n\n// `Promise.try` method\n// https://github.com/tc39/proposal-promise-try\n$({ target: 'Promise', stat: true }, {\n  'try': function (callbackfn) {\n    var promiseCapability = newPromiseCapabilityModule.f(this);\n    var result = perform(callbackfn);\n    (result.error ? promiseCapability.reject : promiseCapability.resolve)(result.value);\n    return promiseCapability.promise;\n  }\n});\n","require('./es.array.iterator');\nvar DOMIterables = require('../internals/dom-iterables');\nvar global = require('../internals/global');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype && classof(CollectionPrototype) !== TO_STRING_TAG) {\n    createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n  }\n  Iterators[COLLECTION_NAME] = Iterators.Array;\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// extracted by mini-css-extract-plugin","import '@/polyfill';\nimport ImageEditor from '@/imageEditor';\nimport '@css/index.styl';\n\n// commands\nimport '@/command/addIcon';\nimport '@/command/addImageObject';\nimport '@/command/addObject';\nimport '@/command/addShape';\nimport '@/command/addText';\nimport '@/command/applyFilter';\nimport '@/command/changeIconColor';\nimport '@/command/changeShape';\nimport '@/command/changeText';\nimport '@/command/changeTextStyle';\nimport '@/command/clearObjects';\nimport '@/command/flip';\nimport '@/command/loadImage';\nimport '@/command/removeFilter';\nimport '@/command/removeObject';\nimport '@/command/resizeCanvasDimension';\nimport '@/command/rotate';\nimport '@/command/setObjectProperties';\nimport '@/command/setObjectPosition';\nimport '@/command/changeSelection';\n\nmodule.exports = ImageEditor;\n","import { extend } from 'tui-code-snippet';\nimport Imagetracer from '@/helper/imagetracer';\nimport { isSupportFileApi, base64ToBlob, toInteger, isEmptyCropzone } from '@/util';\nimport { eventNames, historyNames, drawingModes, drawingMenuNames, zoomModes } from '@/consts';\n\nexport default {\n  /**\n   * Get ui actions\n   * @returns {Object} actions for ui\n   * @private\n   */\n  getActions() {\n    return {\n      main: this._mainAction(),\n      shape: this._shapeAction(),\n      crop: this._cropAction(),\n      flip: this._flipAction(),\n      rotate: this._rotateAction(),\n      text: this._textAction(),\n      mask: this._maskAction(),\n      draw: this._drawAction(),\n      icon: this._iconAction(),\n      filter: this._filterAction(),\n      history: this._historyAction(),\n    };\n  },\n\n  /**\n   * Main Action\n   * @returns {Object} actions for ui main\n   * @private\n   */\n  _mainAction() {\n    const exitCropOnAction = () => {\n      if (this.ui.submenu === 'crop') {\n        this.stopDrawingMode();\n        this.ui.changeMenu('crop');\n      }\n    };\n    const setAngleRangeBarOnAction = (angle) => {\n      if (this.ui.submenu === 'rotate') {\n        this.ui.rotate.setRangeBarAngle('setAngle', angle);\n      }\n    };\n    const setFilterStateRangeBarOnAction = (filterOptions) => {\n      if (this.ui.submenu === 'filter') {\n        this.ui.filter.setFilterState(filterOptions);\n      }\n    };\n    const onEndUndoRedo = (result) => {\n      setAngleRangeBarOnAction(result);\n      setFilterStateRangeBarOnAction(result);\n\n      return result;\n    };\n    const toggleZoomMode = () => {\n      const zoomMode = this._graphics.getZoomMode();\n\n      this.stopDrawingMode();\n      if (zoomMode !== zoomModes.ZOOM) {\n        this.startDrawingMode(drawingModes.ZOOM);\n        this._graphics.startZoomInMode();\n      } else {\n        this._graphics.endZoomInMode();\n      }\n    };\n    const toggleHandMode = () => {\n      const zoomMode = this._graphics.getZoomMode();\n\n      this.stopDrawingMode();\n      if (zoomMode !== zoomModes.HAND) {\n        this.startDrawingMode(drawingModes.ZOOM);\n        this._graphics.startHandMode();\n      } else {\n        this._graphics.endHandMode();\n      }\n    };\n    const initFilterState = () => {\n      if (this.ui.filter) {\n        this.ui.filter.initFilterCheckBoxState();\n      }\n    };\n\n    return extend(\n      {\n        initLoadImage: (imagePath, imageName) =>\n          this.loadImageFromURL(imagePath, imageName).then((sizeValue) => {\n            exitCropOnAction();\n            this.ui.initializeImgUrl = imagePath;\n            this.ui.resizeEditor({ imageSize: sizeValue });\n            this.clearUndoStack();\n            this._invoker.fire(eventNames.EXECUTE_COMMAND, historyNames.LOAD_IMAGE);\n          }),\n        undo: () => {\n          if (!this.isEmptyUndoStack()) {\n            exitCropOnAction();\n            this.deactivateAll();\n            this.undo().then(onEndUndoRedo);\n          }\n        },\n        redo: () => {\n          if (!this.isEmptyRedoStack()) {\n            exitCropOnAction();\n            this.deactivateAll();\n            this.redo().then(onEndUndoRedo);\n          }\n        },\n        reset: () => {\n          exitCropOnAction();\n          this.loadImageFromURL(this.ui.initializeImgUrl, 'resetImage').then((sizeValue) => {\n            exitCropOnAction();\n            initFilterState();\n            this.ui.resizeEditor({ imageSize: sizeValue });\n            this.clearUndoStack();\n            this._initHistory();\n          });\n        },\n        delete: () => {\n          this.ui.changeHelpButtonEnabled('delete', false);\n          exitCropOnAction();\n          this.removeActiveObject();\n          this.activeObjectId = null;\n        },\n        deleteAll: () => {\n          exitCropOnAction();\n          this.clearObjects();\n          this.ui.changeHelpButtonEnabled('delete', false);\n          this.ui.changeHelpButtonEnabled('deleteAll', false);\n        },\n        load: (file) => {\n          if (!isSupportFileApi()) {\n            alert('This browser does not support file-api');\n          }\n\n          this.ui.initializeImgUrl = URL.createObjectURL(file);\n          this.loadImageFromFile(file)\n            .then((sizeValue) => {\n              exitCropOnAction();\n              initFilterState();\n              this.clearUndoStack();\n              this.ui.activeMenuEvent();\n              this.ui.resizeEditor({ imageSize: sizeValue });\n              this._clearHistory();\n              this._invoker.fire(eventNames.EXECUTE_COMMAND, historyNames.LOAD_IMAGE);\n            })\n            ['catch']((message) => Promise.reject(message));\n        },\n        download: () => {\n          const dataURL = this.toDataURL();\n          let imageName = this.getImageName();\n          let blob, type, w;\n\n          if (isSupportFileApi() && window.saveAs) {\n            blob = base64ToBlob(dataURL);\n            type = blob.type.split('/')[1];\n            if (imageName.split('.').pop() !== type) {\n              imageName += `.${type}`;\n            }\n            saveAs(blob, imageName); // eslint-disable-line\n          } else {\n            w = window.open();\n            w.document.body.innerHTML = `<img src='${dataURL}'>`;\n          }\n        },\n        history: (event) => {\n          this.ui.toggleHistoryMenu(event);\n        },\n        zoomIn: () => {\n          this.ui.toggleZoomButtonStatus('zoomIn');\n          this.deactivateAll();\n          toggleZoomMode();\n        },\n        zoomOut: () => {\n          this._graphics.zoomOut();\n        },\n        hand: () => {\n          this.ui.offZoomInButtonStatus();\n          this.ui.toggleZoomButtonStatus('hand');\n          this.deactivateAll();\n          toggleHandMode();\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Icon Action\n   * @returns {Object} actions for ui icon\n   * @private\n   */\n  _iconAction() {\n    return extend(\n      {\n        changeColor: (color) => {\n          if (this.activeObjectId) {\n            this.changeIconColor(this.activeObjectId, color);\n          }\n        },\n        addIcon: (iconType, iconColor) => {\n          this.startDrawingMode('ICON');\n          this.setDrawingIcon(iconType, iconColor);\n        },\n        cancelAddIcon: () => {\n          this.ui.icon.clearIconType();\n          this.changeSelectableAll(true);\n          this.changeCursor('default');\n          this.stopDrawingMode();\n        },\n        registerDefaultIcons: (type, path) => {\n          const iconObj = {};\n          iconObj[type] = path;\n          this.registerIcons(iconObj);\n        },\n        registerCustomIcon: (imgUrl, file) => {\n          const imagetracer = new Imagetracer();\n          imagetracer.imageToSVG(\n            imgUrl,\n            (svgstr) => {\n              const [, svgPath] = svgstr.match(/path[^>]*d=\"([^\"]*)\"/);\n              const iconObj = {};\n              iconObj[file.name] = svgPath;\n              this.registerIcons(iconObj);\n              this.addIcon(file.name, {\n                left: 100,\n                top: 100,\n              });\n            },\n            Imagetracer.tracerDefaultOption()\n          );\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Draw Action\n   * @returns {Object} actions for ui draw\n   * @private\n   */\n  _drawAction() {\n    return extend(\n      {\n        setDrawMode: (type, settings) => {\n          this.stopDrawingMode();\n          if (type === 'free') {\n            this.startDrawingMode('FREE_DRAWING', settings);\n          } else {\n            this.startDrawingMode('LINE_DRAWING', settings);\n          }\n        },\n        setColor: (color) => {\n          this.setBrush({\n            color,\n          });\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Mask Action\n   * @returns {Object} actions for ui mask\n   * @private\n   */\n  _maskAction() {\n    return extend(\n      {\n        loadImageFromURL: (imgUrl, file) => {\n          return this.loadImageFromURL(this.toDataURL(), 'FilterImage').then(() => {\n            this.addImageObject(imgUrl).then(() => {\n              URL.revokeObjectURL(file);\n            });\n            this._invoker.fire(eventNames.EXECUTE_COMMAND, historyNames.LOAD_MASK_IMAGE);\n          });\n        },\n        applyFilter: () => {\n          this.applyFilter('mask', {\n            maskObjId: this.activeObjectId,\n          });\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Text Action\n   * @returns {Object} actions for ui text\n   * @private\n   */\n  _textAction() {\n    return extend(\n      {\n        changeTextStyle: (styleObj, isSilent) => {\n          if (this.activeObjectId) {\n            this.changeTextStyle(this.activeObjectId, styleObj, isSilent);\n          }\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Rotate Action\n   * @returns {Object} actions for ui rotate\n   * @private\n   */\n  _rotateAction() {\n    return extend(\n      {\n        rotate: (angle, isSilent) => {\n          this.rotate(angle, isSilent);\n          this.ui.resizeEditor();\n          this.ui.rotate.setRangeBarAngle('rotate', angle);\n        },\n        setAngle: (angle, isSilent) => {\n          this.setAngle(angle, isSilent);\n          this.ui.resizeEditor();\n          this.ui.rotate.setRangeBarAngle('setAngle', angle);\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Shape Action\n   * @returns {Object} actions for ui shape\n   * @private\n   */\n  _shapeAction() {\n    return extend(\n      {\n        changeShape: (changeShapeObject, isSilent) => {\n          if (this.activeObjectId) {\n            this.changeShape(this.activeObjectId, changeShapeObject, isSilent);\n          }\n        },\n        setDrawingShape: (shapeType) => {\n          this.setDrawingShape(shapeType);\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Crop Action\n   * @returns {Object} actions for ui crop\n   * @private\n   */\n  _cropAction() {\n    return extend(\n      {\n        crop: () => {\n          const cropRect = this.getCropzoneRect();\n          if (cropRect && !isEmptyCropzone(cropRect)) {\n            this.crop(cropRect)\n              .then(() => {\n                this.stopDrawingMode();\n                this.ui.resizeEditor();\n                this.ui.changeMenu('crop');\n                this._invoker.fire(eventNames.EXECUTE_COMMAND, historyNames.CROP);\n              })\n              ['catch']((message) => Promise.reject(message));\n          }\n        },\n        cancel: () => {\n          this.stopDrawingMode();\n          this.ui.changeMenu('crop');\n        },\n        /* eslint-disable */\n        preset: (presetType) => {\n          switch (presetType) {\n            case 'preset-square':\n              this.setCropzoneRect(1 / 1);\n              break;\n            case 'preset-3-2':\n              this.setCropzoneRect(3 / 2);\n              break;\n            case 'preset-4-3':\n              this.setCropzoneRect(4 / 3);\n              break;\n            case 'preset-5-4':\n              this.setCropzoneRect(5 / 4);\n              break;\n            case 'preset-7-5':\n              this.setCropzoneRect(7 / 5);\n              break;\n            case 'preset-16-9':\n              this.setCropzoneRect(16 / 9);\n              break;\n            default:\n              this.setCropzoneRect();\n              this.ui.crop.changeApplyButtonStatus(false);\n              break;\n          }\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Flip Action\n   * @returns {Object} actions for ui flip\n   * @private\n   */\n  _flipAction() {\n    return extend(\n      {\n        flip: (flipType) => this[flipType](),\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Filter Action\n   * @returns {Object} actions for ui filter\n   * @private\n   */\n  _filterAction() {\n    return extend(\n      {\n        applyFilter: (applying, type, options, isSilent) => {\n          if (applying) {\n            this.applyFilter(type, options, isSilent);\n          } else if (this.hasFilter(type)) {\n            this.removeFilter(type);\n          }\n        },\n      },\n      this._commonAction()\n    );\n  },\n\n  /**\n   * Image Editor Event Observer\n   */\n  setReAction() {\n    this.on({\n      undoStackChanged: (length) => {\n        if (length) {\n          this.ui.changeHelpButtonEnabled('undo', true);\n          this.ui.changeHelpButtonEnabled('reset', true);\n        } else {\n          this.ui.changeHelpButtonEnabled('undo', false);\n          this.ui.changeHelpButtonEnabled('reset', false);\n        }\n        this.ui.resizeEditor();\n      },\n      redoStackChanged: (length) => {\n        if (length) {\n          this.ui.changeHelpButtonEnabled('redo', true);\n        } else {\n          this.ui.changeHelpButtonEnabled('redo', false);\n        }\n        this.ui.resizeEditor();\n      },\n      /* eslint-disable complexity */\n      objectActivated: (obj) => {\n        this.activeObjectId = obj.id;\n\n        this.ui.changeHelpButtonEnabled('delete', true);\n        this.ui.changeHelpButtonEnabled('deleteAll', true);\n\n        if (obj.type === 'cropzone') {\n          this.ui.crop.changeApplyButtonStatus(true);\n        } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) > -1) {\n          this.stopDrawingMode();\n          if (this.ui.submenu !== 'shape') {\n            this.ui.changeMenu('shape', false, false);\n          }\n          this.ui.shape.setShapeStatus({\n            strokeColor: obj.stroke,\n            strokeWidth: obj.strokeWidth,\n            fillColor: obj.fill,\n          });\n\n          this.ui.shape.setMaxStrokeValue(Math.min(obj.width, obj.height));\n        } else if (obj.type === 'path' || obj.type === 'line') {\n          if (this.ui.submenu !== 'draw') {\n            this.ui.changeMenu('draw', false, false);\n            this.ui.draw.changeStandbyMode();\n          }\n        } else if (['i-text', 'text'].indexOf(obj.type) > -1) {\n          if (this.ui.submenu !== 'text') {\n            this.ui.changeMenu('text', false, false);\n          }\n\n          this.ui.text.setTextStyleStateOnAction(obj);\n        } else if (obj.type === 'icon') {\n          this.stopDrawingMode();\n          if (this.ui.submenu !== 'icon') {\n            this.ui.changeMenu('icon', false, false);\n          }\n          this.ui.icon.setIconPickerColor(obj.fill);\n        }\n      },\n      /* eslint-enable complexity */\n      addText: (pos) => {\n        const { textColor: fill, fontSize, fontStyle, fontWeight, underline } = this.ui.text;\n        const fontFamily = 'Noto Sans';\n\n        this.addText('Double Click', {\n          position: pos.originPosition,\n          styles: { fill, fontSize, fontFamily, fontStyle, fontWeight, underline },\n        }).then(() => {\n          this.changeCursor('default');\n        });\n      },\n      addObjectAfter: (obj) => {\n        if (obj.type === 'icon') {\n          this.ui.icon.changeStandbyMode();\n        } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) > -1) {\n          this.ui.shape.setMaxStrokeValue(Math.min(obj.width, obj.height));\n          this.ui.shape.changeStandbyMode();\n        }\n      },\n      objectScaled: (obj) => {\n        if (['i-text', 'text'].indexOf(obj.type) > -1) {\n          this.ui.text.fontSize = toInteger(obj.fontSize);\n        } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) >= 0) {\n          const { width, height } = obj;\n          const strokeValue = this.ui.shape.getStrokeValue();\n\n          if (width < strokeValue) {\n            this.ui.shape.setStrokeValue(width);\n          }\n          if (height < strokeValue) {\n            this.ui.shape.setStrokeValue(height);\n          }\n        }\n      },\n      selectionCleared: () => {\n        this.activeObjectId = null;\n        if (this.ui.submenu === 'text') {\n          this.changeCursor('text');\n        } else if (this.ui.submenu !== 'draw' && this.ui.submenu !== 'crop') {\n          this.stopDrawingMode();\n        }\n      },\n    });\n  },\n\n  /**\n   * History Action\n   * @returns {Object} history actions for ui\n   * @private\n   */\n  _historyAction() {\n    return {\n      undo: (count) => this.undo(count),\n      redo: (count) => this.redo(count),\n    };\n  },\n\n  /**\n   * Common Action\n   * @returns {Object} common actions for ui\n   * @private\n   */\n  _commonAction() {\n    const { TEXT, CROPPER, SHAPE, ZOOM } = drawingModes;\n\n    return {\n      modeChange: (menu) => {\n        switch (menu) {\n          case drawingMenuNames.TEXT:\n            this._changeActivateMode(TEXT);\n            break;\n          case drawingMenuNames.CROP:\n            this.startDrawingMode(CROPPER);\n            break;\n          case drawingMenuNames.SHAPE:\n            this._changeActivateMode(SHAPE);\n            this.setDrawingShape(this.ui.shape.type, this.ui.shape.options);\n            break;\n          case drawingMenuNames.ZOOM:\n            this.startDrawingMode(ZOOM);\n            break;\n          default:\n            break;\n        }\n      },\n      deactivateAll: this.deactivateAll.bind(this),\n      changeSelectableAll: this.changeSelectableAll.bind(this),\n      discardSelection: this.discardSelection.bind(this),\n      stopDrawingMode: this.stopDrawingMode.bind(this),\n    };\n  },\n\n  /**\n   * Mixin\n   * @param {ImageEditor} ImageEditor instance\n   */\n  mixin(ImageEditor) {\n    extend(ImageEditor.prototype, this);\n  },\n};\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Add an icon\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { componentNames, commandNames } from '@/consts';\n\nconst { ICON } = componentNames;\n\nconst command = {\n  name: commandNames.ADD_ICON,\n\n  /**\n   * Add an icon\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Icon type ('arrow', 'cancel', custom icon name)\n   * @param {Object} options - Icon options\n   *      @param {string} [options.fill] - Icon foreground color\n   *      @param {string} [options.left] - Icon x position\n   *      @param {string} [options.top] - Icon y position\n   * @returns {Promise}\n   */\n  execute(graphics, type, options) {\n    const iconComp = graphics.getComponent(ICON);\n\n    return iconComp.add(type, options).then((objectProps) => {\n      this.undoData.object = graphics.getObject(objectProps.id);\n\n      return objectProps;\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    graphics.remove(this.undoData.object);\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Add an image object\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { commandNames } from '@/consts';\n\nconst command = {\n  name: commandNames.ADD_IMAGE_OBJECT,\n\n  /**\n   * Add an image object\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} imgUrl - Image url to make object\n   * @returns {Promise}\n   */\n  execute(graphics, imgUrl) {\n    return graphics.addImageObject(imgUrl).then((objectProps) => {\n      this.undoData.object = graphics.getObject(objectProps.id);\n\n      return objectProps;\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    graphics.remove(this.undoData.object);\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Add an object\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { commandNames, rejectMessages } from '@/consts';\n\nconst command = {\n  name: commandNames.ADD_OBJECT,\n\n  /**\n   * Add an object\n   * @param {Graphics} graphics - Graphics instance\n   * @param {Object} object - Fabric object\n   * @returns {Promise}\n   */\n  execute(graphics, object) {\n    return new Promise((resolve, reject) => {\n      if (!graphics.contains(object)) {\n        graphics.add(object);\n        resolve(object);\n      } else {\n        reject(rejectMessages.addedObject);\n      }\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @param {Object} object - Fabric object\n   * @returns {Promise}\n   */\n  undo(graphics, object) {\n    return new Promise((resolve, reject) => {\n      if (graphics.contains(object)) {\n        graphics.remove(object);\n        resolve(object);\n      } else {\n        reject(rejectMessages.noObject);\n      }\n    });\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Add a shape\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { componentNames, commandNames } from '@/consts';\n\nconst { SHAPE } = componentNames;\n\nconst command = {\n  name: commandNames.ADD_SHAPE,\n\n  /**\n   * Add a shape\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n   * @param {Object} options - Shape options\n   *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n   *      @param {string} [options.stroke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   *      @param {number} [options.left] - Shape x position\n   *      @param {number} [options.top] - Shape y position\n   *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n   * @returns {Promise}\n   */\n  execute(graphics, type, options) {\n    const shapeComp = graphics.getComponent(SHAPE);\n\n    return shapeComp.add(type, options).then((objectProps) => {\n      const { id } = objectProps;\n\n      this.undoData.object = graphics.getObject(id);\n\n      return objectProps;\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    graphics.remove(this.undoData.object);\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Add a text object\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { componentNames, commandNames, rejectMessages } from '@/consts';\nimport {\n  setCachedUndoDataForDimension,\n  makeSelectionUndoData,\n  makeSelectionUndoDatum,\n} from '@/helper/selectionModifyHelper';\n\nconst { TEXT } = componentNames;\n\nconst command = {\n  name: commandNames.ADD_TEXT,\n\n  /**\n   * Add a text object\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} text - Initial input text\n   * @param {Object} [options] Options for text styles\n   *     @param {Object} [options.styles] Initial styles\n   *         @param {string} [options.styles.fill] Color\n   *         @param {string} [options.styles.fontFamily] Font type for text\n   *         @param {number} [options.styles.fontSize] Size\n   *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n   *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n   *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n   *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n   *     @param {{x: number, y: number}} [options.position] - Initial position\n   * @returns {Promise}\n   */\n  execute(graphics, text, options) {\n    const textComp = graphics.getComponent(TEXT);\n\n    if (this.undoData.object) {\n      const undoObject = this.undoData.object;\n\n      return new Promise((resolve, reject) => {\n        if (!graphics.contains(undoObject)) {\n          graphics.add(undoObject);\n          resolve(undoObject);\n        } else {\n          reject(rejectMessages.redo);\n        }\n      });\n    }\n\n    return textComp.add(text, options).then((objectProps) => {\n      const { id } = objectProps;\n      const textObject = graphics.getObject(id);\n\n      this.undoData.object = textObject;\n\n      setCachedUndoDataForDimension(\n        makeSelectionUndoData(textObject, () => makeSelectionUndoDatum(id, textObject, false))\n      );\n\n      return objectProps;\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    graphics.remove(this.undoData.object);\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Apply a filter into an image\n */\nimport snippet from 'tui-code-snippet';\nimport commandFactory from '@/factory/command';\nimport { componentNames, rejectMessages, commandNames } from '@/consts';\n\nconst { FILTER } = componentNames;\n\n/**\n * Cached data for undo\n * @type {Object}\n */\nlet cachedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {string} type - Filter type\n * @param {Object} prevfilterOption - prev Filter options\n * @param {Object} options - Filter options\n * @returns {object} - undo data\n */\nfunction makeUndoData(type, prevfilterOption, options) {\n  const undoData = {};\n\n  if (type === 'mask') {\n    undoData.object = options.mask;\n  }\n\n  undoData.options = prevfilterOption;\n\n  return undoData;\n}\n\nconst command = {\n  name: commandNames.APPLY_FILTER,\n\n  /**\n   * Apply a filter into an image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Filter type\n   * @param {Object} options - Filter options\n   *  @param {number} options.maskObjId - masking image object id\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise}\n   */\n  execute(graphics, type, options, isSilent) {\n    const filterComp = graphics.getComponent(FILTER);\n\n    if (type === 'mask') {\n      const maskObj = graphics.getObject(options.maskObjId);\n\n      if (!(maskObj && maskObj.isType('image'))) {\n        return Promise.reject(rejectMessages.invalidParameters);\n      }\n\n      snippet.extend(options, { mask: maskObj });\n      graphics.remove(options.mask);\n    }\n    if (!this.isRedo) {\n      const prevfilterOption = filterComp.getOptions(type);\n      const undoData = makeUndoData(type, prevfilterOption, options);\n\n      cachedUndoDataForSilent = this.setUndoData(undoData, cachedUndoDataForSilent, isSilent);\n    }\n\n    return filterComp.add(type, options);\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Filter type\n   * @returns {Promise}\n   */\n  undo(graphics, type) {\n    const filterComp = graphics.getComponent(FILTER);\n\n    if (type === 'mask') {\n      const mask = this.undoData.object;\n      graphics.add(mask);\n      graphics.setActiveObject(mask);\n\n      return filterComp.remove(type);\n    }\n\n    // options changed case\n    if (this.undoData.options) {\n      return filterComp.add(type, this.undoData.options);\n    }\n\n    // filter added case\n    return filterComp.remove(type);\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Change icon color\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { componentNames, rejectMessages, commandNames } from '@/consts';\n\nconst { ICON } = componentNames;\n\nconst command = {\n  name: commandNames.CHANGE_ICON_COLOR,\n\n  /**\n   * Change icon color\n   * @param {Graphics} graphics - Graphics instance\n   * @param {number} id - object id\n   * @param {string} color - Color for icon\n   * @returns {Promise}\n   */\n  execute(graphics, id, color) {\n    return new Promise((resolve, reject) => {\n      const iconComp = graphics.getComponent(ICON);\n      const targetObj = graphics.getObject(id);\n\n      if (!targetObj) {\n        reject(rejectMessages.noObject);\n      }\n\n      this.undoData.object = targetObj;\n      this.undoData.color = iconComp.getColor(targetObj);\n      iconComp.setColor(color, targetObj);\n      resolve();\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    const iconComp = graphics.getComponent(ICON);\n    const { object: icon, color } = this.undoData;\n\n    iconComp.setColor(color, icon);\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview change selection\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { commandNames } from '@/consts';\nimport { getCachedUndoDataForDimension } from '@/helper/selectionModifyHelper';\n\nconst command = {\n  name: commandNames.CHANGE_SELECTION,\n\n  execute(graphics, props) {\n    if (this.isRedo) {\n      props.forEach((prop) => {\n        graphics.setObjectProperties(prop.id, prop);\n      });\n    } else {\n      this.undoData = getCachedUndoDataForDimension();\n    }\n\n    return Promise.resolve();\n  },\n\n  undo(graphics) {\n    this.undoData.forEach((datum) => {\n      graphics.setObjectProperties(datum.id, datum);\n    });\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview change a shape\n */\nimport snippet from 'tui-code-snippet';\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { componentNames, rejectMessages, commandNames } from '@/consts';\n\nconst { SHAPE } = componentNames;\n\n/**\n * Cached data for undo\n * @type {Object}\n */\nlet cachedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {object} options - shape options\n * @param {Component} targetObj - shape component\n * @returns {object} - undo data\n */\nfunction makeUndoData(options, targetObj) {\n  const undoData = {\n    object: targetObj,\n    options: {},\n  };\n\n  snippet.forEachOwnProperties(options, (value, key) => {\n    undoData.options[key] = targetObj[key];\n  });\n\n  return undoData;\n}\n\nconst command = {\n  name: commandNames.CHANGE_SHAPE,\n\n  /**\n   * Change a shape\n   * @param {Graphics} graphics - Graphics instance\n   * @param {number} id - object id\n   * @param {Object} options - Shape options\n   *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n   *      @param {string} [options.stroke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   *      @param {number} [options.left] - Shape x position\n   *      @param {number} [options.top] - Shape y position\n   *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise}\n   */\n  execute(graphics, id, options, isSilent) {\n    const shapeComp = graphics.getComponent(SHAPE);\n    const targetObj = graphics.getObject(id);\n\n    if (!targetObj) {\n      return Promise.reject(rejectMessages.noObject);\n    }\n\n    if (!this.isRedo) {\n      const undoData = makeUndoData(options, targetObj);\n\n      cachedUndoDataForSilent = this.setUndoData(undoData, cachedUndoDataForSilent, isSilent);\n    }\n\n    return shapeComp.change(targetObj, options);\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    const shapeComp = graphics.getComponent(SHAPE);\n    const { object: shape, options } = this.undoData;\n\n    return shapeComp.change(shape, options);\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Change a text\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { componentNames, rejectMessages, commandNames } from '@/consts';\n\nconst { TEXT } = componentNames;\n\nconst command = {\n  name: commandNames.CHANGE_TEXT,\n\n  /**\n   * Change a text\n   * @param {Graphics} graphics - Graphics instance\n   * @param {number} id - object id\n   * @param {string} text - Changing text\n   * @returns {Promise}\n   */\n  execute(graphics, id, text) {\n    const textComp = graphics.getComponent(TEXT);\n    const targetObj = graphics.getObject(id);\n\n    if (!targetObj) {\n      return Promise.reject(rejectMessages.noObject);\n    }\n\n    this.undoData.object = targetObj;\n    this.undoData.text = textComp.getText(targetObj);\n\n    return textComp.change(targetObj, text);\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    const textComp = graphics.getComponent(TEXT);\n    const { object: textObj, text } = this.undoData;\n\n    return textComp.change(textObj, text);\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Change text styles\n */\nimport snippet from 'tui-code-snippet';\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { componentNames, rejectMessages, commandNames } from '@/consts';\n\nconst { TEXT } = componentNames;\n\n/**\n * Cached data for undo\n * @type {Object}\n */\nlet cachedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {object} styles - text styles\n * @param {Component} targetObj - text component\n * @returns {object} - undo data\n */\nfunction makeUndoData(styles, targetObj) {\n  const undoData = {\n    object: targetObj,\n    styles: {},\n  };\n  snippet.forEachOwnProperties(styles, (value, key) => {\n    const undoValue = targetObj[key];\n    undoData.styles[key] = undoValue;\n  });\n\n  return undoData;\n}\n\nconst command = {\n  name: commandNames.CHANGE_TEXT_STYLE,\n\n  /**\n   * Change text styles\n   * @param {Graphics} graphics - Graphics instance\n   * @param {number} id - object id\n   * @param {Object} styles - text styles\n   *     @param {string} [styles.fill] Color\n   *     @param {string} [styles.fontFamily] Font type for text\n   *     @param {number} [styles.fontSize] Size\n   *     @param {string} [styles.fontStyle] Type of inclination (normal / italic)\n   *     @param {string} [styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n   *     @param {string} [styles.textAlign] Type of text align (left / center / right)\n   *     @param {string} [styles.textDecoration] Type of line (underline / line-through / overline)\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise}\n   */\n  execute(graphics, id, styles, isSilent) {\n    const textComp = graphics.getComponent(TEXT);\n    const targetObj = graphics.getObject(id);\n\n    if (!targetObj) {\n      return Promise.reject(rejectMessages.noObject);\n    }\n    if (!this.isRedo) {\n      const undoData = makeUndoData(styles, targetObj);\n\n      cachedUndoDataForSilent = this.setUndoData(undoData, cachedUndoDataForSilent, isSilent);\n    }\n\n    return textComp.setStyle(targetObj, styles);\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    const textComp = graphics.getComponent(TEXT);\n    const { object: textObj, styles } = this.undoData;\n\n    return textComp.setStyle(textObj, styles);\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Clear all objects\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { commandNames } from '@/consts';\n\nconst command = {\n  name: commandNames.CLEAR_OBJECTS,\n\n  /**\n   * Clear all objects without background (main) image\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  execute(graphics) {\n    return new Promise((resolve) => {\n      this.undoData.objects = graphics.removeAll();\n      resolve();\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   * @ignore\n   */\n  undo(graphics) {\n    graphics.add(this.undoData.objects);\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Flip an image\n */\nimport commandFactory from '@/factory/command';\nimport { componentNames, commandNames } from '@/consts';\n\nconst { FLIP } = componentNames;\n\nconst command = {\n  name: commandNames.FLIP_IMAGE,\n\n  /**\n   * flip an image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - 'flipX' or 'flipY' or 'reset'\n   * @returns {Promise}\n   */\n  execute(graphics, type) {\n    const flipComp = graphics.getComponent(FLIP);\n\n    this.undoData.setting = flipComp.getCurrentSetting();\n\n    return flipComp[type]();\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    const flipComp = graphics.getComponent(FLIP);\n\n    return flipComp.set(this.undoData.setting);\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Load a background (main) image\n */\nimport commandFactory from '@/factory/command';\nimport { componentNames, commandNames } from '@/consts';\n\nconst { IMAGE_LOADER } = componentNames;\n\nconst command = {\n  name: commandNames.LOAD_IMAGE,\n\n  /**\n   * Load a background (main) image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} imageName - Image name\n   * @param {string} imgUrl - Image Url\n   * @returns {Promise}\n   */\n  execute(graphics, imageName, imgUrl) {\n    const loader = graphics.getComponent(IMAGE_LOADER);\n    const prevImage = loader.getCanvasImage();\n    const prevImageWidth = prevImage ? prevImage.width : 0;\n    const prevImageHeight = prevImage ? prevImage.height : 0;\n    const objects = graphics.removeAll(true).filter((objectItem) => objectItem.type !== 'cropzone');\n\n    objects.forEach((objectItem) => {\n      objectItem.evented = true;\n    });\n\n    this.undoData = {\n      name: loader.getImageName(),\n      image: prevImage,\n      objects,\n    };\n\n    return loader.load(imageName, imgUrl).then((newImage) => ({\n      oldWidth: prevImageWidth,\n      oldHeight: prevImageHeight,\n      newWidth: newImage.width,\n      newHeight: newImage.height,\n    }));\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    const loader = graphics.getComponent(IMAGE_LOADER);\n    const { objects, name, image } = this.undoData;\n\n    graphics.removeAll(true);\n    graphics.add(objects);\n\n    return loader.load(name, image);\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Remove a filter from an image\n */\nimport commandFactory from '@/factory/command';\nimport { componentNames, commandNames } from '@/consts';\n\nconst { FILTER } = componentNames;\n\nconst command = {\n  name: commandNames.REMOVE_FILTER,\n\n  /**\n   * Remove a filter from an image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Filter type\n   * @returns {Promise}\n   */\n  execute(graphics, type) {\n    const filterComp = graphics.getComponent(FILTER);\n\n    this.undoData.options = filterComp.getOptions(type);\n\n    return filterComp.remove(type);\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Filter type\n   * @returns {Promise}\n   */\n  undo(graphics, type) {\n    const filterComp = graphics.getComponent(FILTER);\n    const { options } = this.undoData;\n\n    return filterComp.add(type, options);\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Remove an object\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { commandNames, rejectMessages } from '@/consts';\n\nconst command = {\n  name: commandNames.REMOVE_OBJECT,\n\n  /**\n   * Remove an object\n   * @param {Graphics} graphics - Graphics instance\n   * @param {number} id - object id\n   * @returns {Promise}\n   */\n  execute(graphics, id) {\n    return new Promise((resolve, reject) => {\n      this.undoData.objects = graphics.removeObjectById(id);\n      if (this.undoData.objects.length) {\n        resolve();\n      } else {\n        reject(rejectMessages.noObject);\n      }\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    graphics.add(this.undoData.objects);\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Resize a canvas\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { commandNames } from '@/consts';\n\nconst command = {\n  name: commandNames.RESIZE_CANVAS_DIMENSION,\n\n  /**\n   * resize the canvas with given dimension\n   * @param {Graphics} graphics - Graphics instance\n   * @param {{width: number, height: number}} dimension - Max width & height\n   * @returns {Promise}\n   */\n  execute(graphics, dimension) {\n    return new Promise((resolve) => {\n      this.undoData.size = {\n        width: graphics.cssMaxWidth,\n        height: graphics.cssMaxHeight,\n      };\n\n      graphics.setCssMaxDimension(dimension);\n      graphics.adjustCanvasDimension();\n      resolve();\n    });\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    graphics.setCssMaxDimension(this.undoData.size);\n    graphics.adjustCanvasDimension();\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Rotate an image\n */\nimport commandFactory from '@/factory/command';\nimport { componentNames, commandNames } from '@/consts';\n\nconst { ROTATION } = componentNames;\n\n/**\n * Cached data for undo\n * @type {Object}\n */\nlet cachedUndoDataForSilent = null;\n\n/**\n * Make undo data\n * @param {Component} rotationComp - rotation component\n * @returns {object} - undodata\n */\nfunction makeUndoData(rotationComp) {\n  return {\n    angle: rotationComp.getCurrentAngle(),\n  };\n}\n\nconst command = {\n  name: commandNames.ROTATE_IMAGE,\n\n  /**\n   * Rotate an image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - 'rotate' or 'setAngle'\n   * @param {number} angle - angle value (degree)\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise}\n   */\n  execute(graphics, type, angle, isSilent) {\n    const rotationComp = graphics.getComponent(ROTATION);\n\n    if (!this.isRedo) {\n      const undoData = makeUndoData(rotationComp);\n\n      cachedUndoDataForSilent = this.setUndoData(undoData, cachedUndoDataForSilent, isSilent);\n    }\n\n    return rotationComp[type](angle);\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    const rotationComp = graphics.getComponent(ROTATION);\n    const [, type, angle] = this.args;\n\n    if (type === 'setAngle') {\n      return rotationComp[type](this.undoData.angle);\n    }\n\n    return rotationComp.rotate(-angle);\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Set object properties\n */\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { commandNames, rejectMessages } from '@/consts';\n\nconst command = {\n  name: commandNames.SET_OBJECT_POSITION,\n\n  /**\n   * Set object properties\n   * @param {Graphics} graphics - Graphics instance\n   * @param {number} id - object id\n   * @param {Object} posInfo - position object\n   *  @param {number} posInfo.x - x position\n   *  @param {number} posInfo.y - y position\n   *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n   *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n   * @returns {Promise}\n   */\n  execute(graphics, id, posInfo) {\n    const targetObj = graphics.getObject(id);\n\n    if (!targetObj) {\n      return Promise.reject(rejectMessages.noObject);\n    }\n\n    this.undoData.objectId = id;\n    this.undoData.props = graphics.getObjectProperties(id, ['left', 'top']);\n\n    graphics.setObjectPosition(id, posInfo);\n    graphics.renderAll();\n\n    return Promise.resolve();\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo(graphics) {\n    const { objectId, props } = this.undoData;\n\n    graphics.setObjectProperties(objectId, props);\n    graphics.renderAll();\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Set object properties\n */\nimport snippet from 'tui-code-snippet';\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { commandNames, rejectMessages } from '@/consts';\n\nconst command = {\n  name: commandNames.SET_OBJECT_PROPERTIES,\n\n  /**\n   * Set object properties\n   * @param {Graphics} graphics - Graphics instance\n   * @param {number} id - object id\n   * @param {Object} props - properties\n   *     @param {string} [props.fill] Color\n   *     @param {string} [props.fontFamily] Font type for text\n   *     @param {number} [props.fontSize] Size\n   *     @param {string} [props.fontStyle] Type of inclination (normal / italic)\n   *     @param {string} [props.fontWeight] Type of thicker or thinner looking (normal / bold)\n   *     @param {string} [props.textAlign] Type of text align (left / center / right)\n   *     @param {string} [props.textDecoration] Type of line (underline / line-through / overline)\n   * @returns {Promise}\n   */\n  execute(graphics, id, props) {\n    const targetObj = graphics.getObject(id);\n\n    if (!targetObj) {\n      return Promise.reject(rejectMessages.noObject);\n    }\n\n    this.undoData.props = {};\n    snippet.forEachOwnProperties(props, (value, key) => {\n      this.undoData.props[key] = targetObj[key];\n    });\n\n    graphics.setObjectProperties(id, props);\n\n    return Promise.resolve();\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @param {number} id - object id\n   * @returns {Promise}\n   */\n  undo(graphics, id) {\n    const { props } = this.undoData;\n\n    graphics.setObjectProperties(id, props);\n\n    return Promise.resolve();\n  },\n};\n\ncommandFactory.register(command);\n\nexport default command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Image crop module (start cropping, end cropping)\n */\nimport snippet from 'tui-code-snippet';\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport Cropzone from '@/extension/cropzone';\nimport { keyCodes, componentNames, CROPZONE_DEFAULT_OPTIONS } from '@/consts';\nimport { clamp, fixFloatingPoint } from '@/util';\n\nconst MOUSE_MOVE_THRESHOLD = 10;\nconst DEFAULT_OPTION = {\n  presetRatio: null,\n  top: -10,\n  left: -10,\n  height: 1,\n  width: 1,\n};\n\n/**\n * Cropper components\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @class Cropper\n * @ignore\n */\nclass Cropper extends Component {\n  constructor(graphics) {\n    super(componentNames.CROPPER, graphics);\n\n    /**\n     * Cropzone\n     * @type {Cropzone}\n     * @private\n     */\n    this._cropzone = null;\n\n    /**\n     * StartX of Cropzone\n     * @type {number}\n     * @private\n     */\n    this._startX = null;\n\n    /**\n     * StartY of Cropzone\n     * @type {number}\n     * @private\n     */\n    this._startY = null;\n\n    /**\n     * State whether shortcut key is pressed or not\n     * @type {boolean}\n     * @private\n     */\n    this._withShiftKey = false;\n\n    /**\n     * Listeners\n     * @type {object.<string, function>}\n     * @private\n     */\n    this._listeners = {\n      keydown: this._onKeyDown.bind(this),\n      keyup: this._onKeyUp.bind(this),\n      mousedown: this._onFabricMouseDown.bind(this),\n      mousemove: this._onFabricMouseMove.bind(this),\n      mouseup: this._onFabricMouseUp.bind(this),\n    };\n  }\n\n  /**\n   * Start cropping\n   */\n  start() {\n    if (this._cropzone) {\n      return;\n    }\n    const canvas = this.getCanvas();\n\n    canvas.forEachObject((obj) => {\n      // {@link http://fabricjs.com/docs/fabric.Object.html#evented}\n      obj.evented = false;\n    });\n\n    this._cropzone = new Cropzone(\n      canvas,\n      snippet.extend(\n        {\n          left: 0,\n          top: 0,\n          width: 0.5,\n          height: 0.5,\n          strokeWidth: 0, // {@link https://github.com/kangax/fabric.js/issues/2860}\n          cornerSize: 10,\n          cornerColor: 'black',\n          fill: 'transparent',\n        },\n        CROPZONE_DEFAULT_OPTIONS,\n        this.graphics.cropSelectionStyle\n      )\n    );\n\n    canvas.discardActiveObject();\n    canvas.add(this._cropzone);\n    canvas.on('mouse:down', this._listeners.mousedown);\n    canvas.selection = false;\n    canvas.defaultCursor = 'crosshair';\n\n    fabric.util.addListener(document, 'keydown', this._listeners.keydown);\n    fabric.util.addListener(document, 'keyup', this._listeners.keyup);\n  }\n\n  /**\n   * End cropping\n   */\n  end() {\n    const canvas = this.getCanvas();\n    const cropzone = this._cropzone;\n\n    if (!cropzone) {\n      return;\n    }\n    canvas.remove(cropzone);\n    canvas.selection = true;\n    canvas.defaultCursor = 'default';\n    canvas.off('mouse:down', this._listeners.mousedown);\n    canvas.forEachObject((obj) => {\n      obj.evented = true;\n    });\n\n    this._cropzone = null;\n\n    fabric.util.removeListener(document, 'keydown', this._listeners.keydown);\n    fabric.util.removeListener(document, 'keyup', this._listeners.keyup);\n  }\n\n  /**\n   * Change cropzone visible\n   * @param {boolean} visible - cropzone visible state\n   */\n  changeVisibility(visible) {\n    if (this._cropzone) {\n      this._cropzone.set({ visible });\n    }\n  }\n\n  /**\n   * onMousedown handler in fabric canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onFabricMouseDown(fEvent) {\n    const canvas = this.getCanvas();\n\n    if (fEvent.target) {\n      return;\n    }\n\n    canvas.selection = false;\n    const coord = canvas.getPointer(fEvent.e);\n\n    this._startX = coord.x;\n    this._startY = coord.y;\n\n    canvas.on({\n      'mouse:move': this._listeners.mousemove,\n      'mouse:up': this._listeners.mouseup,\n    });\n  }\n\n  /**\n   * onMousemove handler in fabric canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onFabricMouseMove(fEvent) {\n    const canvas = this.getCanvas();\n    const pointer = canvas.getPointer(fEvent.e);\n    const { x, y } = pointer;\n    const cropzone = this._cropzone;\n\n    if (Math.abs(x - this._startX) + Math.abs(y - this._startY) > MOUSE_MOVE_THRESHOLD) {\n      canvas.remove(cropzone);\n      cropzone.set(this._calcRectDimensionFromPoint(x, y));\n\n      canvas.add(cropzone);\n      canvas.setActiveObject(cropzone);\n    }\n  }\n\n  /**\n   * Get rect dimension setting from Canvas-Mouse-Position(x, y)\n   * @param {number} x - Canvas-Mouse-Position x\n   * @param {number} y - Canvas-Mouse-Position Y\n   * @returns {{left: number, top: number, width: number, height: number}}\n   * @private\n   */\n  _calcRectDimensionFromPoint(x, y) {\n    const canvas = this.getCanvas();\n    const canvasWidth = canvas.getWidth();\n    const canvasHeight = canvas.getHeight();\n    const startX = this._startX;\n    const startY = this._startY;\n    let left = clamp(x, 0, startX);\n    let top = clamp(y, 0, startY);\n    let width = clamp(x, startX, canvasWidth) - left; // (startX <= x(mouse) <= canvasWidth) - left\n    let height = clamp(y, startY, canvasHeight) - top; // (startY <= y(mouse) <= canvasHeight) - top\n\n    if (this._withShiftKey) {\n      // make fixed ratio cropzone\n      if (width > height) {\n        height = width;\n      } else if (height > width) {\n        width = height;\n      }\n\n      if (startX >= x) {\n        left = startX - width;\n      }\n\n      if (startY >= y) {\n        top = startY - height;\n      }\n    }\n\n    return {\n      left,\n      top,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * onMouseup handler in fabric canvas\n   * @private\n   */\n  _onFabricMouseUp() {\n    const cropzone = this._cropzone;\n    const listeners = this._listeners;\n    const canvas = this.getCanvas();\n\n    canvas.setActiveObject(cropzone);\n    canvas.off({\n      'mouse:move': listeners.mousemove,\n      'mouse:up': listeners.mouseup,\n    });\n  }\n\n  /**\n   * Get cropped image data\n   * @param {Object} cropRect cropzone rect\n   *  @param {Number} cropRect.left left position\n   *  @param {Number} cropRect.top top position\n   *  @param {Number} cropRect.width width\n   *  @param {Number} cropRect.height height\n   * @returns {?{imageName: string, url: string}} cropped Image data\n   */\n  getCroppedImageData(cropRect) {\n    const canvas = this.getCanvas();\n    const containsCropzone = canvas.contains(this._cropzone);\n    if (!cropRect) {\n      return null;\n    }\n\n    if (containsCropzone) {\n      canvas.remove(this._cropzone);\n    }\n\n    const imageData = {\n      imageName: this.getImageName(),\n      url: canvas.toDataURL(cropRect),\n    };\n\n    if (containsCropzone) {\n      canvas.add(this._cropzone);\n    }\n\n    return imageData;\n  }\n\n  /**\n   * Get cropped rect\n   * @returns {Object} rect\n   */\n  getCropzoneRect() {\n    const cropzone = this._cropzone;\n\n    if (!cropzone.isValid()) {\n      return null;\n    }\n\n    return {\n      left: cropzone.left,\n      top: cropzone.top,\n      width: cropzone.width,\n      height: cropzone.height,\n    };\n  }\n\n  /**\n   * Set a cropzone square\n   * @param {number} [presetRatio] - preset ratio\n   */\n  setCropzoneRect(presetRatio) {\n    const canvas = this.getCanvas();\n    const cropzone = this._cropzone;\n\n    canvas.discardActiveObject();\n    canvas.selection = false;\n    canvas.remove(cropzone);\n\n    cropzone.set(presetRatio ? this._getPresetPropertiesForCropSize(presetRatio) : DEFAULT_OPTION);\n\n    canvas.add(cropzone);\n    canvas.selection = true;\n\n    if (presetRatio) {\n      canvas.setActiveObject(cropzone);\n    }\n  }\n\n  /**\n   * get a cropzone square info\n   * @param {number} presetRatio - preset ratio\n   * @returns {{presetRatio: number, left: number, top: number, width: number, height: number}}\n   * @private\n   */\n  _getPresetPropertiesForCropSize(presetRatio) {\n    const canvas = this.getCanvas();\n    const originalWidth = canvas.getWidth();\n    const originalHeight = canvas.getHeight();\n\n    const standardSize = originalWidth >= originalHeight ? originalWidth : originalHeight;\n    const getScale = (value, orignalValue) => (value > orignalValue ? orignalValue / value : 1);\n\n    let width = standardSize * presetRatio;\n    let height = standardSize;\n\n    const scaleWidth = getScale(width, originalWidth);\n    [width, height] = snippet.map([width, height], (sizeValue) => sizeValue * scaleWidth);\n\n    const scaleHeight = getScale(height, originalHeight);\n    [width, height] = snippet.map([width, height], (sizeValue) =>\n      fixFloatingPoint(sizeValue * scaleHeight)\n    );\n\n    return {\n      presetRatio,\n      top: (originalHeight - height) / 2,\n      left: (originalWidth - width) / 2,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * Keydown event handler\n   * @param {KeyboardEvent} e - Event object\n   * @private\n   */\n  _onKeyDown(e) {\n    if (e.keyCode === keyCodes.SHIFT) {\n      this._withShiftKey = true;\n    }\n  }\n\n  /**\n   * Keyup event handler\n   * @param {KeyboardEvent} e - Event object\n   * @private\n   */\n  _onKeyUp(e) {\n    if (e.keyCode === keyCodes.SHIFT) {\n      this._withShiftKey = false;\n    }\n  }\n}\n\nexport default Cropper;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Add filter module\n */\nimport { isUndefined, extend, forEach, filter } from 'tui-code-snippet';\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport { Promise } from '@/util';\nimport { rejectMessages, componentNames } from '@/consts';\nimport Mask from '@/extension/mask';\nimport Sharpen from '@/extension/sharpen';\nimport Emboss from '@/extension/emboss';\nimport ColorFilter from '@/extension/colorFilter';\n\nconst { filters } = fabric.Image;\n\nfilters.Mask = Mask;\nfilters.Sharpen = Sharpen;\nfilters.Emboss = Emboss;\nfilters.ColorFilter = ColorFilter;\n\n/**\n * Filter\n * @class Filter\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nclass Filter extends Component {\n  constructor(graphics) {\n    super(componentNames.FILTER, graphics);\n  }\n\n  /**\n   * Add filter to source image (a specific filter is added on fabric.js)\n   * @param {string} type - Filter type\n   * @param {Object} [options] - Options of filter\n   * @returns {Promise}\n   */\n  add(type, options) {\n    return new Promise((resolve, reject) => {\n      const sourceImg = this._getSourceImage();\n      const canvas = this.getCanvas();\n      let imgFilter = this._getFilter(sourceImg, type);\n      if (!imgFilter) {\n        imgFilter = this._createFilter(sourceImg, type, options);\n      }\n\n      if (!imgFilter) {\n        reject(rejectMessages.invalidParameters);\n      }\n\n      this._changeFilterValues(imgFilter, options);\n\n      this._apply(sourceImg, () => {\n        canvas.renderAll();\n        resolve({\n          type,\n          action: 'add',\n          options,\n        });\n      });\n    });\n  }\n\n  /**\n   * Remove filter to source image\n   * @param {string} type - Filter type\n   * @returns {Promise}\n   */\n  remove(type) {\n    return new Promise((resolve, reject) => {\n      const sourceImg = this._getSourceImage();\n      const canvas = this.getCanvas();\n      const options = this.getOptions(type);\n\n      if (!sourceImg.filters.length) {\n        reject(rejectMessages.unsupportedOperation);\n      }\n\n      this._removeFilter(sourceImg, type);\n\n      this._apply(sourceImg, () => {\n        canvas.renderAll();\n        resolve({\n          type,\n          action: 'remove',\n          options,\n        });\n      });\n    });\n  }\n\n  /**\n   * Whether this has the filter or not\n   * @param {string} type - Filter type\n   * @returns {boolean} true if it has the filter\n   */\n  hasFilter(type) {\n    return !!this._getFilter(this._getSourceImage(), type);\n  }\n\n  /**\n   * Get a filter options\n   * @param {string} type - Filter type\n   * @returns {Object} filter options or null if there is no that filter\n   */\n  getOptions(type) {\n    const sourceImg = this._getSourceImage();\n    const imgFilter = this._getFilter(sourceImg, type);\n    if (!imgFilter) {\n      return null;\n    }\n\n    return extend({}, imgFilter.options);\n  }\n\n  /**\n   * Change filter values\n   * @param {Object} imgFilter object of filter\n   * @param {Object} options object\n   * @private\n   */\n  _changeFilterValues(imgFilter, options) {\n    forEach(options, (value, key) => {\n      if (!isUndefined(imgFilter[key])) {\n        imgFilter[key] = value;\n      }\n    });\n    forEach(imgFilter.options, (value, key) => {\n      if (!isUndefined(options[key])) {\n        imgFilter.options[key] = options[key];\n      }\n    });\n  }\n\n  /**\n   * Apply filter\n   * @param {fabric.Image} sourceImg - Source image to apply filter\n   * @param {function} callback - Executed function after applying filter\n   * @private\n   */\n  _apply(sourceImg, callback) {\n    sourceImg.filters.push();\n    const result = sourceImg.applyFilters();\n    if (result) {\n      callback();\n    }\n  }\n\n  /**\n   * Get source image on canvas\n   * @returns {fabric.Image} Current source image on canvas\n   * @private\n   */\n  _getSourceImage() {\n    return this.getCanvasImage();\n  }\n\n  /**\n   * Create filter instance\n   * @param {fabric.Image} sourceImg - Source image to apply filter\n   * @param {string} type - Filter type\n   * @param {Object} [options] - Options of filter\n   * @returns {Object} Fabric object of filter\n   * @private\n   */\n  _createFilter(sourceImg, type, options) {\n    let filterObj;\n    // capitalize first letter for matching with fabric image filter name\n    const fabricType = this._getFabricFilterType(type);\n    const ImageFilter = fabric.Image.filters[fabricType];\n    if (ImageFilter) {\n      filterObj = new ImageFilter(options);\n      filterObj.options = options;\n      sourceImg.filters.push(filterObj);\n    }\n\n    return filterObj;\n  }\n\n  /**\n   * Get applied filter instance\n   * @param {fabric.Image} sourceImg - Source image to apply filter\n   * @param {string} type - Filter type\n   * @returns {Object} Fabric object of filter\n   * @private\n   */\n  _getFilter(sourceImg, type) {\n    let imgFilter = null;\n\n    if (sourceImg) {\n      const fabricType = this._getFabricFilterType(type);\n      const { length } = sourceImg.filters;\n      let item, i;\n\n      for (i = 0; i < length; i += 1) {\n        item = sourceImg.filters[i];\n        if (item.type === fabricType) {\n          imgFilter = item;\n          break;\n        }\n      }\n    }\n\n    return imgFilter;\n  }\n\n  /**\n   * Remove applied filter instance\n   * @param {fabric.Image} sourceImg - Source image to apply filter\n   * @param {string} type - Filter type\n   * @private\n   */\n  _removeFilter(sourceImg, type) {\n    const fabricType = this._getFabricFilterType(type);\n    sourceImg.filters = filter(sourceImg.filters, (value) => value.type !== fabricType);\n  }\n\n  /**\n   * Change filter class name to fabric's, especially capitalizing first letter\n   * @param {string} type - Filter type\n   * @example\n   * 'grayscale' -> 'Grayscale'\n   * @returns {string} Fabric filter class name\n   */\n  _getFabricFilterType(type) {\n    return type.charAt(0).toUpperCase() + type.slice(1);\n  }\n}\n\nexport default Filter;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Image flip module\n */\nimport snippet from 'tui-code-snippet';\nimport Component from '@/interface/component';\nimport { Promise } from '@/util';\nimport { componentNames, rejectMessages } from '@/consts';\n\n/**\n * Flip\n * @class Flip\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nclass Flip extends Component {\n  constructor(graphics) {\n    super(componentNames.FLIP, graphics);\n  }\n\n  /**\n   * Get current flip settings\n   * @returns {{flipX: Boolean, flipY: Boolean}}\n   */\n  getCurrentSetting() {\n    const canvasImage = this.getCanvasImage();\n\n    return {\n      flipX: canvasImage.flipX,\n      flipY: canvasImage.flipY,\n    };\n  }\n\n  /**\n   * Set flipX, flipY\n   * @param {{flipX: Boolean, flipY: Boolean}} newSetting - Flip setting\n   * @returns {Promise}\n   */\n  set(newSetting) {\n    const setting = this.getCurrentSetting();\n    const isChangingFlipX = setting.flipX !== newSetting.flipX;\n    const isChangingFlipY = setting.flipY !== newSetting.flipY;\n\n    if (!isChangingFlipX && !isChangingFlipY) {\n      return Promise.reject(rejectMessages.flip);\n    }\n\n    snippet.extend(setting, newSetting);\n    this.setImageProperties(setting, true);\n    this._invertAngle(isChangingFlipX, isChangingFlipY);\n    this._flipObjects(isChangingFlipX, isChangingFlipY);\n\n    return Promise.resolve({\n      flipX: setting.flipX,\n      flipY: setting.flipY,\n      angle: this.getCanvasImage().angle,\n    });\n  }\n\n  /**\n   * Invert image angle for flip\n   * @param {boolean} isChangingFlipX - Change flipX\n   * @param {boolean} isChangingFlipY - Change flipY\n   */\n  _invertAngle(isChangingFlipX, isChangingFlipY) {\n    const canvasImage = this.getCanvasImage();\n    let { angle } = canvasImage;\n\n    if (isChangingFlipX) {\n      angle *= -1;\n    }\n    if (isChangingFlipY) {\n      angle *= -1;\n    }\n    canvasImage.rotate(parseFloat(angle)).setCoords(); // parseFloat for -0 to 0\n  }\n\n  /**\n   * Flip objects\n   * @param {boolean} isChangingFlipX - Change flipX\n   * @param {boolean} isChangingFlipY - Change flipY\n   * @private\n   */\n  _flipObjects(isChangingFlipX, isChangingFlipY) {\n    const canvas = this.getCanvas();\n\n    if (isChangingFlipX) {\n      canvas.forEachObject((obj) => {\n        obj\n          .set({\n            angle: parseFloat(obj.angle * -1), // parseFloat for -0 to 0\n            flipX: !obj.flipX,\n            left: canvas.width - obj.left,\n          })\n          .setCoords();\n      });\n    }\n    if (isChangingFlipY) {\n      canvas.forEachObject((obj) => {\n        obj\n          .set({\n            angle: parseFloat(obj.angle * -1), // parseFloat for -0 to 0\n            flipY: !obj.flipY,\n            top: canvas.height - obj.top,\n          })\n          .setCoords();\n      });\n    }\n    canvas.renderAll();\n  }\n\n  /**\n   * Reset flip settings\n   * @returns {Promise}\n   */\n  reset() {\n    return this.set({\n      flipX: false,\n      flipY: false,\n    });\n  }\n\n  /**\n   * Flip x\n   * @returns {Promise}\n   */\n  flipX() {\n    const current = this.getCurrentSetting();\n\n    return this.set({\n      flipX: !current.flipX,\n      flipY: current.flipY,\n    });\n  }\n\n  /**\n   * Flip y\n   * @returns {Promise}\n   */\n  flipY() {\n    const current = this.getCurrentSetting();\n\n    return this.set({\n      flipX: current.flipX,\n      flipY: !current.flipY,\n    });\n  }\n}\n\nexport default Flip;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Free drawing module, Set brush\n */\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport { componentNames } from '@/consts';\n\n/**\n * FreeDrawing\n * @class FreeDrawing\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nclass FreeDrawing extends Component {\n  constructor(graphics) {\n    super(componentNames.FREE_DRAWING, graphics);\n\n    /**\n     * Brush width\n     * @type {number}\n     */\n    this.width = 12;\n\n    /**\n     * fabric.Color instance for brush color\n     * @type {fabric.Color}\n     */\n    this.oColor = new fabric.Color('rgba(0, 0, 0, 0.5)');\n  }\n\n  /**\n   * Start free drawing mode\n   * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n   */\n  start(setting) {\n    const canvas = this.getCanvas();\n\n    canvas.isDrawingMode = true;\n    this.setBrush(setting);\n  }\n\n  /**\n   * Set brush\n   * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n   */\n  setBrush(setting) {\n    const brush = this.getCanvas().freeDrawingBrush;\n\n    setting = setting || {};\n    this.width = setting.width || this.width;\n    if (setting.color) {\n      this.oColor = new fabric.Color(setting.color);\n    }\n    brush.width = this.width;\n    brush.color = this.oColor.toRgba();\n  }\n\n  /**\n   * End free drawing mode\n   */\n  end() {\n    const canvas = this.getCanvas();\n\n    canvas.isDrawingMode = false;\n  }\n}\n\nexport default FreeDrawing;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Add icon module\n */\nimport snippet from 'tui-code-snippet';\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport { Promise } from '@/util';\nimport { eventNames as events, rejectMessages, componentNames, fObjectOptions } from '@/consts';\n\nconst pathMap = {\n  arrow: 'M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z',\n  cancel:\n    'M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 ' +\n    'L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z',\n};\n\n/**\n * Icon\n * @class Icon\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nclass Icon extends Component {\n  constructor(graphics) {\n    super(componentNames.ICON, graphics);\n\n    /**\n     * Default icon color\n     * @type {string}\n     */\n    this._oColor = '#000000';\n\n    /**\n     * Path value of each icon type\n     * @type {Object}\n     */\n    this._pathMap = pathMap;\n\n    /**\n     * Type of the drawing icon\n     * @type {string}\n     * @private\n     */\n    this._type = null;\n\n    /**\n     * Color of the drawing icon\n     * @type {string}\n     * @private\n     */\n    this._iconColor = null;\n\n    /**\n     * Event handler list\n     * @type {Object}\n     * @private\n     */\n    this._handlers = {\n      mousedown: this._onFabricMouseDown.bind(this),\n      mousemove: this._onFabricMouseMove.bind(this),\n      mouseup: this._onFabricMouseUp.bind(this),\n    };\n  }\n\n  /**\n   * Set states of the current drawing shape\n   * @ignore\n   * @param {string} type - Icon type ('arrow', 'cancel', custom icon name)\n   * @param {string} iconColor - Icon foreground color\n   */\n  setStates(type, iconColor) {\n    this._type = type;\n    this._iconColor = iconColor;\n  }\n\n  /**\n   * Start to draw the icon on canvas\n   * @ignore\n   */\n  start() {\n    const canvas = this.getCanvas();\n    canvas.selection = false;\n    canvas.on('mouse:down', this._handlers.mousedown);\n  }\n\n  /**\n   * End to draw the icon on canvas\n   * @ignore\n   */\n  end() {\n    const canvas = this.getCanvas();\n\n    canvas.selection = true;\n    canvas.off({\n      'mouse:down': this._handlers.mousedown,\n    });\n  }\n\n  /**\n   * Add icon\n   * @param {string} type - Icon type\n   * @param {Object} options - Icon options\n   *      @param {string} [options.fill] - Icon foreground color\n   *      @param {string} [options.left] - Icon x position\n   *      @param {string} [options.top] - Icon y position\n   * @returns {Promise}\n   */\n  add(type, options) {\n    return new Promise((resolve, reject) => {\n      const canvas = this.getCanvas();\n      const path = this._pathMap[type];\n      const selectionStyle = fObjectOptions.SELECTION_STYLE;\n      const icon = path ? this._createIcon(path) : null;\n      this._icon = icon;\n\n      if (!icon) {\n        reject(rejectMessages.invalidParameters);\n      }\n\n      icon.set(\n        snippet.extend(\n          {\n            type: 'icon',\n            fill: this._oColor,\n          },\n          selectionStyle,\n          options,\n          this.graphics.controlStyle\n        )\n      );\n\n      canvas.add(icon).setActiveObject(icon);\n\n      resolve(this.graphics.createObjectProperties(icon));\n    });\n  }\n\n  /**\n   * Register icon paths\n   * @param {{key: string, value: string}} pathInfos - Path infos\n   */\n  registerPaths(pathInfos) {\n    snippet.forEach(\n      pathInfos,\n      (path, type) => {\n        this._pathMap[type] = path;\n      },\n      this\n    );\n  }\n\n  /**\n   * Set icon object color\n   * @param {string} color - Color to set\n   * @param {fabric.Path}[obj] - Current activated path object\n   */\n  setColor(color, obj) {\n    this._oColor = color;\n\n    if (obj && obj.get('type') === 'icon') {\n      obj.set({ fill: this._oColor });\n      this.getCanvas().renderAll();\n    }\n  }\n\n  /**\n   * Get icon color\n   * @param {fabric.Path}[obj] - Current activated path object\n   * @returns {string} color\n   */\n  getColor(obj) {\n    return obj.fill;\n  }\n\n  /**\n   * Create icon object\n   * @param {string} path - Path value to create icon\n   * @returns {fabric.Path} Path object\n   */\n  _createIcon(path) {\n    return new fabric.Path(path);\n  }\n\n  /**\n   * MouseDown event handler on canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n   * @private\n   */\n  _onFabricMouseDown(fEvent) {\n    const canvas = this.getCanvas();\n\n    this._startPoint = canvas.getPointer(fEvent.e);\n    const { x: left, y: top } = this._startPoint;\n\n    this.add(this._type, {\n      left,\n      top,\n      fill: this._iconColor,\n    }).then(() => {\n      this.fire(events.ADD_OBJECT, this.graphics.createObjectProperties(this._icon));\n      canvas.on('mouse:move', this._handlers.mousemove);\n      canvas.on('mouse:up', this._handlers.mouseup);\n    });\n  }\n\n  /**\n   * MouseMove event handler on canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n   * @private\n   */\n  _onFabricMouseMove(fEvent) {\n    const canvas = this.getCanvas();\n\n    if (!this._icon) {\n      return;\n    }\n    const moveOriginPointer = canvas.getPointer(fEvent.e);\n\n    const scaleX = (moveOriginPointer.x - this._startPoint.x) / this._icon.width;\n    const scaleY = (moveOriginPointer.y - this._startPoint.y) / this._icon.height;\n\n    this._icon.set({\n      scaleX: Math.abs(scaleX * 2),\n      scaleY: Math.abs(scaleY * 2),\n    });\n\n    this._icon.setCoords();\n    canvas.renderAll();\n  }\n\n  /**\n   * MouseUp event handler on canvas\n   * @private\n   */\n  _onFabricMouseUp() {\n    const canvas = this.getCanvas();\n\n    this.fire(events.OBJECT_ADDED, this.graphics.createObjectProperties(this._icon));\n\n    this._icon = null;\n\n    canvas.off('mouse:down', this._handlers.mousedown);\n    canvas.off('mouse:move', this._handlers.mousemove);\n    canvas.off('mouse:up', this._handlers.mouseup);\n  }\n}\n\nexport default Icon;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Image loader\n */\nimport Component from '@/interface/component';\nimport { Promise } from '@/util';\nimport { componentNames, rejectMessages } from '@/consts';\n\nconst imageOption = {\n  padding: 0,\n  crossOrigin: 'Anonymous',\n};\n\n/**\n * ImageLoader components\n * @extends {Component}\n * @class ImageLoader\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\nclass ImageLoader extends Component {\n  constructor(graphics) {\n    super(componentNames.IMAGE_LOADER, graphics);\n  }\n\n  /**\n   * Load image from url\n   * @param {?string} imageName - File name\n   * @param {?(fabric.Image|string)} img - fabric.Image instance or URL of an image\n   * @returns {Promise}\n   */\n  load(imageName, img) {\n    let promise;\n\n    if (!imageName && !img) {\n      // Back to the initial state, not error.\n      const canvas = this.getCanvas();\n\n      canvas.backgroundImage = null;\n      canvas.renderAll();\n\n      promise = new Promise((resolve) => {\n        this.setCanvasImage('', null);\n        resolve();\n      });\n    } else {\n      promise = this._setBackgroundImage(img).then((oImage) => {\n        this.setCanvasImage(imageName, oImage);\n        this.adjustCanvasDimension();\n\n        return oImage;\n      });\n    }\n\n    return promise;\n  }\n\n  /**\n   * Set background image\n   * @param {?(fabric.Image|String)} img fabric.Image instance or URL of an image to set background to\n   * @returns {Promise}\n   * @private\n   */\n  _setBackgroundImage(img) {\n    if (!img) {\n      return Promise.reject(rejectMessages.loadImage);\n    }\n\n    return new Promise((resolve, reject) => {\n      const canvas = this.getCanvas();\n\n      canvas.setBackgroundImage(\n        img,\n        () => {\n          const oImage = canvas.backgroundImage;\n\n          if (oImage && oImage.getElement()) {\n            resolve(oImage);\n          } else {\n            reject(rejectMessages.loadingImageFailed);\n          }\n        },\n        imageOption\n      );\n    });\n  }\n}\n\nexport default ImageLoader;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Free drawing module, Set brush\n */\nimport snippet from 'tui-code-snippet';\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport ArrowLine from '@/extension/arrowLine';\nimport { eventNames, componentNames, fObjectOptions } from '@/consts';\n\n/**\n * Line\n * @class Line\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nclass Line extends Component {\n  constructor(graphics) {\n    super(componentNames.LINE, graphics);\n\n    /**\n     * Brush width\n     * @type {number}\n     * @private\n     */\n    this._width = 12;\n\n    /**\n     * fabric.Color instance for brush color\n     * @type {fabric.Color}\n     * @private\n     */\n    this._oColor = new fabric.Color('rgba(0, 0, 0, 0.5)');\n\n    /**\n     * Listeners\n     * @type {object.<string, function>}\n     * @private\n     */\n    this._listeners = {\n      mousedown: this._onFabricMouseDown.bind(this),\n      mousemove: this._onFabricMouseMove.bind(this),\n      mouseup: this._onFabricMouseUp.bind(this),\n    };\n  }\n\n  /**\n   * Start drawing line mode\n   * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n   */\n  setHeadOption(setting) {\n    const {\n      arrowType = {\n        head: null,\n        tail: null,\n      },\n    } = setting;\n\n    this._arrowType = arrowType;\n  }\n\n  /**\n   * Start drawing line mode\n   * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n   */\n  start(setting = {}) {\n    const canvas = this.getCanvas();\n\n    canvas.defaultCursor = 'crosshair';\n    canvas.selection = false;\n\n    this.setHeadOption(setting);\n    this.setBrush(setting);\n\n    canvas.forEachObject((obj) => {\n      obj.set({\n        evented: false,\n      });\n    });\n\n    canvas.on({\n      'mouse:down': this._listeners.mousedown,\n    });\n  }\n\n  /**\n   * Set brush\n   * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n   */\n  setBrush(setting) {\n    const brush = this.getCanvas().freeDrawingBrush;\n\n    setting = setting || {};\n    this._width = setting.width || this._width;\n\n    if (setting.color) {\n      this._oColor = new fabric.Color(setting.color);\n    }\n    brush.width = this._width;\n    brush.color = this._oColor.toRgba();\n  }\n\n  /**\n   * End drawing line mode\n   */\n  end() {\n    const canvas = this.getCanvas();\n\n    canvas.defaultCursor = 'default';\n    canvas.selection = true;\n\n    canvas.forEachObject((obj) => {\n      obj.set({\n        evented: true,\n      });\n    });\n\n    canvas.off('mouse:down', this._listeners.mousedown);\n  }\n\n  /**\n   * Mousedown event handler in fabric canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n   * @private\n   */\n  _onFabricMouseDown(fEvent) {\n    const canvas = this.getCanvas();\n    const { x, y } = canvas.getPointer(fEvent.e);\n    const points = [x, y, x, y];\n\n    this._line = new ArrowLine(points, {\n      stroke: this._oColor.toRgba(),\n      strokeWidth: this._width,\n      arrowType: this._arrowType,\n      evented: false,\n    });\n\n    this._line.set(fObjectOptions.SELECTION_STYLE);\n\n    canvas.add(this._line);\n\n    canvas.on({\n      'mouse:move': this._listeners.mousemove,\n      'mouse:up': this._listeners.mouseup,\n    });\n\n    this.fire(eventNames.ADD_OBJECT, this._createLineEventObjectProperties());\n  }\n\n  /**\n   * Mousemove event handler in fabric canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n   * @private\n   */\n  _onFabricMouseMove(fEvent) {\n    const canvas = this.getCanvas();\n    const pointer = canvas.getPointer(fEvent.e);\n\n    this._line.set({\n      x2: pointer.x,\n      y2: pointer.y,\n    });\n\n    this._line.setCoords();\n\n    canvas.renderAll();\n  }\n\n  /**\n   * Mouseup event handler in fabric canvas\n   * @private\n   */\n  _onFabricMouseUp() {\n    const canvas = this.getCanvas();\n\n    this.fire(eventNames.OBJECT_ADDED, this._createLineEventObjectProperties());\n\n    this._line = null;\n\n    canvas.off({\n      'mouse:move': this._listeners.mousemove,\n      'mouse:up': this._listeners.mouseup,\n    });\n  }\n\n  /**\n   * create line event object properties\n   * @returns {Object} properties line object\n   * @private\n   */\n  _createLineEventObjectProperties() {\n    const params = this.graphics.createObjectProperties(this._line);\n    const { x1, x2, y1, y2 } = this._line;\n\n    return snippet.extend({}, params, {\n      startPosition: {\n        x: x1,\n        y: y1,\n      },\n      endPosition: {\n        x: x2,\n        y: y2,\n      },\n    });\n  }\n}\n\nexport default Line;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Image rotation module\n */\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport { Promise } from '@/util';\nimport { componentNames } from '@/consts';\n\n/**\n * Image Rotation component\n * @class Rotation\n * @extends {Component}\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\nclass Rotation extends Component {\n  constructor(graphics) {\n    super(componentNames.ROTATION, graphics);\n  }\n\n  /**\n   * Get current angle\n   * @returns {Number}\n   */\n  getCurrentAngle() {\n    return this.getCanvasImage().angle;\n  }\n\n  /**\n   * Set angle of the image\n   *\n   *  Do not call \"this.setImageProperties\" for setting angle directly.\n   *  Before setting angle, The originX,Y of image should be set to center.\n   *      See \"http://fabricjs.com/docs/fabric.Object.html#setAngle\"\n   *\n   * @param {number} angle - Angle value\n   * @returns {Promise}\n   */\n  setAngle(angle) {\n    const oldAngle = this.getCurrentAngle() % 360; // The angle is lower than 2*PI(===360 degrees)\n\n    angle %= 360;\n\n    const canvasImage = this.getCanvasImage();\n    const oldImageCenter = canvasImage.getCenterPoint();\n    canvasImage.set({ angle }).setCoords();\n    this.adjustCanvasDimension();\n    const newImageCenter = canvasImage.getCenterPoint();\n    this._rotateForEachObject(oldImageCenter, newImageCenter, angle - oldAngle);\n\n    return Promise.resolve(angle);\n  }\n\n  /**\n   * Rotate for each object\n   * @param {fabric.Point} oldImageCenter - Image center point before rotation\n   * @param {fabric.Point} newImageCenter - Image center point after rotation\n   * @param {number} angleDiff - Image angle difference after rotation\n   * @private\n   */\n  _rotateForEachObject(oldImageCenter, newImageCenter, angleDiff) {\n    const canvas = this.getCanvas();\n    const centerDiff = {\n      x: oldImageCenter.x - newImageCenter.x,\n      y: oldImageCenter.y - newImageCenter.y,\n    };\n\n    canvas.forEachObject((obj) => {\n      const objCenter = obj.getCenterPoint();\n      const radian = fabric.util.degreesToRadians(angleDiff);\n      const newObjCenter = fabric.util.rotatePoint(objCenter, oldImageCenter, radian);\n\n      obj.set({\n        left: newObjCenter.x - centerDiff.x,\n        top: newObjCenter.y - centerDiff.y,\n        angle: (obj.angle + angleDiff) % 360,\n      });\n      obj.setCoords();\n    });\n    canvas.renderAll();\n  }\n\n  /**\n   * Rotate the image\n   * @param {number} additionalAngle - Additional angle\n   * @returns {Promise}\n   */\n  rotate(additionalAngle) {\n    const current = this.getCurrentAngle();\n\n    return this.setAngle(current + additionalAngle);\n  }\n}\n\nexport default Rotation;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Shape component\n */\nimport { extend } from 'tui-code-snippet';\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport resizeHelper from '@/helper/shapeResizeHelper';\nimport {\n  getFillImageFromShape,\n  rePositionFilterTypeFillImage,\n  reMakePatternImageSource,\n  makeFillPatternForFilter,\n  makeFilterOptionFromFabricImage,\n  resetFillPatternCanvas,\n} from '@/helper/shapeFilterFillHelper';\nimport {\n  Promise,\n  changeOrigin,\n  getCustomProperty,\n  getFillTypeFromOption,\n  getFillTypeFromObject,\n  isShape,\n} from '@/util';\nimport {\n  rejectMessages,\n  eventNames,\n  keyCodes as KEY_CODES,\n  componentNames,\n  fObjectOptions,\n  SHAPE_DEFAULT_OPTIONS,\n  SHAPE_FILL_TYPE,\n} from '@/consts';\n\nconst SHAPE_INIT_OPTIONS = extend(\n  {\n    strokeWidth: 1,\n    stroke: '#000000',\n    fill: '#ffffff',\n    width: 1,\n    height: 1,\n    rx: 0,\n    ry: 0,\n  },\n  SHAPE_DEFAULT_OPTIONS\n);\nconst DEFAULT_TYPE = 'rect';\nconst DEFAULT_WIDTH = 20;\nconst DEFAULT_HEIGHT = 20;\n\n/**\n * Make fill option\n * @param {Object} options - Options to create the shape\n * @param {Object.Image} canvasImage - canvas background image\n * @param {Function} createStaticCanvas - static canvas creater\n * @returns {Object} - shape option\n * @private\n */\nfunction makeFabricFillOption(options, canvasImage, createStaticCanvas) {\n  const fillOption = options.fill;\n  const fillType = getFillTypeFromOption(options.fill);\n  let fill = fillOption;\n\n  if (fillOption.color) {\n    fill = fillOption.color;\n  }\n\n  let extOption = null;\n  if (fillType === 'filter') {\n    const newStaticCanvas = createStaticCanvas();\n    extOption = makeFillPatternForFilter(canvasImage, fillOption.filter, newStaticCanvas);\n  } else {\n    extOption = { fill };\n  }\n\n  return extend({}, options, extOption);\n}\n\n/**\n * Shape\n * @class Shape\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nexport default class Shape extends Component {\n  constructor(graphics) {\n    super(componentNames.SHAPE, graphics);\n\n    /**\n     * Object of The drawing shape\n     * @type {fabric.Object}\n     * @private\n     */\n    this._shapeObj = null;\n\n    /**\n     * Type of the drawing shape\n     * @type {string}\n     * @private\n     */\n    this._type = DEFAULT_TYPE;\n\n    /**\n     * Options to draw the shape\n     * @type {Object}\n     * @private\n     */\n    this._options = extend({}, SHAPE_INIT_OPTIONS);\n\n    /**\n     * Whether the shape object is selected or not\n     * @type {boolean}\n     * @private\n     */\n    this._isSelected = false;\n\n    /**\n     * Pointer for drawing shape (x, y)\n     * @type {Object}\n     * @private\n     */\n    this._startPoint = {};\n\n    /**\n     * Using shortcut on drawing shape\n     * @type {boolean}\n     * @private\n     */\n    this._withShiftKey = false;\n\n    /**\n     * Event handler list\n     * @type {Object}\n     * @private\n     */\n    this._handlers = {\n      mousedown: this._onFabricMouseDown.bind(this),\n      mousemove: this._onFabricMouseMove.bind(this),\n      mouseup: this._onFabricMouseUp.bind(this),\n      keydown: this._onKeyDown.bind(this),\n      keyup: this._onKeyUp.bind(this),\n    };\n  }\n\n  /**\n   * Start to draw the shape on canvas\n   * @ignore\n   */\n  start() {\n    const canvas = this.getCanvas();\n\n    this._isSelected = false;\n\n    canvas.defaultCursor = 'crosshair';\n    canvas.selection = false;\n    canvas.uniformScaling = true;\n    canvas.on({\n      'mouse:down': this._handlers.mousedown,\n    });\n\n    fabric.util.addListener(document, 'keydown', this._handlers.keydown);\n    fabric.util.addListener(document, 'keyup', this._handlers.keyup);\n  }\n\n  /**\n   * End to draw the shape on canvas\n   * @ignore\n   */\n  end() {\n    const canvas = this.getCanvas();\n\n    this._isSelected = false;\n\n    canvas.defaultCursor = 'default';\n\n    canvas.selection = true;\n    canvas.uniformScaling = false;\n    canvas.off({\n      'mouse:down': this._handlers.mousedown,\n    });\n\n    fabric.util.removeListener(document, 'keydown', this._handlers.keydown);\n    fabric.util.removeListener(document, 'keyup', this._handlers.keyup);\n  }\n\n  /**\n   * Set states of the current drawing shape\n   * @ignore\n   * @param {string} type - Shape type (ex: 'rect', 'circle')\n   * @param {Object} [options] - Shape options\n   *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n   *        Shape foreground color (ex: '#fff', 'transparent')\n   *      @param {string} [options.stoke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   */\n  setStates(type, options) {\n    this._type = type;\n\n    if (options) {\n      this._options = extend(this._options, options);\n    }\n  }\n\n  /**\n   * Add the shape\n   * @ignore\n   * @param {string} type - Shape type (ex: 'rect', 'circle')\n   * @param {Object} options - Shape options\n   *      @param {(ShapeFillOption | string)} [options.fill] - ShapeFillOption or Shape foreground color (ex: '#fff', 'transparent') or ShapeFillOption object\n   *      @param {string} [options.stroke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n   * @returns {Promise}\n   */\n  add(type, options) {\n    return new Promise((resolve) => {\n      const canvas = this.getCanvas();\n      const extendOption = this._extendOptions(options);\n\n      const shapeObj = this._createInstance(type, extendOption);\n      const objectProperties = this.graphics.createObjectProperties(shapeObj);\n\n      this._bindEventOnShape(shapeObj);\n\n      canvas.add(shapeObj).setActiveObject(shapeObj);\n\n      this._resetPositionFillFilter(shapeObj);\n\n      resolve(objectProperties);\n    });\n  }\n\n  /**\n   * Change the shape\n   * @ignore\n   * @param {fabric.Object} shapeObj - Selected shape object on canvas\n   * @param {Object} options - Shape options\n   *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n   *        Shape foreground color (ex: '#fff', 'transparent')\n   *      @param {string} [options.stroke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n   * @returns {Promise}\n   */\n  change(shapeObj, options) {\n    return new Promise((resolve, reject) => {\n      if (!isShape(shapeObj)) {\n        reject(rejectMessages.unsupportedType);\n      }\n      const hasFillOption = getFillTypeFromOption(options.fill) === 'filter';\n      const { canvasImage, createStaticCanvas } = this.graphics;\n\n      shapeObj.set(\n        hasFillOption ? makeFabricFillOption(options, canvasImage, createStaticCanvas) : options\n      );\n\n      if (hasFillOption) {\n        this._resetPositionFillFilter(shapeObj);\n      }\n\n      this.getCanvas().renderAll();\n      resolve();\n    });\n  }\n\n  /**\n   * make fill property for user event\n   * @param {fabric.Object} shapeObj - fabric object\n   * @returns {Object}\n   */\n  makeFillPropertyForUserEvent(shapeObj) {\n    const fillType = getFillTypeFromObject(shapeObj);\n    const fillProp = {};\n\n    if (fillType === SHAPE_FILL_TYPE.FILTER) {\n      const fillImage = getFillImageFromShape(shapeObj);\n      const filterOption = makeFilterOptionFromFabricImage(fillImage);\n\n      fillProp.type = fillType;\n      fillProp.filter = filterOption;\n    } else {\n      fillProp.type = SHAPE_FILL_TYPE.COLOR;\n      fillProp.color = shapeObj.fill || 'transparent';\n    }\n\n    return fillProp;\n  }\n\n  /**\n   * Copy object handling.\n   * @param {fabric.Object} shapeObj - Shape object\n   * @param {fabric.Object} originalShapeObj - Shape object\n   */\n  processForCopiedObject(shapeObj, originalShapeObj) {\n    this._bindEventOnShape(shapeObj);\n\n    if (getFillTypeFromObject(shapeObj) === 'filter') {\n      const fillImage = getFillImageFromShape(originalShapeObj);\n      const filterOption = makeFilterOptionFromFabricImage(fillImage);\n      const newStaticCanvas = this.graphics.createStaticCanvas();\n\n      shapeObj.set(\n        makeFillPatternForFilter(this.graphics.canvasImage, filterOption, newStaticCanvas)\n      );\n      this._resetPositionFillFilter(shapeObj);\n    }\n  }\n\n  /**\n   * Create the instance of shape\n   * @param {string} type - Shape type\n   * @param {Object} options - Options to creat the shape\n   * @returns {fabric.Object} Shape instance\n   * @private\n   */\n  _createInstance(type, options) {\n    let instance;\n\n    switch (type) {\n      case 'rect':\n        instance = new fabric.Rect(options);\n        break;\n      case 'circle':\n        instance = new fabric.Ellipse(\n          extend(\n            {\n              type: 'circle',\n            },\n            options\n          )\n        );\n        break;\n      case 'triangle':\n        instance = new fabric.Triangle(options);\n        break;\n      default:\n        instance = {};\n    }\n\n    return instance;\n  }\n\n  /**\n   * Get the options to create the shape\n   * @param {Object} options - Options to creat the shape\n   * @returns {Object} Shape options\n   * @private\n   */\n  _extendOptions(options) {\n    const selectionStyles = fObjectOptions.SELECTION_STYLE;\n    const { canvasImage, createStaticCanvas } = this.graphics;\n\n    options = extend({}, SHAPE_INIT_OPTIONS, this._options, selectionStyles, options);\n\n    return makeFabricFillOption(options, canvasImage, createStaticCanvas);\n  }\n\n  /**\n   * Bind fabric events on the creating shape object\n   * @param {fabric.Object} shapeObj - Shape object\n   * @private\n   */\n  _bindEventOnShape(shapeObj) {\n    const self = this;\n    const canvas = this.getCanvas();\n\n    shapeObj.on({\n      added() {\n        self._shapeObj = this;\n        resizeHelper.setOrigins(self._shapeObj);\n      },\n      selected() {\n        self._isSelected = true;\n        self._shapeObj = this;\n        canvas.uniformScaling = true;\n        canvas.defaultCursor = 'default';\n        resizeHelper.setOrigins(self._shapeObj);\n      },\n      deselected() {\n        self._isSelected = false;\n        self._shapeObj = null;\n        canvas.defaultCursor = 'crosshair';\n        canvas.uniformScaling = false;\n      },\n      modified() {\n        const currentObj = self._shapeObj;\n\n        resizeHelper.adjustOriginToCenter(currentObj);\n        resizeHelper.setOrigins(currentObj);\n      },\n      modifiedInGroup(activeSelection) {\n        self._fillFilterRePositionInGroupSelection(shapeObj, activeSelection);\n      },\n      moving() {\n        self._resetPositionFillFilter(this);\n      },\n      rotating() {\n        self._resetPositionFillFilter(this);\n      },\n      scaling(fEvent) {\n        const pointer = canvas.getPointer(fEvent.e);\n        const currentObj = self._shapeObj;\n\n        canvas.setCursor('crosshair');\n        resizeHelper.resize(currentObj, pointer, true);\n\n        self._resetPositionFillFilter(this);\n      },\n    });\n  }\n\n  /**\n   * MouseDown event handler on canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n   * @private\n   */\n  _onFabricMouseDown(fEvent) {\n    if (!fEvent.target) {\n      this._isSelected = false;\n      this._shapeObj = false;\n    }\n\n    if (!this._isSelected && !this._shapeObj) {\n      const canvas = this.getCanvas();\n      this._startPoint = canvas.getPointer(fEvent.e);\n\n      canvas.on({\n        'mouse:move': this._handlers.mousemove,\n        'mouse:up': this._handlers.mouseup,\n      });\n    }\n  }\n\n  /**\n   * MouseDown event handler on canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n   * @private\n   */\n  _onFabricMouseMove(fEvent) {\n    const canvas = this.getCanvas();\n    const pointer = canvas.getPointer(fEvent.e);\n    const startPointX = this._startPoint.x;\n    const startPointY = this._startPoint.y;\n    const width = startPointX - pointer.x;\n    const height = startPointY - pointer.y;\n    const shape = this._shapeObj;\n\n    if (!shape) {\n      this.add(this._type, {\n        left: startPointX,\n        top: startPointY,\n        width,\n        height,\n      }).then((objectProps) => {\n        this.fire(eventNames.ADD_OBJECT, objectProps);\n      });\n    } else {\n      this._shapeObj.set({\n        isRegular: this._withShiftKey,\n      });\n\n      resizeHelper.resize(shape, pointer);\n      canvas.renderAll();\n\n      this._resetPositionFillFilter(shape);\n    }\n  }\n\n  /**\n   * MouseUp event handler on canvas\n   * @private\n   */\n  _onFabricMouseUp() {\n    const canvas = this.getCanvas();\n    const startPointX = this._startPoint.x;\n    const startPointY = this._startPoint.y;\n    const shape = this._shapeObj;\n\n    if (!shape) {\n      this.add(this._type, {\n        left: startPointX,\n        top: startPointY,\n        width: DEFAULT_WIDTH,\n        height: DEFAULT_HEIGHT,\n      }).then((objectProps) => {\n        this.fire(eventNames.ADD_OBJECT, objectProps);\n      });\n    } else if (shape) {\n      resizeHelper.adjustOriginToCenter(shape);\n      this.fire(eventNames.OBJECT_ADDED, this.graphics.createObjectProperties(shape));\n    }\n\n    canvas.off({\n      'mouse:move': this._handlers.mousemove,\n      'mouse:up': this._handlers.mouseup,\n    });\n  }\n\n  /**\n   * Keydown event handler on document\n   * @param {KeyboardEvent} e - Event object\n   * @private\n   */\n  _onKeyDown(e) {\n    if (e.keyCode === KEY_CODES.SHIFT) {\n      this._withShiftKey = true;\n\n      if (this._shapeObj) {\n        this._shapeObj.isRegular = true;\n      }\n    }\n  }\n\n  /**\n   * Keyup event handler on document\n   * @param {KeyboardEvent} e - Event object\n   * @private\n   */\n  _onKeyUp(e) {\n    if (e.keyCode === KEY_CODES.SHIFT) {\n      this._withShiftKey = false;\n\n      if (this._shapeObj) {\n        this._shapeObj.isRegular = false;\n      }\n    }\n  }\n\n  /**\n   * Reset shape position and internal proportions in the filter type fill area.\n   * @param {fabric.Object} shapeObj - Shape object\n   * @private\n   */\n  _resetPositionFillFilter(shapeObj) {\n    if (getFillTypeFromObject(shapeObj) !== 'filter') {\n      return;\n    }\n\n    const { patternSourceCanvas } = getCustomProperty(shapeObj, 'patternSourceCanvas');\n\n    const fillImage = getFillImageFromShape(shapeObj);\n    const { originalAngle } = getCustomProperty(fillImage, 'originalAngle');\n\n    if (this.graphics.canvasImage.angle !== originalAngle) {\n      reMakePatternImageSource(shapeObj, this.graphics.canvasImage);\n    }\n    const { originX, originY } = shapeObj;\n\n    resizeHelper.adjustOriginToCenter(shapeObj);\n\n    shapeObj.width *= shapeObj.scaleX;\n    shapeObj.height *= shapeObj.scaleY;\n    shapeObj.rx *= shapeObj.scaleX;\n    shapeObj.ry *= shapeObj.scaleY;\n    shapeObj.scaleX = 1;\n    shapeObj.scaleY = 1;\n\n    rePositionFilterTypeFillImage(shapeObj);\n\n    changeOrigin(shapeObj, {\n      originX,\n      originY,\n    });\n\n    resetFillPatternCanvas(patternSourceCanvas);\n  }\n\n  /**\n   * Reset filter area position within group selection.\n   * @param {fabric.Object} shapeObj - Shape object\n   * @param {fabric.ActiveSelection} activeSelection - Shape object\n   * @private\n   */\n  _fillFilterRePositionInGroupSelection(shapeObj, activeSelection) {\n    if (activeSelection.scaleX !== 1 || activeSelection.scaleY !== 1) {\n      // This is necessary because the group's scale transition state affects the relative size of the fill area.\n      // The only way to reset the object transformation scale state to neutral.\n      // {@link https://github.com/fabricjs/fabric.js/issues/5372}\n      activeSelection.addWithUpdate();\n    }\n\n    const { angle, left, top } = shapeObj;\n\n    activeSelection.realizeTransform(shapeObj);\n    this._resetPositionFillFilter(shapeObj);\n\n    shapeObj.set({\n      angle,\n      left,\n      top,\n    });\n  }\n}\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Text module\n */\nimport snippet from 'tui-code-snippet';\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport { Promise } from '@/util';\nimport { componentNames, eventNames as events, fObjectOptions } from '@/consts';\n\nconst defaultStyles = {\n  fill: '#000000',\n  left: 0,\n  top: 0,\n};\nconst resetStyles = {\n  fill: '#000000',\n  fontStyle: 'normal',\n  fontWeight: 'normal',\n  textAlign: 'left',\n  underline: false,\n};\nconst DBCLICK_TIME = 500;\n\n/**\n * Text\n * @class Text\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nclass Text extends Component {\n  constructor(graphics) {\n    super(componentNames.TEXT, graphics);\n\n    /**\n     * Default text style\n     * @type {Object}\n     */\n    this._defaultStyles = defaultStyles;\n\n    /**\n     * Selected state\n     * @type {boolean}\n     */\n    this._isSelected = false;\n\n    /**\n     * Selected text object\n     * @type {Object}\n     */\n    this._selectedObj = {};\n\n    /**\n     * Editing text object\n     * @type {Object}\n     */\n    this._editingObj = {};\n\n    /**\n     * Listeners for fabric event\n     * @type {Object}\n     */\n    this._listeners = {\n      mousedown: this._onFabricMouseDown.bind(this),\n      select: this._onFabricSelect.bind(this),\n      selectClear: this._onFabricSelectClear.bind(this),\n      scaling: this._onFabricScaling.bind(this),\n      textChanged: this._onFabricTextChanged.bind(this),\n    };\n\n    /**\n     * Textarea element for editing\n     * @type {HTMLElement}\n     */\n    this._textarea = null;\n\n    /**\n     * Ratio of current canvas\n     * @type {number}\n     */\n    this._ratio = 1;\n\n    /**\n     * Last click time\n     * @type {Date}\n     */\n    this._lastClickTime = new Date().getTime();\n\n    /**\n     * Text object infos before editing\n     * @type {Object}\n     */\n    this._editingObjInfos = {};\n\n    /**\n     * Previous state of editing\n     * @type {boolean}\n     */\n    this.isPrevEditing = false;\n  }\n\n  /**\n   * Start input text mode\n   */\n  start() {\n    const canvas = this.getCanvas();\n\n    canvas.selection = false;\n    canvas.defaultCursor = 'text';\n    canvas.on({\n      'mouse:down': this._listeners.mousedown,\n      'selection:created': this._listeners.select,\n      'selection:updated': this._listeners.select,\n      'before:selection:cleared': this._listeners.selectClear,\n      'object:scaling': this._listeners.scaling,\n      'text:changed': this._listeners.textChanged,\n    });\n\n    canvas.forEachObject((obj) => {\n      if (obj.type === 'i-text') {\n        this.adjustOriginPosition(obj, 'start');\n      }\n    });\n\n    this.setCanvasRatio();\n  }\n\n  /**\n   * End input text mode\n   */\n  end() {\n    const canvas = this.getCanvas();\n\n    canvas.selection = true;\n    canvas.defaultCursor = 'default';\n\n    canvas.forEachObject((obj) => {\n      if (obj.type === 'i-text') {\n        if (obj.text === '') {\n          canvas.remove(obj);\n        } else {\n          this.adjustOriginPosition(obj, 'end');\n        }\n      }\n    });\n\n    canvas.off({\n      'mouse:down': this._listeners.mousedown,\n      'selection:created': this._listeners.select,\n      'selection:updated': this._listeners.select,\n      'before:selection:cleared': this._listeners.selectClear,\n      'object:selected': this._listeners.select,\n      'object:scaling': this._listeners.scaling,\n      'text:changed': this._listeners.textChanged,\n    });\n  }\n\n  /**\n   * Adjust the origin position\n   * @param {fabric.Object} text - text object\n   * @param {string} editStatus - 'start' or 'end'\n   */\n  adjustOriginPosition(text, editStatus) {\n    let [originX, originY] = ['center', 'center'];\n    if (editStatus === 'start') {\n      [originX, originY] = ['left', 'top'];\n    }\n\n    const { x: left, y: top } = text.getPointByOrigin(originX, originY);\n    text.set({\n      left,\n      top,\n      originX,\n      originY,\n    });\n    text.setCoords();\n  }\n\n  /**\n   * Add new text on canvas image\n   * @param {string} text - Initial input text\n   * @param {Object} options - Options for generating text\n   *     @param {Object} [options.styles] Initial styles\n   *         @param {string} [options.styles.fill] Color\n   *         @param {string} [options.styles.fontFamily] Font type for text\n   *         @param {number} [options.styles.fontSize] Size\n   *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n   *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n   *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n   *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n   *     @param {{x: number, y: number}} [options.position] - Initial position\n   * @returns {Promise}\n   */\n  add(text, options) {\n    return new Promise((resolve) => {\n      const canvas = this.getCanvas();\n      let newText = null;\n      let selectionStyle = fObjectOptions.SELECTION_STYLE;\n      let styles = this._defaultStyles;\n\n      this._setInitPos(options.position);\n\n      if (options.styles) {\n        styles = snippet.extend(styles, options.styles);\n      }\n\n      if (!snippet.isExisty(options.autofocus)) {\n        options.autofocus = true;\n      }\n\n      newText = new fabric.IText(text, styles);\n      selectionStyle = snippet.extend({}, selectionStyle, {\n        originX: 'left',\n        originY: 'top',\n      });\n\n      newText.set(selectionStyle);\n      newText.on({\n        mouseup: this._onFabricMouseUp.bind(this),\n      });\n\n      canvas.add(newText);\n\n      if (options.autofocus) {\n        newText.enterEditing();\n        newText.selectAll();\n      }\n\n      if (!canvas.getActiveObject()) {\n        canvas.setActiveObject(newText);\n      }\n\n      this.isPrevEditing = true;\n      resolve(this.graphics.createObjectProperties(newText));\n    });\n  }\n\n  /**\n   * Change text of activate object on canvas image\n   * @param {Object} activeObj - Current selected text object\n   * @param {string} text - Changed text\n   * @returns {Promise}\n   */\n  change(activeObj, text) {\n    return new Promise((resolve) => {\n      activeObj.set('text', text);\n\n      this.getCanvas().renderAll();\n      resolve();\n    });\n  }\n\n  /**\n   * Set style\n   * @param {Object} activeObj - Current selected text object\n   * @param {Object} styleObj - Initial styles\n   *     @param {string} [styleObj.fill] Color\n   *     @param {string} [styleObj.fontFamily] Font type for text\n   *     @param {number} [styleObj.fontSize] Size\n   *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n   *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n   *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n   *     @param {string} [styleObj.textDecoration] Type of line (underline / line-through / overline)\n   * @returns {Promise}\n   */\n  setStyle(activeObj, styleObj) {\n    return new Promise((resolve) => {\n      snippet.forEach(\n        styleObj,\n        (val, key) => {\n          if (activeObj[key] === val && key !== 'fontSize') {\n            styleObj[key] = resetStyles[key] || '';\n          }\n        },\n        this\n      );\n\n      if ('textDecoration' in styleObj) {\n        snippet.extend(styleObj, this._getTextDecorationAdaptObject(styleObj.textDecoration));\n      }\n\n      activeObj.set(styleObj);\n\n      this.getCanvas().renderAll();\n      resolve();\n    });\n  }\n\n  /**\n   * Get the text\n   * @param {Object} activeObj - Current selected text object\n   * @returns {String} text\n   */\n  getText(activeObj) {\n    return activeObj.text;\n  }\n\n  /**\n   * Set infos of the current selected object\n   * @param {fabric.Text} obj - Current selected text object\n   * @param {boolean} state - State of selecting\n   */\n  setSelectedInfo(obj, state) {\n    this._selectedObj = obj;\n    this._isSelected = state;\n  }\n\n  /**\n   * Whether object is selected or not\n   * @returns {boolean} State of selecting\n   */\n  isSelected() {\n    return this._isSelected;\n  }\n\n  /**\n   * Get current selected text object\n   * @returns {fabric.Text} Current selected text object\n   */\n  getSelectedObj() {\n    return this._selectedObj;\n  }\n\n  /**\n   * Set ratio value of canvas\n   */\n  setCanvasRatio() {\n    const canvasElement = this.getCanvasElement();\n    const cssWidth = parseInt(canvasElement.style.maxWidth, 10);\n    const originWidth = canvasElement.width;\n\n    this._ratio = originWidth / cssWidth;\n  }\n\n  /**\n   * Get ratio value of canvas\n   * @returns {number} Ratio value\n   */\n  getCanvasRatio() {\n    return this._ratio;\n  }\n\n  /**\n   * Get text decoration adapt object\n   * @param {string} textDecoration - text decoration option string\n   * @returns {object} adapt object for override\n   */\n  _getTextDecorationAdaptObject(textDecoration) {\n    return {\n      underline: textDecoration === 'underline',\n      linethrough: textDecoration === 'line-through',\n      overline: textDecoration === 'overline',\n    };\n  }\n\n  /**\n   * Set initial position on canvas image\n   * @param {{x: number, y: number}} [position] - Selected position\n   * @private\n   */\n  _setInitPos(position) {\n    position = position || this.getCanvasImage().getCenterPoint();\n\n    this._defaultStyles.left = position.x;\n    this._defaultStyles.top = position.y;\n  }\n\n  /**\n   * Input event handler\n   * @private\n   */\n  _onInput() {\n    const ratio = this.getCanvasRatio();\n    const obj = this._editingObj;\n    const textareaStyle = this._textarea.style;\n\n    textareaStyle.width = `${Math.ceil(obj.width / ratio)}px`;\n    textareaStyle.height = `${Math.ceil(obj.height / ratio)}px`;\n  }\n\n  /**\n   * Keydown event handler\n   * @private\n   */\n  _onKeyDown() {\n    const ratio = this.getCanvasRatio();\n    const obj = this._editingObj;\n    const textareaStyle = this._textarea.style;\n\n    setTimeout(() => {\n      obj.text(this._textarea.value);\n\n      textareaStyle.width = `${Math.ceil(obj.width / ratio)}px`;\n      textareaStyle.height = `${Math.ceil(obj.height / ratio)}px`;\n    }, 0);\n  }\n\n  /**\n   * Blur event handler\n   * @private\n   */\n  _onBlur() {\n    const ratio = this.getCanvasRatio();\n    const editingObj = this._editingObj;\n    const editingObjInfos = this._editingObjInfos;\n    const textContent = this._textarea.value;\n    let transWidth = editingObj.width / ratio - editingObjInfos.width / ratio;\n    let transHeight = editingObj.height / ratio - editingObjInfos.height / ratio;\n\n    if (ratio === 1) {\n      transWidth /= 2;\n      transHeight /= 2;\n    }\n\n    this._textarea.style.display = 'none';\n\n    editingObj.set({\n      left: editingObjInfos.left + transWidth,\n      top: editingObjInfos.top + transHeight,\n    });\n\n    if (textContent.length) {\n      this.getCanvas().add(editingObj);\n\n      const params = {\n        id: snippet.stamp(editingObj),\n        type: editingObj.type,\n        text: textContent,\n      };\n\n      this.fire(events.TEXT_CHANGED, params);\n    }\n  }\n\n  /**\n   * Scroll event handler\n   * @private\n   */\n  _onScroll() {\n    this._textarea.scrollLeft = 0;\n    this._textarea.scrollTop = 0;\n  }\n\n  /**\n   * Fabric scaling event handler\n   * @param {fabric.Event} fEvent - Current scaling event on selected object\n   * @private\n   */\n  _onFabricScaling(fEvent) {\n    const obj = fEvent.target;\n\n    obj.fontSize = obj.fontSize * obj.scaleY;\n    obj.scaleX = 1;\n    obj.scaleY = 1;\n  }\n\n  /**\n   * textChanged event handler\n   * @param {{target: fabric.Object}} props - changed text object\n   * @private\n   */\n  _onFabricTextChanged(props) {\n    this.fire(events.TEXT_CHANGED, props.target);\n  }\n\n  /**\n   * onSelectClear handler in fabric canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onFabricSelectClear(fEvent) {\n    const obj = this.getSelectedObj();\n\n    this.isPrevEditing = true;\n\n    this.setSelectedInfo(fEvent.target, false);\n\n    if (obj) {\n      // obj is empty object at initial time, will be set fabric object\n      if (obj.text === '') {\n        this.getCanvas().remove(obj);\n      }\n    }\n  }\n\n  /**\n   * onSelect handler in fabric canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onFabricSelect(fEvent) {\n    this.isPrevEditing = true;\n\n    this.setSelectedInfo(fEvent.target, true);\n  }\n\n  /**\n   * Fabric 'mousedown' event handler\n   * @param {fabric.Event} fEvent - Current mousedown event on selected object\n   * @private\n   */\n  _onFabricMouseDown(fEvent) {\n    const obj = fEvent.target;\n\n    if (obj && !obj.isType('text')) {\n      return;\n    }\n\n    if (this.isPrevEditing) {\n      this.isPrevEditing = false;\n\n      return;\n    }\n\n    this._fireAddText(fEvent);\n  }\n\n  /**\n   * Fire 'addText' event if object is not selected.\n   * @param {fabric.Event} fEvent - Current mousedown event on selected object\n   * @private\n   */\n  _fireAddText(fEvent) {\n    const obj = fEvent.target;\n    const e = fEvent.e || {};\n    const originPointer = this.getCanvas().getPointer(e);\n\n    if (!obj) {\n      this.fire(events.ADD_TEXT, {\n        originPosition: {\n          x: originPointer.x,\n          y: originPointer.y,\n        },\n        clientPosition: {\n          x: e.clientX || 0,\n          y: e.clientY || 0,\n        },\n      });\n    }\n  }\n\n  /**\n   * Fabric mouseup event handler\n   * @param {fabric.Event} fEvent - Current mousedown event on selected object\n   * @private\n   */\n  _onFabricMouseUp(fEvent) {\n    const { target } = fEvent;\n    const newClickTime = new Date().getTime();\n\n    if (this._isDoubleClick(newClickTime) && !target.isEditing) {\n      target.enterEditing();\n    }\n\n    if (target.isEditing) {\n      this.fire(events.TEXT_EDITING); // fire editing text event\n    }\n\n    this._lastClickTime = newClickTime;\n  }\n\n  /**\n   * Get state of firing double click event\n   * @param {Date} newClickTime - Current clicked time\n   * @returns {boolean} Whether double clicked or not\n   * @private\n   */\n  _isDoubleClick(newClickTime) {\n    return newClickTime - this._lastClickTime < DBCLICK_TIME;\n  }\n}\n\nexport default Text;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Image zoom module (start zoom, end zoom)\n */\nimport fabric from 'fabric';\nimport Component from '@/interface/component';\nimport { clamp } from '@/util';\nimport { componentNames, eventNames, keyCodes, zoomModes } from '@/consts';\n\nconst MOUSE_MOVE_THRESHOLD = 10;\nconst DEFAULT_SCROLL_OPTION = {\n  left: 0,\n  top: 0,\n  width: 0,\n  height: 0,\n  stroke: '#000000',\n  strokeWidth: 0,\n  fill: '#000000',\n  opacity: 0.4,\n  evented: false,\n  selectable: false,\n  hoverCursor: 'auto',\n};\nconst DEFAULT_VERTICAL_SCROLL_RATIO = {\n  SIZE: 0.0045,\n  MARGIN: 0.003,\n  BORDER_RADIUS: 0.003,\n};\nconst DEFAULT_HORIZONTAL_SCROLL_RATIO = {\n  SIZE: 0.0066,\n  MARGIN: 0.0044,\n  BORDER_RADIUS: 0.003,\n};\nconst DEFAULT_ZOOM_LEVEL = 1.0;\nconst {\n  ZOOM_CHANGED,\n  ADD_TEXT,\n  TEXT_EDITING,\n  OBJECT_MODIFIED,\n  KEY_DOWN,\n  KEY_UP,\n  HAND_STARTED,\n  HAND_STOPPED,\n} = eventNames;\n\n/**\n * Zoom components\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @class Zoom\n * @ignore\n */\nclass Zoom extends Component {\n  constructor(graphics) {\n    super(componentNames.ZOOM, graphics);\n\n    /**\n     * zoomArea\n     * @type {?fabric.Rect}\n     * @private\n     */\n    this.zoomArea = null;\n\n    /**\n     * Start point of zoom area\n     * @type {?{x: number, y: number}}\n     */\n    this._startPoint = null;\n\n    /**\n     * Center point of every zoom\n     * @type {Array.<{prevZoomLevel: number, zoomLevel: number, x: number, y: number}>}\n     */\n    this._centerPoints = [];\n\n    /**\n     * Zoom level (default: 100%(1.0), max: 400%(4.0))\n     * @type {number}\n     */\n    this.zoomLevel = DEFAULT_ZOOM_LEVEL;\n\n    /**\n     * Zoom mode ('normal', 'zoom', 'hand')\n     * @type {string}\n     */\n    this.zoomMode = zoomModes.DEFAULT;\n\n    /**\n     * Listeners\n     * @type {Object.<string, Function>}\n     * @private\n     */\n    this._listeners = {\n      startZoom: this._onMouseDownWithZoomMode.bind(this),\n      moveZoom: this._onMouseMoveWithZoomMode.bind(this),\n      stopZoom: this._onMouseUpWithZoomMode.bind(this),\n      startHand: this._onMouseDownWithHandMode.bind(this),\n      moveHand: this._onMouseMoveWithHandMode.bind(this),\n      stopHand: this._onMouseUpWithHandMode.bind(this),\n      zoomChanged: this._changeScrollState.bind(this),\n      keydown: this._startHandModeWithSpaceBar.bind(this),\n      keyup: this._endHandModeWithSpaceBar.bind(this),\n    };\n\n    const canvas = this.getCanvas();\n\n    /**\n     * Width:Height ratio (ex. width=1.5, height=1 -> aspectRatio=1.5)\n     * @private\n     */\n    this.aspectRatio = canvas.width / canvas.height;\n\n    /**\n     * vertical scroll bar\n     * @type {fabric.Rect}\n     * @private\n     */\n    this._verticalScroll = new fabric.Rect(DEFAULT_SCROLL_OPTION);\n\n    /**\n     * horizontal scroll bar\n     * @type {fabric.Rect}\n     * @private\n     */\n    this._horizontalScroll = new fabric.Rect(DEFAULT_SCROLL_OPTION);\n\n    canvas.on(ZOOM_CHANGED, this._listeners.zoomChanged);\n\n    this.graphics.on(ADD_TEXT, this._startTextEditingHandler.bind(this));\n    this.graphics.on(TEXT_EDITING, this._startTextEditingHandler.bind(this));\n    this.graphics.on(OBJECT_MODIFIED, this._stopTextEditingHandler.bind(this));\n  }\n\n  /**\n   * Attach zoom keyboard events\n   */\n  attachKeyboardZoomEvents() {\n    fabric.util.addListener(document, KEY_DOWN, this._listeners.keydown);\n    fabric.util.addListener(document, KEY_UP, this._listeners.keyup);\n  }\n\n  /**\n   * Detach zoom keyboard events\n   */\n  detachKeyboardZoomEvents() {\n    fabric.util.removeListener(document, KEY_DOWN, this._listeners.keydown);\n    fabric.util.removeListener(document, KEY_UP, this._listeners.keyup);\n  }\n\n  /**\n   * Handler when you started editing text\n   * @private\n   */\n  _startTextEditingHandler() {\n    this.isTextEditing = true;\n  }\n\n  /**\n   * Handler when you stopped editing text\n   * @private\n   */\n  _stopTextEditingHandler() {\n    this.isTextEditing = false;\n  }\n\n  /**\n   * Handler who turns on hand mode when the space bar is down\n   * @param {KeyboardEvent} e - Event object\n   * @private\n   */\n  _startHandModeWithSpaceBar(e) {\n    if (this.withSpace || this.isTextEditing) {\n      return;\n    }\n\n    if (e.keyCode === keyCodes.SPACE) {\n      this.withSpace = true;\n      this.startHandMode();\n    }\n  }\n\n  /**\n   * Handler who turns off hand mode when space bar is up\n   * @param {KeyboardEvent} e - Event object\n   * @private\n   */\n  _endHandModeWithSpaceBar(e) {\n    if (e.keyCode === keyCodes.SPACE) {\n      this.withSpace = false;\n      this.endHandMode();\n    }\n  }\n\n  /**\n   * Start zoom-in mode\n   */\n  startZoomInMode() {\n    if (this.zoomArea) {\n      return;\n    }\n    this.endHandMode();\n    this.zoomMode = zoomModes.ZOOM;\n\n    const canvas = this.getCanvas();\n\n    this._changeObjectsEventedState(false);\n\n    this.zoomArea = new fabric.Rect({\n      left: 0,\n      top: 0,\n      width: 0.5,\n      height: 0.5,\n      stroke: 'black',\n      strokeWidth: 1,\n      fill: 'transparent',\n      hoverCursor: 'zoom-in',\n    });\n\n    canvas.discardActiveObject();\n    canvas.add(this.zoomArea);\n    canvas.on('mouse:down', this._listeners.startZoom);\n    canvas.selection = false;\n    canvas.defaultCursor = 'zoom-in';\n  }\n\n  /**\n   * End zoom-in mode\n   */\n  endZoomInMode() {\n    this.zoomMode = zoomModes.DEFAULT;\n\n    const canvas = this.getCanvas();\n    const { startZoom, moveZoom, stopZoom } = this._listeners;\n\n    canvas.selection = true;\n    canvas.defaultCursor = 'auto';\n    canvas.off({\n      'mouse:down': startZoom,\n      'mouse:move': moveZoom,\n      'mouse:up': stopZoom,\n    });\n\n    this._changeObjectsEventedState(true);\n\n    canvas.remove(this.zoomArea);\n    this.zoomArea = null;\n  }\n\n  /**\n   * Start zoom drawing mode\n   */\n  start() {\n    this.zoomArea = null;\n    this._startPoint = null;\n    this._startHandPoint = null;\n  }\n\n  /**\n   * Stop zoom drawing mode\n   */\n  end() {\n    this.endZoomInMode();\n    this.endHandMode();\n  }\n\n  /**\n   * Start hand mode\n   */\n  startHandMode() {\n    this.endZoomInMode();\n    this.zoomMode = zoomModes.HAND;\n\n    const canvas = this.getCanvas();\n\n    this._changeObjectsEventedState(false);\n\n    canvas.discardActiveObject();\n    canvas.off('mouse:down', this._listeners.startHand);\n    canvas.on('mouse:down', this._listeners.startHand);\n    canvas.selection = false;\n    canvas.defaultCursor = 'grab';\n\n    canvas.fire(HAND_STARTED);\n  }\n\n  /**\n   * Stop hand mode\n   */\n  endHandMode() {\n    this.zoomMode = zoomModes.DEFAULT;\n    const canvas = this.getCanvas();\n\n    this._changeObjectsEventedState(true);\n\n    canvas.off('mouse:down', this._listeners.startHand);\n    canvas.selection = true;\n    canvas.defaultCursor = 'auto';\n\n    this._startHandPoint = null;\n\n    canvas.fire(HAND_STOPPED);\n  }\n\n  /**\n   * onMousedown handler in fabric canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onMouseDownWithZoomMode({ target, e }) {\n    if (target) {\n      return;\n    }\n\n    const canvas = this.getCanvas();\n\n    canvas.selection = false;\n\n    this._startPoint = canvas.getPointer(e);\n    this.zoomArea.set({ width: 0, height: 0 });\n\n    const { moveZoom, stopZoom } = this._listeners;\n    canvas.on({\n      'mouse:move': moveZoom,\n      'mouse:up': stopZoom,\n    });\n  }\n\n  /**\n   * onMousemove handler in fabric canvas\n   * @param {{e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onMouseMoveWithZoomMode({ e }) {\n    const canvas = this.getCanvas();\n    const pointer = canvas.getPointer(e);\n    const { x, y } = pointer;\n    const { zoomArea, _startPoint } = this;\n    const deltaX = Math.abs(x - _startPoint.x);\n    const deltaY = Math.abs(y - _startPoint.y);\n\n    if (deltaX + deltaY > MOUSE_MOVE_THRESHOLD) {\n      canvas.remove(zoomArea);\n      zoomArea.set(this._calcRectDimensionFromPoint(x, y));\n      canvas.add(zoomArea);\n    }\n  }\n\n  /**\n   * Get rect dimension setting from Canvas-Mouse-Position(x, y)\n   * @param {number} x - Canvas-Mouse-Position x\n   * @param {number} y - Canvas-Mouse-Position Y\n   * @returns {{left: number, top: number, width: number, height: number}}\n   * @private\n   */\n  _calcRectDimensionFromPoint(x, y) {\n    const canvas = this.getCanvas();\n    const canvasWidth = canvas.getWidth();\n    const canvasHeight = canvas.getHeight();\n    const { x: startX, y: startY } = this._startPoint;\n    const { min } = Math;\n\n    const left = min(startX, x);\n    const top = min(startY, y);\n    const width = clamp(x, startX, canvasWidth) - left; // (startX <= x(mouse) <= canvasWidth) - left\n    const height = clamp(y, startY, canvasHeight) - top; // (startY <= y(mouse) <= canvasHeight) - top\n\n    return { left, top, width, height };\n  }\n\n  /**\n   * onMouseup handler in fabric canvas\n   * @private\n   */\n  _onMouseUpWithZoomMode() {\n    let { zoomLevel } = this;\n    const { zoomArea } = this;\n    const { moveZoom, stopZoom } = this._listeners;\n    const canvas = this.getCanvas();\n    const center = this._getCenterPoint();\n    const { x, y } = center;\n\n    if (!this._isMaxZoomLevel()) {\n      this._centerPoints.push({\n        x,\n        y,\n        prevZoomLevel: zoomLevel,\n        zoomLevel: zoomLevel + 1,\n      });\n      zoomLevel += 1;\n      canvas.zoomToPoint({ x, y }, zoomLevel);\n\n      this._fireZoomChanged(canvas, zoomLevel);\n\n      this.zoomLevel = zoomLevel;\n    }\n\n    canvas.off({\n      'mouse:move': moveZoom,\n      'mouse:up': stopZoom,\n    });\n\n    canvas.remove(zoomArea);\n    this._startPoint = null;\n  }\n\n  /**\n   * Get center point\n   * @returns {{x: number, y: number}}\n   * @private\n   */\n  _getCenterPoint() {\n    const { left, top, width, height } = this.zoomArea;\n    const { x, y } = this._startPoint;\n    const { aspectRatio } = this;\n\n    if (width < MOUSE_MOVE_THRESHOLD && height < MOUSE_MOVE_THRESHOLD) {\n      return { x, y };\n    }\n\n    return width > height\n      ? { x: left + (aspectRatio * height) / 2, y: top + height / 2 }\n      : { x: left + width / 2, y: top + width / aspectRatio / 2 };\n  }\n\n  /**\n   * Zoom the canvas\n   * @param {{x: number, y: number}} center - center of zoom\n   * @param {?number} zoomLevel - zoom level\n   */\n  zoom({ x, y }, zoomLevel = this.zoomLevel) {\n    const canvas = this.getCanvas();\n    const centerPoints = this._centerPoints;\n\n    for (let i = centerPoints.length - 1; i >= 0; i -= 1) {\n      if (centerPoints[i].zoomLevel < zoomLevel) {\n        break;\n      }\n\n      const { x: prevX, y: prevY, prevZoomLevel } = centerPoints.pop();\n\n      canvas.zoomToPoint({ x: prevX, y: prevY }, prevZoomLevel);\n      this.zoomLevel = prevZoomLevel;\n    }\n\n    canvas.zoomToPoint({ x, y }, zoomLevel);\n    if (!this._isDefaultZoomLevel(zoomLevel)) {\n      this._centerPoints.push({\n        x,\n        y,\n        zoomLevel,\n        prevZoomLevel: this.zoomLevel,\n      });\n    }\n    this.zoomLevel = zoomLevel;\n\n    this._fireZoomChanged(canvas, zoomLevel);\n  }\n\n  /**\n   * Zoom out one step\n   */\n  zoomOut() {\n    const centerPoints = this._centerPoints;\n\n    if (!centerPoints.length) {\n      return;\n    }\n\n    const canvas = this.getCanvas();\n    const point = centerPoints.pop();\n    const { x, y, prevZoomLevel } = point;\n\n    if (this._isDefaultZoomLevel(prevZoomLevel)) {\n      canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n    } else {\n      canvas.zoomToPoint({ x, y }, prevZoomLevel);\n    }\n\n    this.zoomLevel = prevZoomLevel;\n\n    this._fireZoomChanged(canvas, this.zoomLevel);\n  }\n\n  /**\n   * Zoom reset\n   */\n  resetZoom() {\n    const canvas = this.getCanvas();\n\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\n\n    this.zoomLevel = DEFAULT_ZOOM_LEVEL;\n    this._centerPoints = [];\n\n    this._fireZoomChanged(canvas, this.zoomLevel);\n  }\n\n  /**\n   * Whether zoom level is max (5.0)\n   * @returns {boolean}\n   * @private\n   */\n  _isMaxZoomLevel() {\n    return this.zoomLevel >= 5.0;\n  }\n\n  /**\n   * Move point of zoom\n   * @param {{x: number, y: number}} delta - move amount\n   * @private\n   */\n  _movePointOfZoom({ x: deltaX, y: deltaY }) {\n    const centerPoints = this._centerPoints;\n\n    if (!centerPoints.length) {\n      return;\n    }\n\n    const canvas = this.getCanvas();\n    const { zoomLevel } = this;\n\n    const point = centerPoints.pop();\n    const { x: originX, y: originY, prevZoomLevel } = point;\n    const x = originX - deltaX;\n    const y = originY - deltaY;\n\n    canvas.zoomToPoint({ x: originX, y: originY }, prevZoomLevel);\n    canvas.zoomToPoint({ x, y }, zoomLevel);\n    centerPoints.push({ x, y, prevZoomLevel, zoomLevel });\n\n    this._fireZoomChanged(canvas, zoomLevel);\n  }\n\n  /**\n   * onMouseDown handler in fabric canvas\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onMouseDownWithHandMode({ target, e }) {\n    if (target) {\n      return;\n    }\n\n    const canvas = this.getCanvas();\n\n    if (this.zoomLevel <= DEFAULT_ZOOM_LEVEL) {\n      return;\n    }\n\n    canvas.selection = false;\n\n    this._startHandPoint = canvas.getPointer(e);\n\n    const { moveHand, stopHand } = this._listeners;\n    canvas.on({\n      'mouse:move': moveHand,\n      'mouse:up': stopHand,\n    });\n  }\n\n  /**\n   * onMouseMove handler in fabric canvas\n   * @param {{e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onMouseMoveWithHandMode({ e }) {\n    const canvas = this.getCanvas();\n    const { x, y } = canvas.getPointer(e);\n    const deltaX = x - this._startHandPoint.x;\n    const deltaY = y - this._startHandPoint.y;\n\n    this._movePointOfZoom({ x: deltaX, y: deltaY });\n  }\n\n  /**\n   * onMouseUp handler in fabric canvas\n   * @private\n   */\n  _onMouseUpWithHandMode() {\n    const canvas = this.getCanvas();\n    const { moveHand, stopHand } = this._listeners;\n\n    canvas.off({\n      'mouse:move': moveHand,\n      'mouse:up': stopHand,\n    });\n\n    this._startHandPoint = null;\n  }\n\n  /**\n   * onChangeZoom handler in fabric canvas\n   * @private\n   */\n  _changeScrollState({ viewport, zoomLevel }) {\n    const canvas = this.getCanvas();\n\n    canvas.remove(this._verticalScroll);\n    canvas.remove(this._horizontalScroll);\n\n    if (this._isDefaultZoomLevel(zoomLevel)) {\n      return;\n    }\n\n    const canvasWidth = canvas.width;\n    const canvasHeight = canvas.height;\n\n    const { tl, tr, bl } = viewport;\n    const viewportWidth = tr.x - tl.x;\n    const viewportHeight = bl.y - tl.y;\n\n    const horizontalScrollWidth = (viewportWidth * viewportWidth) / canvasWidth;\n    const horizontalScrollHeight = viewportHeight * DEFAULT_HORIZONTAL_SCROLL_RATIO.SIZE;\n    const horizontalScrollLeft = clamp(\n      tl.x + (tl.x / canvasWidth) * viewportWidth,\n      tl.x,\n      tr.x - horizontalScrollWidth\n    );\n    const horizontalScrollMargin = viewportHeight * DEFAULT_HORIZONTAL_SCROLL_RATIO.MARGIN;\n    const horizontalScrollBorderRadius =\n      viewportHeight * DEFAULT_HORIZONTAL_SCROLL_RATIO.BORDER_RADIUS;\n\n    this._horizontalScroll.set({\n      left: horizontalScrollLeft,\n      top: bl.y - horizontalScrollHeight - horizontalScrollMargin,\n      width: horizontalScrollWidth,\n      height: horizontalScrollHeight,\n      rx: horizontalScrollBorderRadius,\n      ry: horizontalScrollBorderRadius,\n    });\n\n    const verticalScrollWidth = viewportWidth * DEFAULT_VERTICAL_SCROLL_RATIO.SIZE;\n    const verticalScrollHeight = (viewportHeight * viewportHeight) / canvasHeight;\n    const verticalScrollTop = clamp(\n      tl.y + (tl.y / canvasHeight) * viewportHeight,\n      tr.y,\n      bl.y - verticalScrollHeight\n    );\n    const verticalScrollMargin = viewportWidth * DEFAULT_VERTICAL_SCROLL_RATIO.MARGIN;\n    const verticalScrollBorderRadius = viewportWidth * DEFAULT_VERTICAL_SCROLL_RATIO.BORDER_RADIUS;\n\n    this._verticalScroll.set({\n      left: tr.x - verticalScrollWidth - verticalScrollMargin,\n      top: verticalScrollTop,\n      width: verticalScrollWidth,\n      height: verticalScrollHeight,\n      rx: verticalScrollBorderRadius,\n      ry: verticalScrollBorderRadius,\n    });\n\n    this._addScrollBar();\n  }\n\n  /**\n   * Change objects 'evented' state\n   * @param {boolean} [evented=true] - objects 'evented' state\n   */\n  _changeObjectsEventedState(evented = true) {\n    const canvas = this.getCanvas();\n\n    canvas.forEachObject((obj) => {\n      // {@link http://fabricjs.com/docs/fabric.Object.html#evented}\n      obj.evented = evented;\n    });\n  }\n\n  /**\n   * Add scroll bar and set remove timer\n   */\n  _addScrollBar() {\n    const canvas = this.getCanvas();\n\n    canvas.add(this._horizontalScroll);\n    canvas.add(this._verticalScroll);\n\n    if (this.scrollBarTid) {\n      clearTimeout(this.scrollBarTid);\n    }\n\n    this.scrollBarTid = setTimeout(() => {\n      canvas.remove(this._horizontalScroll);\n      canvas.remove(this._verticalScroll);\n    }, 3000);\n  }\n\n  /**\n   * Check zoom level is default zoom level (1.0)\n   * @param {number} zoomLevel - zoom level\n   * @returns {boolean} - whether zoom level is 1.0\n   */\n  _isDefaultZoomLevel(zoomLevel) {\n    return zoomLevel === DEFAULT_ZOOM_LEVEL;\n  }\n\n  /**\n   * Fire 'zoomChanged' event\n   * @param {fabric.Canvas} canvas - fabric canvas\n   * @param {number} zoomLevel - 'zoomChanged' event params\n   */\n  _fireZoomChanged(canvas, zoomLevel) {\n    canvas.fire(ZOOM_CHANGED, { viewport: canvas.calcViewportBoundaries(), zoomLevel });\n  }\n\n  /**\n   * Get zoom mode\n   */\n  get mode() {\n    return this.zoomMode;\n  }\n}\n\nexport default Zoom;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Constants\n */\nimport { keyMirror } from '@/util';\n\n/**\n * Help features for zoom\n * @type {Array.<string>}\n */\nexport const ZOOM_HELP_MENUS = ['zoomIn', 'zoomOut', 'hand'];\n\n/**\n * Help features for command\n * @type {Array.<string>}\n */\nexport const COMMAND_HELP_MENUS = ['history', 'undo', 'redo', 'reset'];\n\n/**\n * Help features for delete\n * @type {Array.<string>}\n */\nexport const DELETE_HELP_MENUS = ['delete', 'deleteAll'];\n\n/**\n * Editor help features\n * @type {Array.<string>}\n */\nexport const HELP_MENUS = [...ZOOM_HELP_MENUS, ...COMMAND_HELP_MENUS, ...DELETE_HELP_MENUS];\n\n/**\n * Fill type for shape\n * @type {Object.<string, string>}\n */\nexport const SHAPE_FILL_TYPE = {\n  FILTER: 'filter',\n  COLOR: 'color',\n};\n\n/**\n * Shape type list\n * @type {Array.<string>}\n */\nexport const SHAPE_TYPE = ['rect', 'circle', 'triangle'];\n\n/**\n * Object type\n * @type {Object.<string, string>}\n */\nexport const OBJ_TYPE = {\n  CROPZONE: 'cropzone',\n};\n\n/**\n * Filter type map\n * @type {Object.<string, string>}\n */\nexport const filterType = {\n  VINTAGE: 'vintage',\n  SEPIA2: 'sepia2',\n  REMOVE_COLOR: 'removeColor',\n  COLOR_FILTER: 'colorFilter',\n  REMOVE_WHITE: 'removeWhite',\n  BLEND_COLOR: 'blendColor',\n  BLEND: 'blend',\n};\n\n/**\n * Component names\n * @type {Object.<string, string>}\n */\nexport const componentNames = keyMirror(\n  'IMAGE_LOADER',\n  'CROPPER',\n  'FLIP',\n  'ROTATION',\n  'FREE_DRAWING',\n  'LINE',\n  'TEXT',\n  'ICON',\n  'FILTER',\n  'SHAPE',\n  'ZOOM'\n);\n\n/**\n * Shape default option\n * @type {Object}\n */\nexport const SHAPE_DEFAULT_OPTIONS = {\n  lockSkewingX: true,\n  lockSkewingY: true,\n  bringForward: true,\n  isRegular: false,\n};\n\n/**\n * Cropzone default option\n * @type {Object}\n */\nexport const CROPZONE_DEFAULT_OPTIONS = {\n  hasRotatingPoint: false,\n  hasBorders: false,\n  lockScalingFlip: true,\n  lockRotation: true,\n  lockSkewingX: true,\n  lockSkewingY: true,\n};\n\n/**\n * Command names\n * @type {Object.<string, string>}\n */\nexport const commandNames = {\n  CLEAR_OBJECTS: 'clearObjects',\n  LOAD_IMAGE: 'loadImage',\n  FLIP_IMAGE: 'flip',\n  ROTATE_IMAGE: 'rotate',\n  ADD_OBJECT: 'addObject',\n  REMOVE_OBJECT: 'removeObject',\n  APPLY_FILTER: 'applyFilter',\n  REMOVE_FILTER: 'removeFilter',\n  ADD_ICON: 'addIcon',\n  CHANGE_ICON_COLOR: 'changeIconColor',\n  ADD_SHAPE: 'addShape',\n  CHANGE_SHAPE: 'changeShape',\n  ADD_TEXT: 'addText',\n  CHANGE_TEXT: 'changeText',\n  CHANGE_TEXT_STYLE: 'changeTextStyle',\n  ADD_IMAGE_OBJECT: 'addImageObject',\n  RESIZE_CANVAS_DIMENSION: 'resizeCanvasDimension',\n  SET_OBJECT_PROPERTIES: 'setObjectProperties',\n  SET_OBJECT_POSITION: 'setObjectPosition',\n  CHANGE_SELECTION: 'changeSelection',\n};\n\n/**\n * Event names\n * @type {Object.<string, string>}\n */\nexport const eventNames = {\n  OBJECT_ACTIVATED: 'objectActivated',\n  OBJECT_MOVED: 'objectMoved',\n  OBJECT_SCALED: 'objectScaled',\n  OBJECT_CREATED: 'objectCreated',\n  OBJECT_ROTATED: 'objectRotated',\n  OBJECT_ADDED: 'objectAdded',\n  OBJECT_MODIFIED: 'objectModified',\n  TEXT_EDITING: 'textEditing',\n  TEXT_CHANGED: 'textChanged',\n  ICON_CREATE_RESIZE: 'iconCreateResize',\n  ICON_CREATE_END: 'iconCreateEnd',\n  ADD_TEXT: 'addText',\n  ADD_OBJECT: 'addObject',\n  ADD_OBJECT_AFTER: 'addObjectAfter',\n  MOUSE_DOWN: 'mousedown',\n  MOUSE_UP: 'mouseup',\n  MOUSE_MOVE: 'mousemove',\n  // UNDO/REDO Events\n  REDO_STACK_CHANGED: 'redoStackChanged',\n  UNDO_STACK_CHANGED: 'undoStackChanged',\n  SELECTION_CLEARED: 'selectionCleared',\n  SELECTION_CREATED: 'selectionCreated',\n  EXECUTE_COMMAND: 'executeCommand',\n  AFTER_UNDO: 'afterUndo',\n  AFTER_REDO: 'afterRedo',\n  ZOOM_CHANGED: 'zoomChanged',\n  HAND_STARTED: 'handStarted',\n  HAND_STOPPED: 'handStopped',\n  KEY_DOWN: 'keydown',\n  KEY_UP: 'keyup',\n  INPUT_BOX_EDITING_STARTED: 'inputBoxEditingStarted',\n  INPUT_BOX_EDITING_STOPPED: 'inputBoxEditingStopped',\n  FOCUS: 'focus',\n  BLUR: 'blur',\n};\n\n/**\n * Selector names\n * @type {Object.<string, string>}\n */\nexport const selectorNames = {\n  COLOR_PICKER_INPUT_BOX: '.tui-colorpicker-palette-hex',\n};\n\n/**\n * History names\n * @type {Object.<string, string>}\n */\nexport const historyNames = {\n  LOAD_IMAGE: 'Load',\n  LOAD_MASK_IMAGE: 'Mask',\n  ADD_MASK_IMAGE: 'Mask',\n  ADD_IMAGE_OBJECT: 'Mask',\n  CROP: 'Crop',\n  APPLY_FILTER: 'Filter',\n  REMOVE_FILTER: 'Filter',\n  CHANGE_SHAPE: 'Shape',\n  CHANGE_ICON_COLOR: 'Icon',\n  ADD_TEXT: 'Text',\n  CHANGE_TEXT_STYLE: 'Text',\n  REMOVE_OBJECT: 'Delete',\n  CLEAR_OBJECTS: 'Delete',\n};\n\n/**\n * Editor states\n * @type {Object.<string, string>}\n */\nexport const drawingModes = keyMirror(\n  'NORMAL',\n  'CROPPER',\n  'FREE_DRAWING',\n  'LINE_DRAWING',\n  'TEXT',\n  'SHAPE',\n  'ICON',\n  'ZOOM'\n);\n\n/**\n * Menu names with drawing mode\n * @type {Object.<string, string>}\n */\nexport const drawingMenuNames = {\n  TEXT: 'text',\n  CROP: 'crop',\n  SHAPE: 'shape',\n  ZOOM: 'zoom',\n};\n\n/**\n * Zoom modes\n * @type {Object.<string, string>}\n */\nexport const zoomModes = {\n  DEFAULT: 'normal',\n  ZOOM: 'zoom',\n  HAND: 'hand',\n};\n\n/**\n * Shortcut key values\n * @type {Object.<string, number>}\n */\nexport const keyCodes = {\n  Z: 90,\n  Y: 89,\n  C: 67,\n  V: 86,\n  SHIFT: 16,\n  BACKSPACE: 8,\n  DEL: 46,\n  ARROW_DOWN: 40,\n  ARROW_UP: 38,\n  SPACE: 32,\n};\n\n/**\n * Fabric object options\n * @type {Object.<string, Object>}\n */\nexport const fObjectOptions = {\n  SELECTION_STYLE: {\n    borderColor: 'red',\n    cornerColor: 'green',\n    cornerSize: 10,\n    originX: 'center',\n    originY: 'center',\n    transparentCorners: false,\n  },\n};\n\n/**\n * Promise reject messages\n * @type {Object.<string, string>}\n */\nexport const rejectMessages = {\n  addedObject: 'The object is already added.',\n  flip: 'The flipX and flipY setting values are not changed.',\n  invalidDrawingMode: 'This operation is not supported in the drawing mode.',\n  invalidParameters: 'Invalid parameters.',\n  isLock: 'The executing command state is locked.',\n  loadImage: 'The background image is empty.',\n  loadingImageFailed: 'Invalid image loaded.',\n  noActiveObject: 'There is no active object.',\n  noObject: 'The object is not in canvas.',\n  redo: 'The promise of redo command is reject.',\n  rotation: 'The current angle is same the old angle.',\n  undo: 'The promise of undo command is reject.',\n  unsupportedOperation: 'Unsupported operation.',\n  unsupportedType: 'Unsupported object type.',\n};\n\n/**\n * Default icon menu svg path\n * @type {Object.<string, string>}\n */\nexport const defaultIconPath = {\n  'icon-arrow': 'M40 12V0l24 24-24 24V36H0V12h40z',\n  'icon-arrow-2': 'M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ',\n  'icon-arrow-3':\n    'M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ',\n  'icon-star':\n    'M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ',\n  'icon-star-2':\n    'M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ',\n  'icon-polygon': 'M3,31 L19,3 h32 l16,28 l-16,28 H19  z ',\n  'icon-location':\n    'M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z',\n  'icon-heart':\n    'M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ',\n  'icon-bubble':\n    'M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z',\n};\n\nexport const defaultRotateRangeValues = {\n  realTimeEvent: true,\n  min: -360,\n  max: 360,\n  value: 0,\n};\n\nexport const defaultDrawRangeValues = {\n  min: 5,\n  max: 30,\n  value: 12,\n};\n\nexport const defaultShapeStrokeValues = {\n  realTimeEvent: true,\n  min: 2,\n  max: 300,\n  value: 3,\n};\n\nexport const defaultTextRangeValues = {\n  realTimeEvent: true,\n  min: 10,\n  max: 100,\n  value: 50,\n};\n\nexport const defaultFilterRangeValues = {\n  tintOpacityRange: {\n    realTimeEvent: true,\n    min: 0,\n    max: 1,\n    value: 0.7,\n    useDecimal: true,\n  },\n  removewhiteDistanceRange: {\n    realTimeEvent: true,\n    min: 0,\n    max: 1,\n    value: 0.2,\n    useDecimal: true,\n  },\n  brightnessRange: {\n    realTimeEvent: true,\n    min: -1,\n    max: 1,\n    value: 0,\n    useDecimal: true,\n  },\n  noiseRange: {\n    realTimeEvent: true,\n    min: 0,\n    max: 1000,\n    value: 100,\n  },\n  pixelateRange: {\n    realTimeEvent: true,\n    min: 2,\n    max: 20,\n    value: 4,\n  },\n  colorfilterThresholdRange: {\n    realTimeEvent: true,\n    min: 0,\n    max: 1,\n    value: 0.2,\n    useDecimal: true,\n  },\n  blurFilterRange: {\n    value: 0.1,\n  },\n};\n\nexport const emptyCropRectValues = {\n  LEFT: 0,\n  TOP: 0,\n  WIDTH: 0.5,\n  HEIGHT: 0.5,\n};\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview CropperDrawingMode class\n */\nimport DrawingMode from '@/interface/drawingMode';\nimport { drawingModes, componentNames as components } from '@/consts';\n\n/**\n * CropperDrawingMode class\n * @class\n * @ignore\n */\nclass CropperDrawingMode extends DrawingMode {\n  constructor() {\n    super(drawingModes.CROPPER);\n  }\n\n  /**\n   * start this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  start(graphics) {\n    const cropper = graphics.getComponent(components.CROPPER);\n    cropper.start();\n  }\n\n  /**\n   * stop this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  end(graphics) {\n    const cropper = graphics.getComponent(components.CROPPER);\n    cropper.end();\n  }\n}\n\nexport default CropperDrawingMode;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview FreeDrawingMode class\n */\nimport DrawingMode from '@/interface/drawingMode';\nimport { drawingModes, componentNames as components } from '@/consts';\n\n/**\n * FreeDrawingMode class\n * @class\n * @ignore\n */\nclass FreeDrawingMode extends DrawingMode {\n  constructor() {\n    super(drawingModes.FREE_DRAWING);\n  }\n\n  /**\n   * start this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @param {{width: ?number, color: ?string}} [options] - Brush width & color\n   * @override\n   */\n  start(graphics, options) {\n    const freeDrawing = graphics.getComponent(components.FREE_DRAWING);\n    freeDrawing.start(options);\n  }\n\n  /**\n   * stop this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  end(graphics) {\n    const freeDrawing = graphics.getComponent(components.FREE_DRAWING);\n    freeDrawing.end();\n  }\n}\n\nexport default FreeDrawingMode;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview IconDrawingMode class\n */\nimport DrawingMode from '@/interface/drawingMode';\nimport { drawingModes, componentNames as components } from '@/consts';\n\n/**\n * IconDrawingMode class\n * @class\n * @ignore\n */\nclass IconDrawingMode extends DrawingMode {\n  constructor() {\n    super(drawingModes.ICON);\n  }\n\n  /**\n   * start this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  start(graphics) {\n    const icon = graphics.getComponent(components.ICON);\n    icon.start();\n  }\n\n  /**\n   * stop this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  end(graphics) {\n    const icon = graphics.getComponent(components.ICON);\n    icon.end();\n  }\n}\n\nexport default IconDrawingMode;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview LineDrawingMode class\n */\nimport DrawingMode from '@/interface/drawingMode';\nimport { drawingModes, componentNames as components } from '@/consts';\n\n/**\n * LineDrawingMode class\n * @class\n * @ignore\n */\nclass LineDrawingMode extends DrawingMode {\n  constructor() {\n    super(drawingModes.LINE_DRAWING);\n  }\n\n  /**\n   * start this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @param {{width: ?number, color: ?string}} [options] - Brush width & color\n   * @override\n   */\n  start(graphics, options) {\n    const lineDrawing = graphics.getComponent(components.LINE);\n    lineDrawing.start(options);\n  }\n\n  /**\n   * stop this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  end(graphics) {\n    const lineDrawing = graphics.getComponent(components.LINE);\n    lineDrawing.end();\n  }\n}\n\nexport default LineDrawingMode;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview ShapeDrawingMode class\n */\nimport DrawingMode from '@/interface/drawingMode';\nimport { drawingModes, componentNames as components } from '@/consts';\n\n/**\n * ShapeDrawingMode class\n * @class\n * @ignore\n */\nclass ShapeDrawingMode extends DrawingMode {\n  constructor() {\n    super(drawingModes.SHAPE);\n  }\n\n  /**\n   * start this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  start(graphics) {\n    const shape = graphics.getComponent(components.SHAPE);\n    shape.start();\n  }\n\n  /**\n   * stop this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  end(graphics) {\n    const shape = graphics.getComponent(components.SHAPE);\n    shape.end();\n  }\n}\n\nexport default ShapeDrawingMode;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview TextDrawingMode class\n */\nimport DrawingMode from '@/interface/drawingMode';\nimport { drawingModes, componentNames as components } from '@/consts';\n\n/**\n * TextDrawingMode class\n * @class\n * @ignore\n */\nclass TextDrawingMode extends DrawingMode {\n  constructor() {\n    super(drawingModes.TEXT);\n  }\n\n  /**\n   * start this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  start(graphics) {\n    const text = graphics.getComponent(components.TEXT);\n    text.start();\n  }\n\n  /**\n   * stop this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  end(graphics) {\n    const text = graphics.getComponent(components.TEXT);\n    text.end();\n  }\n}\n\nexport default TextDrawingMode;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview ZoomDrawingMode class\n */\nimport DrawingMode from '@/interface/drawingMode';\nimport { drawingModes, componentNames as components } from '@/consts';\n\n/**\n * ZoomDrawingMode class\n * @class\n * @ignore\n */\nclass ZoomDrawingMode extends DrawingMode {\n  constructor() {\n    super(drawingModes.ZOOM);\n  }\n\n  /**\n   * start this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  start(graphics) {\n    const zoom = graphics.getComponent(components.ZOOM);\n\n    zoom.start();\n  }\n\n  /**\n   * stop this drawing mode\n   * @param {Graphics} graphics - Graphics instance\n   * @override\n   */\n  end(graphics) {\n    const zoom = graphics.getComponent(components.ZOOM);\n\n    zoom.end();\n  }\n}\n\nexport default ZoomDrawingMode;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Blur extending fabric.Image.filters.Convolute\n */\nimport fabric from 'fabric';\n\nconst ARROW_ANGLE = 30;\nconst CHEVRON_SIZE_RATIO = 2.7;\nconst TRIANGLE_SIZE_RATIO = 1.7;\nconst RADIAN_CONVERSION_VALUE = 180;\n\nconst ArrowLine = fabric.util.createClass(\n  fabric.Line,\n  /** @lends Convolute.prototype */ {\n    /**\n     * Line type\n     * @param {String} type\n     * @default\n     */\n    type: 'line',\n\n    /**\n     * Constructor\n     * @param {Array} [points] Array of points\n     * @param {Object} [options] Options object\n     * @override\n     */\n    initialize(points, options = {}) {\n      this.callSuper('initialize', points, options);\n\n      this.arrowType = options.arrowType;\n    },\n\n    /**\n     * Render ArrowLine\n     * @private\n     * @override\n     */\n    _render(ctx) {\n      const { x1: fromX, y1: fromY, x2: toX, y2: toY } = this.calcLinePoints();\n      const linePosition = {\n        fromX,\n        fromY,\n        toX,\n        toY,\n      };\n      this.ctx = ctx;\n      ctx.lineWidth = this.strokeWidth;\n\n      this._renderBasicLinePath(linePosition);\n      this._drawDecoratorPath(linePosition);\n\n      this._renderStroke(ctx);\n    },\n\n    /**\n     * Render Basic line path\n     * @param {Object} linePosition - line position\n     *  @param {number} option.fromX - line start position x\n     *  @param {number} option.fromY - line start position y\n     *  @param {number} option.toX - line end position x\n     *  @param {number} option.toY - line end position y\n     * @private\n     */\n    _renderBasicLinePath({ fromX, fromY, toX, toY }) {\n      this.ctx.beginPath();\n      this.ctx.moveTo(fromX, fromY);\n      this.ctx.lineTo(toX, toY);\n    },\n\n    /**\n     * Render Arrow Head\n     * @param {Object} linePosition - line position\n     *  @param {number} option.fromX - line start position x\n     *  @param {number} option.fromY - line start position y\n     *  @param {number} option.toX - line end position x\n     *  @param {number} option.toY - line end position y\n     * @private\n     */\n    _drawDecoratorPath(linePosition) {\n      this._drawDecoratorPathType('head', linePosition);\n      this._drawDecoratorPathType('tail', linePosition);\n    },\n\n    /**\n     * Render Arrow Head\n     * @param {string} type - 'head' or 'tail'\n     * @param {Object} linePosition - line position\n     *  @param {number} option.fromX - line start position x\n     *  @param {number} option.fromY - line start position y\n     *  @param {number} option.toX - line end position x\n     *  @param {number} option.toY - line end position y\n     * @private\n     */\n    _drawDecoratorPathType(type, linePosition) {\n      switch (this.arrowType[type]) {\n        case 'triangle':\n          this._drawTrianglePath(type, linePosition);\n          break;\n        case 'chevron':\n          this._drawChevronPath(type, linePosition);\n          break;\n        default:\n          break;\n      }\n    },\n\n    /**\n     * Render Triangle Head\n     * @param {string} type - 'head' or 'tail'\n     * @param {Object} linePosition - line position\n     *  @param {number} option.fromX - line start position x\n     *  @param {number} option.fromY - line start position y\n     *  @param {number} option.toX - line end position x\n     *  @param {number} option.toY - line end position y\n     * @private\n     */\n    _drawTrianglePath(type, linePosition) {\n      const decorateSize = this.ctx.lineWidth * TRIANGLE_SIZE_RATIO;\n\n      this._drawChevronPath(type, linePosition, decorateSize);\n      this.ctx.closePath();\n    },\n\n    /**\n     * Render Chevron Head\n     * @param {string} type - 'head' or 'tail'\n     * @param {Object} linePosition - line position\n     *  @param {number} option.fromX - line start position x\n     *  @param {number} option.fromY - line start position y\n     *  @param {number} option.toX - line end position x\n     *  @param {number} option.toY - line end position y\n     * @param {number} decorateSize - decorate size\n     * @private\n     */\n    _drawChevronPath(type, { fromX, fromY, toX, toY }, decorateSize) {\n      const { ctx } = this;\n      if (!decorateSize) {\n        decorateSize = this.ctx.lineWidth * CHEVRON_SIZE_RATIO;\n      }\n\n      const [standardX, standardY] = type === 'head' ? [fromX, fromY] : [toX, toY];\n      const [compareX, compareY] = type === 'head' ? [toX, toY] : [fromX, fromY];\n\n      const angle =\n        (Math.atan2(compareY - standardY, compareX - standardX) * RADIAN_CONVERSION_VALUE) /\n        Math.PI;\n      const rotatedPosition = (changeAngle) =>\n        this.getRotatePosition(decorateSize, changeAngle, {\n          x: standardX,\n          y: standardY,\n        });\n\n      ctx.moveTo(...rotatedPosition(angle + ARROW_ANGLE));\n      ctx.lineTo(standardX, standardY);\n      ctx.lineTo(...rotatedPosition(angle - ARROW_ANGLE));\n    },\n\n    /**\n     * return position from change angle.\n     * @param {number} distance - change distance\n     * @param {number} angle - change angle\n     * @param {Object} referencePosition - reference position\n     * @returns {Array}\n     * @private\n     */\n    getRotatePosition(distance, angle, referencePosition) {\n      const radian = (angle * Math.PI) / RADIAN_CONVERSION_VALUE;\n      const { x, y } = referencePosition;\n\n      return [distance * Math.cos(radian) + x, distance * Math.sin(radian) + y];\n    },\n  }\n);\n\nexport default ArrowLine;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview ColorFilter extending fabric.Image.filters.BaseFilter\n */\nimport fabric from 'fabric';\n\n/**\n * ColorFilter object\n * @class ColorFilter\n * @extends {fabric.Image.filters.BaseFilter}\n * @ignore\n */\nconst ColorFilter = fabric.util.createClass(\n  fabric.Image.filters.BaseFilter,\n  /** @lends BaseFilter.prototype */ {\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'ColorFilter',\n\n    /**\n     * Constructor\n     * @member fabric.Image.filters.ColorFilter.prototype\n     * @param {Object} [options] Options object\n     * @param {Number} [options.color='#FFFFFF'] Value of color (0...255)\n     * @param {Number} [options.threshold=45] Value of threshold (0...255)\n     * @override\n     */\n    initialize(options) {\n      if (!options) {\n        options = {};\n      }\n      this.color = options.color || '#FFFFFF';\n      this.threshold = options.threshold || 45;\n      this.x = options.x || null;\n      this.y = options.y || null;\n    },\n\n    /**\n     * Applies filter to canvas element\n     * @param {Object} canvas Canvas object passed by fabric\n     */\n    // eslint-disable-next-line complexity\n    applyTo(canvas) {\n      const { canvasEl } = canvas;\n      const context = canvasEl.getContext('2d');\n      const imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height);\n      const { data } = imageData;\n      const { threshold } = this;\n      let filterColor = fabric.Color.sourceFromHex(this.color);\n      let i, len;\n\n      if (this.x && this.y) {\n        filterColor = this._getColor(imageData, this.x, this.y);\n      }\n\n      for (i = 0, len = data.length; i < len; i += 4) {\n        if (\n          this._isOutsideThreshold(data[i], filterColor[0], threshold) ||\n          this._isOutsideThreshold(data[i + 1], filterColor[1], threshold) ||\n          this._isOutsideThreshold(data[i + 2], filterColor[2], threshold)\n        ) {\n          continue;\n        }\n        data[i] = data[i + 1] = data[i + 2] = data[i + 3] = 0;\n      }\n      context.putImageData(imageData, 0, 0);\n    },\n\n    /**\n     * Check color if it is within threshold\n     * @param {Number} color1 source color\n     * @param {Number} color2 filtering color\n     * @param {Number} threshold threshold\n     * @returns {boolean} true if within threshold or false\n     */\n    _isOutsideThreshold(color1, color2, threshold) {\n      const diff = color1 - color2;\n\n      return Math.abs(diff) > threshold;\n    },\n\n    /**\n     * Get color at (x, y)\n     * @param {Object} imageData of canvas\n     * @param {Number} x left position\n     * @param {Number} y top position\n     * @returns {Array} color array\n     */\n    _getColor(imageData, x, y) {\n      const color = [0, 0, 0, 0];\n      const { data, width } = imageData;\n      const bytes = 4;\n      const position = (width * y + x) * bytes;\n\n      color[0] = data[position];\n      color[1] = data[position + 1];\n      color[2] = data[position + 2];\n      color[3] = data[position + 3];\n\n      return color;\n    },\n  }\n);\n\nexport default ColorFilter;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Cropzone extending fabric.Rect\n */\nimport snippet from 'tui-code-snippet';\nimport fabric from 'fabric';\nimport { clamp } from '@/util';\nimport { eventNames as events, keyCodes } from '@/consts';\n\nconst CORNER_TYPE_TOP_LEFT = 'tl';\nconst CORNER_TYPE_TOP_RIGHT = 'tr';\nconst CORNER_TYPE_MIDDLE_TOP = 'mt';\nconst CORNER_TYPE_MIDDLE_LEFT = 'ml';\nconst CORNER_TYPE_MIDDLE_RIGHT = 'mr';\nconst CORNER_TYPE_MIDDLE_BOTTOM = 'mb';\nconst CORNER_TYPE_BOTTOM_LEFT = 'bl';\nconst CORNER_TYPE_BOTTOM_RIGHT = 'br';\nconst CORNER_TYPE_LIST = [\n  CORNER_TYPE_TOP_LEFT,\n  CORNER_TYPE_TOP_RIGHT,\n  CORNER_TYPE_MIDDLE_TOP,\n  CORNER_TYPE_MIDDLE_LEFT,\n  CORNER_TYPE_MIDDLE_RIGHT,\n  CORNER_TYPE_MIDDLE_BOTTOM,\n  CORNER_TYPE_BOTTOM_LEFT,\n  CORNER_TYPE_BOTTOM_RIGHT,\n];\nconst NOOP_FUNCTION = () => {};\n\n/**\n * Align with cropzone ratio\n * @param {string} selectedCorner - selected corner type\n * @returns {{width: number, height: number}}\n * @private\n */\nfunction cornerTypeValid(selectedCorner) {\n  return CORNER_TYPE_LIST.indexOf(selectedCorner) >= 0;\n}\n\n/**\n * return scale basis type\n * @param {number} diffX - X distance of the cursor and corner.\n * @param {number} diffY - Y distance of the cursor and corner.\n * @returns {string}\n * @private\n */\nfunction getScaleBasis(diffX, diffY) {\n  return diffX > diffY ? 'width' : 'height';\n}\n\n/**\n * Cropzone object\n * Issue: IE7, 8(with excanvas)\n *  - Cropzone is a black zone without transparency.\n * @class Cropzone\n * @extends {fabric.Rect}\n * @ignore\n */\nconst Cropzone = fabric.util.createClass(\n  fabric.Rect,\n  /** @lends Cropzone.prototype */ {\n    /**\n     * Constructor\n     * @param {Object} canvas canvas\n     * @param {Object} options Options object\n     * @param {Object} extendsOptions object for extends \"options\"\n     * @override\n     */\n    initialize(canvas, options, extendsOptions) {\n      options = snippet.extend(options, extendsOptions);\n      options.type = 'cropzone';\n\n      this.callSuper('initialize', options);\n      this._addEventHandler();\n\n      this.canvas = canvas;\n      this.options = options;\n    },\n    canvasEventDelegation(eventName) {\n      let delegationState = 'unregistered';\n      const isRegistered = this.canvasEventTrigger[eventName] !== NOOP_FUNCTION;\n      if (isRegistered) {\n        delegationState = 'registered';\n      } else if ([events.OBJECT_MOVED, events.OBJECT_SCALED].indexOf(eventName) < 0) {\n        delegationState = 'none';\n      }\n\n      return delegationState;\n    },\n    canvasEventRegister(eventName, eventTrigger) {\n      this.canvasEventTrigger[eventName] = eventTrigger;\n    },\n    _addEventHandler() {\n      this.canvasEventTrigger = {\n        [events.OBJECT_MOVED]: NOOP_FUNCTION,\n        [events.OBJECT_SCALED]: NOOP_FUNCTION,\n      };\n      this.on({\n        moving: this._onMoving.bind(this),\n        scaling: this._onScaling.bind(this),\n      });\n      fabric.util.addListener(document, 'keydown', this._onKeyDown.bind(this));\n      fabric.util.addListener(document, 'keyup', this._onKeyUp.bind(this));\n    },\n    _renderCropzone(ctx) {\n      const cropzoneDashLineWidth = 7;\n      const cropzoneDashLineOffset = 7;\n\n      // Calc original scale\n      const originalFlipX = this.flipX ? -1 : 1;\n      const originalFlipY = this.flipY ? -1 : 1;\n      const originalScaleX = originalFlipX / this.scaleX;\n      const originalScaleY = originalFlipY / this.scaleY;\n\n      // Set original scale\n      ctx.scale(originalScaleX, originalScaleY);\n\n      // Render outer rect\n      this._fillOuterRect(ctx, 'rgba(0, 0, 0, 0.5)');\n\n      if (this.options.lineWidth) {\n        this._fillInnerRect(ctx);\n        this._strokeBorder(ctx, 'rgb(255, 255, 255)', {\n          lineWidth: this.options.lineWidth,\n        });\n      } else {\n        // Black dash line\n        this._strokeBorder(ctx, 'rgb(0, 0, 0)', {\n          lineDashWidth: cropzoneDashLineWidth,\n        });\n\n        // White dash line\n        this._strokeBorder(ctx, 'rgb(255, 255, 255)', {\n          lineDashWidth: cropzoneDashLineWidth,\n          lineDashOffset: cropzoneDashLineOffset,\n        });\n      }\n\n      // Reset scale\n      ctx.scale(1 / originalScaleX, 1 / originalScaleY);\n    },\n\n    /**\n     * Render Crop-zone\n     * @private\n     * @override\n     */\n    _render(ctx) {\n      this.callSuper('_render', ctx);\n\n      this._renderCropzone(ctx);\n    },\n\n    /**\n     * Cropzone-coordinates with outer rectangle\n     *\n     *     x0     x1         x2      x3\n     *  y0 +--------------------------+\n     *     |///////|//////////|///////|    // <--- \"Outer-rectangle\"\n     *     |///////|//////////|///////|\n     *  y1 +-------+----------+-------+\n     *     |///////| Cropzone |///////|    Cropzone is the \"Inner-rectangle\"\n     *     |///////|  (0, 0)  |///////|    Center point (0, 0)\n     *  y2 +-------+----------+-------+\n     *     |///////|//////////|///////|\n     *     |///////|//////////|///////|\n     *  y3 +--------------------------+\n     *\n     * @typedef {{x: Array<number>, y: Array<number>}} cropzoneCoordinates\n     * @ignore\n     */\n\n    /**\n     * Fill outer rectangle\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @param {string|CanvasGradient|CanvasPattern} fillStyle - Fill-style\n     * @private\n     */\n    _fillOuterRect(ctx, fillStyle) {\n      const { x, y } = this._getCoordinates();\n\n      ctx.save();\n      ctx.fillStyle = fillStyle;\n      ctx.beginPath();\n\n      // Outer rectangle\n      // Numbers are +/-1 so that overlay edges don't get blurry.\n      ctx.moveTo(x[0] - 1, y[0] - 1);\n      ctx.lineTo(x[3] + 1, y[0] - 1);\n      ctx.lineTo(x[3] + 1, y[3] + 1);\n      ctx.lineTo(x[0] - 1, y[3] + 1);\n      ctx.lineTo(x[0] - 1, y[0] - 1);\n      ctx.closePath();\n\n      // Inner rectangle\n      ctx.moveTo(x[1], y[1]);\n      ctx.lineTo(x[1], y[2]);\n      ctx.lineTo(x[2], y[2]);\n      ctx.lineTo(x[2], y[1]);\n      ctx.lineTo(x[1], y[1]);\n      ctx.closePath();\n\n      ctx.fill();\n      ctx.restore();\n    },\n\n    /**\n     * Draw Inner grid line\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @private\n     */\n    _fillInnerRect(ctx) {\n      const { x: outerX, y: outerY } = this._getCoordinates();\n      const x = this._caculateInnerPosition(outerX, (outerX[2] - outerX[1]) / 3);\n      const y = this._caculateInnerPosition(outerY, (outerY[2] - outerY[1]) / 3);\n\n      ctx.save();\n      ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)';\n      ctx.lineWidth = this.options.lineWidth;\n      ctx.beginPath();\n\n      ctx.moveTo(x[0], y[1]);\n      ctx.lineTo(x[3], y[1]);\n\n      ctx.moveTo(x[0], y[2]);\n      ctx.lineTo(x[3], y[2]);\n\n      ctx.moveTo(x[1], y[0]);\n      ctx.lineTo(x[1], y[3]);\n\n      ctx.moveTo(x[2], y[0]);\n      ctx.lineTo(x[2], y[3]);\n      ctx.stroke();\n      ctx.closePath();\n\n      ctx.restore();\n    },\n\n    /**\n     * Calculate Inner Position\n     * @param {Array} outer - outer position\n     * @param {number} size - interval for calculate\n     * @returns {Array} - inner position\n     * @private\n     */\n    _caculateInnerPosition(outer, size) {\n      const position = [];\n      position[0] = outer[1];\n      position[1] = outer[1] + size;\n      position[2] = outer[1] + size * 2;\n      position[3] = outer[2];\n\n      return position;\n    },\n\n    /**\n     * Get coordinates\n     * @returns {cropzoneCoordinates} - {@link cropzoneCoordinates}\n     * @private\n     */\n    _getCoordinates() {\n      const { canvas, width, height, left, top } = this;\n      const halfWidth = width / 2;\n      const halfHeight = height / 2;\n      const canvasHeight = canvas.getHeight(); // fabric object\n      const canvasWidth = canvas.getWidth(); // fabric object\n\n      return {\n        x: snippet.map(\n          [\n            -(halfWidth + left), // x0\n            -halfWidth, // x1\n            halfWidth, // x2\n            halfWidth + (canvasWidth - left - width), // x3\n          ],\n          Math.ceil\n        ),\n        y: snippet.map(\n          [\n            -(halfHeight + top), // y0\n            -halfHeight, // y1\n            halfHeight, // y2\n            halfHeight + (canvasHeight - top - height), // y3\n          ],\n          Math.ceil\n        ),\n      };\n    },\n\n    /**\n     * Stroke border\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @param {string|CanvasGradient|CanvasPattern} strokeStyle - Stroke-style\n     * @param {number} lineDashWidth - Dash width\n     * @param {number} [lineDashOffset] - Dash offset\n     * @param {number} [lineWidth] - line width\n     * @private\n     */\n    _strokeBorder(ctx, strokeStyle, { lineDashWidth, lineDashOffset, lineWidth }) {\n      const halfWidth = this.width / 2;\n      const halfHeight = this.height / 2;\n\n      ctx.save();\n      ctx.strokeStyle = strokeStyle;\n\n      if (ctx.setLineDash) {\n        ctx.setLineDash([lineDashWidth, lineDashWidth]);\n      }\n      if (lineDashOffset) {\n        ctx.lineDashOffset = lineDashOffset;\n      }\n      if (lineWidth) {\n        ctx.lineWidth = lineWidth;\n      }\n\n      ctx.beginPath();\n      ctx.moveTo(-halfWidth, -halfHeight);\n      ctx.lineTo(halfWidth, -halfHeight);\n      ctx.lineTo(halfWidth, halfHeight);\n      ctx.lineTo(-halfWidth, halfHeight);\n      ctx.lineTo(-halfWidth, -halfHeight);\n      ctx.stroke();\n\n      ctx.restore();\n    },\n\n    /**\n     * onMoving event listener\n     * @private\n     */\n    _onMoving() {\n      const { height, width, left, top } = this;\n      const maxLeft = this.canvas.getWidth() - width;\n      const maxTop = this.canvas.getHeight() - height;\n\n      this.left = clamp(left, 0, maxLeft);\n      this.top = clamp(top, 0, maxTop);\n\n      this.canvasEventTrigger[events.OBJECT_MOVED](this);\n    },\n\n    /**\n     * onScaling event listener\n     * @param {{e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onScaling(fEvent) {\n      const selectedCorner = fEvent.transform.corner;\n      const pointer = this.canvas.getPointer(fEvent.e);\n      const settings = this._calcScalingSizeFromPointer(pointer, selectedCorner);\n\n      // On scaling cropzone,\n      // change real width and height and fix scaleFactor to 1\n      this.scale(1).set(settings);\n\n      this.canvasEventTrigger[events.OBJECT_SCALED](this);\n    },\n\n    /**\n     * Calc scaled size from mouse pointer with selected corner\n     * @param {{x: number, y: number}} pointer - Mouse position\n     * @param {string} selectedCorner - selected corner type\n     * @returns {Object} Having left or(and) top or(and) width or(and) height.\n     * @private\n     */\n    _calcScalingSizeFromPointer(pointer, selectedCorner) {\n      const isCornerTypeValid = cornerTypeValid(selectedCorner);\n\n      return isCornerTypeValid && this._resizeCropZone(pointer, selectedCorner);\n    },\n\n    /**\n     * Align with cropzone ratio\n     * @param {number} width - cropzone width\n     * @param {number} height - cropzone height\n     * @param {number} maxWidth - limit max width\n     * @param {number} maxHeight - limit max height\n     * @param {number} scaleTo - cropzone ratio\n     * @returns {{width: number, height: number}}\n     * @private\n     */\n    adjustRatioCropzoneSize({ width, height, leftMaker, topMaker, maxWidth, maxHeight, scaleTo }) {\n      width = maxWidth ? clamp(width, 1, maxWidth) : width;\n      height = maxHeight ? clamp(height, 1, maxHeight) : height;\n\n      if (!this.presetRatio) {\n        if (this._withShiftKey) {\n          // make fixed ratio cropzone\n          if (width > height) {\n            height = width;\n          } else if (height > width) {\n            width = height;\n          }\n        }\n\n        return {\n          width,\n          height,\n          left: leftMaker(width),\n          top: topMaker(height),\n        };\n      }\n\n      if (scaleTo === 'width') {\n        height = width / this.presetRatio;\n      } else {\n        width = height * this.presetRatio;\n      }\n\n      const maxScaleFactor = Math.min(maxWidth / width, maxHeight / height);\n      if (maxScaleFactor <= 1) {\n        [width, height] = [width, height].map((v) => v * maxScaleFactor);\n      }\n\n      return {\n        width,\n        height,\n        left: leftMaker(width),\n        top: topMaker(height),\n      };\n    },\n\n    /**\n     * Get dimension last state cropzone\n     * @returns {{rectTop: number, rectLeft: number, rectWidth: number, rectHeight: number}}\n     * @private\n     */\n    _getCropzoneRectInfo() {\n      const { width: canvasWidth, height: canvasHeight } = this.canvas;\n      const {\n        top: rectTop,\n        left: rectLeft,\n        width: rectWidth,\n        height: rectHeight,\n      } = this.getBoundingRect(false, true);\n\n      return {\n        rectTop,\n        rectLeft,\n        rectWidth,\n        rectHeight,\n        rectRight: rectLeft + rectWidth,\n        rectBottom: rectTop + rectHeight,\n        canvasWidth,\n        canvasHeight,\n      };\n    },\n\n    /**\n     * Calc scaling dimension\n     * @param {Object} position - Mouse position\n     * @param {string} corner - corner type\n     * @returns {{left: number, top: number, width: number, height: number}}\n     * @private\n     */\n    _resizeCropZone({ x, y }, corner) {\n      const {\n        rectWidth,\n        rectHeight,\n        rectTop,\n        rectLeft,\n        rectBottom,\n        rectRight,\n        canvasWidth,\n        canvasHeight,\n      } = this._getCropzoneRectInfo();\n\n      const resizeInfoMap = {\n        tl: {\n          width: rectRight - x,\n          height: rectBottom - y,\n          leftMaker: (newWidth) => rectRight - newWidth,\n          topMaker: (newHeight) => rectBottom - newHeight,\n          maxWidth: rectRight,\n          maxHeight: rectBottom,\n          scaleTo: getScaleBasis(rectLeft - x, rectTop - y),\n        },\n        tr: {\n          width: x - rectLeft,\n          height: rectBottom - y,\n          leftMaker: () => rectLeft,\n          topMaker: (newHeight) => rectBottom - newHeight,\n          maxWidth: canvasWidth - rectLeft,\n          maxHeight: rectBottom,\n          scaleTo: getScaleBasis(x - rectRight, rectTop - y),\n        },\n        mt: {\n          width: rectWidth,\n          height: rectBottom - y,\n          leftMaker: () => rectLeft,\n          topMaker: (newHeight) => rectBottom - newHeight,\n          maxWidth: canvasWidth - rectLeft,\n          maxHeight: rectBottom,\n          scaleTo: 'height',\n        },\n        ml: {\n          width: rectRight - x,\n          height: rectHeight,\n          leftMaker: (newWidth) => rectRight - newWidth,\n          topMaker: () => rectTop,\n          maxWidth: rectRight,\n          maxHeight: canvasHeight - rectTop,\n          scaleTo: 'width',\n        },\n        mr: {\n          width: x - rectLeft,\n          height: rectHeight,\n          leftMaker: () => rectLeft,\n          topMaker: () => rectTop,\n          maxWidth: canvasWidth - rectLeft,\n          maxHeight: canvasHeight - rectTop,\n          scaleTo: 'width',\n        },\n        mb: {\n          width: rectWidth,\n          height: y - rectTop,\n          leftMaker: () => rectLeft,\n          topMaker: () => rectTop,\n          maxWidth: canvasWidth - rectLeft,\n          maxHeight: canvasHeight - rectTop,\n          scaleTo: 'height',\n        },\n        bl: {\n          width: rectRight - x,\n          height: y - rectTop,\n          leftMaker: (newWidth) => rectRight - newWidth,\n          topMaker: () => rectTop,\n          maxWidth: rectRight,\n          maxHeight: canvasHeight - rectTop,\n          scaleTo: getScaleBasis(rectLeft - x, y - rectBottom),\n        },\n        br: {\n          width: x - rectLeft,\n          height: y - rectTop,\n          leftMaker: () => rectLeft,\n          topMaker: () => rectTop,\n          maxWidth: canvasWidth - rectLeft,\n          maxHeight: canvasHeight - rectTop,\n          scaleTo: getScaleBasis(x - rectRight, y - rectBottom),\n        },\n      };\n\n      return this.adjustRatioCropzoneSize(resizeInfoMap[corner]);\n    },\n\n    /**\n     * Return the whether this cropzone is valid\n     * @returns {boolean}\n     */\n    isValid() {\n      return this.left >= 0 && this.top >= 0 && this.width > 0 && this.height > 0;\n    },\n\n    /**\n     * Keydown event handler\n     * @param {{number}} keyCode - Event keyCode\n     * @private\n     */\n    _onKeyDown({ keyCode }) {\n      if (keyCode === keyCodes.SHIFT) {\n        this._withShiftKey = true;\n      }\n    },\n\n    /**\n     * Keyup event handler\n     * @param {{number}} keyCode - Event keyCode\n     * @private\n     */\n    _onKeyUp({ keyCode }) {\n      if (keyCode === keyCodes.SHIFT) {\n        this._withShiftKey = false;\n      }\n    },\n  }\n);\n\nexport default Cropzone;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Emboss extending fabric.Image.filters.Convolute\n */\nimport fabric from 'fabric';\n\n/**\n * Emboss object\n * @class Emboss\n * @extends {fabric.Image.filters.Convolute}\n * @ignore\n */\nconst Emboss = fabric.util.createClass(\n  fabric.Image.filters.Convolute,\n  /** @lends Convolute.prototype */ {\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Emboss',\n\n    /**\n     * constructor\n     * @override\n     */\n    initialize() {\n      this.matrix = [1, 1, 1, 1, 0.7, -1, -1, -1, -1];\n    },\n  }\n);\n\nexport default Emboss;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Mask extending fabric.Image.filters.Mask\n */\nimport fabric from 'fabric';\n\n/**\n * Mask object\n * @class Mask\n * @extends {fabric.Image.filters.BlendImage}\n * @ignore\n */\nconst Mask = fabric.util.createClass(\n  fabric.Image.filters.BlendImage,\n  /** @lends Mask.prototype */ {\n    /**\n     * Apply filter to canvas element\n     * @param {Object} pipelineState - Canvas element to apply filter\n     * @override\n     */\n    applyTo(pipelineState) {\n      if (!this.mask) {\n        return;\n      }\n\n      const canvas = pipelineState.canvasEl;\n      const { width, height } = canvas;\n      const maskCanvasEl = this._createCanvasOfMask(width, height);\n      const ctx = canvas.getContext('2d');\n      const maskCtx = maskCanvasEl.getContext('2d');\n      const imageData = ctx.getImageData(0, 0, width, height);\n\n      this._drawMask(maskCtx, canvas, ctx);\n      this._mapData(maskCtx, imageData, width, height);\n\n      pipelineState.imageData = imageData;\n    },\n\n    /**\n     * Create canvas of mask image\n     * @param {number} width - Width of main canvas\n     * @param {number} height - Height of main canvas\n     * @returns {HTMLElement} Canvas element\n     * @private\n     */\n    _createCanvasOfMask(width, height) {\n      const maskCanvasEl = fabric.util.createCanvasElement();\n\n      maskCanvasEl.width = width;\n      maskCanvasEl.height = height;\n\n      return maskCanvasEl;\n    },\n\n    /**\n     * Draw mask image on canvas element\n     * @param {Object} maskCtx - Context of mask canvas\n     * @private\n     */\n    _drawMask(maskCtx) {\n      const { mask } = this;\n      const maskImg = mask.getElement();\n      const { angle, left, scaleX, scaleY, top } = mask;\n\n      maskCtx.save();\n      maskCtx.translate(left, top);\n      maskCtx.rotate((angle * Math.PI) / 180);\n      maskCtx.scale(scaleX, scaleY);\n      maskCtx.drawImage(maskImg, -maskImg.width / 2, -maskImg.height / 2);\n      maskCtx.restore();\n    },\n\n    /**\n     * Map mask image data to source image data\n     * @param {Object} maskCtx - Context of mask canvas\n     * @param {Object} imageData - Data of source image\n     * @param {number} width - Width of main canvas\n     * @param {number} height - Height of main canvas\n     * @private\n     */\n    _mapData(maskCtx, imageData, width, height) {\n      const { data, height: imgHeight, width: imgWidth } = imageData;\n      const sourceData = data;\n      const len = imgWidth * imgHeight * 4;\n      const maskData = maskCtx.getImageData(0, 0, width, height).data;\n\n      for (let i = 0; i < len; i += 4) {\n        sourceData[i + 3] = maskData[i]; // adjust value of alpha data\n      }\n    },\n  }\n);\n\nexport default Mask;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Sharpen extending fabric.Image.filters.Convolute\n */\nimport fabric from 'fabric';\n\n/**\n * Sharpen object\n * @class Sharpen\n * @extends {fabric.Image.filters.Convolute}\n * @ignore\n */\nconst Sharpen = fabric.util.createClass(\n  fabric.Image.filters.Convolute,\n  /** @lends Convolute.prototype */ {\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Sharpen',\n\n    /**\n     * constructor\n     * @override\n     */\n    initialize() {\n      this.matrix = [0, -1, 0, -1, 5, -1, 0, -1, 0];\n    },\n  }\n);\n\nexport default Sharpen;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Command factory\n */\nimport Command from '@/interface/command';\n\nconst commands = {};\n\n/**\n * Create a command\n * @param {string} name - Command name\n * @param {...*} args - Arguments for creating command\n * @returns {Command}\n * @ignore\n */\nfunction create(name, ...args) {\n  const actions = commands[name];\n  if (actions) {\n    return new Command(actions, args);\n  }\n\n  return null;\n}\n\n/**\n * Register a command with name as a key\n * @param {Object} command - {name:{string}, execute: {function}, undo: {function}}\n * @param {string} command.name - command name\n * @param {function} command.execute - executable function\n * @param {function} command.undo - undo function\n * @ignore\n */\nfunction register(command) {\n  commands[command.name] = command;\n}\n\nexport default {\n  create,\n  register,\n};\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Error-message factory\n */\nimport snippet from 'tui-code-snippet';\nimport { keyMirror } from '@/util';\n\nconst types = keyMirror('UN_IMPLEMENTATION', 'NO_COMPONENT_NAME');\nconst messages = {\n  UN_IMPLEMENTATION: 'Should implement a method: ',\n  NO_COMPONENT_NAME: 'Should set a component name',\n};\nconst map = {\n  UN_IMPLEMENTATION(methodName) {\n    return messages.UN_IMPLEMENTATION + methodName;\n  },\n  NO_COMPONENT_NAME() {\n    return messages.NO_COMPONENT_NAME;\n  },\n};\n\nexport default {\n  types: snippet.extend({}, types),\n\n  create(type, ...args) {\n    type = type.toLowerCase();\n    const func = map[type];\n\n    return func(...args);\n  },\n};\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Graphics module\n */\nimport snippet from 'tui-code-snippet';\nimport fabric from 'fabric';\nimport ImageLoader from '@/component/imageLoader';\nimport Cropper from '@/component/cropper';\nimport Flip from '@/component/flip';\nimport Rotation from '@/component/rotation';\nimport FreeDrawing from '@/component/freeDrawing';\nimport Line from '@/component/line';\nimport Text from '@/component/text';\nimport Icon from '@/component/icon';\nimport Filter from '@/component/filter';\nimport Shape from '@/component/shape';\nimport Zoom from '@/component/zoom';\nimport CropperDrawingMode from '@/drawingMode/cropper';\nimport FreeDrawingMode from '@/drawingMode/freeDrawing';\nimport LineDrawingMode from '@/drawingMode/lineDrawing';\nimport ShapeDrawingMode from '@/drawingMode/shape';\nimport TextDrawingMode from '@/drawingMode/text';\nimport IconDrawingMode from '@/drawingMode/icon';\nimport ZoomDrawingMode from '@/drawingMode/zoom';\nimport {\n  makeSelectionUndoData,\n  makeSelectionUndoDatum,\n  setCachedUndoDataForDimension,\n} from '@/helper/selectionModifyHelper';\nimport { getProperties, includes, isShape, Promise } from '@/util';\nimport {\n  componentNames as components,\n  eventNames as events,\n  drawingModes,\n  fObjectOptions,\n} from '@/consts';\n\nconst {\n  extend,\n  stamp,\n  isArray,\n  isString,\n  forEachArray,\n  forEachOwnProperties,\n  CustomEvents,\n} = snippet;\nconst DEFAULT_CSS_MAX_WIDTH = 1000;\nconst DEFAULT_CSS_MAX_HEIGHT = 800;\nconst EXTRA_PX_FOR_PASTE = 10;\n\nconst cssOnly = {\n  cssOnly: true,\n};\nconst backstoreOnly = {\n  backstoreOnly: true,\n};\n\n/**\n * Graphics class\n * @class\n * @param {string|HTMLElement} wrapper - Wrapper's element or selector\n * @param {Object} [option] - Canvas max width & height of css\n *  @param {number} option.cssMaxWidth - Canvas css-max-width\n *  @param {number} option.cssMaxHeight - Canvas css-max-height\n * @ignore\n */\nclass Graphics {\n  constructor(element, { cssMaxWidth, cssMaxHeight } = {}) {\n    /**\n     * Fabric image instance\n     * @type {fabric.Image}\n     */\n    this.canvasImage = null;\n\n    /**\n     * Max width of canvas elements\n     * @type {number}\n     */\n    this.cssMaxWidth = cssMaxWidth || DEFAULT_CSS_MAX_WIDTH;\n\n    /**\n     * Max height of canvas elements\n     * @type {number}\n     */\n    this.cssMaxHeight = cssMaxHeight || DEFAULT_CSS_MAX_HEIGHT;\n\n    /**\n     * cropper Selection Style\n     * @type {Object}\n     */\n    this.cropSelectionStyle = {};\n\n    /**\n     * target fabric object for copy paste feature\n     * @type {fabric.Object}\n     * @private\n     */\n    this.targetObjectForCopyPaste = null;\n\n    /**\n     * Image name\n     * @type {string}\n     */\n    this.imageName = '';\n\n    /**\n     * Object Map\n     * @type {Object}\n     * @private\n     */\n    this._objects = {};\n\n    /**\n     * Fabric-Canvas instance\n     * @type {fabric.Canvas}\n     * @private\n     */\n    this._canvas = null;\n\n    /**\n     * Drawing mode\n     * @type {string}\n     * @private\n     */\n    this._drawingMode = drawingModes.NORMAL;\n\n    /**\n     * DrawingMode map\n     * @type {Object.<string, DrawingMode>}\n     * @private\n     */\n    this._drawingModeMap = {};\n\n    /**\n     * Component map\n     * @type {Object.<string, Component>}\n     * @private\n     */\n    this._componentMap = {};\n\n    /**\n     * fabric event handlers\n     * @type {Object.<string, function>}\n     * @private\n     */\n    this._handler = {\n      onMouseDown: this._onMouseDown.bind(this),\n      onObjectAdded: this._onObjectAdded.bind(this),\n      onObjectRemoved: this._onObjectRemoved.bind(this),\n      onObjectMoved: this._onObjectMoved.bind(this),\n      onObjectScaled: this._onObjectScaled.bind(this),\n      onObjectModified: this._onObjectModified.bind(this),\n      onObjectRotated: this._onObjectRotated.bind(this),\n      onObjectSelected: this._onObjectSelected.bind(this),\n      onPathCreated: this._onPathCreated.bind(this),\n      onSelectionCleared: this._onSelectionCleared.bind(this),\n      onSelectionCreated: this._onSelectionCreated.bind(this),\n    };\n\n    this._setObjectCachingToFalse();\n    this._setCanvasElement(element);\n    this._createDrawingModeInstances();\n    this._createComponents();\n    this._attachCanvasEvents();\n    this._attachZoomEvents();\n  }\n\n  /**\n   * Destroy canvas element\n   */\n  destroy() {\n    const { wrapperEl } = this._canvas;\n\n    this._canvas.clear();\n\n    wrapperEl.parentNode.removeChild(wrapperEl);\n\n    this._detachZoomEvents();\n  }\n\n  /**\n   * Attach zoom events\n   */\n  _attachZoomEvents() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.attachKeyboardZoomEvents();\n  }\n\n  /**\n   * Detach zoom events\n   */\n  _detachZoomEvents() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.detachKeyboardZoomEvents();\n  }\n\n  /**\n   * Deactivates all objects on canvas\n   * @returns {Graphics} this\n   */\n  deactivateAll() {\n    this._canvas.discardActiveObject();\n\n    return this;\n  }\n\n  /**\n   * Renders all objects on canvas\n   * @returns {Graphics} this\n   */\n  renderAll() {\n    this._canvas.renderAll();\n\n    return this;\n  }\n\n  /**\n   * Adds objects on canvas\n   * @param {Object|Array} objects - objects\n   */\n  add(objects) {\n    let theArgs = [];\n    if (isArray(objects)) {\n      theArgs = objects;\n    } else {\n      theArgs.push(objects);\n    }\n\n    this._canvas.add(...theArgs);\n  }\n\n  /**\n   * Removes the object or group\n   * @param {Object} target - graphics object or group\n   * @returns {boolean} true if contains or false\n   */\n  contains(target) {\n    return this._canvas.contains(target);\n  }\n\n  /**\n   * Gets all objects or group\n   * @returns {Array} all objects, shallow copy\n   */\n  getObjects() {\n    return this._canvas.getObjects().slice();\n  }\n\n  /**\n   * Get an object by id\n   * @param {number} id - object id\n   * @returns {fabric.Object} object corresponding id\n   */\n  getObject(id) {\n    return this._objects[id];\n  }\n\n  /**\n   * Removes the object or group\n   * @param {Object} target - graphics object or group\n   */\n  remove(target) {\n    this._canvas.remove(target);\n  }\n\n  /**\n   * Removes all object or group\n   * @param {boolean} includesBackground - remove the background image or not\n   * @returns {Array} all objects array which is removed\n   */\n  removeAll(includesBackground) {\n    const canvas = this._canvas;\n    const objects = canvas.getObjects().slice();\n    canvas.remove(...this._canvas.getObjects());\n\n    if (includesBackground) {\n      canvas.clear();\n    }\n\n    return objects;\n  }\n\n  /**\n   * Removes an object or group by id\n   * @param {number} id - object id\n   * @returns {Array} removed objects\n   */\n  removeObjectById(id) {\n    const objects = [];\n    const canvas = this._canvas;\n    const target = this.getObject(id);\n    const isValidGroup = target && target.isType('group') && !target.isEmpty();\n\n    if (isValidGroup) {\n      canvas.discardActiveObject(); // restore states for each objects\n      target.forEachObject((obj) => {\n        objects.push(obj);\n        canvas.remove(obj);\n      });\n    } else if (canvas.contains(target)) {\n      objects.push(target);\n      canvas.remove(target);\n    }\n\n    return objects;\n  }\n\n  /**\n   * Get an id by object instance\n   * @param {fabric.Object} object object\n   * @returns {number} object id if it exists or null\n   */\n  getObjectId(object) {\n    let key = null;\n    for (key in this._objects) {\n      if (this._objects.hasOwnProperty(key)) {\n        if (object === this._objects[key]) {\n          return key;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Gets an active object or group\n   * @returns {Object} active object or group instance\n   */\n  getActiveObject() {\n    return this._canvas._activeObject;\n  }\n\n  /**\n   * Returns the object ID to delete the object.\n   * @returns {number} object id for remove\n   */\n  getActiveObjectIdForRemove() {\n    const activeObject = this.getActiveObject();\n    const { type, left, top } = activeObject;\n    const isSelection = type === 'activeSelection';\n\n    if (isSelection) {\n      const group = new fabric.Group([...activeObject.getObjects()], {\n        left,\n        top,\n      });\n\n      return this._addFabricObject(group);\n    }\n\n    return this.getObjectId(activeObject);\n  }\n\n  /**\n   * Verify that you are ready to erase the object.\n   * @returns {boolean} ready for object remove\n   */\n  isReadyRemoveObject() {\n    const activeObject = this.getActiveObject();\n\n    return activeObject && !activeObject.isEditing;\n  }\n\n  /**\n   * Gets an active group object\n   * @returns {Object} active group object instance\n   */\n  getActiveObjects() {\n    const activeObject = this._canvas._activeObject;\n\n    return activeObject && activeObject.type === 'activeSelection' ? activeObject : null;\n  }\n\n  /**\n   * Get Active object Selection from object ids\n   * @param {Array.<Object>} objects - fabric objects\n   * @returns {Object} target - target object group\n   */\n  getActiveSelectionFromObjects(objects) {\n    const canvas = this.getCanvas();\n\n    return new fabric.ActiveSelection(objects, { canvas });\n  }\n\n  /**\n   * Activates an object or group\n   * @param {Object} target - target object or group\n   */\n  setActiveObject(target) {\n    this._canvas.setActiveObject(target);\n  }\n\n  /**\n   * Set Crop selection style\n   * @param {Object} style - Selection styles\n   */\n  setCropSelectionStyle(style) {\n    this.cropSelectionStyle = style;\n  }\n\n  /**\n   * Get component\n   * @param {string} name - Component name\n   * @returns {Component}\n   */\n  getComponent(name) {\n    return this._componentMap[name];\n  }\n\n  /**\n   * Get current drawing mode\n   * @returns {string}\n   */\n  getDrawingMode() {\n    return this._drawingMode;\n  }\n\n  /**\n   * Start a drawing mode. If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n   * @param {String} mode Can be one of <I>'CROPPER', 'FREE_DRAWING', 'LINE', 'TEXT', 'SHAPE'</I>\n   * @param {Object} [option] parameters of drawing mode, it's available with 'FREE_DRAWING', 'LINE_DRAWING'\n   *  @param {Number} [option.width] brush width\n   *  @param {String} [option.color] brush color\n   * @returns {boolean} true if success or false\n   */\n  startDrawingMode(mode, option) {\n    if (this._isSameDrawingMode(mode)) {\n      return true;\n    }\n\n    // If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n    this.stopDrawingMode();\n\n    const drawingModeInstance = this._getDrawingModeInstance(mode);\n    if (drawingModeInstance && drawingModeInstance.start) {\n      drawingModeInstance.start(this, option);\n\n      this._drawingMode = mode;\n    }\n\n    return !!drawingModeInstance;\n  }\n\n  /**\n   * Stop the current drawing mode and back to the 'NORMAL' mode\n   */\n  stopDrawingMode() {\n    if (this._isSameDrawingMode(drawingModes.NORMAL)) {\n      return;\n    }\n\n    const drawingModeInstance = this._getDrawingModeInstance(this.getDrawingMode());\n    if (drawingModeInstance && drawingModeInstance.end) {\n      drawingModeInstance.end(this);\n    }\n    this._drawingMode = drawingModes.NORMAL;\n  }\n\n  /**\n   * Change zoom of canvas\n   * @param {{x: number, y: number}} center - center of zoom\n   * @param {number} zoomLevel - zoom level\n   */\n  zoom({ x, y }, zoomLevel) {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.zoom({ x, y }, zoomLevel);\n  }\n\n  /**\n   * Get zoom mode\n   * @returns {string}\n   */\n  getZoomMode() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    return zoom.mode;\n  }\n\n  /**\n   * Start zoom-in mode\n   */\n  startZoomInMode() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.startZoomInMode();\n  }\n\n  /**\n   * Stop zoom-in mode\n   */\n  endZoomInMode() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.endZoomInMode();\n  }\n\n  /**\n   * Zoom out one step\n   */\n  zoomOut() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.zoomOut();\n  }\n\n  /**\n   * Start hand mode\n   */\n  startHandMode() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.startHandMode();\n  }\n\n  /**\n   * Stop hand mode\n   */\n  endHandMode() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.endHandMode();\n  }\n\n  /**\n   * Zoom reset\n   */\n  resetZoom() {\n    const zoom = this.getComponent(components.ZOOM);\n\n    zoom.resetZoom();\n  }\n\n  /**\n   * To data url from canvas\n   * @param {Object} options - options for toDataURL\n   *   @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n   *   @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n   *   @param {Number} [options.multiplier=1] Multiplier to scale by\n   *   @param {Number} [options.left] Cropping left offset. Introduced in fabric v1.2.14\n   *   @param {Number} [options.top] Cropping top offset. Introduced in fabric v1.2.14\n   *   @param {Number} [options.width] Cropping width. Introduced in fabric v1.2.14\n   *   @param {Number} [options.height] Cropping height. Introduced in fabric v1.2.14\n   * @returns {string} A DOMString containing the requested data URI.\n   */\n  toDataURL(options) {\n    const cropper = this.getComponent(components.CROPPER);\n    cropper.changeVisibility(false);\n\n    const dataUrl = this._canvas && this._canvas.toDataURL(options);\n    cropper.changeVisibility(true);\n\n    return dataUrl;\n  }\n\n  /**\n   * Save image(background) of canvas\n   * @param {string} name - Name of image\n   * @param {?fabric.Image} canvasImage - Fabric image instance\n   */\n  setCanvasImage(name, canvasImage) {\n    if (canvasImage) {\n      stamp(canvasImage);\n    }\n    this.imageName = name;\n    this.canvasImage = canvasImage;\n  }\n\n  /**\n   * Set css max dimension\n   * @param {{width: number, height: number}} maxDimension - Max width & Max height\n   */\n  setCssMaxDimension(maxDimension) {\n    this.cssMaxWidth = maxDimension.width || this.cssMaxWidth;\n    this.cssMaxHeight = maxDimension.height || this.cssMaxHeight;\n  }\n\n  /**\n   * Adjust canvas dimension with scaling image\n   */\n  adjustCanvasDimension() {\n    const canvasImage = this.canvasImage.scale(1);\n    const { width, height } = canvasImage.getBoundingRect();\n    const maxDimension = this._calcMaxDimension(width, height);\n\n    this.setCanvasCssDimension({\n      width: '100%',\n      height: '100%', // Set height '' for IE9\n      'max-width': `${maxDimension.width}px`,\n      'max-height': `${maxDimension.height}px`,\n    });\n\n    this.setCanvasBackstoreDimension({\n      width,\n      height,\n    });\n    this._canvas.centerObject(canvasImage);\n  }\n\n  /**\n   * Set canvas dimension - css only\n   *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n   * @param {Object} dimension - Canvas css dimension\n   */\n  setCanvasCssDimension(dimension) {\n    this._canvas.setDimensions(dimension, cssOnly);\n  }\n\n  /**\n   * Set canvas dimension - backstore only\n   *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n   * @param {Object} dimension - Canvas backstore dimension\n   */\n  setCanvasBackstoreDimension(dimension) {\n    this._canvas.setDimensions(dimension, backstoreOnly);\n  }\n\n  /**\n   * Set image properties\n   * {@link http://fabricjs.com/docs/fabric.Image.html#set}\n   * @param {Object} setting - Image properties\n   * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n   */\n  setImageProperties(setting, withRendering) {\n    const { canvasImage } = this;\n\n    if (!canvasImage) {\n      return;\n    }\n\n    canvasImage.set(setting).setCoords();\n    if (withRendering) {\n      this._canvas.renderAll();\n    }\n  }\n\n  /**\n   * Returns canvas element of fabric.Canvas[[lower-canvas]]\n   * @returns {HTMLCanvasElement}\n   */\n  getCanvasElement() {\n    return this._canvas.getElement();\n  }\n\n  /**\n   * Get fabric.Canvas instance\n   * @returns {fabric.Canvas}\n   */\n  getCanvas() {\n    return this._canvas;\n  }\n\n  /**\n   * Get canvasImage (fabric.Image instance)\n   * @returns {fabric.Image}\n   */\n  getCanvasImage() {\n    return this.canvasImage;\n  }\n\n  /**\n   * Get image name\n   * @returns {string}\n   */\n  getImageName() {\n    return this.imageName;\n  }\n\n  /**\n   * Add image object on canvas\n   * @param {string} imgUrl - Image url to make object\n   * @returns {Promise}\n   */\n  addImageObject(imgUrl) {\n    const callback = this._callbackAfterLoadingImageObject.bind(this);\n\n    return new Promise((resolve) => {\n      fabric.Image.fromURL(\n        imgUrl,\n        (image) => {\n          callback(image);\n          resolve(this.createObjectProperties(image));\n        },\n        {\n          crossOrigin: 'Anonymous',\n        }\n      );\n    });\n  }\n\n  /**\n   * Get center position of canvas\n   * @returns {Object} {left, top}\n   */\n  getCenter() {\n    return this._canvas.getCenter();\n  }\n\n  /**\n   * Get cropped rect\n   * @returns {Object} rect\n   */\n  getCropzoneRect() {\n    return this.getComponent(components.CROPPER).getCropzoneRect();\n  }\n\n  /**\n   * Get cropped rect\n   * @param {number} [mode] cropzone rect mode\n   */\n  setCropzoneRect(mode) {\n    this.getComponent(components.CROPPER).setCropzoneRect(mode);\n  }\n\n  /**\n   * Get cropped image data\n   * @param {Object} cropRect cropzone rect\n   *  @param {Number} cropRect.left left position\n   *  @param {Number} cropRect.top top position\n   *  @param {Number} cropRect.width width\n   *  @param {Number} cropRect.height height\n   * @returns {?{imageName: string, url: string}} cropped Image data\n   */\n  getCroppedImageData(cropRect) {\n    return this.getComponent(components.CROPPER).getCroppedImageData(cropRect);\n  }\n\n  /**\n   * Set brush option\n   * @param {Object} option brush option\n   *  @param {Number} option.width width\n   *  @param {String} option.color color like 'FFFFFF', 'rgba(0, 0, 0, 0.5)'\n   */\n  setBrush(option) {\n    const drawingMode = this._drawingMode;\n    let compName = components.FREE_DRAWING;\n\n    if (drawingMode === drawingModes.LINE_DRAWING) {\n      compName = components.LINE;\n    }\n\n    this.getComponent(compName).setBrush(option);\n  }\n\n  /**\n   * Set states of current drawing shape\n   * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n   * @param {Object} [options] - Shape options\n   *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n   *        Shape foreground color (ex: '#fff', 'transparent')\n   *      @param {string} [options.stoke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n   */\n  setDrawingShape(type, options) {\n    this.getComponent(components.SHAPE).setStates(type, options);\n  }\n\n  /**\n   * Set style of current drawing icon\n   * @param {string} type - icon type (ex: 'icon-arrow', 'icon-star')\n   * @param {Object} [iconColor] - Icon color\n   */\n  setIconStyle(type, iconColor) {\n    this.getComponent(components.ICON).setStates(type, iconColor);\n  }\n\n  /**\n   * Register icon paths\n   * @param {Object} pathInfos - Path infos\n   *  @param {string} pathInfos.key - key\n   *  @param {string} pathInfos.value - value\n   */\n  registerPaths(pathInfos) {\n    this.getComponent(components.ICON).registerPaths(pathInfos);\n  }\n\n  /**\n   * Change cursor style\n   * @param {string} cursorType - cursor type\n   */\n  changeCursor(cursorType) {\n    const canvas = this.getCanvas();\n    canvas.defaultCursor = cursorType;\n    canvas.renderAll();\n  }\n\n  /**\n   * Whether it has the filter or not\n   * @param {string} type - Filter type\n   * @returns {boolean} true if it has the filter\n   */\n  hasFilter(type) {\n    return this.getComponent(components.FILTER).hasFilter(type);\n  }\n\n  /**\n   * Set selection style of fabric object by init option\n   * @param {Object} styles - Selection styles\n   */\n  setSelectionStyle(styles) {\n    extend(fObjectOptions.SELECTION_STYLE, styles);\n  }\n\n  /**\n   * Set object properties\n   * @param {number} id - object id\n   * @param {Object} props - props\n   *     @param {string} [props.fill] Color\n   *     @param {string} [props.fontFamily] Font type for text\n   *     @param {number} [props.fontSize] Size\n   *     @param {string} [props.fontStyle] Type of inclination (normal / italic)\n   *     @param {string} [props.fontWeight] Type of thicker or thinner looking (normal / bold)\n   *     @param {string} [props.textAlign] Type of text align (left / center / right)\n   *     @param {string} [props.textDecoration] Type of line (underline / line-through / overline)\n   * @returns {Object} applied properties\n   */\n  setObjectProperties(id, props) {\n    const object = this.getObject(id);\n    const clone = extend({}, props);\n\n    object.set(clone);\n\n    object.setCoords();\n\n    this.getCanvas().renderAll();\n\n    return clone;\n  }\n\n  /**\n   * Get object properties corresponding key\n   * @param {number} id - object id\n   * @param {Array<string>|ObjectProps|string} keys - property's key\n   * @returns {Object} properties\n   */\n  getObjectProperties(id, keys) {\n    const object = this.getObject(id);\n    const props = {};\n\n    if (isString(keys)) {\n      props[keys] = object[keys];\n    } else if (isArray(keys)) {\n      forEachArray(keys, (value) => {\n        props[value] = object[value];\n      });\n    } else {\n      forEachOwnProperties(keys, (value, key) => {\n        props[key] = object[key];\n      });\n    }\n\n    return props;\n  }\n\n  /**\n   * Get object position by originX, originY\n   * @param {number} id - object id\n   * @param {string} originX - can be 'left', 'center', 'right'\n   * @param {string} originY - can be 'top', 'center', 'bottom'\n   * @returns {Object} {{x:number, y: number}} position by origin if id is valid, or null\n   */\n  getObjectPosition(id, originX, originY) {\n    const targetObj = this.getObject(id);\n    if (!targetObj) {\n      return null;\n    }\n\n    return targetObj.getPointByOrigin(originX, originY);\n  }\n\n  /**\n   * Set object position  by originX, originY\n   * @param {number} id - object id\n   * @param {Object} posInfo - position object\n   *  @param {number} posInfo.x - x position\n   *  @param {number} posInfo.y - y position\n   *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n   *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n   * @returns {boolean} true if target id is valid or false\n   */\n  setObjectPosition(id, posInfo) {\n    const targetObj = this.getObject(id);\n    const { x, y, originX, originY } = posInfo;\n    if (!targetObj) {\n      return false;\n    }\n\n    const targetOrigin = targetObj.getPointByOrigin(originX, originY);\n    const centerOrigin = targetObj.getPointByOrigin('center', 'center');\n    const diffX = centerOrigin.x - targetOrigin.x;\n    const diffY = centerOrigin.y - targetOrigin.y;\n\n    targetObj.set({\n      left: x + diffX,\n      top: y + diffY,\n    });\n\n    targetObj.setCoords();\n\n    return true;\n  }\n\n  /**\n   * Get the canvas size\n   * @returns {Object} {{width: number, height: number}} image size\n   */\n  getCanvasSize() {\n    const image = this.getCanvasImage();\n\n    return {\n      width: image ? image.width : 0,\n      height: image ? image.height : 0,\n    };\n  }\n\n  /**\n   * Create fabric static canvas\n   * @returns {Object} {{width: number, height: number}} image size\n   */\n  createStaticCanvas() {\n    const staticCanvas = new fabric.StaticCanvas();\n\n    staticCanvas.set({\n      enableRetinaScaling: false,\n    });\n\n    return staticCanvas;\n  }\n\n  /**\n   * Get a DrawingMode instance\n   * @param {string} modeName - DrawingMode Class Name\n   * @returns {DrawingMode} DrawingMode instance\n   * @private\n   */\n  _getDrawingModeInstance(modeName) {\n    return this._drawingModeMap[modeName];\n  }\n\n  /**\n   * Set object caching to false. This brought many bugs when draw Shape & cropzone\n   * @see http://fabricjs.com/fabric-object-caching\n   * @private\n   */\n  _setObjectCachingToFalse() {\n    fabric.Object.prototype.objectCaching = false;\n  }\n\n  /**\n   * Set canvas element to fabric.Canvas\n   * @param {Element|string} element - Wrapper or canvas element or selector\n   * @private\n   */\n  _setCanvasElement(element) {\n    let selectedElement;\n    let canvasElement;\n\n    if (element.nodeType) {\n      selectedElement = element;\n    } else {\n      selectedElement = document.querySelector(element);\n    }\n\n    if (selectedElement.nodeName.toUpperCase() !== 'CANVAS') {\n      canvasElement = document.createElement('canvas');\n      selectedElement.appendChild(canvasElement);\n    }\n\n    this._canvas = new fabric.Canvas(canvasElement, {\n      containerClass: 'tui-image-editor-canvas-container',\n      enableRetinaScaling: false,\n    });\n  }\n\n  /**\n   * Creates DrawingMode instances\n   * @private\n   */\n  _createDrawingModeInstances() {\n    this._register(this._drawingModeMap, new CropperDrawingMode());\n    this._register(this._drawingModeMap, new FreeDrawingMode());\n    this._register(this._drawingModeMap, new LineDrawingMode());\n    this._register(this._drawingModeMap, new ShapeDrawingMode());\n    this._register(this._drawingModeMap, new TextDrawingMode());\n    this._register(this._drawingModeMap, new IconDrawingMode());\n    this._register(this._drawingModeMap, new ZoomDrawingMode());\n  }\n\n  /**\n   * Create components\n   * @private\n   */\n  _createComponents() {\n    this._register(this._componentMap, new ImageLoader(this));\n    this._register(this._componentMap, new Cropper(this));\n    this._register(this._componentMap, new Flip(this));\n    this._register(this._componentMap, new Rotation(this));\n    this._register(this._componentMap, new FreeDrawing(this));\n    this._register(this._componentMap, new Line(this));\n    this._register(this._componentMap, new Text(this));\n    this._register(this._componentMap, new Icon(this));\n    this._register(this._componentMap, new Filter(this));\n    this._register(this._componentMap, new Shape(this));\n    this._register(this._componentMap, new Zoom(this));\n  }\n\n  /**\n   * Register component\n   * @param {Object} map - map object\n   * @param {Object} module - module which has getName method\n   * @private\n   */\n  _register(map, module) {\n    map[module.getName()] = module;\n  }\n\n  /**\n   * Get the current drawing mode is same with given mode\n   * @param {string} mode drawing mode\n   * @returns {boolean} true if same or false\n   */\n  _isSameDrawingMode(mode) {\n    return this.getDrawingMode() === mode;\n  }\n\n  /**\n   * Calculate max dimension of canvas\n   * The css-max dimension is dynamically decided with maintaining image ratio\n   * The css-max dimension is lower than canvas dimension (attribute of canvas, not css)\n   * @param {number} width - Canvas width\n   * @param {number} height - Canvas height\n   * @returns {{width: number, height: number}} - Max width & Max height\n   * @private\n   */\n  _calcMaxDimension(width, height) {\n    const wScaleFactor = this.cssMaxWidth / width;\n    const hScaleFactor = this.cssMaxHeight / height;\n    let cssMaxWidth = Math.min(width, this.cssMaxWidth);\n    let cssMaxHeight = Math.min(height, this.cssMaxHeight);\n\n    if (wScaleFactor < 1 && wScaleFactor < hScaleFactor) {\n      cssMaxWidth = width * wScaleFactor;\n      cssMaxHeight = height * wScaleFactor;\n    } else if (hScaleFactor < 1 && hScaleFactor < wScaleFactor) {\n      cssMaxWidth = width * hScaleFactor;\n      cssMaxHeight = height * hScaleFactor;\n    }\n\n    return {\n      width: Math.floor(cssMaxWidth),\n      height: Math.floor(cssMaxHeight),\n    };\n  }\n\n  /**\n   * Callback function after loading image\n   * @param {fabric.Image} obj - Fabric image object\n   * @private\n   */\n  _callbackAfterLoadingImageObject(obj) {\n    const centerPos = this.getCanvasImage().getCenterPoint();\n\n    obj.set(fObjectOptions.SELECTION_STYLE);\n    obj.set({\n      left: centerPos.x,\n      top: centerPos.y,\n      crossOrigin: 'Anonymous',\n    });\n\n    this.getCanvas().add(obj).setActiveObject(obj);\n  }\n\n  /**\n   * Attach canvas's events\n   */\n  _attachCanvasEvents() {\n    const canvas = this._canvas;\n    const handler = this._handler;\n    canvas.on({\n      'mouse:down': handler.onMouseDown,\n      'object:added': handler.onObjectAdded,\n      'object:removed': handler.onObjectRemoved,\n      'object:moving': handler.onObjectMoved,\n      'object:scaling': handler.onObjectScaled,\n      'object:modified': handler.onObjectModified,\n      'object:rotating': handler.onObjectRotated,\n      'path:created': handler.onPathCreated,\n      'selection:cleared': handler.onSelectionCleared,\n      'selection:created': handler.onSelectionCreated,\n      'selection:updated': handler.onObjectSelected,\n    });\n  }\n\n  /**\n   * \"mouse:down\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onMouseDown(fEvent) {\n    const { e: event, target } = fEvent;\n    const originPointer = this._canvas.getPointer(event);\n\n    if (target) {\n      const { type } = target;\n      const undoData = makeSelectionUndoData(target, (item) =>\n        makeSelectionUndoDatum(this.getObjectId(item), item, type === 'activeSelection')\n      );\n\n      setCachedUndoDataForDimension(undoData);\n    }\n\n    this.fire(events.MOUSE_DOWN, event, originPointer);\n  }\n\n  /**\n   * \"object:added\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onObjectAdded(fEvent) {\n    const obj = fEvent.target;\n    if (obj.isType('cropzone')) {\n      return;\n    }\n\n    this._addFabricObject(obj);\n  }\n\n  /**\n   * \"object:removed\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onObjectRemoved(fEvent) {\n    const obj = fEvent.target;\n\n    this._removeFabricObject(stamp(obj));\n  }\n\n  /**\n   * \"object:moving\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onObjectMoved(fEvent) {\n    this._lazyFire(\n      events.OBJECT_MOVED,\n      (object) => this.createObjectProperties(object),\n      fEvent.target\n    );\n  }\n\n  /**\n   * \"object:scaling\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onObjectScaled(fEvent) {\n    this._lazyFire(\n      events.OBJECT_SCALED,\n      (object) => this.createObjectProperties(object),\n      fEvent.target\n    );\n  }\n\n  /**\n   * \"object:modified\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onObjectModified(fEvent) {\n    const { target } = fEvent;\n    if (target.type === 'activeSelection') {\n      const items = target.getObjects();\n\n      items.forEach((item) => item.fire('modifiedInGroup', target));\n    }\n\n    this.fire(events.OBJECT_MODIFIED, target, this.getObjectId(target));\n  }\n\n  /**\n   * \"object:rotating\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onObjectRotated(fEvent) {\n    this._lazyFire(\n      events.OBJECT_ROTATED,\n      (object) => this.createObjectProperties(object),\n      fEvent.target\n    );\n  }\n\n  /**\n   * Lazy event emitter\n   * @param {string} eventName - event name\n   * @param {Function} paramsMaker - make param function\n   * @param {Object} [target] - Object of the event owner.\n   * @private\n   */\n  _lazyFire(eventName, paramsMaker, target) {\n    const existEventDelegation = target && target.canvasEventDelegation;\n    const delegationState = existEventDelegation ? target.canvasEventDelegation(eventName) : 'none';\n\n    if (delegationState === 'unregistered') {\n      target.canvasEventRegister(eventName, (object) => {\n        this.fire(eventName, paramsMaker(object));\n      });\n    }\n\n    if (delegationState === 'none') {\n      this.fire(eventName, paramsMaker(target));\n    }\n  }\n\n  /**\n   * \"object:selected\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onObjectSelected(fEvent) {\n    const { target } = fEvent;\n    const params = this.createObjectProperties(target);\n\n    this.fire(events.OBJECT_ACTIVATED, params);\n  }\n\n  /**\n   * \"path:created\" canvas event handler\n   * @param {{path: fabric.Path}} obj - Path object\n   * @private\n   */\n  _onPathCreated(obj) {\n    const { x: left, y: top } = obj.path.getCenterPoint();\n    obj.path.set(\n      extend(\n        {\n          left,\n          top,\n        },\n        fObjectOptions.SELECTION_STYLE\n      )\n    );\n\n    const params = this.createObjectProperties(obj.path);\n\n    this.fire(events.ADD_OBJECT, params);\n  }\n\n  /**\n   * \"selction:cleared\" canvas event handler\n   * @private\n   */\n  _onSelectionCleared() {\n    this.fire(events.SELECTION_CLEARED);\n  }\n\n  /**\n   * \"selction:created\" canvas event handler\n   * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n   * @private\n   */\n  _onSelectionCreated(fEvent) {\n    const { target } = fEvent;\n    const params = this.createObjectProperties(target);\n\n    this.fire(events.OBJECT_ACTIVATED, params);\n    this.fire(events.SELECTION_CREATED, fEvent.target);\n  }\n\n  /**\n   * Canvas discard selection all\n   */\n  discardSelection() {\n    this._canvas.discardActiveObject();\n    this._canvas.renderAll();\n  }\n\n  /**\n   * Canvas Selectable status change\n   * @param {boolean} selectable - expect status\n   */\n  changeSelectableAll(selectable) {\n    this._canvas.forEachObject((obj) => {\n      obj.selectable = selectable;\n      obj.hoverCursor = selectable ? 'move' : 'crosshair';\n    });\n  }\n\n  /**\n   * Return object's properties\n   * @param {fabric.Object} obj - fabric object\n   * @returns {Object} properties object\n   */\n  createObjectProperties(obj) {\n    const predefinedKeys = [\n      'left',\n      'top',\n      'width',\n      'height',\n      'fill',\n      'stroke',\n      'strokeWidth',\n      'opacity',\n      'angle',\n    ];\n    const props = {\n      id: stamp(obj),\n      type: obj.type,\n    };\n\n    extend(props, getProperties(obj, predefinedKeys));\n\n    if (includes(['i-text', 'text'], obj.type)) {\n      extend(props, this._createTextProperties(obj, props));\n    } else if (includes(['rect', 'triangle', 'circle'], obj.type)) {\n      const shapeComp = this.getComponent(components.SHAPE);\n      extend(props, {\n        fill: shapeComp.makeFillPropertyForUserEvent(obj),\n      });\n    }\n\n    return props;\n  }\n\n  /**\n   * Get text object's properties\n   * @param {fabric.Object} obj - fabric text object\n   * @param {Object} props - properties\n   * @returns {Object} properties object\n   */\n  _createTextProperties(obj) {\n    const predefinedKeys = [\n      'text',\n      'fontFamily',\n      'fontSize',\n      'fontStyle',\n      'textAlign',\n      'textDecoration',\n      'fontWeight',\n    ];\n    const props = {};\n    extend(props, getProperties(obj, predefinedKeys));\n\n    return props;\n  }\n\n  /**\n   * Add object array by id\n   * @param {fabric.Object} obj - fabric object\n   * @returns {number} object id\n   */\n  _addFabricObject(obj) {\n    const id = stamp(obj);\n    this._objects[id] = obj;\n\n    return id;\n  }\n\n  /**\n   * Remove an object in array yb id\n   * @param {number} id - object id\n   */\n  _removeFabricObject(id) {\n    delete this._objects[id];\n  }\n\n  /**\n   * Reset targetObjectForCopyPaste value from activeObject\n   */\n  resetTargetObjectForCopyPaste() {\n    const activeObject = this.getActiveObject();\n\n    if (activeObject) {\n      this.targetObjectForCopyPaste = activeObject;\n    }\n  }\n\n  /**\n   * Paste fabric object\n   * @returns {Promise}\n   */\n  pasteObject() {\n    if (!this.targetObjectForCopyPaste) {\n      return Promise.resolve([]);\n    }\n\n    const targetObject = this.targetObjectForCopyPaste;\n    const isGroupSelect = targetObject.type === 'activeSelection';\n    const targetObjects = isGroupSelect ? targetObject.getObjects() : [targetObject];\n    let newTargetObject = null;\n\n    this.discardSelection();\n\n    return this._cloneObject(targetObjects).then((addedObjects) => {\n      if (addedObjects.length > 1) {\n        newTargetObject = this.getActiveSelectionFromObjects(addedObjects);\n      } else {\n        [newTargetObject] = addedObjects;\n      }\n      this.targetObjectForCopyPaste = newTargetObject;\n      this.setActiveObject(newTargetObject);\n    });\n  }\n\n  /**\n   * Clone object\n   * @param {fabric.Object} targetObjects - fabric object\n   * @returns {Promise}\n   * @private\n   */\n  _cloneObject(targetObjects) {\n    const addedObjects = snippet.map(targetObjects, (targetObject) =>\n      this._cloneObjectItem(targetObject)\n    );\n\n    return Promise.all(addedObjects);\n  }\n\n  /**\n   * Clone object one item\n   * @param {fabric.Object} targetObject - fabric object\n   * @returns {Promise}\n   * @private\n   */\n  _cloneObjectItem(targetObject) {\n    return this._copyFabricObjectForPaste(targetObject).then((clonedObject) => {\n      const objectProperties = this.createObjectProperties(clonedObject);\n      this.add(clonedObject);\n\n      this.fire(events.ADD_OBJECT, objectProperties);\n\n      return clonedObject;\n    });\n  }\n\n  /**\n   * Copy fabric object with Changed position for copy and paste\n   * @param {fabric.Object} targetObject - fabric object\n   * @returns {Promise}\n   * @private\n   */\n  _copyFabricObjectForPaste(targetObject) {\n    const addExtraPx = (value, isReverse) =>\n      isReverse ? value - EXTRA_PX_FOR_PASTE : value + EXTRA_PX_FOR_PASTE;\n\n    return this._copyFabricObject(targetObject).then((clonedObject) => {\n      const { left, top, width, height } = clonedObject;\n      const { width: canvasWidth, height: canvasHeight } = this.getCanvasSize();\n      const rightEdge = left + width / 2;\n      const bottomEdge = top + height / 2;\n\n      clonedObject.set(\n        snippet.extend(\n          {\n            left: addExtraPx(left, rightEdge + EXTRA_PX_FOR_PASTE > canvasWidth),\n            top: addExtraPx(top, bottomEdge + EXTRA_PX_FOR_PASTE > canvasHeight),\n          },\n          fObjectOptions.SELECTION_STYLE\n        )\n      );\n\n      return clonedObject;\n    });\n  }\n\n  /**\n   * Copy fabric object\n   * @param {fabric.Object} targetObject - fabric object\n   * @returns {Promise}\n   * @private\n   */\n  _copyFabricObject(targetObject) {\n    return new Promise((resolve) => {\n      targetObject.clone((cloned) => {\n        const shapeComp = this.getComponent(components.SHAPE);\n        if (isShape(cloned)) {\n          shapeComp.processForCopiedObject(cloned, targetObject);\n        }\n\n        resolve(cloned);\n      });\n    });\n  }\n}\n\nCustomEvents.mixin(Graphics);\n\nexport default Graphics;\n","/*\n  imagetracer.js version 1.2.4\n  Simple raster image tracer and vectorizer written in JavaScript.\n  andras@jankovics.net\n*/\n\n/*\n  The Unlicense / PUBLIC DOMAIN\n  This is free and unencumbered software released into the public domain.\n  Anyone is free to copy, modify, publish, use, compile, sell, or\n  distribute this software, either in source code form or as a compiled\n  binary, for any purpose, commercial or non-commercial, and by any\n  means.\n  In jurisdictions that recognize copyright laws, the author or authors\n  of this software dedicate any and all copyright interest in the\n  software to the public domain. We make this dedication for the benefit\n  of the public at large and to the detriment of our heirs and\n  successors. We intend this dedication to be an overt act of\n  relinquishment in perpetuity of all present and future rights to this\n  software under copyright law.\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n  IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n  OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n  ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n  OTHER DEALINGS IN THE SOFTWARE.\n  For more information, please refer to http://unlicense.org/\n*/\nexport default class ImageTracer {\n  static tracerDefaultOption() {\n    return {\n      pathomit: 100,\n      ltres: 0.1,\n      qtres: 1,\n\n      scale: 1,\n      strokewidth: 5,\n      viewbox: false,\n      linefilter: true,\n      desc: false,\n      rightangleenhance: false,\n      pal: [\n        {\n          r: 0,\n          g: 0,\n          b: 0,\n          a: 255,\n        },\n        {\n          r: 255,\n          g: 255,\n          b: 255,\n          a: 255,\n        },\n      ],\n    };\n  }\n  /* eslint-disable */\n  constructor() {\n    this.versionnumber = '1.2.4';\n    this.optionpresets = {\n      default: {\n        corsenabled: false,\n        ltres: 1,\n        qtres: 1,\n        pathomit: 8,\n        rightangleenhance: true,\n        colorsampling: 2,\n        numberofcolors: 16,\n        mincolorratio: 0,\n        colorquantcycles: 3,\n        layering: 0,\n        strokewidth: 1,\n        linefilter: false,\n        scale: 1,\n        roundcoords: 1,\n        viewbox: false,\n        desc: false,\n        lcpr: 0,\n        qcpr: 0,\n        blurradius: 0,\n        blurdelta: 20,\n      },\n      posterized1: {\n        colorsampling: 0,\n        numberofcolors: 2,\n      },\n      posterized2: {\n        numberofcolors: 4,\n        blurradius: 5,\n      },\n      curvy: {\n        ltres: 0.01,\n        linefilter: true,\n        rightangleenhance: false,\n      },\n      sharp: { qtres: 0.01, linefilter: false },\n      detailed: { pathomit: 0, roundcoords: 2, ltres: 0.5, qtres: 0.5, numberofcolors: 64 },\n      smoothed: { blurradius: 5, blurdelta: 64 },\n      grayscale: { colorsampling: 0, colorquantcycles: 1, numberofcolors: 7 },\n      fixedpalette: { colorsampling: 0, colorquantcycles: 1, numberofcolors: 27 },\n      randomsampling1: { colorsampling: 1, numberofcolors: 8 },\n      randomsampling2: { colorsampling: 1, numberofcolors: 64 },\n      artistic1: {\n        colorsampling: 0,\n        colorquantcycles: 1,\n        pathomit: 0,\n        blurradius: 5,\n        blurdelta: 64,\n        ltres: 0.01,\n        linefilter: true,\n        numberofcolors: 16,\n        strokewidth: 2,\n      },\n      artistic2: {\n        qtres: 0.01,\n        colorsampling: 0,\n        colorquantcycles: 1,\n        numberofcolors: 4,\n        strokewidth: 0,\n      },\n      artistic3: { qtres: 10, ltres: 10, numberofcolors: 8 },\n      artistic4: {\n        qtres: 10,\n        ltres: 10,\n        numberofcolors: 64,\n        blurradius: 5,\n        blurdelta: 256,\n        strokewidth: 2,\n      },\n      posterized3: {\n        ltres: 1,\n        qtres: 1,\n        pathomit: 20,\n        rightangleenhance: true,\n        colorsampling: 0,\n        numberofcolors: 3,\n        mincolorratio: 0,\n        colorquantcycles: 3,\n        blurradius: 3,\n        blurdelta: 20,\n        strokewidth: 0,\n        linefilter: false,\n        roundcoords: 1,\n        pal: [\n          { r: 0, g: 0, b: 100, a: 255 },\n          { r: 255, g: 255, b: 255, a: 255 },\n        ],\n      },\n    };\n\n    this.pathscan_combined_lookup = [\n      [\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n      ],\n      [\n        [0, 1, 0, -1],\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n        [0, 2, -1, 0],\n      ],\n      [\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n        [0, 1, 0, -1],\n        [0, 0, 1, 0],\n      ],\n      [\n        [0, 0, 1, 0],\n        [-1, -1, -1, -1],\n        [0, 2, -1, 0],\n        [-1, -1, -1, -1],\n      ],\n      [\n        [-1, -1, -1, -1],\n        [0, 0, 1, 0],\n        [0, 3, 0, 1],\n        [-1, -1, -1, -1],\n      ],\n      [\n        [13, 3, 0, 1],\n        [13, 2, -1, 0],\n        [7, 1, 0, -1],\n        [7, 0, 1, 0],\n      ],\n      [\n        [-1, -1, -1, -1],\n        [0, 1, 0, -1],\n        [-1, -1, -1, -1],\n        [0, 3, 0, 1],\n      ],\n      [\n        [0, 3, 0, 1],\n        [0, 2, -1, 0],\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n      ],\n      [\n        [0, 3, 0, 1],\n        [0, 2, -1, 0],\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n      ],\n      [\n        [-1, -1, -1, -1],\n        [0, 1, 0, -1],\n        [-1, -1, -1, -1],\n        [0, 3, 0, 1],\n      ],\n      [\n        [11, 1, 0, -1],\n        [14, 0, 1, 0],\n        [14, 3, 0, 1],\n        [11, 2, -1, 0],\n      ],\n      [\n        [-1, -1, -1, -1],\n        [0, 0, 1, 0],\n        [0, 3, 0, 1],\n        [-1, -1, -1, -1],\n      ],\n      [\n        [0, 0, 1, 0],\n        [-1, -1, -1, -1],\n        [0, 2, -1, 0],\n        [-1, -1, -1, -1],\n      ],\n      [\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n        [0, 1, 0, -1],\n        [0, 0, 1, 0],\n      ],\n      [\n        [0, 1, 0, -1],\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n        [0, 2, -1, 0],\n      ],\n      [\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n        [-1, -1, -1, -1],\n      ],\n    ];\n\n    this.gks = [\n      [0.27901, 0.44198, 0.27901],\n      [0.135336, 0.228569, 0.272192, 0.228569, 0.135336],\n      [0.086776, 0.136394, 0.178908, 0.195843, 0.178908, 0.136394, 0.086776],\n      [0.063327, 0.093095, 0.122589, 0.144599, 0.152781, 0.144599, 0.122589, 0.093095, 0.063327],\n      [\n        0.049692,\n        0.069304,\n        0.089767,\n        0.107988,\n        0.120651,\n        0.125194,\n        0.120651,\n        0.107988,\n        0.089767,\n        0.069304,\n        0.049692,\n      ],\n    ];\n\n    this.specpalette = [\n      { r: 0, g: 0, b: 0, a: 255 },\n      { r: 128, g: 128, b: 128, a: 255 },\n      { r: 0, g: 0, b: 128, a: 255 },\n      { r: 64, g: 64, b: 128, a: 255 },\n      { r: 192, g: 192, b: 192, a: 255 },\n      { r: 255, g: 255, b: 255, a: 255 },\n      { r: 128, g: 128, b: 192, a: 255 },\n      { r: 0, g: 0, b: 192, a: 255 },\n      { r: 128, g: 0, b: 0, a: 255 },\n      { r: 128, g: 64, b: 64, a: 255 },\n      { r: 128, g: 0, b: 128, a: 255 },\n      { r: 168, g: 168, b: 168, a: 255 },\n      { r: 192, g: 128, b: 128, a: 255 },\n      { r: 192, g: 0, b: 0, a: 255 },\n      { r: 255, g: 255, b: 255, a: 255 },\n      { r: 0, g: 128, b: 0, a: 255 },\n    ];\n  }\n\n  imageToSVG(url, callback, options) {\n    options = this.checkoptions(options);\n    this.loadImage(\n      url,\n      (canvas) => {\n        callback(this.imagedataToSVG(this.getImgdata(canvas), options));\n      },\n      options\n    );\n  }\n\n  imagedataToSVG(imgd, options) {\n    options = this.checkoptions(options);\n    const td = this.imagedataToTracedata(imgd, options);\n\n    return this.getsvgstring(td, options);\n  }\n\n  imageToTracedata(url, callback, options) {\n    options = this.checkoptions(options);\n    this.loadImage(\n      url,\n      (canvas) => {\n        callback(this.imagedataToTracedata(this.getImgdata(canvas), options));\n      },\n      options\n    );\n  }\n\n  imagedataToTracedata(imgd, options) {\n    options = this.checkoptions(options);\n    const ii = this.colorquantization(imgd, options);\n    let tracedata;\n    if (options.layering === 0) {\n      tracedata = {\n        layers: [],\n        palette: ii.palette,\n        width: ii.array[0].length - 2,\n        height: ii.array.length - 2,\n      };\n\n      for (let colornum = 0; colornum < ii.palette.length; colornum += 1) {\n        const tracedlayer = this.batchtracepaths(\n          this.internodes(\n            this.pathscan(this.layeringstep(ii, colornum), options.pathomit),\n            options\n          ),\n          options.ltres,\n          options.qtres\n        );\n        tracedata.layers.push(tracedlayer);\n      }\n    } else {\n      const ls = this.layering(ii);\n      if (options.layercontainerid) {\n        this.drawLayers(ls, this.specpalette, options.scale, options.layercontainerid);\n      }\n      const bps = this.batchpathscan(ls, options.pathomit);\n      const bis = this.batchinternodes(bps, options);\n      tracedata = {\n        layers: this.batchtracelayers(bis, options.ltres, options.qtres),\n        palette: ii.palette,\n        width: imgd.width,\n        height: imgd.height,\n      };\n    }\n\n    return tracedata;\n  }\n\n  checkoptions(options) {\n    options = options || {};\n    if (typeof options === 'string') {\n      options = options.toLowerCase();\n      if (this.optionpresets[options]) {\n        options = this.optionpresets[options];\n      } else {\n        options = {};\n      }\n    }\n    const ok = Object.keys(this.optionpresets['default']);\n    for (let k = 0; k < ok.length; k += 1) {\n      if (!options.hasOwnProperty(ok[k])) {\n        options[ok[k]] = this.optionpresets['default'][ok[k]];\n      }\n    }\n\n    return options;\n  }\n\n  colorquantization(imgd, options) {\n    const arr = [];\n    let idx = 0;\n    let cd;\n    let cdl;\n    let ci;\n    const paletteacc = [];\n    const pixelnum = imgd.width * imgd.height;\n    let i;\n    let j;\n    let k;\n    let cnt;\n    let palette;\n\n    for (j = 0; j < imgd.height + 2; j += 1) {\n      arr[j] = [];\n      for (i = 0; i < imgd.width + 2; i += 1) {\n        arr[j][i] = -1;\n      }\n    }\n    if (options.pal) {\n      palette = options.pal;\n    } else if (options.colorsampling === 0) {\n      palette = this.generatepalette(options.numberofcolors);\n    } else if (options.colorsampling === 1) {\n      palette = this.samplepalette(options.numberofcolors, imgd);\n    } else {\n      palette = this.samplepalette2(options.numberofcolors, imgd);\n    }\n    if (options.blurradius > 0) {\n      imgd = this.blur(imgd, options.blurradius, options.blurdelta);\n    }\n    for (cnt = 0; cnt < options.colorquantcycles; cnt += 1) {\n      if (cnt > 0) {\n        for (k = 0; k < palette.length; k += 1) {\n          if (paletteacc[k].n > 0) {\n            palette[k] = {\n              r: Math.floor(paletteacc[k].r / paletteacc[k].n),\n              g: Math.floor(paletteacc[k].g / paletteacc[k].n),\n              b: Math.floor(paletteacc[k].b / paletteacc[k].n),\n              a: Math.floor(paletteacc[k].a / paletteacc[k].n),\n            };\n          }\n\n          if (\n            paletteacc[k].n / pixelnum < options.mincolorratio &&\n            cnt < options.colorquantcycles - 1\n          ) {\n            palette[k] = {\n              r: Math.floor(Math.random() * 255),\n              g: Math.floor(Math.random() * 255),\n              b: Math.floor(Math.random() * 255),\n              a: Math.floor(Math.random() * 255),\n            };\n          }\n        }\n      }\n\n      for (i = 0; i < palette.length; i += 1) {\n        paletteacc[i] = { r: 0, g: 0, b: 0, a: 0, n: 0 };\n      }\n\n      for (j = 0; j < imgd.height; j += 1) {\n        for (i = 0; i < imgd.width; i += 1) {\n          idx = (j * imgd.width + i) * 4;\n\n          ci = 0;\n          cdl = 1024;\n          for (k = 0; k < palette.length; k += 1) {\n            cd =\n              Math.abs(palette[k].r - imgd.data[idx]) +\n              Math.abs(palette[k].g - imgd.data[idx + 1]) +\n              Math.abs(palette[k].b - imgd.data[idx + 2]) +\n              Math.abs(palette[k].a - imgd.data[idx + 3]);\n\n            if (cd < cdl) {\n              cdl = cd;\n              ci = k;\n            }\n          }\n\n          paletteacc[ci].r += imgd.data[idx];\n          paletteacc[ci].g += imgd.data[idx + 1];\n          paletteacc[ci].b += imgd.data[idx + 2];\n          paletteacc[ci].a += imgd.data[idx + 3];\n          paletteacc[ci].n += 1;\n\n          arr[j + 1][i + 1] = ci;\n        }\n      }\n    }\n\n    return { array: arr, palette };\n  }\n\n  samplepalette(numberofcolors, imgd) {\n    let idx;\n    const palette = [];\n    for (let i = 0; i < numberofcolors; i += 1) {\n      idx = Math.floor((Math.random() * imgd.data.length) / 4) * 4;\n      palette.push({\n        r: imgd.data[idx],\n        g: imgd.data[idx + 1],\n        b: imgd.data[idx + 2],\n        a: imgd.data[idx + 3],\n      });\n    }\n\n    return palette;\n  }\n\n  samplepalette2(numberofcolors, imgd) {\n    let idx;\n    const palette = [];\n    const ni = Math.ceil(Math.sqrt(numberofcolors));\n    const nj = Math.ceil(numberofcolors / ni);\n    const vx = imgd.width / (ni + 1);\n    const vy = imgd.height / (nj + 1);\n    for (let j = 0; j < nj; j += 1) {\n      for (let i = 0; i < ni; i += 1) {\n        if (palette.length === numberofcolors) {\n          break;\n        } else {\n          idx = Math.floor((j + 1) * vy * imgd.width + (i + 1) * vx) * 4;\n          palette.push({\n            r: imgd.data[idx],\n            g: imgd.data[idx + 1],\n            b: imgd.data[idx + 2],\n            a: imgd.data[idx + 3],\n          });\n        }\n      }\n    }\n\n    return palette;\n  }\n\n  generatepalette(numberofcolors) {\n    const palette = [];\n    let rcnt;\n    let gcnt;\n    let bcnt;\n    if (numberofcolors < 8) {\n      const graystep = Math.floor(255 / (numberofcolors - 1));\n      for (let i = 0; i < numberofcolors; i += 1) {\n        palette.push({ r: i * graystep, g: i * graystep, b: i * graystep, a: 255 });\n      }\n    } else {\n      const colorqnum = Math.floor(Math.pow(numberofcolors, 1 / 3));\n      const colorstep = Math.floor(255 / (colorqnum - 1));\n      const rndnum = numberofcolors - colorqnum * colorqnum * colorqnum;\n      for (rcnt = 0; rcnt < colorqnum; rcnt += 1) {\n        for (gcnt = 0; gcnt < colorqnum; gcnt += 1) {\n          for (bcnt = 0; bcnt < colorqnum; bcnt += 1) {\n            palette.push({ r: rcnt * colorstep, g: gcnt * colorstep, b: bcnt * colorstep, a: 255 });\n          }\n        }\n      }\n      for (rcnt = 0; rcnt < rndnum; rcnt += 1) {\n        palette.push({\n          r: Math.floor(Math.random() * 255),\n          g: Math.floor(Math.random() * 255),\n          b: Math.floor(Math.random() * 255),\n          a: Math.floor(Math.random() * 255),\n        });\n      }\n    }\n\n    return palette;\n  }\n\n  layering(ii) {\n    const layers = [];\n    let val = 0;\n    const ah = ii.array.length;\n    const aw = ii.array[0].length;\n    let n1;\n    let n2;\n    let n3;\n    let n4;\n    let n5;\n    let n6;\n    let n7;\n    let n8;\n    let i;\n    let j;\n    let k;\n    for (k = 0; k < ii.palette.length; k += 1) {\n      layers[k] = [];\n      for (j = 0; j < ah; j += 1) {\n        layers[k][j] = [];\n        for (i = 0; i < aw; i += 1) {\n          layers[k][j][i] = 0;\n        }\n      }\n    }\n    for (j = 1; j < ah - 1; j += 1) {\n      for (i = 1; i < aw - 1; i += 1) {\n        val = ii.array[j][i];\n\n        n1 = ii.array[j - 1][i - 1] === val ? 1 : 0;\n        n2 = ii.array[j - 1][i] === val ? 1 : 0;\n        n3 = ii.array[j - 1][i + 1] === val ? 1 : 0;\n        n4 = ii.array[j][i - 1] === val ? 1 : 0;\n        n5 = ii.array[j][i + 1] === val ? 1 : 0;\n        n6 = ii.array[j + 1][i - 1] === val ? 1 : 0;\n        n7 = ii.array[j + 1][i] === val ? 1 : 0;\n        n8 = ii.array[j + 1][i + 1] === val ? 1 : 0;\n\n        layers[val][j + 1][i + 1] = 1 + n5 * 2 + n8 * 4 + n7 * 8;\n        if (!n4) {\n          layers[val][j + 1][i] = 0 + 2 + n7 * 4 + n6 * 8;\n        }\n        if (!n2) {\n          layers[val][j][i + 1] = 0 + n3 * 2 + n5 * 4 + 8;\n        }\n        if (!n1) {\n          layers[val][j][i] = 0 + n2 * 2 + 4 + n4 * 8;\n        }\n      }\n    }\n\n    return layers;\n  }\n\n  layeringstep(ii, cnum) {\n    const layer = [];\n    const ah = ii.array.length;\n    const aw = ii.array[0].length;\n    let i;\n    let j;\n    for (j = 0; j < ah; j += 1) {\n      layer[j] = [];\n      for (i = 0; i < aw; i += 1) {\n        layer[j][i] = 0;\n      }\n    }\n    for (j = 1; j < ah; j += 1) {\n      for (i = 1; i < aw; i += 1) {\n        layer[j][i] =\n          (ii.array[j - 1][i - 1] === cnum ? 1 : 0) +\n          (ii.array[j - 1][i] === cnum ? 2 : 0) +\n          (ii.array[j][i - 1] === cnum ? 8 : 0) +\n          (ii.array[j][i] === cnum ? 4 : 0);\n      }\n    }\n\n    return layer;\n  }\n\n  pathscan(arr, pathomit) {\n    const paths = [];\n    let pacnt = 0;\n    let pcnt = 0;\n    let px = 0;\n    let py = 0;\n    const w = arr[0].length;\n    const h = arr.length;\n    let dir = 0;\n    let pathfinished = true;\n    let holepath = false;\n    let lookuprow;\n    for (let j = 0; j < h; j += 1) {\n      for (let i = 0; i < w; i += 1) {\n        if (arr[j][i] === 4 || arr[j][i] === 11) {\n          px = i;\n          py = j;\n          paths[pacnt] = {};\n          paths[pacnt].points = [];\n          paths[pacnt].boundingbox = [px, py, px, py];\n          paths[pacnt].holechildren = [];\n          pathfinished = false;\n          pcnt = 0;\n          holepath = arr[j][i] === 11;\n          dir = 1;\n\n          while (!pathfinished) {\n            paths[pacnt].points[pcnt] = {};\n            paths[pacnt].points[pcnt].x = px - 1;\n            paths[pacnt].points[pcnt].y = py - 1;\n            paths[pacnt].points[pcnt].t = arr[py][px];\n\n            if (px - 1 < paths[pacnt].boundingbox[0]) {\n              paths[pacnt].boundingbox[0] = px - 1;\n            }\n            if (px - 1 > paths[pacnt].boundingbox[2]) {\n              paths[pacnt].boundingbox[2] = px - 1;\n            }\n            if (py - 1 < paths[pacnt].boundingbox[1]) {\n              paths[pacnt].boundingbox[1] = py - 1;\n            }\n            if (py - 1 > paths[pacnt].boundingbox[3]) {\n              paths[pacnt].boundingbox[3] = py - 1;\n            }\n\n            lookuprow = this.pathscan_combined_lookup[arr[py][px]][dir];\n            arr[py][px] = lookuprow[0];\n            dir = lookuprow[1];\n            px += lookuprow[2];\n            py += lookuprow[3];\n\n            if (px - 1 === paths[pacnt].points[0].x && py - 1 === paths[pacnt].points[0].y) {\n              pathfinished = true;\n\n              if (paths[pacnt].points.length < pathomit) {\n                paths.pop();\n              } else {\n                paths[pacnt].isholepath = !!holepath;\n\n                if (holepath) {\n                  let parentidx = 0,\n                    parentbbox = [-1, -1, w + 1, h + 1];\n                  for (let parentcnt = 0; parentcnt < pacnt; parentcnt++) {\n                    if (\n                      !paths[parentcnt].isholepath &&\n                      this.boundingboxincludes(\n                        paths[parentcnt].boundingbox,\n                        paths[pacnt].boundingbox\n                      ) &&\n                      this.boundingboxincludes(parentbbox, paths[parentcnt].boundingbox)\n                    ) {\n                      parentidx = parentcnt;\n                      parentbbox = paths[parentcnt].boundingbox;\n                    }\n                  }\n                  paths[parentidx].holechildren.push(pacnt);\n                }\n                pacnt += 1;\n              }\n            }\n            pcnt += 1;\n          }\n        }\n      }\n    }\n\n    return paths;\n  }\n\n  boundingboxincludes(parentbbox, childbbox) {\n    return (\n      parentbbox[0] < childbbox[0] &&\n      parentbbox[1] < childbbox[1] &&\n      parentbbox[2] > childbbox[2] &&\n      parentbbox[3] > childbbox[3]\n    );\n  }\n\n  batchpathscan(layers, pathomit) {\n    const bpaths = [];\n    for (const k in layers) {\n      if (!layers.hasOwnProperty(k)) {\n        continue;\n      }\n      bpaths[k] = this.pathscan(layers[k], pathomit);\n    }\n\n    return bpaths;\n  }\n\n  internodes(paths, options) {\n    const ins = [];\n    let palen = 0;\n    let nextidx = 0;\n    let nextidx2 = 0;\n    let previdx = 0;\n    let previdx2 = 0;\n    let pacnt;\n    let pcnt;\n    for (pacnt = 0; pacnt < paths.length; pacnt += 1) {\n      ins[pacnt] = {};\n      ins[pacnt].points = [];\n      ins[pacnt].boundingbox = paths[pacnt].boundingbox;\n      ins[pacnt].holechildren = paths[pacnt].holechildren;\n      ins[pacnt].isholepath = paths[pacnt].isholepath;\n      palen = paths[pacnt].points.length;\n\n      for (pcnt = 0; pcnt < palen; pcnt += 1) {\n        nextidx = (pcnt + 1) % palen;\n        nextidx2 = (pcnt + 2) % palen;\n        previdx = (pcnt - 1 + palen) % palen;\n        previdx2 = (pcnt - 2 + palen) % palen;\n\n        if (\n          options.rightangleenhance &&\n          this.testrightangle(paths[pacnt], previdx2, previdx, pcnt, nextidx, nextidx2)\n        ) {\n          if (ins[pacnt].points.length > 0) {\n            ins[pacnt].points[ins[pacnt].points.length - 1].linesegment = this.getdirection(\n              ins[pacnt].points[ins[pacnt].points.length - 1].x,\n              ins[pacnt].points[ins[pacnt].points.length - 1].y,\n              paths[pacnt].points[pcnt].x,\n              paths[pacnt].points[pcnt].y\n            );\n          }\n\n          ins[pacnt].points.push({\n            x: paths[pacnt].points[pcnt].x,\n            y: paths[pacnt].points[pcnt].y,\n            linesegment: this.getdirection(\n              paths[pacnt].points[pcnt].x,\n              paths[pacnt].points[pcnt].y,\n              (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2,\n              (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2\n            ),\n          });\n        }\n\n        ins[pacnt].points.push({\n          x: (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2,\n          y: (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2,\n          linesegment: this.getdirection(\n            (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2,\n            (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2,\n            (paths[pacnt].points[nextidx].x + paths[pacnt].points[nextidx2].x) / 2,\n            (paths[pacnt].points[nextidx].y + paths[pacnt].points[nextidx2].y) / 2\n          ),\n        });\n      }\n    }\n\n    return ins;\n  }\n\n  testrightangle(path, idx1, idx2, idx3, idx4, idx5) {\n    return (\n      (path.points[idx3].x === path.points[idx1].x &&\n        path.points[idx3].x === path.points[idx2].x &&\n        path.points[idx3].y === path.points[idx4].y &&\n        path.points[idx3].y === path.points[idx5].y) ||\n      (path.points[idx3].y === path.points[idx1].y &&\n        path.points[idx3].y === path.points[idx2].y &&\n        path.points[idx3].x === path.points[idx4].x &&\n        path.points[idx3].x === path.points[idx5].x)\n    );\n  }\n\n  getdirection(x1, y1, x2, y2) {\n    let val = 8;\n    if (x1 < x2) {\n      if (y1 < y2) {\n        val = 1;\n      } else if (y1 > y2) {\n        val = 7;\n      } else {\n        val = 0;\n      }\n    } else if (x1 > x2) {\n      if (y1 < y2) {\n        val = 3;\n      } else if (y1 > y2) {\n        val = 5;\n      } else {\n        val = 4;\n      }\n    } else if (y1 < y2) {\n      val = 2;\n    } else if (y1 > y2) {\n      val = 6;\n    } else {\n      val = 8;\n    }\n\n    return val;\n  }\n\n  batchinternodes(bpaths, options) {\n    const binternodes = [];\n    for (const k in bpaths) {\n      if (!bpaths.hasOwnProperty(k)) {\n        continue;\n      }\n      binternodes[k] = this.internodes(bpaths[k], options);\n    }\n\n    return binternodes;\n  }\n\n  tracepath(path, ltres, qtres) {\n    let pcnt = 0;\n    let segtype1;\n    let segtype2;\n    let seqend;\n    const smp = {};\n    smp.segments = [];\n    smp.boundingbox = path.boundingbox;\n    smp.holechildren = path.holechildren;\n    smp.isholepath = path.isholepath;\n\n    while (pcnt < path.points.length) {\n      segtype1 = path.points[pcnt].linesegment;\n      segtype2 = -1;\n      seqend = pcnt + 1;\n      while (\n        (path.points[seqend].linesegment === segtype1 ||\n          path.points[seqend].linesegment === segtype2 ||\n          segtype2 === -1) &&\n        seqend < path.points.length - 1\n      ) {\n        if (path.points[seqend].linesegment !== segtype1 && segtype2 === -1) {\n          segtype2 = path.points[seqend].linesegment;\n        }\n        seqend += 1;\n      }\n      if (seqend === path.points.length - 1) {\n        seqend = 0;\n      }\n\n      smp.segments = smp.segments.concat(this.fitseq(path, ltres, qtres, pcnt, seqend));\n\n      if (seqend > 0) {\n        pcnt = seqend;\n      } else {\n        pcnt = path.points.length;\n      }\n    }\n\n    return smp;\n  }\n\n  fitseq(path, ltres, qtres, seqstart, seqend) {\n    if (seqend > path.points.length || seqend < 0) {\n      return [];\n    }\n    let errorpoint = seqstart,\n      errorval = 0,\n      curvepass = true,\n      px,\n      py,\n      dist2;\n    let tl = seqend - seqstart;\n    if (tl < 0) {\n      tl += path.points.length;\n    }\n    let vx = (path.points[seqend].x - path.points[seqstart].x) / tl,\n      vy = (path.points[seqend].y - path.points[seqstart].y) / tl;\n    let pcnt = (seqstart + 1) % path.points.length,\n      pl;\n    while (pcnt != seqend) {\n      pl = pcnt - seqstart;\n      if (pl < 0) {\n        pl += path.points.length;\n      }\n      px = path.points[seqstart].x + vx * pl;\n      py = path.points[seqstart].y + vy * pl;\n      dist2 =\n        (path.points[pcnt].x - px) * (path.points[pcnt].x - px) +\n        (path.points[pcnt].y - py) * (path.points[pcnt].y - py);\n      if (dist2 > ltres) {\n        curvepass = false;\n      }\n      if (dist2 > errorval) {\n        errorpoint = pcnt;\n        errorval = dist2;\n      }\n      pcnt = (pcnt + 1) % path.points.length;\n    }\n    if (curvepass) {\n      return [\n        {\n          type: 'L',\n          x1: path.points[seqstart].x,\n          y1: path.points[seqstart].y,\n          x2: path.points[seqend].x,\n          y2: path.points[seqend].y,\n        },\n      ];\n    }\n    const fitpoint = errorpoint;\n    curvepass = true;\n    errorval = 0;\n    let t = (fitpoint - seqstart) / tl,\n      t1 = (1 - t) * (1 - t),\n      t2 = 2 * (1 - t) * t,\n      t3 = t * t;\n    let cpx =\n        (t1 * path.points[seqstart].x + t3 * path.points[seqend].x - path.points[fitpoint].x) / -t2,\n      cpy =\n        (t1 * path.points[seqstart].y + t3 * path.points[seqend].y - path.points[fitpoint].y) / -t2;\n    pcnt = seqstart + 1;\n    while (pcnt != seqend) {\n      t = (pcnt - seqstart) / tl;\n      t1 = (1 - t) * (1 - t);\n      t2 = 2 * (1 - t) * t;\n      t3 = t * t;\n      px = t1 * path.points[seqstart].x + t2 * cpx + t3 * path.points[seqend].x;\n      py = t1 * path.points[seqstart].y + t2 * cpy + t3 * path.points[seqend].y;\n      dist2 =\n        (path.points[pcnt].x - px) * (path.points[pcnt].x - px) +\n        (path.points[pcnt].y - py) * (path.points[pcnt].y - py);\n      if (dist2 > qtres) {\n        curvepass = false;\n      }\n      if (dist2 > errorval) {\n        errorpoint = pcnt;\n        errorval = dist2;\n      }\n      pcnt = (pcnt + 1) % path.points.length;\n    }\n    if (curvepass) {\n      return [\n        {\n          type: 'Q',\n          x1: path.points[seqstart].x,\n          y1: path.points[seqstart].y,\n          x2: cpx,\n          y2: cpy,\n          x3: path.points[seqend].x,\n          y3: path.points[seqend].y,\n        },\n      ];\n    }\n    const splitpoint = fitpoint;\n\n    return this.fitseq(path, ltres, qtres, seqstart, splitpoint).concat(\n      this.fitseq(path, ltres, qtres, splitpoint, seqend)\n    );\n  }\n\n  batchtracepaths(internodepaths, ltres, qtres) {\n    const btracedpaths = [];\n    for (const k in internodepaths) {\n      if (!internodepaths.hasOwnProperty(k)) {\n        continue;\n      }\n      btracedpaths.push(this.tracepath(internodepaths[k], ltres, qtres));\n    }\n\n    return btracedpaths;\n  }\n\n  batchtracelayers(binternodes, ltres, qtres) {\n    const btbis = [];\n    for (const k in binternodes) {\n      if (!binternodes.hasOwnProperty(k)) {\n        continue;\n      }\n      btbis[k] = this.batchtracepaths(binternodes[k], ltres, qtres);\n    }\n\n    return btbis;\n  }\n\n  roundtodec(val, places) {\n    return Number(val.toFixed(places));\n  }\n\n  svgpathstring(tracedata, lnum, pathnum, options) {\n    let layer = tracedata.layers[lnum],\n      smp = layer[pathnum],\n      str = '',\n      pcnt;\n    if (options.linefilter && smp.segments.length < 3) {\n      return str;\n    }\n    str = `<path ${options.desc ? `desc=\"l ${lnum} p ${pathnum}\" ` : ''}${this.tosvgcolorstr(\n      tracedata.palette[lnum],\n      options\n    )}d=\"`;\n    if (options.roundcoords === -1) {\n      str += `M ${smp.segments[0].x1 * options.scale} ${smp.segments[0].y1 * options.scale} `;\n      for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n        str += `${smp.segments[pcnt].type} ${smp.segments[pcnt].x2 * options.scale} ${\n          smp.segments[pcnt].y2 * options.scale\n        } `;\n        if (smp.segments[pcnt].hasOwnProperty('x3')) {\n          str += `${smp.segments[pcnt].x3 * options.scale} ${\n            smp.segments[pcnt].y3 * options.scale\n          } `;\n        }\n      }\n      str += 'Z ';\n    } else {\n      str += `M ${this.roundtodec(\n        smp.segments[0].x1 * options.scale,\n        options.roundcoords\n      )} ${this.roundtodec(smp.segments[0].y1 * options.scale, options.roundcoords)} `;\n      for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n        str += `${smp.segments[pcnt].type} ${this.roundtodec(\n          smp.segments[pcnt].x2 * options.scale,\n          options.roundcoords\n        )} ${this.roundtodec(smp.segments[pcnt].y2 * options.scale, options.roundcoords)} `;\n        if (smp.segments[pcnt].hasOwnProperty('x3')) {\n          str += `${this.roundtodec(\n            smp.segments[pcnt].x3 * options.scale,\n            options.roundcoords\n          )} ${this.roundtodec(smp.segments[pcnt].y3 * options.scale, options.roundcoords)} `;\n        }\n      }\n      str += 'Z ';\n    }\n    for (var hcnt = 0; hcnt < smp.holechildren.length; hcnt++) {\n      var hsmp = layer[smp.holechildren[hcnt]];\n\n      if (options.roundcoords === -1) {\n        if (hsmp.segments[hsmp.segments.length - 1].hasOwnProperty('x3')) {\n          str += `M ${hsmp.segments[hsmp.segments.length - 1].x3 * options.scale} ${\n            hsmp.segments[hsmp.segments.length - 1].y3 * options.scale\n          } `;\n        } else {\n          str += `M ${hsmp.segments[hsmp.segments.length - 1].x2 * options.scale} ${\n            hsmp.segments[hsmp.segments.length - 1].y2 * options.scale\n          } `;\n        }\n        for (pcnt = hsmp.segments.length - 1; pcnt >= 0; pcnt--) {\n          str += `${hsmp.segments[pcnt].type} `;\n          if (hsmp.segments[pcnt].hasOwnProperty('x3')) {\n            str += `${hsmp.segments[pcnt].x2 * options.scale} ${\n              hsmp.segments[pcnt].y2 * options.scale\n            } `;\n          }\n          str += `${hsmp.segments[pcnt].x1 * options.scale} ${\n            hsmp.segments[pcnt].y1 * options.scale\n          } `;\n        }\n      } else {\n        if (hsmp.segments[hsmp.segments.length - 1].hasOwnProperty('x3')) {\n          str += `M ${this.roundtodec(\n            hsmp.segments[hsmp.segments.length - 1].x3 * options.scale\n          )} ${this.roundtodec(hsmp.segments[hsmp.segments.length - 1].y3 * options.scale)} `;\n        } else {\n          str += `M ${this.roundtodec(\n            hsmp.segments[hsmp.segments.length - 1].x2 * options.scale\n          )} ${this.roundtodec(hsmp.segments[hsmp.segments.length - 1].y2 * options.scale)} `;\n        }\n        for (pcnt = hsmp.segments.length - 1; pcnt >= 0; pcnt--) {\n          str += `${hsmp.segments[pcnt].type} `;\n          if (hsmp.segments[pcnt].hasOwnProperty('x3')) {\n            str += `${this.roundtodec(hsmp.segments[pcnt].x2 * options.scale)} ${this.roundtodec(\n              hsmp.segments[pcnt].y2 * options.scale\n            )} `;\n          }\n          str += `${this.roundtodec(hsmp.segments[pcnt].x1 * options.scale)} ${this.roundtodec(\n            hsmp.segments[pcnt].y1 * options.scale\n          )} `;\n        }\n      }\n      str += 'Z ';\n    }\n    str += '\" />';\n    if (options.lcpr || options.qcpr) {\n      for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n        if (smp.segments[pcnt].hasOwnProperty('x3') && options.qcpr) {\n          str += `<circle cx=\"${smp.segments[pcnt].x2 * options.scale}\" cy=\"${\n            smp.segments[pcnt].y2 * options.scale\n          }\" r=\"${options.qcpr}\" fill=\"cyan\" stroke-width=\"${\n            options.qcpr * 0.2\n          }\" stroke=\"black\" />`;\n          str += `<circle cx=\"${smp.segments[pcnt].x3 * options.scale}\" cy=\"${\n            smp.segments[pcnt].y3 * options.scale\n          }\" r=\"${options.qcpr}\" fill=\"white\" stroke-width=\"${\n            options.qcpr * 0.2\n          }\" stroke=\"black\" />`;\n          str += `<line x1=\"${smp.segments[pcnt].x1 * options.scale}\" y1=\"${\n            smp.segments[pcnt].y1 * options.scale\n          }\" x2=\"${smp.segments[pcnt].x2 * options.scale}\" y2=\"${\n            smp.segments[pcnt].y2 * options.scale\n          }\" stroke-width=\"${options.qcpr * 0.2}\" stroke=\"cyan\" />`;\n          str += `<line x1=\"${smp.segments[pcnt].x2 * options.scale}\" y1=\"${\n            smp.segments[pcnt].y2 * options.scale\n          }\" x2=\"${smp.segments[pcnt].x3 * options.scale}\" y2=\"${\n            smp.segments[pcnt].y3 * options.scale\n          }\" stroke-width=\"${options.qcpr * 0.2}\" stroke=\"cyan\" />`;\n        }\n        if (!smp.segments[pcnt].hasOwnProperty('x3') && options.lcpr) {\n          str += `<circle cx=\"${smp.segments[pcnt].x2 * options.scale}\" cy=\"${\n            smp.segments[pcnt].y2 * options.scale\n          }\" r=\"${options.lcpr}\" fill=\"white\" stroke-width=\"${\n            options.lcpr * 0.2\n          }\" stroke=\"black\" />`;\n        }\n      }\n\n      for (var hcnt = 0; hcnt < smp.holechildren.length; hcnt++) {\n        var hsmp = layer[smp.holechildren[hcnt]];\n        for (pcnt = 0; pcnt < hsmp.segments.length; pcnt++) {\n          if (hsmp.segments[pcnt].hasOwnProperty('x3') && options.qcpr) {\n            str += `<circle cx=\"${hsmp.segments[pcnt].x2 * options.scale}\" cy=\"${\n              hsmp.segments[pcnt].y2 * options.scale\n            }\" r=\"${options.qcpr}\" fill=\"cyan\" stroke-width=\"${\n              options.qcpr * 0.2\n            }\" stroke=\"black\" />`;\n            str += `<circle cx=\"${hsmp.segments[pcnt].x3 * options.scale}\" cy=\"${\n              hsmp.segments[pcnt].y3 * options.scale\n            }\" r=\"${options.qcpr}\" fill=\"white\" stroke-width=\"${\n              options.qcpr * 0.2\n            }\" stroke=\"black\" />`;\n            str += `<line x1=\"${hsmp.segments[pcnt].x1 * options.scale}\" y1=\"${\n              hsmp.segments[pcnt].y1 * options.scale\n            }\" x2=\"${hsmp.segments[pcnt].x2 * options.scale}\" y2=\"${\n              hsmp.segments[pcnt].y2 * options.scale\n            }\" stroke-width=\"${options.qcpr * 0.2}\" stroke=\"cyan\" />`;\n            str += `<line x1=\"${hsmp.segments[pcnt].x2 * options.scale}\" y1=\"${\n              hsmp.segments[pcnt].y2 * options.scale\n            }\" x2=\"${hsmp.segments[pcnt].x3 * options.scale}\" y2=\"${\n              hsmp.segments[pcnt].y3 * options.scale\n            }\" stroke-width=\"${options.qcpr * 0.2}\" stroke=\"cyan\" />`;\n          }\n          if (!hsmp.segments[pcnt].hasOwnProperty('x3') && options.lcpr) {\n            str += `<circle cx=\"${hsmp.segments[pcnt].x2 * options.scale}\" cy=\"${\n              hsmp.segments[pcnt].y2 * options.scale\n            }\" r=\"${options.lcpr}\" fill=\"white\" stroke-width=\"${\n              options.lcpr * 0.2\n            }\" stroke=\"black\" />`;\n          }\n        }\n      }\n    }\n\n    return str;\n  }\n\n  getsvgstring(tracedata, options) {\n    options = this.checkoptions(options);\n    const w = tracedata.width * options.scale;\n    const h = tracedata.height * options.scale;\n\n    let svgstr = `<svg ${\n      options.viewbox ? `viewBox=\"0 0 ${w} ${h}\" ` : `width=\"${w}\" height=\"${h}\" `\n    }version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" desc=\"Created with imagetracer.js version ${\n      this.versionnumber\n    }\" >`;\n    for (let lcnt = 0; lcnt < tracedata.layers.length; lcnt += 1) {\n      for (let pcnt = 0; pcnt < tracedata.layers[lcnt].length; pcnt += 1) {\n        if (!tracedata.layers[lcnt][pcnt].isholepath) {\n          svgstr += this.svgpathstring(tracedata, lcnt, pcnt, options);\n        }\n      }\n    }\n    svgstr += '</svg>';\n\n    return svgstr;\n  }\n\n  compareNumbers(a, b) {\n    return a - b;\n  }\n\n  torgbastr(c) {\n    return `rgba(${c.r},${c.g},${c.b},${c.a})`;\n  }\n\n  tosvgcolorstr(c, options) {\n    return `fill=\"rgb(${c.r},${c.g},${c.b})\" stroke=\"rgb(${c.r},${c.g},${c.b})\" stroke-width=\"${\n      options.strokewidth\n    }\" opacity=\"${c.a / 255.0}\" `;\n  }\n\n  appendSVGString(svgstr, parentid) {\n    let div;\n    if (parentid) {\n      div = document.getElementById(parentid);\n      if (!div) {\n        div = document.createElement('div');\n        div.id = parentid;\n        document.body.appendChild(div);\n      }\n    } else {\n      div = document.createElement('div');\n      document.body.appendChild(div);\n    }\n    div.innerHTML += svgstr;\n  }\n\n  blur(imgd, radius, delta) {\n    let i, j, k, d, idx, racc, gacc, bacc, aacc, wacc;\n    const imgd2 = { width: imgd.width, height: imgd.height, data: [] };\n    radius = Math.floor(radius);\n    if (radius < 1) {\n      return imgd;\n    }\n    if (radius > 5) {\n      radius = 5;\n    }\n    delta = Math.abs(delta);\n    if (delta > 1024) {\n      delta = 1024;\n    }\n    const thisgk = this.gks[radius - 1];\n    for (j = 0; j < imgd.height; j++) {\n      for (i = 0; i < imgd.width; i++) {\n        racc = 0;\n        gacc = 0;\n        bacc = 0;\n        aacc = 0;\n        wacc = 0;\n\n        for (k = -radius; k < radius + 1; k++) {\n          if (i + k > 0 && i + k < imgd.width) {\n            idx = (j * imgd.width + i + k) * 4;\n            racc += imgd.data[idx] * thisgk[k + radius];\n            gacc += imgd.data[idx + 1] * thisgk[k + radius];\n            bacc += imgd.data[idx + 2] * thisgk[k + radius];\n            aacc += imgd.data[idx + 3] * thisgk[k + radius];\n            wacc += thisgk[k + radius];\n          }\n        }\n\n        idx = (j * imgd.width + i) * 4;\n        imgd2.data[idx] = Math.floor(racc / wacc);\n        imgd2.data[idx + 1] = Math.floor(gacc / wacc);\n        imgd2.data[idx + 2] = Math.floor(bacc / wacc);\n        imgd2.data[idx + 3] = Math.floor(aacc / wacc);\n      }\n    }\n    const himgd = new Uint8ClampedArray(imgd2.data);\n    for (j = 0; j < imgd.height; j++) {\n      for (i = 0; i < imgd.width; i++) {\n        racc = 0;\n        gacc = 0;\n        bacc = 0;\n        aacc = 0;\n        wacc = 0;\n\n        for (k = -radius; k < radius + 1; k++) {\n          if (j + k > 0 && j + k < imgd.height) {\n            idx = ((j + k) * imgd.width + i) * 4;\n            racc += himgd[idx] * thisgk[k + radius];\n            gacc += himgd[idx + 1] * thisgk[k + radius];\n            bacc += himgd[idx + 2] * thisgk[k + radius];\n            aacc += himgd[idx + 3] * thisgk[k + radius];\n            wacc += thisgk[k + radius];\n          }\n        }\n\n        idx = (j * imgd.width + i) * 4;\n        imgd2.data[idx] = Math.floor(racc / wacc);\n        imgd2.data[idx + 1] = Math.floor(gacc / wacc);\n        imgd2.data[idx + 2] = Math.floor(bacc / wacc);\n        imgd2.data[idx + 3] = Math.floor(aacc / wacc);\n      }\n    }\n    for (j = 0; j < imgd.height; j++) {\n      for (i = 0; i < imgd.width; i++) {\n        idx = (j * imgd.width + i) * 4;\n\n        d =\n          Math.abs(imgd2.data[idx] - imgd.data[idx]) +\n          Math.abs(imgd2.data[idx + 1] - imgd.data[idx + 1]) +\n          Math.abs(imgd2.data[idx + 2] - imgd.data[idx + 2]) +\n          Math.abs(imgd2.data[idx + 3] - imgd.data[idx + 3]);\n\n        if (d > delta) {\n          imgd2.data[idx] = imgd.data[idx];\n          imgd2.data[idx + 1] = imgd.data[idx + 1];\n          imgd2.data[idx + 2] = imgd.data[idx + 2];\n          imgd2.data[idx + 3] = imgd.data[idx + 3];\n        }\n      }\n    }\n\n    return imgd2;\n  }\n\n  loadImage(url, callback, options) {\n    const img = new Image();\n    if (options && options.corsenabled) {\n      img.crossOrigin = 'Anonymous';\n    }\n    img.src = url;\n    img.onload = function () {\n      const canvas = document.createElement('canvas');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      const context = canvas.getContext('2d');\n      context.drawImage(img, 0, 0);\n      callback(canvas);\n    };\n  }\n\n  getImgdata(canvas) {\n    const context = canvas.getContext('2d');\n\n    return context.getImageData(0, 0, canvas.width, canvas.height);\n  }\n\n  drawLayers(layers, palette, scale, parentid) {\n    scale = scale || 1;\n    let w, h, i, j, k;\n    let div;\n    if (parentid) {\n      div = document.getElementById(parentid);\n      if (!div) {\n        div = document.createElement('div');\n        div.id = parentid;\n        document.body.appendChild(div);\n      }\n    } else {\n      div = document.createElement('div');\n      document.body.appendChild(div);\n    }\n    for (k in layers) {\n      if (!layers.hasOwnProperty(k)) {\n        continue;\n      }\n\n      w = layers[k][0].length;\n      h = layers[k].length;\n\n      const canvas = document.createElement('canvas');\n      canvas.width = w * scale;\n      canvas.height = h * scale;\n      const context = canvas.getContext('2d');\n\n      for (j = 0; j < h; j += 1) {\n        for (i = 0; i < w; i += 1) {\n          context.fillStyle = this.torgbastr(palette[layers[k][j][i] % palette.length]);\n          context.fillRect(i * scale, j * scale, scale, scale);\n        }\n      }\n\n      div.appendChild(canvas);\n    }\n  }\n}\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Selection modification helper\n */\n\nimport { extend } from 'tui-code-snippet';\n\n/**\n * Cached selection's info\n * @type {Array}\n * @private\n */\nlet cachedUndoDataForChangeDimension = null;\n\n/**\n * Set cached undo data\n * @param {Array} undoData - selection object\n * @private\n */\nexport function setCachedUndoDataForDimension(undoData) {\n  cachedUndoDataForChangeDimension = undoData;\n}\n\n/**\n * Get cached undo data\n * @returns {Object} cached undo data\n * @private\n */\nexport function getCachedUndoDataForDimension() {\n  return cachedUndoDataForChangeDimension;\n}\n\n/**\n * Make undo data\n * @param {fabric.Object} obj - selection object\n * @param {Function} undoDatumMaker - make undo datum\n * @returns {Array} undoData\n * @private\n */\nexport function makeSelectionUndoData(obj, undoDatumMaker) {\n  let undoData;\n\n  if (obj.type === 'activeSelection') {\n    undoData = obj.getObjects().map((item) => {\n      const { angle, left, top, scaleX, scaleY, width, height } = item;\n\n      obj.realizeTransform(item);\n      const result = undoDatumMaker(item);\n\n      item.set({\n        angle,\n        left,\n        top,\n        width,\n        height,\n        scaleX,\n        scaleY,\n      });\n\n      return result;\n    });\n  } else {\n    undoData = [undoDatumMaker(obj)];\n  }\n\n  return undoData;\n}\n\n/**\n * Make undo datum\n * @param {number} id - object id\n * @param {fabric.Object} obj - selection object\n * @param {boolean} isSelection - whether or not object is selection\n * @returns {Object} undo datum\n * @private\n */\nexport function makeSelectionUndoDatum(id, obj, isSelection) {\n  return isSelection\n    ? {\n        id,\n        width: obj.width,\n        height: obj.height,\n        top: obj.top,\n        left: obj.left,\n        angle: obj.angle,\n        scaleX: obj.scaleX,\n        scaleY: obj.scaleY,\n      }\n    : extend({ id }, obj);\n}\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Shape resize helper\n */\nimport { forEach, map, extend } from 'tui-code-snippet';\nimport resizeHelper from '@/helper/shapeResizeHelper';\nimport { capitalizeString, flipObject, setCustomProperty, getCustomProperty } from '@/util';\n\nconst FILTER_OPTION_MAP = {\n  pixelate: 'blocksize',\n  blur: 'blur',\n};\nconst POSITION_DIMENSION_MAP = {\n  x: 'width',\n  y: 'height',\n};\n\nconst FILTER_NAME_VALUE_MAP = flipObject(FILTER_OPTION_MAP);\n\n/**\n * Cached canvas image element for fill image\n * @type {boolean}\n * @private\n */\nlet cachedCanvasImageElement = null;\n\n/**\n * Get background image of fill\n * @param {fabric.Object} shapeObj - Shape object\n * @returns {fabric.Image}\n * @private\n */\nexport function getFillImageFromShape(shapeObj) {\n  const { patternSourceCanvas } = getCustomProperty(shapeObj, 'patternSourceCanvas');\n  const [fillImage] = patternSourceCanvas.getObjects();\n\n  return fillImage;\n}\n\n/**\n * Reset the image position in the filter type fill area.\n * @param {fabric.Object} shapeObj - Shape object\n * @private\n */\nexport function rePositionFilterTypeFillImage(shapeObj) {\n  const { angle, flipX, flipY } = shapeObj;\n  const fillImage = getFillImageFromShape(shapeObj);\n  const rotatedShapeCornerDimension = getRotatedDimension(shapeObj);\n  const { right, bottom } = rotatedShapeCornerDimension;\n  let { width, height } = rotatedShapeCornerDimension;\n  const diffLeft = (width - shapeObj.width) / 2;\n  const diffTop = (height - shapeObj.height) / 2;\n  const cropX = shapeObj.left - shapeObj.width / 2 - diffLeft;\n  const cropY = shapeObj.top - shapeObj.height / 2 - diffTop;\n  let left = width / 2 - diffLeft;\n  let top = height / 2 - diffTop;\n  const fillImageMaxSize = Math.max(width, height) + Math.max(diffLeft, diffTop);\n\n  [left, top, width, height] = calculateFillImageDimensionOutsideCanvas({\n    shapeObj,\n    left,\n    top,\n    width,\n    height,\n    cropX,\n    cropY,\n    flipX,\n    flipY,\n    right,\n    bottom,\n  });\n\n  fillImage.set({\n    angle: flipX === flipY ? -angle : angle,\n    left,\n    top,\n    width,\n    height,\n    cropX,\n    cropY,\n    flipX,\n    flipY,\n  });\n\n  setCustomProperty(fillImage, { fillImageMaxSize });\n}\n\n/**\n * Make filter option from fabric image\n * @param {fabric.Image} imageObject - fabric image object\n * @returns {object}\n */\nexport function makeFilterOptionFromFabricImage(imageObject) {\n  return map(imageObject.filters, (filter) => {\n    const [key] = Object.keys(filter);\n\n    return {\n      [FILTER_NAME_VALUE_MAP[key]]: filter[key],\n    };\n  });\n}\n\n/**\n * Calculate fill image position and size for out of Canvas\n * @param {Object} options - options for position dimension calculate\n *   @param {fabric.Object} shapeObj - shape object\n *   @param {number} left - original left position\n *   @param {number} top - original top position\n *   @param {number} width - image width\n *   @param {number} height - image height\n *   @param {number} cropX - image cropX\n *   @param {number} cropY - image cropY\n *   @param {boolean} flipX - shape flipX\n *   @param {boolean} flipY - shape flipY\n * @returns {Object}\n */\nfunction calculateFillImageDimensionOutsideCanvas({\n  shapeObj,\n  left,\n  top,\n  width,\n  height,\n  cropX,\n  cropY,\n  flipX,\n  flipY,\n  right,\n  bottom,\n}) {\n  const overflowAreaPositionFixer = (type, outDistance, imageLeft, imageTop) =>\n    calculateDistanceOverflowPart({\n      type,\n      outDistance,\n      shapeObj,\n      flipX,\n      flipY,\n      left: imageLeft,\n      top: imageTop,\n    });\n  const [originalWidth, originalHeight] = [width, height];\n\n  [left, top, width, height] = calculateDimensionLeftTopEdge(overflowAreaPositionFixer, {\n    left,\n    top,\n    width,\n    height,\n    cropX,\n    cropY,\n  });\n\n  [left, top, width, height] = calculateDimensionRightBottomEdge(overflowAreaPositionFixer, {\n    left,\n    top,\n    insideCanvasRealImageWidth: width,\n    insideCanvasRealImageHeight: height,\n    right,\n    bottom,\n    cropX,\n    cropY,\n    originalWidth,\n    originalHeight,\n  });\n\n  return [left, top, width, height];\n}\n\n/**\n * Calculate fill image position and size for for right bottom edge\n * @param {Function} overflowAreaPositionFixer - position fixer\n * @param {Object} options - options for position dimension calculate\n *   @param {fabric.Object} shapeObj - shape object\n *   @param {number} left - original left position\n *   @param {number} top - original top position\n *   @param {number} width - image width\n *   @param {number} height - image height\n *   @param {number} right - image right\n *   @param {number} bottom - image bottom\n *   @param {number} cropX - image cropX\n *   @param {number} cropY - image cropY\n *   @param {boolean} originalWidth - image original width\n *   @param {boolean} originalHeight - image original height\n * @returns {Object}\n */\nfunction calculateDimensionRightBottomEdge(\n  overflowAreaPositionFixer,\n  {\n    left,\n    top,\n    insideCanvasRealImageWidth,\n    insideCanvasRealImageHeight,\n    right,\n    bottom,\n    cropX,\n    cropY,\n    originalWidth,\n    originalHeight,\n  }\n) {\n  let [width, height] = [insideCanvasRealImageWidth, insideCanvasRealImageHeight];\n  const { width: canvasWidth, height: canvasHeight } = cachedCanvasImageElement;\n\n  if (right > canvasWidth && cropX > 0) {\n    width = originalWidth - Math.abs(right - canvasWidth);\n  }\n  if (bottom > canvasHeight && cropY > 0) {\n    height = originalHeight - Math.abs(bottom - canvasHeight);\n  }\n\n  const diff = {\n    x: (insideCanvasRealImageWidth - width) / 2,\n    y: (insideCanvasRealImageHeight - height) / 2,\n  };\n\n  forEach(['x', 'y'], (type) => {\n    const cropDistance2 = diff[type];\n    if (cropDistance2 > 0) {\n      [left, top] = overflowAreaPositionFixer(type, cropDistance2, left, top);\n    }\n  });\n\n  return [left, top, width, height];\n}\n\n/**\n * Calculate fill image position and size for for left top\n * @param {Function} overflowAreaPositionFixer - position fixer\n * @param {Object} options - options for position dimension calculate\n *   @param {fabric.Object} shapeObj - shape object\n *   @param {number} left - original left position\n *   @param {number} top - original top position\n *   @param {number} width - image width\n *   @param {number} height - image height\n *   @param {number} cropX - image cropX\n *   @param {number} cropY - image cropY\n * @returns {Object}\n */\nfunction calculateDimensionLeftTopEdge(\n  overflowAreaPositionFixer,\n  { left, top, width, height, cropX, cropY }\n) {\n  const dimension = {\n    width,\n    height,\n  };\n\n  forEach(['x', 'y'], (type) => {\n    const cropDistance = type === 'x' ? cropX : cropY;\n    const compareSize = dimension[POSITION_DIMENSION_MAP[type]];\n    const standardSize = cachedCanvasImageElement[POSITION_DIMENSION_MAP[type]];\n\n    if (compareSize > standardSize) {\n      const outDistance = (compareSize - standardSize) / 2;\n\n      dimension[POSITION_DIMENSION_MAP[type]] = standardSize;\n      [left, top] = overflowAreaPositionFixer(type, outDistance, left, top);\n    }\n    if (cropDistance < 0) {\n      [left, top] = overflowAreaPositionFixer(type, cropDistance, left, top);\n    }\n  });\n\n  return [left, top, dimension.width, dimension.height];\n}\n\n/**\n * Make fill property of dynamic pattern type\n * @param {fabric.Image} canvasImage - canvas background image\n * @param {Array} filterOption - filter option\n * @param {fabric.StaticCanvas} patternSourceCanvas - fabric static canvas\n * @returns {Object}\n */\nexport function makeFillPatternForFilter(canvasImage, filterOption, patternSourceCanvas) {\n  const copiedCanvasElement = getCachedCanvasImageElement(canvasImage);\n  const fillImage = makeFillImage(copiedCanvasElement, canvasImage.angle, filterOption);\n  patternSourceCanvas.add(fillImage);\n\n  const fabricProperty = {\n    fill: new fabric.Pattern({\n      source: patternSourceCanvas.getElement(),\n      repeat: 'no-repeat',\n    }),\n  };\n\n  setCustomProperty(fabricProperty, { patternSourceCanvas });\n\n  return fabricProperty;\n}\n\n/**\n * Reset fill pattern canvas\n * @param {fabric.StaticCanvas} patternSourceCanvas - fabric static canvas\n */\nexport function resetFillPatternCanvas(patternSourceCanvas) {\n  const [innerImage] = patternSourceCanvas.getObjects();\n  let { fillImageMaxSize } = getCustomProperty(innerImage, 'fillImageMaxSize');\n  fillImageMaxSize = Math.max(1, fillImageMaxSize);\n\n  patternSourceCanvas.setDimensions({\n    width: fillImageMaxSize,\n    height: fillImageMaxSize,\n  });\n  patternSourceCanvas.renderAll();\n}\n\n/**\n * Remake filter pattern image source\n * @param {fabric.Object} shapeObj - Shape object\n * @param {fabric.Image} canvasImage - canvas background image\n */\nexport function reMakePatternImageSource(shapeObj, canvasImage) {\n  const { patternSourceCanvas } = getCustomProperty(shapeObj, 'patternSourceCanvas');\n  const [fillImage] = patternSourceCanvas.getObjects();\n  const filterOption = makeFilterOptionFromFabricImage(fillImage);\n\n  patternSourceCanvas.remove(fillImage);\n\n  const copiedCanvasElement = getCachedCanvasImageElement(canvasImage, true);\n  const newFillImage = makeFillImage(copiedCanvasElement, canvasImage.angle, filterOption);\n\n  patternSourceCanvas.add(newFillImage);\n}\n\n/**\n * Calculate a point line outside the canvas.\n * @param {fabric.Image} canvasImage - canvas background image\n * @param {boolean} reset - default is false\n * @returns {HTMLImageElement}\n */\nexport function getCachedCanvasImageElement(canvasImage, reset = false) {\n  if (!cachedCanvasImageElement || reset) {\n    cachedCanvasImageElement = canvasImage.toCanvasElement();\n  }\n\n  return cachedCanvasImageElement;\n}\n\n/**\n * Calculate fill image position for out of Canvas\n * @param {string} type - 'x' or 'y'\n * @param {fabric.Object} shapeObj - shape object\n * @param {number} outDistance - distance away\n * @param {number} left - original left position\n * @param {number} top - original top position\n * @returns {Array}\n */\nfunction calculateDistanceOverflowPart({ type, shapeObj, outDistance, left, top, flipX, flipY }) {\n  const shapePointNavigation = getShapeEdgePoint(shapeObj);\n  const shapeNeighborPointNavigation = [\n    [1, 2],\n    [0, 3],\n    [0, 3],\n    [1, 2],\n  ];\n  const linePointsOutsideCanvas = calculateLinePointsOutsideCanvas(\n    type,\n    shapePointNavigation,\n    shapeNeighborPointNavigation\n  );\n  const reatAngles = calculateLineAngleOfOutsideCanvas(\n    type,\n    shapePointNavigation,\n    linePointsOutsideCanvas\n  );\n  const { startPointIndex } = linePointsOutsideCanvas;\n  const diffPosition = getReversePositionForFlip({\n    outDistance,\n    startPointIndex,\n    flipX,\n    flipY,\n    reatAngles,\n  });\n\n  return [left + diffPosition.left, top + diffPosition.top];\n}\n\n/**\n * Calculate fill image position for out of Canvas\n * @param {number} outDistance - distance away\n * @param {boolean} flipX - flip x statux\n * @param {boolean} flipY - flip y statux\n * @param {Array} reatAngles - Line angle of the rectangle vertex.\n * @returns {Object} diffPosition\n */\nfunction getReversePositionForFlip({ outDistance, startPointIndex, flipX, flipY, reatAngles }) {\n  const rotationChangePoint1 = outDistance * Math.cos((reatAngles[0] * Math.PI) / 180);\n  const rotationChangePoint2 = outDistance * Math.cos((reatAngles[1] * Math.PI) / 180);\n  const isForward = startPointIndex === 2 || startPointIndex === 3;\n  const diffPosition = {\n    top: isForward ? rotationChangePoint1 : rotationChangePoint2,\n    left: isForward ? rotationChangePoint2 : rotationChangePoint1,\n  };\n\n  if (isReverseLeftPositionForFlip(startPointIndex, flipX, flipY)) {\n    diffPosition.left = diffPosition.left * -1;\n  }\n  if (isReverseTopPositionForFlip(startPointIndex, flipX, flipY)) {\n    diffPosition.top = diffPosition.top * -1;\n  }\n\n  return diffPosition;\n}\n\n/**\n * Calculate a point line outside the canvas.\n * @param {string} type - 'x' or 'y'\n * @param {Array} shapePointNavigation - shape edge positions\n *   @param {Object} shapePointNavigation.lefttop - left top position\n *   @param {Object} shapePointNavigation.righttop - right top position\n *   @param {Object} shapePointNavigation.leftbottom - lefttop position\n *   @param {Object} shapePointNavigation.rightbottom - rightbottom position\n * @param {Array} shapeNeighborPointNavigation - Array to find adjacent edges.\n * @returns {Object}\n */\nfunction calculateLinePointsOutsideCanvas(\n  type,\n  shapePointNavigation,\n  shapeNeighborPointNavigation\n) {\n  let minimumPoint = 0;\n  let minimumPointIndex = 0;\n  forEach(shapePointNavigation, (point, index) => {\n    if (point[type] < minimumPoint) {\n      minimumPoint = point[type];\n      minimumPointIndex = index;\n    }\n  });\n\n  const [endPointIndex1, endPointIndex2] = shapeNeighborPointNavigation[minimumPointIndex];\n\n  return {\n    startPointIndex: minimumPointIndex,\n    endPointIndex1,\n    endPointIndex2,\n  };\n}\n\n/**\n * Calculate a point line outside the canvas.\n * @param {string} type - 'x' or 'y'\n * @param {Array} shapePointNavigation - shape edge positions\n *   @param {object} shapePointNavigation.lefttop - left top position\n *   @param {object} shapePointNavigation.righttop - right top position\n *   @param {object} shapePointNavigation.leftbottom - lefttop position\n *   @param {object} shapePointNavigation.rightbottom - rightbottom position\n * @param {Object} linePointsOfOneVertexIndex - Line point of one vertex\n *   @param {Object} linePointsOfOneVertexIndex.startPoint - start point index\n *   @param {Object} linePointsOfOneVertexIndex.endPointIndex1 - end point index\n *   @param {Object} linePointsOfOneVertexIndex.endPointIndex2 - end point index\n * @returns {Object}\n */\nfunction calculateLineAngleOfOutsideCanvas(type, shapePointNavigation, linePointsOfOneVertexIndex) {\n  const { startPointIndex, endPointIndex1, endPointIndex2 } = linePointsOfOneVertexIndex;\n  const horizontalVerticalAngle = type === 'x' ? 180 : 270;\n\n  return map([endPointIndex1, endPointIndex2], (pointIndex) => {\n    const startPoint = shapePointNavigation[startPointIndex];\n    const endPoint = shapePointNavigation[pointIndex];\n    const diffY = startPoint.y - endPoint.y;\n    const diffX = startPoint.x - endPoint.x;\n\n    return (Math.atan2(diffY, diffX) * 180) / Math.PI - horizontalVerticalAngle;\n  });\n}\n\n/* eslint-disable complexity */\n/**\n * Calculate a point line outside the canvas for horizontal.\n * @param {number} startPointIndex - start point index\n * @param {boolean} flipX - flip x statux\n * @param {boolean} flipY - flip y statux\n * @returns {boolean} flipY - flip y statux\n */\nfunction isReverseLeftPositionForFlip(startPointIndex, flipX, flipY) {\n  return (\n    (((!flipX && flipY) || (!flipX && !flipY)) && startPointIndex === 0) ||\n    (((flipX && flipY) || (flipX && !flipY)) && startPointIndex === 1) ||\n    (((!flipX && !flipY) || (!flipX && flipY)) && startPointIndex === 2) ||\n    (((flipX && !flipY) || (flipX && flipY)) && startPointIndex === 3)\n  );\n}\n/* eslint-enable complexity */\n\n/* eslint-disable complexity */\n/**\n * Calculate a point line outside the canvas for vertical.\n * @param {number} startPointIndex - start point index\n * @param {boolean} flipX - flip x statux\n * @param {boolean} flipY - flip y statux\n * @returns {boolean} flipY - flip y statux\n */\nfunction isReverseTopPositionForFlip(startPointIndex, flipX, flipY) {\n  return (\n    (((flipX && !flipY) || (!flipX && !flipY)) && startPointIndex === 0) ||\n    (((!flipX && !flipY) || (flipX && !flipY)) && startPointIndex === 1) ||\n    (((flipX && flipY) || (!flipX && flipY)) && startPointIndex === 2) ||\n    (((!flipX && flipY) || (flipX && flipY)) && startPointIndex === 3)\n  );\n}\n/* eslint-enable complexity */\n\n/**\n * Shape edge points\n * @param {fabric.Object} shapeObj - Selected shape object on canvas\n * @returns {Array} shapeEdgePoint - shape edge positions\n */\nfunction getShapeEdgePoint(shapeObj) {\n  return [\n    shapeObj.getPointByOrigin('left', 'top'),\n    shapeObj.getPointByOrigin('right', 'top'),\n    shapeObj.getPointByOrigin('left', 'bottom'),\n    shapeObj.getPointByOrigin('right', 'bottom'),\n  ];\n}\n\n/**\n * Rotated shape dimension\n * @param {fabric.Object} shapeObj - Shape object\n * @returns {Object} Rotated shape dimension\n */\nfunction getRotatedDimension(shapeObj) {\n  const [\n    { x: ax, y: ay },\n    { x: bx, y: by },\n    { x: cx, y: cy },\n    { x: dx, y: dy },\n  ] = getShapeEdgePoint(shapeObj);\n\n  const left = Math.min(ax, bx, cx, dx);\n  const top = Math.min(ay, by, cy, dy);\n  const right = Math.max(ax, bx, cx, dx);\n  const bottom = Math.max(ay, by, cy, dy);\n\n  return {\n    left,\n    top,\n    right,\n    bottom,\n    width: right - left,\n    height: bottom - top,\n  };\n}\n\n/**\n * Make fill image\n * @param {HTMLImageElement} copiedCanvasElement - html image element\n * @param {number} currentCanvasImageAngle - current canvas angle\n * @param {Array} filterOption - filter option\n * @returns {fabric.Image}\n * @private\n */\nfunction makeFillImage(copiedCanvasElement, currentCanvasImageAngle, filterOption) {\n  const fillImage = new fabric.Image(copiedCanvasElement);\n\n  forEach(extend({}, ...filterOption), (value, key) => {\n    const fabricFilterClassName = capitalizeString(key);\n    const filter = new fabric.Image.filters[fabricFilterClassName]({\n      [FILTER_OPTION_MAP[key]]: value,\n    });\n    fillImage.filters.push(filter);\n  });\n  fillImage.applyFilters();\n\n  setCustomProperty(fillImage, {\n    originalAngle: currentCanvasImageAngle,\n    fillImageMaxSize: Math.max(fillImage.width, fillImage.height),\n  });\n  resizeHelper.adjustOriginToCenter(fillImage);\n\n  return fillImage;\n}\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Shape resize helper\n */\nconst DIVISOR = {\n  rect: 1,\n  circle: 2,\n  triangle: 1,\n};\nconst DIMENSION_KEYS = {\n  rect: {\n    w: 'width',\n    h: 'height',\n  },\n  circle: {\n    w: 'rx',\n    h: 'ry',\n  },\n  triangle: {\n    w: 'width',\n    h: 'height',\n  },\n};\n\n/**\n * Set the start point value to the shape object\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction setStartPoint(shape) {\n  const { originX, originY } = shape;\n  const originKey = originX.substring(0, 1) + originY.substring(0, 1);\n\n  shape.startPoint = shape.origins[originKey];\n}\n\n/**\n * Get the positions of ratated origin by the pointer value\n * @param {{x: number, y: number}} origin - Origin value\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {number} angle - Rotating angle\n * @returns {Object} Postions of origin\n * @ignore\n */\nfunction getPositionsOfRotatedOrigin(origin, pointer, angle) {\n  const sx = origin.x;\n  const sy = origin.y;\n  const px = pointer.x;\n  const py = pointer.y;\n  const r = (angle * Math.PI) / 180;\n  const rx = (px - sx) * Math.cos(r) - (py - sy) * Math.sin(r) + sx;\n  const ry = (px - sx) * Math.sin(r) + (py - sy) * Math.cos(r) + sy;\n\n  return {\n    originX: sx > rx ? 'right' : 'left',\n    originY: sy > ry ? 'bottom' : 'top',\n  };\n}\n\n/**\n * Whether the shape has the center origin or not\n * @param {fabric.Object} shape - Shape object\n * @returns {boolean} State\n * @ignore\n */\nfunction hasCenterOrigin(shape) {\n  return shape.originX === 'center' && shape.originY === 'center';\n}\n\n/**\n * Adjust the origin of shape by the start point\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustOriginByStartPoint(pointer, shape) {\n  const centerPoint = shape.getPointByOrigin('center', 'center');\n  const angle = -shape.angle;\n  const originPositions = getPositionsOfRotatedOrigin(centerPoint, pointer, angle);\n  const { originX, originY } = originPositions;\n  const origin = shape.getPointByOrigin(originX, originY);\n  const left = shape.left - (centerPoint.x - origin.x);\n  const top = shape.top - (centerPoint.y - origin.y);\n\n  shape.set({\n    originX,\n    originY,\n    left,\n    top,\n  });\n\n  shape.setCoords();\n}\n\n/**\n * Adjust the origin of shape by the moving pointer value\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustOriginByMovingPointer(pointer, shape) {\n  const origin = shape.startPoint;\n  const angle = -shape.angle;\n  const originPositions = getPositionsOfRotatedOrigin(origin, pointer, angle);\n  const { originX, originY } = originPositions;\n\n  shape.setPositionByOrigin(origin, originX, originY);\n  shape.setCoords();\n}\n\n/**\n * Adjust the dimension of shape on firing scaling event\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustDimensionOnScaling(shape) {\n  const { type, scaleX, scaleY } = shape;\n  const dimensionKeys = DIMENSION_KEYS[type];\n  let width = shape[dimensionKeys.w] * scaleX;\n  let height = shape[dimensionKeys.h] * scaleY;\n\n  if (shape.isRegular) {\n    const maxScale = Math.max(scaleX, scaleY);\n\n    width = shape[dimensionKeys.w] * maxScale;\n    height = shape[dimensionKeys.h] * maxScale;\n  }\n\n  const options = {\n    hasControls: false,\n    hasBorders: false,\n    scaleX: 1,\n    scaleY: 1,\n  };\n\n  options[dimensionKeys.w] = width;\n  options[dimensionKeys.h] = height;\n\n  shape.set(options);\n}\n\n/**\n * Adjust the dimension of shape on firing mouse move event\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustDimensionOnMouseMove(pointer, shape) {\n  const { type, strokeWidth, startPoint: origin } = shape;\n  const divisor = DIVISOR[type];\n  const dimensionKeys = DIMENSION_KEYS[type];\n  const isTriangle = !!(shape.type === 'triangle');\n  const options = {};\n  let width = Math.abs(origin.x - pointer.x) / divisor;\n  let height = Math.abs(origin.y - pointer.y) / divisor;\n\n  if (width > strokeWidth) {\n    width -= strokeWidth / divisor;\n  }\n\n  if (height > strokeWidth) {\n    height -= strokeWidth / divisor;\n  }\n\n  if (shape.isRegular) {\n    width = height = Math.max(width, height);\n\n    if (isTriangle) {\n      height = (Math.sqrt(3) / 2) * width;\n    }\n  }\n\n  options[dimensionKeys.w] = width;\n  options[dimensionKeys.h] = height;\n\n  shape.set(options);\n}\n\nmodule.exports = {\n  /**\n   * Set each origin value to shape\n   * @param {fabric.Object} shape - Shape object\n   */\n  setOrigins(shape) {\n    const leftTopPoint = shape.getPointByOrigin('left', 'top');\n    const rightTopPoint = shape.getPointByOrigin('right', 'top');\n    const rightBottomPoint = shape.getPointByOrigin('right', 'bottom');\n    const leftBottomPoint = shape.getPointByOrigin('left', 'bottom');\n\n    shape.origins = {\n      lt: leftTopPoint,\n      rt: rightTopPoint,\n      rb: rightBottomPoint,\n      lb: leftBottomPoint,\n    };\n  },\n\n  /**\n   * Resize the shape\n   * @param {fabric.Object} shape - Shape object\n   * @param {{x: number, y: number}} pointer - Mouse pointer values on canvas\n   * @param {boolean} isScaling - Whether the resizing action is scaling or not\n   */\n  resize(shape, pointer, isScaling) {\n    if (hasCenterOrigin(shape)) {\n      adjustOriginByStartPoint(pointer, shape);\n      setStartPoint(shape);\n    }\n\n    if (isScaling) {\n      adjustDimensionOnScaling(shape, pointer);\n    } else {\n      adjustDimensionOnMouseMove(pointer, shape);\n    }\n\n    adjustOriginByMovingPointer(pointer, shape);\n  },\n\n  /**\n   * Adjust the origin position of shape to center\n   * @param {fabric.Object} shape - Shape object\n   */\n  adjustOriginToCenter(shape) {\n    const centerPoint = shape.getPointByOrigin('center', 'center');\n    const { originX, originY } = shape;\n    const origin = shape.getPointByOrigin(originX, originY);\n    const left = shape.left + (centerPoint.x - origin.x);\n    const top = shape.top + (centerPoint.y - origin.y);\n\n    shape.set({\n      hasControls: true,\n      hasBorders: true,\n      originX: 'center',\n      originY: 'center',\n      left,\n      top,\n    });\n\n    shape.setCoords(); // For left, top properties\n  },\n};\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Image-editor application class\n */\nimport snippet from 'tui-code-snippet';\nimport Invoker from '@/invoker';\nimport UI from '@/ui';\nimport action from '@/action';\nimport commandFactory from '@/factory/command';\nimport Graphics from '@/graphics';\nimport { makeSelectionUndoData, makeSelectionUndoDatum } from '@/helper/selectionModifyHelper';\nimport { sendHostName, Promise, getObjectType } from '@/util';\nimport {\n  eventNames as events,\n  commandNames as commands,\n  keyCodes,\n  rejectMessages,\n  OBJ_TYPE,\n} from '@/consts';\n\nconst { isUndefined, forEach, CustomEvents } = snippet;\n\nconst {\n  MOUSE_DOWN,\n  OBJECT_MOVED,\n  OBJECT_SCALED,\n  OBJECT_ACTIVATED,\n  OBJECT_ROTATED,\n  OBJECT_ADDED,\n  OBJECT_MODIFIED,\n  ADD_TEXT,\n  ADD_OBJECT,\n  TEXT_EDITING,\n  TEXT_CHANGED,\n  ICON_CREATE_RESIZE,\n  ICON_CREATE_END,\n  SELECTION_CLEARED,\n  SELECTION_CREATED,\n  ADD_OBJECT_AFTER,\n} = events;\n\n/**\n * Image filter result\n * @typedef {object} FilterResult\n * @property {string} type - filter type like 'mask', 'Grayscale' and so on\n * @property {string} action - action type like 'add', 'remove'\n */\n\n/**\n * Flip status\n * @typedef {object} FlipStatus\n * @property {boolean} flipX - x axis\n * @property {boolean} flipY - y axis\n * @property {Number} angle - angle\n */\n/**\n * Rotation status\n * @typedef {Number} RotateStatus\n * @property {Number} angle - angle\n */\n\n/**\n * Old and new Size\n * @typedef {object} SizeChange\n * @property {Number} oldWidth - old width\n * @property {Number} oldHeight - old height\n * @property {Number} newWidth - new width\n * @property {Number} newHeight - new height\n */\n\n/**\n * @typedef {string} ErrorMsg - {string} error message\n */\n\n/**\n * @typedef {object} ObjectProps - graphics object properties\n * @property {number} id - object id\n * @property {string} type - object type\n * @property {string} text - text content\n * @property {(string | number)} left - Left\n * @property {(string | number)} top - Top\n * @property {(string | number)} width - Width\n * @property {(string | number)} height - Height\n * @property {string} fill - Color\n * @property {string} stroke - Stroke\n * @property {(string | number)} strokeWidth - StrokeWidth\n * @property {string} fontFamily - Font type for text\n * @property {number} fontSize - Font Size\n * @property {string} fontStyle - Type of inclination (normal / italic)\n * @property {string} fontWeight - Type of thicker or thinner looking (normal / bold)\n * @property {string} textAlign - Type of text align (left / center / right)\n * @property {string} textDecoration - Type of line (underline / line-through / overline)\n */\n\n/**\n * Shape filter option\n * @typedef {object.<string, number>} ShapeFilterOption\n */\n\n/**\n * Shape filter option\n * @typedef {object} ShapeFillOption - fill option of shape\n * @property {string} type - fill type ('color' or 'filter')\n * @property {Array.<ShapeFillFilterOption>} [filter] - {@link ShapeFilterOption} List.\n *  only applies to filter types\n *  (ex: \\[\\{pixelate: 20\\}, \\{blur: 0.3\\}\\])\n * @property {string} [color] - Shape foreground color (ex: '#fff', 'transparent')\n */\n\n/**\n * Image editor\n * @class\n * @param {string|HTMLElement} wrapper - Wrapper's element or selector\n * @param {Object} [options] - Canvas max width & height of css\n *  @param {number} [options.includeUI] - Use the provided UI\n *    @param {Object} [options.includeUI.loadImage] - Basic editing image\n *      @param {string} options.includeUI.loadImage.path - image path\n *      @param {string} options.includeUI.loadImage.name - image name\n *    @param {Object} [options.includeUI.theme] - Theme object\n *    @param {Array} [options.includeUI.menu] - It can be selected when only specific menu is used, Default values are \\['crop', 'flip', 'rotate', 'draw', 'shape', 'icon', 'text', 'mask', 'filter'\\].\n *    @param {string} [options.includeUI.initMenu] - The first menu to be selected and started.\n *    @param {Object} [options.includeUI.uiSize] - ui size of editor\n *      @param {string} options.includeUI.uiSize.width - width of ui\n *      @param {string} options.includeUI.uiSize.height - height of ui\n *    @param {string} [options.includeUI.menuBarPosition=bottom] - Menu bar position('top', 'bottom', 'left', 'right')\n *  @param {number} options.cssMaxWidth - Canvas css-max-width\n *  @param {number} options.cssMaxHeight - Canvas css-max-height\n *  @param {Object} [options.selectionStyle] - selection style\n *  @param {string} [options.selectionStyle.cornerStyle] - selection corner style\n *  @param {number} [options.selectionStyle.cornerSize] - selection corner size\n *  @param {string} [options.selectionStyle.cornerColor] - selection corner color\n *  @param {string} [options.selectionStyle.cornerStrokeColor] = selection corner stroke color\n *  @param {boolean} [options.selectionStyle.transparentCorners] - selection corner transparent\n *  @param {number} [options.selectionStyle.lineWidth] - selection line width\n *  @param {string} [options.selectionStyle.borderColor] - selection border color\n *  @param {number} [options.selectionStyle.rotatingPointOffset] - selection rotating point length\n *  @param {Boolean} [options.usageStatistics=true] - Let us know the hostname. If you don't want to send the hostname, please set to false.\n * @example\n * var ImageEditor = require('tui-image-editor');\n * var blackTheme = require('./js/theme/black-theme.js');\n * var instance = new ImageEditor(document.querySelector('#tui-image-editor'), {\n *   includeUI: {\n *     loadImage: {\n *       path: 'img/sampleImage.jpg',\n *       name: 'SampleImage'\n *     },\n *     theme: blackTheme, // or whiteTheme\n *     menu: ['shape', 'filter'],\n *     initMenu: 'filter',\n *     uiSize: {\n *         width: '1000px',\n *         height: '700px'\n *     },\n *     menuBarPosition: 'bottom'\n *   },\n *   cssMaxWidth: 700,\n *   cssMaxHeight: 500,\n *   selectionStyle: {\n *     cornerSize: 20,\n *     rotatingPointOffset: 70\n *   }\n * });\n */\nclass ImageEditor {\n  constructor(wrapper, options) {\n    options = snippet.extend(\n      {\n        includeUI: false,\n        usageStatistics: true,\n      },\n      options\n    );\n\n    this.mode = null;\n\n    this.activeObjectId = null;\n\n    /**\n     * UI instance\n     * @type {Ui}\n     */\n    if (options.includeUI) {\n      const UIOption = options.includeUI;\n      UIOption.usageStatistics = options.usageStatistics;\n\n      this.ui = new UI(wrapper, UIOption, this.getActions());\n      options = this.ui.setUiDefaultSelectionStyle(options);\n    }\n\n    /**\n     * Invoker\n     * @type {Invoker}\n     * @private\n     */\n    this._invoker = new Invoker();\n\n    /**\n     * Graphics instance\n     * @type {Graphics}\n     * @private\n     */\n    this._graphics = new Graphics(this.ui ? this.ui.getEditorArea() : wrapper, {\n      cssMaxWidth: options.cssMaxWidth,\n      cssMaxHeight: options.cssMaxHeight,\n    });\n\n    /**\n     * Event handler list\n     * @type {Object}\n     * @private\n     */\n    this._handlers = {\n      keydown: this._onKeyDown.bind(this),\n      mousedown: this._onMouseDown.bind(this),\n      objectActivated: this._onObjectActivated.bind(this),\n      objectMoved: this._onObjectMoved.bind(this),\n      objectScaled: this._onObjectScaled.bind(this),\n      objectRotated: this._onObjectRotated.bind(this),\n      objectAdded: this._onObjectAdded.bind(this),\n      objectModified: this._onObjectModified.bind(this),\n      createdPath: this._onCreatedPath,\n      addText: this._onAddText.bind(this),\n      addObject: this._onAddObject.bind(this),\n      textEditing: this._onTextEditing.bind(this),\n      textChanged: this._onTextChanged.bind(this),\n      iconCreateResize: this._onIconCreateResize.bind(this),\n      iconCreateEnd: this._onIconCreateEnd.bind(this),\n      selectionCleared: this._selectionCleared.bind(this),\n      selectionCreated: this._selectionCreated.bind(this),\n    };\n\n    this._attachInvokerEvents();\n    this._attachGraphicsEvents();\n    this._attachDomEvents();\n    this._setSelectionStyle(options.selectionStyle, {\n      applyCropSelectionStyle: options.applyCropSelectionStyle,\n      applyGroupSelectionStyle: options.applyGroupSelectionStyle,\n    });\n\n    if (options.usageStatistics) {\n      sendHostName();\n    }\n\n    if (this.ui) {\n      this.ui.initCanvas();\n      this.setReAction();\n      this._attachColorPickerInputBoxEvents();\n    }\n    fabric.enableGLFiltering = false;\n  }\n\n  _attachColorPickerInputBoxEvents() {\n    this.ui.on(events.INPUT_BOX_EDITING_STARTED, () => {\n      this.isColorPickerInputBoxEditing = true;\n    });\n    this.ui.on(events.INPUT_BOX_EDITING_STOPPED, () => {\n      this.isColorPickerInputBoxEditing = false;\n    });\n  }\n\n  _detachColorPickerInputBoxEvents() {\n    this.ui.off(events.INPUT_BOX_EDITING_STARTED);\n    this.ui.off(events.INPUT_BOX_EDITING_STOPPED);\n  }\n\n  /**\n   * Set selection style by init option\n   * @param {Object} selectionStyle - Selection styles\n   * @param {Object} applyTargets - Selection apply targets\n   *   @param {boolean} applyCropSelectionStyle - whether apply with crop selection style or not\n   *   @param {boolean} applyGroupSelectionStyle - whether apply with group selection style or not\n   * @private\n   */\n  _setSelectionStyle(selectionStyle, { applyCropSelectionStyle, applyGroupSelectionStyle }) {\n    if (selectionStyle) {\n      this._graphics.setSelectionStyle(selectionStyle);\n    }\n\n    if (applyCropSelectionStyle) {\n      this._graphics.setCropSelectionStyle(selectionStyle);\n    }\n\n    if (applyGroupSelectionStyle) {\n      this.on('selectionCreated', (eventTarget) => {\n        if (eventTarget.type === 'activeSelection') {\n          eventTarget.set(selectionStyle);\n        }\n      });\n    }\n  }\n\n  /**\n   * Attach invoker events\n   * @private\n   */\n  _attachInvokerEvents() {\n    const {\n      UNDO_STACK_CHANGED,\n      REDO_STACK_CHANGED,\n      EXECUTE_COMMAND,\n      AFTER_UNDO,\n      AFTER_REDO,\n      HAND_STARTED,\n      HAND_STOPPED,\n    } = events;\n\n    /**\n     * Undo stack changed event\n     * @event ImageEditor#undoStackChanged\n     * @param {Number} length - undo stack length\n     * @example\n     * imageEditor.on('undoStackChanged', function(length) {\n     *     console.log(length);\n     * });\n     */\n    this._invoker.on(UNDO_STACK_CHANGED, this.fire.bind(this, UNDO_STACK_CHANGED));\n    /**\n     * Redo stack changed event\n     * @event ImageEditor#redoStackChanged\n     * @param {Number} length - redo stack length\n     * @example\n     * imageEditor.on('redoStackChanged', function(length) {\n     *     console.log(length);\n     * });\n     */\n    this._invoker.on(REDO_STACK_CHANGED, this.fire.bind(this, REDO_STACK_CHANGED));\n\n    if (this.ui) {\n      const canvas = this._graphics.getCanvas();\n\n      this._invoker.on(EXECUTE_COMMAND, (command) => this.ui.fire(EXECUTE_COMMAND, command));\n      this._invoker.on(AFTER_UNDO, (command) => this.ui.fire(AFTER_UNDO, command));\n      this._invoker.on(AFTER_REDO, (command) => this.ui.fire(AFTER_REDO, command));\n\n      canvas.on(HAND_STARTED, () => this.ui.fire(HAND_STARTED));\n      canvas.on(HAND_STOPPED, () => this.ui.fire(HAND_STOPPED));\n    }\n  }\n\n  /**\n   * Attach canvas events\n   * @private\n   */\n  _attachGraphicsEvents() {\n    this._graphics.on({\n      [MOUSE_DOWN]: this._handlers.mousedown,\n      [OBJECT_MOVED]: this._handlers.objectMoved,\n      [OBJECT_SCALED]: this._handlers.objectScaled,\n      [OBJECT_ROTATED]: this._handlers.objectRotated,\n      [OBJECT_ACTIVATED]: this._handlers.objectActivated,\n      [OBJECT_ADDED]: this._handlers.objectAdded,\n      [OBJECT_MODIFIED]: this._handlers.objectModified,\n      [ADD_TEXT]: this._handlers.addText,\n      [ADD_OBJECT]: this._handlers.addObject,\n      [TEXT_EDITING]: this._handlers.textEditing,\n      [TEXT_CHANGED]: this._handlers.textChanged,\n      [ICON_CREATE_RESIZE]: this._handlers.iconCreateResize,\n      [ICON_CREATE_END]: this._handlers.iconCreateEnd,\n      [SELECTION_CLEARED]: this._handlers.selectionCleared,\n      [SELECTION_CREATED]: this._handlers.selectionCreated,\n    });\n  }\n\n  /**\n   * Attach dom events\n   * @private\n   */\n  _attachDomEvents() {\n    // ImageEditor supports IE 9 higher\n    document.addEventListener('keydown', this._handlers.keydown);\n  }\n\n  /**\n   * Detach dom events\n   * @private\n   */\n  _detachDomEvents() {\n    // ImageEditor supports IE 9 higher\n    document.removeEventListener('keydown', this._handlers.keydown);\n  }\n\n  /**\n   * Keydown event handler\n   * @param {KeyboardEvent} e - Event object\n   * @private\n   */\n  /* eslint-disable complexity */\n  _onKeyDown(e) {\n    const { ctrlKey, keyCode, metaKey } = e;\n    const isModifierKey = ctrlKey || metaKey;\n\n    if (isModifierKey) {\n      if (keyCode === keyCodes.C) {\n        this._graphics.resetTargetObjectForCopyPaste();\n      } else if (keyCode === keyCodes.V) {\n        this._graphics.pasteObject();\n        this.clearRedoStack();\n      } else if (keyCode === keyCodes.Z) {\n        // There is no error message on shortcut when it's empty\n        this.undo()['catch'](() => {});\n      } else if (keyCode === keyCodes.Y) {\n        // There is no error message on shortcut when it's empty\n        this.redo()['catch'](() => {});\n      }\n    }\n\n    const isDeleteKey = keyCode === keyCodes.BACKSPACE || keyCode === keyCodes.DEL;\n    const isRemoveReady = this._graphics.isReadyRemoveObject();\n\n    if (!this.isColorPickerInputBoxEditing && isRemoveReady && isDeleteKey) {\n      e.preventDefault();\n      this.removeActiveObject();\n    }\n  }\n\n  /**\n   * Remove Active Object\n   */\n  removeActiveObject() {\n    const activeObjectId = this._graphics.getActiveObjectIdForRemove();\n\n    this.removeObject(activeObjectId);\n  }\n\n  /**\n   * mouse down event handler\n   * @param {Event} event - mouse down event\n   * @param {Object} originPointer - origin pointer\n   *  @param {Number} originPointer.x x position\n   *  @param {Number} originPointer.y y position\n   * @private\n   */\n  _onMouseDown(event, originPointer) {\n    /**\n     * The mouse down event with position x, y on canvas\n     * @event ImageEditor#mousedown\n     * @param {Object} event - browser mouse event object\n     * @param {Object} originPointer origin pointer\n     *  @param {Number} originPointer.x x position\n     *  @param {Number} originPointer.y y position\n     * @example\n     * imageEditor.on('mousedown', function(event, originPointer) {\n     *     console.log(event);\n     *     console.log(originPointer);\n     *     if (imageEditor.hasFilter('colorFilter')) {\n     *         imageEditor.applyFilter('colorFilter', {\n     *             x: parseInt(originPointer.x, 10),\n     *             y: parseInt(originPointer.y, 10)\n     *         });\n     *     }\n     * });\n     */\n\n    this.fire(events.MOUSE_DOWN, event, originPointer);\n  }\n\n  /**\n   * Add a 'addObject' command\n   * @param {Object} obj - Fabric object\n   * @private\n   */\n  _pushAddObjectCommand(obj) {\n    const command = commandFactory.create(commands.ADD_OBJECT, this._graphics, obj);\n    this._invoker.pushUndoStack(command);\n  }\n\n  /**\n   * Add a 'changeSelection' command\n   * @param {fabric.Object} obj - selection object\n   * @private\n   */\n  _pushModifyObjectCommand(obj) {\n    const { type } = obj;\n    const props = makeSelectionUndoData(obj, (item) =>\n      makeSelectionUndoDatum(this._graphics.getObjectId(item), item, type === 'activeSelection')\n    );\n    const command = commandFactory.create(commands.CHANGE_SELECTION, this._graphics, props);\n    command.execute(this._graphics, props);\n\n    this._invoker.pushUndoStack(command);\n  }\n\n  /**\n   * 'objectActivated' event handler\n   * @param {ObjectProps} props - object properties\n   * @private\n   */\n  _onObjectActivated(props) {\n    /**\n     * The event when object is selected(aka activated).\n     * @event ImageEditor#objectActivated\n     * @param {ObjectProps} objectProps - object properties\n     * @example\n     * imageEditor.on('objectActivated', function(props) {\n     *     console.log(props);\n     *     console.log(props.type);\n     *     console.log(props.id);\n     * });\n     */\n    this.fire(events.OBJECT_ACTIVATED, props);\n  }\n\n  /**\n   * 'objectMoved' event handler\n   * @param {ObjectProps} props - object properties\n   * @private\n   */\n  _onObjectMoved(props) {\n    /**\n     * The event when object is moved\n     * @event ImageEditor#objectMoved\n     * @param {ObjectProps} props - object properties\n     * @example\n     * imageEditor.on('objectMoved', function(props) {\n     *     console.log(props);\n     *     console.log(props.type);\n     * });\n     */\n    this.fire(events.OBJECT_MOVED, props);\n  }\n\n  /**\n   * 'objectScaled' event handler\n   * @param {ObjectProps} props - object properties\n   * @private\n   */\n  _onObjectScaled(props) {\n    /**\n     * The event when scale factor is changed\n     * @event ImageEditor#objectScaled\n     * @param {ObjectProps} props - object properties\n     * @example\n     * imageEditor.on('objectScaled', function(props) {\n     *     console.log(props);\n     *     console.log(props.type);\n     * });\n     */\n    this.fire(events.OBJECT_SCALED, props);\n  }\n\n  /**\n   * 'objectRotated' event handler\n   * @param {ObjectProps} props - object properties\n   * @private\n   */\n  _onObjectRotated(props) {\n    /**\n     * The event when object angle is changed\n     * @event ImageEditor#objectRotated\n     * @param {ObjectProps} props - object properties\n     * @example\n     * imageEditor.on('objectRotated', function(props) {\n     *     console.log(props);\n     *     console.log(props.type);\n     * });\n     */\n    this.fire(events.OBJECT_ROTATED, props);\n  }\n\n  /**\n   * Get current drawing mode\n   * @returns {string}\n   * @example\n   * // Image editor drawing mode\n   * //\n   * //    NORMAL: 'NORMAL'\n   * //    CROPPER: 'CROPPER'\n   * //    FREE_DRAWING: 'FREE_DRAWING'\n   * //    LINE_DRAWING: 'LINE_DRAWING'\n   * //    TEXT: 'TEXT'\n   * //\n   * if (imageEditor.getDrawingMode() === 'FREE_DRAWING') {\n   *     imageEditor.stopDrawingMode();\n   * }\n   */\n  getDrawingMode() {\n    return this._graphics.getDrawingMode();\n  }\n\n  /**\n   * Clear all objects\n   * @returns {Promise}\n   * @example\n   * imageEditor.clearObjects();\n   */\n  clearObjects() {\n    return this.execute(commands.CLEAR_OBJECTS);\n  }\n\n  /**\n   * Deactivate all objects\n   * @example\n   * imageEditor.deactivateAll();\n   */\n  deactivateAll() {\n    this._graphics.deactivateAll();\n    this._graphics.renderAll();\n  }\n\n  /**\n   * discard selction\n   * @example\n   * imageEditor.discardSelection();\n   */\n  discardSelection() {\n    this._graphics.discardSelection();\n  }\n\n  /**\n   * selectable status change\n   * @param {boolean} selectable - selectable status\n   * @example\n   * imageEditor.changeSelectableAll(false); // or true\n   */\n  changeSelectableAll(selectable) {\n    this._graphics.changeSelectableAll(selectable);\n  }\n\n  /**\n   * Init history\n   */\n  _initHistory() {\n    if (this.ui) {\n      this.ui.initHistory();\n    }\n  }\n\n  /**\n   * Clear history\n   */\n  _clearHistory() {\n    if (this.ui) {\n      this.ui.clearHistory();\n    }\n  }\n\n  /**\n   * Invoke command\n   * @param {String} commandName - Command name\n   * @param {...*} args - Arguments for creating command\n   * @returns {Promise}\n   * @private\n   */\n  execute(commandName, ...args) {\n    // Inject an Graphics instance as first parameter\n    const theArgs = [this._graphics].concat(args);\n\n    return this._invoker.execute(commandName, ...theArgs);\n  }\n\n  /**\n   * Invoke command\n   * @param {String} commandName - Command name\n   * @param {...*} args - Arguments for creating command\n   * @returns {Promise}\n   * @private\n   */\n  executeSilent(commandName, ...args) {\n    // Inject an Graphics instance as first parameter\n    const theArgs = [this._graphics].concat(args);\n\n    return this._invoker.executeSilent(commandName, ...theArgs);\n  }\n\n  /**\n   * Undo\n   * @param {number} [iterationCount=1] - Iteration count of undo\n   * @returns {Promise}\n   * @example\n   * imageEditor.undo();\n   */\n  undo(iterationCount = 1) {\n    let promise = Promise.resolve();\n\n    for (let i = 0; i < iterationCount; i += 1) {\n      promise = promise.then(() => this._invoker.undo());\n    }\n\n    return promise;\n  }\n\n  /**\n   * Redo\n   * @param {number} [iterationCount=1] - Iteration count of redo\n   * @returns {Promise}\n   * @example\n   * imageEditor.redo();\n   */\n  redo(iterationCount = 1) {\n    let promise = Promise.resolve();\n\n    for (let i = 0; i < iterationCount; i += 1) {\n      promise = promise.then(() => this._invoker.redo());\n    }\n\n    return promise;\n  }\n\n  /**\n   * Zoom\n   * @param {number} x - x axis of center point for zoom\n   * @param {number} y - y axis of center point for zoom\n   * @param {number} zoomLevel - level of zoom(1.0 ~ 5.0)\n   */\n  zoom({ x, y, zoomLevel }) {\n    this._graphics.zoom({ x, y }, zoomLevel);\n  }\n\n  /**\n   * Reset zoom. Change zoom level to 1.0\n   */\n  resetZoom() {\n    this._graphics.resetZoom();\n  }\n\n  /**\n   * Load image from file\n   * @param {File} imgFile - Image file\n   * @param {string} [imageName] - imageName\n   * @returns {Promise<SizeChange, ErrorMsg>}\n   * @example\n   * imageEditor.loadImageFromFile(file).then(result => {\n   *      console.log('old : ' + result.oldWidth + ', ' + result.oldHeight);\n   *      console.log('new : ' + result.newWidth + ', ' + result.newHeight);\n   * });\n   */\n  loadImageFromFile(imgFile, imageName) {\n    if (!imgFile) {\n      return Promise.reject(rejectMessages.invalidParameters);\n    }\n\n    const imgUrl = URL.createObjectURL(imgFile);\n    imageName = imageName || imgFile.name;\n\n    return this.loadImageFromURL(imgUrl, imageName).then((value) => {\n      URL.revokeObjectURL(imgFile);\n\n      return value;\n    });\n  }\n\n  /**\n   * Load image from url\n   * @param {string} url - File url\n   * @param {string} imageName - imageName\n   * @returns {Promise<SizeChange, ErrorMsg>}\n   * @example\n   * imageEditor.loadImageFromURL('http://url/testImage.png', 'lena').then(result => {\n   *      console.log('old : ' + result.oldWidth + ', ' + result.oldHeight);\n   *      console.log('new : ' + result.newWidth + ', ' + result.newHeight);\n   * });\n   */\n  loadImageFromURL(url, imageName) {\n    if (!imageName || !url) {\n      return Promise.reject(rejectMessages.invalidParameters);\n    }\n\n    return this.execute(commands.LOAD_IMAGE, imageName, url);\n  }\n\n  /**\n   * Add image object on canvas\n   * @param {string} imgUrl - Image url to make object\n   * @returns {Promise<ObjectProps, ErrorMsg>}\n   * @example\n   * imageEditor.addImageObject('path/fileName.jpg').then(objectProps => {\n   *     console.log(ojectProps.id);\n   * });\n   */\n  addImageObject(imgUrl) {\n    if (!imgUrl) {\n      return Promise.reject(rejectMessages.invalidParameters);\n    }\n\n    return this.execute(commands.ADD_IMAGE_OBJECT, imgUrl);\n  }\n\n  /**\n   * Start a drawing mode. If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n   * @param {String} mode Can be one of <I>'CROPPER', 'FREE_DRAWING', 'LINE_DRAWING', 'TEXT', 'SHAPE'</I>\n   * @param {Object} [option] parameters of drawing mode, it's available with 'FREE_DRAWING', 'LINE_DRAWING'\n   *  @param {Number} [option.width] brush width\n   *  @param {String} [option.color] brush color\n   *  @param {Object} [option.arrowType] arrow decorate\n   *    @param {string} [option.arrowType.tail] arrow decorate for tail. 'chevron' or 'triangle'\n   *    @param {string} [option.arrowType.head] arrow decorate for head. 'chevron' or 'triangle'\n   * @returns {boolean} true if success or false\n   * @example\n   * imageEditor.startDrawingMode('FREE_DRAWING', {\n   *      width: 10,\n   *      color: 'rgba(255,0,0,0.5)'\n   * });\n   * imageEditor.startDrawingMode('LINE_DRAWING', {\n   *      width: 10,\n   *      color: 'rgba(255,0,0,0.5)',\n   *      arrowType: {\n   *          tail: 'chevron' // triangle\n   *      }\n   * });\n   *\n   */\n  startDrawingMode(mode, option) {\n    return this._graphics.startDrawingMode(mode, option);\n  }\n\n  /**\n   * Stop the current drawing mode and back to the 'NORMAL' mode\n   * @example\n   * imageEditor.stopDrawingMode();\n   */\n  stopDrawingMode() {\n    this._graphics.stopDrawingMode();\n  }\n\n  /**\n   * Crop this image with rect\n   * @param {Object} rect crop rect\n   *  @param {Number} rect.left left position\n   *  @param {Number} rect.top top position\n   *  @param {Number} rect.width width\n   *  @param {Number} rect.height height\n   * @returns {Promise}\n   * @example\n   * imageEditor.crop(imageEditor.getCropzoneRect());\n   */\n  crop(rect) {\n    const data = this._graphics.getCroppedImageData(rect);\n    if (!data) {\n      return Promise.reject(rejectMessages.invalidParameters);\n    }\n\n    return this.loadImageFromURL(data.url, data.imageName);\n  }\n\n  /**\n   * Get the cropping rect\n   * @returns {Object}  {{left: number, top: number, width: number, height: number}} rect\n   */\n  getCropzoneRect() {\n    return this._graphics.getCropzoneRect();\n  }\n\n  /**\n   * Set the cropping rect\n   * @param {number} [mode] crop rect mode [1, 1.5, 1.3333333333333333, 1.25, 1.7777777777777777]\n   */\n  setCropzoneRect(mode) {\n    this._graphics.setCropzoneRect(mode);\n  }\n\n  /**\n   * Flip\n   * @returns {Promise}\n   * @param {string} type - 'flipX' or 'flipY' or 'reset'\n   * @returns {Promise<FlipStatus, ErrorMsg>}\n   * @private\n   */\n  _flip(type) {\n    return this.execute(commands.FLIP_IMAGE, type);\n  }\n\n  /**\n   * Flip x\n   * @returns {Promise<FlipStatus, ErrorMsg>}\n   * @example\n   * imageEditor.flipX().then((status => {\n   *     console.log('flipX: ', status.flipX);\n   *     console.log('flipY: ', status.flipY);\n   *     console.log('angle: ', status.angle);\n   * }).catch(message => {\n   *     console.log('error: ', message);\n   * });\n   */\n  flipX() {\n    return this._flip('flipX');\n  }\n\n  /**\n   * Flip y\n   * @returns {Promise<FlipStatus, ErrorMsg>}\n   * @example\n   * imageEditor.flipY().then(status => {\n   *     console.log('flipX: ', status.flipX);\n   *     console.log('flipY: ', status.flipY);\n   *     console.log('angle: ', status.angle);\n   * }).catch(message => {\n   *     console.log('error: ', message);\n   * });\n   */\n  flipY() {\n    return this._flip('flipY');\n  }\n\n  /**\n   * Reset flip\n   * @returns {Promise<FlipStatus, ErrorMsg>}\n   * @example\n   * imageEditor.resetFlip().then(status => {\n   *     console.log('flipX: ', status.flipX);\n   *     console.log('flipY: ', status.flipY);\n   *     console.log('angle: ', status.angle);\n   * }).catch(message => {\n   *     console.log('error: ', message);\n   * });;\n   */\n  resetFlip() {\n    return this._flip('reset');\n  }\n\n  /**\n   * @param {string} type - 'rotate' or 'setAngle'\n   * @param {number} angle - angle value (degree)\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise<RotateStatus, ErrorMsg>}\n   * @private\n   */\n  _rotate(type, angle, isSilent) {\n    let result = null;\n\n    if (isSilent) {\n      result = this.executeSilent(commands.ROTATE_IMAGE, type, angle);\n    } else {\n      result = this.execute(commands.ROTATE_IMAGE, type, angle);\n    }\n\n    return result;\n  }\n\n  /**\n   * Rotate image\n   * @returns {Promise}\n   * @param {number} angle - Additional angle to rotate image\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise<RotateStatus, ErrorMsg>}\n   * @example\n   * imageEditor.rotate(10); // angle = 10\n   * imageEditor.rotate(10); // angle = 20\n   * imageEditor.rotate(5); // angle = 5\n   * imageEditor.rotate(-95); // angle = -90\n   * imageEditor.rotate(10).then(status => {\n   *     console.log('angle: ', status.angle);\n   * })).catch(message => {\n   *     console.log('error: ', message);\n   * });\n   */\n  rotate(angle, isSilent) {\n    return this._rotate('rotate', angle, isSilent);\n  }\n\n  /**\n   * Set angle\n   * @param {number} angle - Angle of image\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise<RotateStatus, ErrorMsg>}\n   * @example\n   * imageEditor.setAngle(10); // angle = 10\n   * imageEditor.rotate(10); // angle = 20\n   * imageEditor.setAngle(5); // angle = 5\n   * imageEditor.rotate(50); // angle = 55\n   * imageEditor.setAngle(-40); // angle = -40\n   * imageEditor.setAngle(10).then(status => {\n   *     console.log('angle: ', status.angle);\n   * })).catch(message => {\n   *     console.log('error: ', message);\n   * });\n   */\n  setAngle(angle, isSilent) {\n    return this._rotate('setAngle', angle, isSilent);\n  }\n\n  /**\n   * Set drawing brush\n   * @param {Object} option brush option\n   *  @param {Number} option.width width\n   *  @param {String} option.color color like 'FFFFFF', 'rgba(0, 0, 0, 0.5)'\n   * @example\n   * imageEditor.startDrawingMode('FREE_DRAWING');\n   * imageEditor.setBrush({\n   *     width: 12,\n   *     color: 'rgba(0, 0, 0, 0.5)'\n   * });\n   * imageEditor.setBrush({\n   *     width: 8,\n   *     color: 'FFFFFF'\n   * });\n   */\n  setBrush(option) {\n    this._graphics.setBrush(option);\n  }\n\n  /**\n   * Set states of current drawing shape\n   * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n   * @param {Object} [options] - Shape options\n   *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n   *        Shape foreground color (ex: '#fff', 'transparent')\n   *      @param {string} [options.stoke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n   * @example\n   * imageEditor.setDrawingShape('rect', {\n   *     fill: 'red',\n   *     width: 100,\n   *     height: 200\n   * });\n   * @example\n   * imageEditor.setDrawingShape('rect', {\n   *     fill: {\n   *         type: 'filter',\n   *         filter: [{blur: 0.3}, {pixelate: 20}]\n   *     },\n   *     width: 100,\n   *     height: 200\n   * });\n   * @example\n   * imageEditor.setDrawingShape('circle', {\n   *     fill: 'transparent',\n   *     stroke: 'blue',\n   *     strokeWidth: 3,\n   *     rx: 10,\n   *     ry: 100\n   * });\n   * @example\n   * imageEditor.setDrawingShape('triangle', { // When resizing, the shape keep the 1:1 ratio\n   *     width: 1,\n   *     height: 1,\n   *     isRegular: true\n   * });\n   * @example\n   * imageEditor.setDrawingShape('circle', { // When resizing, the shape keep the 1:1 ratio\n   *     rx: 10,\n   *     ry: 10,\n   *     isRegular: true\n   * });\n   */\n  setDrawingShape(type, options) {\n    this._graphics.setDrawingShape(type, options);\n  }\n\n  setDrawingIcon(type, iconColor) {\n    this._graphics.setIconStyle(type, iconColor);\n  }\n\n  /**\n   * Add shape\n   * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n   * @param {Object} options - Shape options\n   *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n   *        Shape foreground color (ex: '#fff', 'transparent')\n   *      @param {string} [options.stroke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   *      @param {number} [options.left] - Shape x position\n   *      @param {number} [options.top] - Shape y position\n   *      @param {boolean} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n   * @returns {Promise<ObjectProps, ErrorMsg>}\n   * @example\n   * imageEditor.addShape('rect', {\n   *     fill: 'red',\n   *     stroke: 'blue',\n   *     strokeWidth: 3,\n   *     width: 100,\n   *     height: 200,\n   *     left: 10,\n   *     top: 10,\n   *     isRegular: true\n   * });\n   * @example\n   * imageEditor.addShape('circle', {\n   *     fill: 'red',\n   *     stroke: 'blue',\n   *     strokeWidth: 3,\n   *     rx: 10,\n   *     ry: 100,\n   *     isRegular: false\n   * }).then(objectProps => {\n   *     console.log(objectProps.id);\n   * });\n   * @example\n   * imageEditor.addShape('rect', {\n   *     fill: {\n   *         type: 'filter',\n   *         filter: [{blur: 0.3}, {pixelate: 20}]\n   *     },\n   *     stroke: 'blue',\n   *     strokeWidth: 3,\n   *     rx: 10,\n   *     ry: 100,\n   *     isRegular: false\n   * }).then(objectProps => {\n   *     console.log(objectProps.id);\n   * });\n   */\n  addShape(type, options) {\n    options = options || {};\n\n    this._setPositions(options);\n\n    return this.execute(commands.ADD_SHAPE, type, options);\n  }\n\n  /**\n   * Change shape\n   * @param {number} id - object id\n   * @param {Object} options - Shape options\n   *      @param {(ShapeFillOption | string)} [options.fill] - {@link ShapeFillOption} or\n   *        Shape foreground color (ex: '#fff', 'transparent')\n   *      @param {string} [options.stroke] - Shape outline color\n   *      @param {number} [options.strokeWidth] - Shape outline width\n   *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n   *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n   *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n   *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n   *      @param {boolean} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise}\n   * @example\n   * // call after selecting shape object on canvas\n   * imageEditor.changeShape(id, { // change rectagle or triangle\n   *     fill: 'red',\n   *     stroke: 'blue',\n   *     strokeWidth: 3,\n   *     width: 100,\n   *     height: 200\n   * });\n   * @example\n   * // call after selecting shape object on canvas\n   * imageEditor.changeShape(id, { // change circle\n   *     fill: 'red',\n   *     stroke: 'blue',\n   *     strokeWidth: 3,\n   *     rx: 10,\n   *     ry: 100\n   * });\n   */\n  changeShape(id, options, isSilent) {\n    const executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n    return this[executeMethodName](commands.CHANGE_SHAPE, id, options);\n  }\n\n  /**\n   * Add text on image\n   * @param {string} text - Initial input text\n   * @param {Object} [options] Options for generating text\n   *     @param {Object} [options.styles] Initial styles\n   *         @param {string} [options.styles.fill] Color\n   *         @param {string} [options.styles.fontFamily] Font type for text\n   *         @param {number} [options.styles.fontSize] Size\n   *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n   *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n   *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n   *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n   *     @param {{x: number, y: number}} [options.position] - Initial position\n   *     @param {boolean} [options.autofocus] - text autofocus, default is true\n   * @returns {Promise}\n   * @example\n   * imageEditor.addText('init text');\n   * @example\n   * imageEditor.addText('init text', {\n   *     styles: {\n   *         fill: '#000',\n   *         fontSize: 20,\n   *         fontWeight: 'bold'\n   *     },\n   *     position: {\n   *         x: 10,\n   *         y: 10\n   *     }\n   * }).then(objectProps => {\n   *     console.log(objectProps.id);\n   * });\n   */\n  addText(text, options) {\n    text = text || '';\n    options = options || {};\n\n    return this.execute(commands.ADD_TEXT, text, options);\n  }\n\n  /**\n   * Change contents of selected text object on image\n   * @param {number} id - object id\n   * @param {string} text - Changing text\n   * @returns {Promise<ObjectProps, ErrorMsg>}\n   * @example\n   * imageEditor.changeText(id, 'change text');\n   */\n  changeText(id, text) {\n    text = text || '';\n\n    return this.execute(commands.CHANGE_TEXT, id, text);\n  }\n\n  /**\n   * Set style\n   * @param {number} id - object id\n   * @param {Object} styleObj - text styles\n   *     @param {string} [styleObj.fill] Color\n   *     @param {string} [styleObj.fontFamily] Font type for text\n   *     @param {number} [styleObj.fontSize] Size\n   *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n   *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n   *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n   *     @param {string} [styleObj.textDecoration] Type of line (underline / line-through / overline)\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise}\n   * @example\n   * imageEditor.changeTextStyle(id, {\n   *     fontStyle: 'italic'\n   * });\n   */\n  changeTextStyle(id, styleObj, isSilent) {\n    const executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n    return this[executeMethodName](commands.CHANGE_TEXT_STYLE, id, styleObj);\n  }\n\n  /**\n   * change text mode\n   * @param {string} type - change type\n   * @private\n   */\n  _changeActivateMode(type) {\n    if (type !== 'ICON' && this.getDrawingMode() !== type) {\n      this.startDrawingMode(type);\n    }\n  }\n\n  /**\n   * 'textChanged' event handler\n   * @param {Object} target - changed text object\n   * @private\n   */\n  _onTextChanged(target) {\n    this.fire(events.TEXT_CHANGED, target);\n  }\n\n  /**\n   * 'iconCreateResize' event handler\n   * @param {Object} originPointer origin pointer\n   *  @param {Number} originPointer.x x position\n   *  @param {Number} originPointer.y y position\n   * @private\n   */\n  _onIconCreateResize(originPointer) {\n    this.fire(events.ICON_CREATE_RESIZE, originPointer);\n  }\n\n  /**\n   * 'iconCreateEnd' event handler\n   * @param {Object} originPointer origin pointer\n   *  @param {Number} originPointer.x x position\n   *  @param {Number} originPointer.y y position\n   * @private\n   */\n  _onIconCreateEnd(originPointer) {\n    this.fire(events.ICON_CREATE_END, originPointer);\n  }\n\n  /**\n   * 'textEditing' event handler\n   * @private\n   */\n  _onTextEditing() {\n    /**\n     * The event which starts to edit text object\n     * @event ImageEditor#textEditing\n     * @example\n     * imageEditor.on('textEditing', function() {\n     *     console.log('text editing');\n     * });\n     */\n\n    this.fire(events.TEXT_EDITING);\n  }\n\n  /**\n   * Mousedown event handler in case of 'TEXT' drawing mode\n   * @param {fabric.Event} event - Current mousedown event object\n   * @private\n   */\n  _onAddText(event) {\n    /**\n     * The event when 'TEXT' drawing mode is enabled and click non-object area.\n     * @event ImageEditor#addText\n     * @param {Object} pos\n     *  @param {Object} pos.originPosition - Current position on origin canvas\n     *      @param {Number} pos.originPosition.x - x\n     *      @param {Number} pos.originPosition.y - y\n     *  @param {Object} pos.clientPosition - Current position on client area\n     *      @param {Number} pos.clientPosition.x - x\n     *      @param {Number} pos.clientPosition.y - y\n     * @example\n     * imageEditor.on('addText', function(pos) {\n     *     console.log('text position on canvas: ' + pos.originPosition);\n     *     console.log('text position on brwoser: ' + pos.clientPosition);\n     * });\n     */\n\n    this.fire(events.ADD_TEXT, {\n      originPosition: event.originPosition,\n      clientPosition: event.clientPosition,\n    });\n  }\n\n  /**\n   * 'addObject' event handler\n   * @param {Object} objectProps added object properties\n   * @private\n   */\n  _onAddObject(objectProps) {\n    const obj = this._graphics.getObject(objectProps.id);\n    this._invoker.fire(events.EXECUTE_COMMAND, getObjectType(obj.type));\n    this._pushAddObjectCommand(obj);\n  }\n\n  /**\n   * 'objectAdded' event handler\n   * @param {Object} objectProps added object properties\n   * @private\n   */\n  _onObjectAdded(objectProps) {\n    /**\n     * The event when object added\n     * @event ImageEditor#objectAdded\n     * @param {ObjectProps} props - object properties\n     * @example\n     * imageEditor.on('objectAdded', function(props) {\n     *     console.log(props);\n     * });\n     */\n    this.fire(OBJECT_ADDED, objectProps);\n\n    /**\n     * The event when object added (deprecated)\n     * @event ImageEditor#addObjectAfter\n     * @param {ObjectProps} props - object properties\n     * @deprecated\n     */\n    this.fire(ADD_OBJECT_AFTER, objectProps);\n  }\n\n  /**\n   * 'objectModified' event handler\n   * @param {fabric.Object} obj - selection object\n   * @private\n   */\n  _onObjectModified(obj) {\n    if (obj.type !== OBJ_TYPE.CROPZONE) {\n      this._invoker.fire(events.EXECUTE_COMMAND, getObjectType(obj.type));\n      this._pushModifyObjectCommand(obj);\n    }\n  }\n\n  /**\n   * 'selectionCleared' event handler\n   * @private\n   */\n  _selectionCleared() {\n    this.fire(SELECTION_CLEARED);\n  }\n\n  /**\n   * 'selectionCreated' event handler\n   * @param {Object} eventTarget - Fabric object\n   * @private\n   */\n  _selectionCreated(eventTarget) {\n    this.fire(SELECTION_CREATED, eventTarget);\n  }\n\n  /**\n   * Register custom icons\n   * @param {{iconType: string, pathValue: string}} infos - Infos to register icons\n   * @example\n   * imageEditor.registerIcons({\n   *     customIcon: 'M 0 0 L 20 20 L 10 10 Z',\n   *     customArrow: 'M 60 0 L 120 60 H 90 L 75 45 V 180 H 45 V 45 L 30 60 H 0 Z'\n   * });\n   */\n  registerIcons(infos) {\n    this._graphics.registerPaths(infos);\n  }\n\n  /**\n   * Change canvas cursor type\n   * @param {string} cursorType - cursor type\n   * @example\n   * imageEditor.changeCursor('crosshair');\n   */\n  changeCursor(cursorType) {\n    this._graphics.changeCursor(cursorType);\n  }\n\n  /**\n   * Add icon on canvas\n   * @param {string} type - Icon type ('arrow', 'cancel', custom icon name)\n   * @param {Object} options - Icon options\n   *      @param {string} [options.fill] - Icon foreground color\n   *      @param {number} [options.left] - Icon x position\n   *      @param {number} [options.top] - Icon y position\n   * @returns {Promise<ObjectProps, ErrorMsg>}\n   * @example\n   * imageEditor.addIcon('arrow'); // The position is center on canvas\n   * @example\n   * imageEditor.addIcon('arrow', {\n   *     left: 100,\n   *     top: 100\n   * }).then(objectProps => {\n   *     console.log(objectProps.id);\n   * });\n   */\n  addIcon(type, options) {\n    options = options || {};\n\n    this._setPositions(options);\n\n    return this.execute(commands.ADD_ICON, type, options);\n  }\n\n  /**\n   * Change icon color\n   * @param {number} id - object id\n   * @param {string} color - Color for icon\n   * @returns {Promise}\n   * @example\n   * imageEditor.changeIconColor(id, '#000000');\n   */\n  changeIconColor(id, color) {\n    return this.execute(commands.CHANGE_ICON_COLOR, id, color);\n  }\n\n  /**\n   * Remove an object or group by id\n   * @param {number} id - object id\n   * @returns {Promise}\n   * @example\n   * imageEditor.removeObject(id);\n   */\n  removeObject(id) {\n    const { type } = this._graphics.getObject(id);\n\n    return this.execute(commands.REMOVE_OBJECT, id, getObjectType(type));\n  }\n\n  /**\n   * Whether it has the filter or not\n   * @param {string} type - Filter type\n   * @returns {boolean} true if it has the filter\n   */\n  hasFilter(type) {\n    return this._graphics.hasFilter(type);\n  }\n\n  /**\n   * Remove filter on canvas image\n   * @param {string} type - Filter type\n   * @returns {Promise<FilterResult, ErrorMsg>}\n   * @example\n   * imageEditor.removeFilter('Grayscale').then(obj => {\n   *     console.log('filterType: ', obj.type);\n   *     console.log('actType: ', obj.action);\n   * }).catch(message => {\n   *     console.log('error: ', message);\n   * });\n   */\n  removeFilter(type) {\n    return this.execute(commands.REMOVE_FILTER, type);\n  }\n\n  /**\n   * Apply filter on canvas image\n   * @param {string} type - Filter type\n   * @param {object} options - Options to apply filter\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Promise<FilterResult, ErrorMsg>}\n   * @example\n   * imageEditor.applyFilter('Grayscale');\n   * @example\n   * imageEditor.applyFilter('mask', {maskObjId: id}).then(obj => {\n   *     console.log('filterType: ', obj.type);\n   *     console.log('actType: ', obj.action);\n   * }).catch(message => {\n   *     console.log('error: ', message);\n   * });;\n   */\n  applyFilter(type, options, isSilent) {\n    const executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n    return this[executeMethodName](commands.APPLY_FILTER, type, options);\n  }\n\n  /**\n   * Get data url\n   * @param {Object} options - options for toDataURL\n   *   @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n   *   @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n   *   @param {Number} [options.multiplier=1] Multiplier to scale by\n   *   @param {Number} [options.left] Cropping left offset. Introduced in fabric v1.2.14\n   *   @param {Number} [options.top] Cropping top offset. Introduced in fabric v1.2.14\n   *   @param {Number} [options.width] Cropping width. Introduced in fabric v1.2.14\n   *   @param {Number} [options.height] Cropping height. Introduced in fabric v1.2.14\n   * @returns {string} A DOMString containing the requested data URI\n   * @example\n   * imgEl.src = imageEditor.toDataURL();\n   *\n   * imageEditor.loadImageFromURL(imageEditor.toDataURL(), 'FilterImage').then(() => {\n   *      imageEditor.addImageObject(imgUrl);\n   * });\n   */\n  toDataURL(options) {\n    return this._graphics.toDataURL(options);\n  }\n\n  /**\n   * Get image name\n   * @returns {string} image name\n   * @example\n   * console.log(imageEditor.getImageName());\n   */\n  getImageName() {\n    return this._graphics.getImageName();\n  }\n\n  /**\n   * Clear undoStack\n   * @example\n   * imageEditor.clearUndoStack();\n   */\n  clearUndoStack() {\n    this._invoker.clearUndoStack();\n  }\n\n  /**\n   * Clear redoStack\n   * @example\n   * imageEditor.clearRedoStack();\n   */\n  clearRedoStack() {\n    this._invoker.clearRedoStack();\n  }\n\n  /**\n   * Whehter the undo stack is empty or not\n   * @returns {boolean}\n   * imageEditor.isEmptyUndoStack();\n   */\n  isEmptyUndoStack() {\n    return this._invoker.isEmptyUndoStack();\n  }\n\n  /**\n   * Whehter the redo stack is empty or not\n   * @returns {boolean}\n   * imageEditor.isEmptyRedoStack();\n   */\n  isEmptyRedoStack() {\n    return this._invoker.isEmptyRedoStack();\n  }\n\n  /**\n   * Resize canvas dimension\n   * @param {{width: number, height: number}} dimension - Max width & height\n   * @returns {Promise}\n   */\n  resizeCanvasDimension(dimension) {\n    if (!dimension) {\n      return Promise.reject(rejectMessages.invalidParameters);\n    }\n\n    return this.execute(commands.RESIZE_CANVAS_DIMENSION, dimension);\n  }\n\n  /**\n   * Destroy\n   */\n  destroy() {\n    this.stopDrawingMode();\n    this._detachDomEvents();\n    this._graphics.destroy();\n    this._graphics = null;\n\n    if (this.ui) {\n      this._detachColorPickerInputBoxEvents();\n      this.ui.destroy();\n    }\n\n    forEach(\n      this,\n      (value, key) => {\n        this[key] = null;\n      },\n      this\n    );\n  }\n\n  /**\n   * Set position\n   * @param {Object} options - Position options (left or top)\n   * @private\n   */\n  _setPositions(options) {\n    const centerPosition = this._graphics.getCenter();\n\n    if (isUndefined(options.left)) {\n      options.left = centerPosition.left;\n    }\n\n    if (isUndefined(options.top)) {\n      options.top = centerPosition.top;\n    }\n  }\n\n  /**\n   * Set properties of active object\n   * @param {number} id - object id\n   * @param {Object} keyValue - key & value\n   * @returns {Promise}\n   * @example\n   * imageEditor.setObjectProperties(id, {\n   *     left:100,\n   *     top:100,\n   *     width: 200,\n   *     height: 200,\n   *     opacity: 0.5\n   * });\n   */\n  setObjectProperties(id, keyValue) {\n    return this.execute(commands.SET_OBJECT_PROPERTIES, id, keyValue);\n  }\n\n  /**\n   * Set properties of active object, Do not leave an invoke history.\n   * @param {number} id - object id\n   * @param {Object} keyValue - key & value\n   * @example\n   * imageEditor.setObjectPropertiesQuietly(id, {\n   *     left:100,\n   *     top:100,\n   *     width: 200,\n   *     height: 200,\n   *     opacity: 0.5\n   * });\n   */\n  setObjectPropertiesQuietly(id, keyValue) {\n    this._graphics.setObjectProperties(id, keyValue);\n  }\n\n  /**\n   * Get properties of active object corresponding key\n   * @param {number} id - object id\n   * @param {Array<string>|ObjectProps|string} keys - property's key\n   * @returns {ObjectProps} properties if id is valid or null\n   * @example\n   * var props = imageEditor.getObjectProperties(id, 'left');\n   * console.log(props);\n   * @example\n   * var props = imageEditor.getObjectProperties(id, ['left', 'top', 'width', 'height']);\n   * console.log(props);\n   * @example\n   * var props = imageEditor.getObjectProperties(id, {\n   *     left: null,\n   *     top: null,\n   *     width: null,\n   *     height: null,\n   *     opacity: null\n   * });\n   * console.log(props);\n   */\n  getObjectProperties(id, keys) {\n    const object = this._graphics.getObject(id);\n    if (!object) {\n      return null;\n    }\n\n    return this._graphics.getObjectProperties(id, keys);\n  }\n\n  /**\n   * Get the canvas size\n   * @returns {Object} {{width: number, height: number}} canvas size\n   * @example\n   * var canvasSize = imageEditor.getCanvasSize();\n   * console.log(canvasSize.width);\n   * console.height(canvasSize.height);\n   */\n  getCanvasSize() {\n    return this._graphics.getCanvasSize();\n  }\n\n  /**\n   * Get object position by originX, originY\n   * @param {number} id - object id\n   * @param {string} originX - can be 'left', 'center', 'right'\n   * @param {string} originY - can be 'top', 'center', 'bottom'\n   * @returns {Object} {{x:number, y: number}} position by origin if id is valid, or null\n   * @example\n   * var position = imageEditor.getObjectPosition(id, 'left', 'top');\n   * console.log(position);\n   */\n  getObjectPosition(id, originX, originY) {\n    return this._graphics.getObjectPosition(id, originX, originY);\n  }\n\n  /**\n   * Set object position  by originX, originY\n   * @param {number} id - object id\n   * @param {Object} posInfo - position object\n   *  @param {number} posInfo.x - x position\n   *  @param {number} posInfo.y - y position\n   *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n   *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n   * @returns {Promise}\n   * @example\n   * // align the object to 'left', 'top'\n   * imageEditor.setObjectPosition(id, {\n   *     x: 0,\n   *     y: 0,\n   *     originX: 'left',\n   *     originY: 'top'\n   * });\n   * @example\n   * // align the object to 'right', 'top'\n   * var canvasSize = imageEditor.getCanvasSize();\n   * imageEditor.setObjectPosition(id, {\n   *     x: canvasSize.width,\n   *     y: 0,\n   *     originX: 'right',\n   *     originY: 'top'\n   * });\n   * @example\n   * // align the object to 'left', 'bottom'\n   * var canvasSize = imageEditor.getCanvasSize();\n   * imageEditor.setObjectPosition(id, {\n   *     x: 0,\n   *     y: canvasSize.height,\n   *     originX: 'left',\n   *     originY: 'bottom'\n   * });\n   * @example\n   * // align the object to 'right', 'bottom'\n   * var canvasSize = imageEditor.getCanvasSize();\n   * imageEditor.setObjectPosition(id, {\n   *     x: canvasSize.width,\n   *     y: canvasSize.height,\n   *     originX: 'right',\n   *     originY: 'bottom'\n   * });\n   */\n  setObjectPosition(id, posInfo) {\n    return this.execute(commands.SET_OBJECT_POSITION, id, posInfo);\n  }\n}\n\naction.mixin(ImageEditor);\nCustomEvents.mixin(ImageEditor);\n\nexport default ImageEditor;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Command interface\n */\nimport snippet from 'tui-code-snippet';\nimport errorMessage from '@/factory/errorMessage';\n\nconst createMessage = errorMessage.create;\nconst errorTypes = errorMessage.types;\n\n/**\n * Command class\n * @class\n * @param {{name:function, execute: function, undo: function,\n *          executeCallback: function, undoCallback: function}} actions - Command actions\n * @param {Array} args - passing arguments on execute, undo\n * @ignore\n */\nclass Command {\n  constructor(actions, args) {\n    /**\n     * command name\n     * @type {string}\n     */\n    this.name = actions.name;\n\n    /**\n     * arguments\n     * @type {Array}\n     */\n    this.args = args;\n\n    /**\n     * Execute function\n     * @type {function}\n     */\n    this.execute = actions.execute;\n\n    /**\n     * Undo function\n     * @type {function}\n     */\n    this.undo = actions.undo;\n\n    /**\n     * executeCallback\n     * @type {function}\n     */\n    this.executeCallback = actions.executeCallback || null;\n\n    /**\n     * undoCallback\n     * @type {function}\n     */\n    this.undoCallback = actions.undoCallback || null;\n\n    /**\n     * data for undo\n     * @type {Object}\n     */\n    this.undoData = {};\n  }\n\n  /**\n   * Execute action\n   * @param {Object.<string, Component>} compMap - Components injection\n   * @abstract\n   */\n  execute() {\n    throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'execute'));\n  }\n\n  /**\n   * Undo action\n   * @param {Object.<string, Component>} compMap - Components injection\n   * @abstract\n   */\n  undo() {\n    throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'undo'));\n  }\n\n  /**\n   * command for redo if undoData exists\n   * @returns {boolean} isRedo\n   */\n  get isRedo() {\n    return Object.keys(this.undoData).length > 0;\n  }\n\n  /**\n   * Set undoData action\n   * @param {Object} undoData - maked undo data\n   * @param {Object} cachedUndoDataForSilent - cached undo data\n   * @param {boolean} isSilent - is silent execution or not\n   * @returns {Object} cachedUndoDataForSilent\n   */\n  setUndoData(undoData, cachedUndoDataForSilent, isSilent) {\n    if (cachedUndoDataForSilent) {\n      undoData = cachedUndoDataForSilent;\n    }\n\n    if (!isSilent) {\n      snippet.extend(this.undoData, undoData);\n      cachedUndoDataForSilent = null;\n    } else if (!cachedUndoDataForSilent) {\n      cachedUndoDataForSilent = undoData;\n    }\n\n    return cachedUndoDataForSilent;\n  }\n\n  /**\n   * Attach execute callabck\n   * @param {function} callback - Callback after execution\n   * @returns {Command} this\n   */\n  setExecuteCallback(callback) {\n    this.executeCallback = callback;\n\n    return this;\n  }\n\n  /**\n   * Attach undo callback\n   * @param {function} callback - Callback after undo\n   * @returns {Command} this\n   */\n  setUndoCallback(callback) {\n    this.undoCallback = callback;\n\n    return this;\n  }\n}\n\nexport default Command;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Component interface\n */\n\n/**\n * Component interface\n * @class\n * @param {string} name - component name\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\nclass Component {\n  constructor(name, graphics) {\n    /**\n     * Component name\n     * @type {string}\n     */\n    this.name = name;\n\n    /**\n     * Graphics instance\n     * @type {Graphics}\n     */\n    this.graphics = graphics;\n  }\n\n  /**\n   * Fire Graphics event\n   * @returns {Object} return value\n   */\n  fire(...args) {\n    const context = this.graphics;\n\n    return this.graphics.fire.apply(context, args);\n  }\n\n  /**\n   * Save image(background) of canvas\n   * @param {string} name - Name of image\n   * @param {fabric.Image} oImage - Fabric image instance\n   */\n  setCanvasImage(name, oImage) {\n    this.graphics.setCanvasImage(name, oImage);\n  }\n\n  /**\n   * Returns canvas element of fabric.Canvas[[lower-canvas]]\n   * @returns {HTMLCanvasElement}\n   */\n  getCanvasElement() {\n    return this.graphics.getCanvasElement();\n  }\n\n  /**\n   * Get fabric.Canvas instance\n   * @returns {fabric.Canvas}\n   */\n  getCanvas() {\n    return this.graphics.getCanvas();\n  }\n\n  /**\n   * Get canvasImage (fabric.Image instance)\n   * @returns {fabric.Image}\n   */\n  getCanvasImage() {\n    return this.graphics.getCanvasImage();\n  }\n\n  /**\n   * Get image name\n   * @returns {string}\n   */\n  getImageName() {\n    return this.graphics.getImageName();\n  }\n\n  /**\n   * Get image editor\n   * @returns {ImageEditor}\n   */\n  getEditor() {\n    return this.graphics.getEditor();\n  }\n\n  /**\n   * Return component name\n   * @returns {string}\n   */\n  getName() {\n    return this.name;\n  }\n\n  /**\n   * Set image properties\n   * @param {Object} setting - Image properties\n   * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n   */\n  setImageProperties(setting, withRendering) {\n    this.graphics.setImageProperties(setting, withRendering);\n  }\n\n  /**\n   * Set canvas dimension - css only\n   * @param {Object} dimension - Canvas css dimension\n   */\n  setCanvasCssDimension(dimension) {\n    this.graphics.setCanvasCssDimension(dimension);\n  }\n\n  /**\n   * Set canvas dimension - css only\n   * @param {Object} dimension - Canvas backstore dimension\n   */\n  setCanvasBackstoreDimension(dimension) {\n    this.graphics.setCanvasBackstoreDimension(dimension);\n  }\n\n  /**\n   * Adjust canvas dimension with scaling image\n   */\n  adjustCanvasDimension() {\n    this.graphics.adjustCanvasDimension();\n  }\n}\n\nexport default Component;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview DrawingMode interface\n */\nimport errorMessage from '@/factory/errorMessage';\n\nconst createMessage = errorMessage.create;\nconst errorTypes = errorMessage.types;\n\n/**\n * DrawingMode interface\n * @class\n * @param {string} name - drawing mode name\n * @ignore\n */\nclass DrawingMode {\n  constructor(name) {\n    /**\n     * the name of drawing mode\n     * @type {string}\n     */\n    this.name = name;\n  }\n\n  /**\n   * Get this drawing mode name;\n   * @returns {string} drawing mode name\n   */\n  getName() {\n    return this.name;\n  }\n\n  /**\n   * start this drawing mode\n   * @param {Object} options - drawing mode options\n   * @abstract\n   */\n  start() {\n    throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'start'));\n  }\n\n  /**\n   * stop this drawing mode\n   * @abstract\n   */\n  end() {\n    throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'stop'));\n  }\n}\n\nexport default DrawingMode;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Invoker - invoke commands\n */\nimport snippet from 'tui-code-snippet';\nimport commandFactory from '@/factory/command';\nimport { Promise } from '@/util';\nimport { eventNames, rejectMessages } from '@/consts';\n\nconst { isFunction, isString, CustomEvents } = snippet;\n\n/**\n * Invoker\n * @class\n * @ignore\n */\nclass Invoker {\n  constructor() {\n    /**\n     * Undo stack\n     * @type {Array.<Command>}\n     * @private\n     */\n    this._undoStack = [];\n\n    /**\n     * Redo stack\n     * @type {Array.<Command>}\n     * @private\n     */\n    this._redoStack = [];\n\n    /**\n     * Lock-flag for executing command\n     * @type {boolean}\n     * @private\n     */\n    this._isLocked = false;\n\n    this._isSilent = false;\n  }\n\n  /**\n   * Invoke command execution\n   * @param {Command} command - Command\n   * @param {boolean} [isRedo=false] - check if command is redo\n   * @returns {Promise}\n   * @private\n   */\n  _invokeExecution(command, isRedo = false) {\n    this.lock();\n\n    let { args } = command;\n    if (!args) {\n      args = [];\n    }\n\n    return command\n      .execute(...args)\n      .then((value) => {\n        if (!this._isSilent) {\n          this.pushUndoStack(command);\n\n          this.fire(isRedo ? eventNames.AFTER_REDO : eventNames.EXECUTE_COMMAND, command);\n        }\n        this.unlock();\n        if (isFunction(command.executeCallback)) {\n          command.executeCallback(value);\n        }\n\n        return value;\n      })\n      ['catch']((message) => {\n        this.unlock();\n\n        return Promise.reject(message);\n      });\n  }\n\n  /**\n   * Invoke command undo\n   * @param {Command} command - Command\n   * @returns {Promise}\n   * @private\n   */\n  _invokeUndo(command) {\n    this.lock();\n\n    let { args } = command;\n    if (!args) {\n      args = [];\n    }\n\n    return command\n      .undo(...args)\n      .then((value) => {\n        this.pushRedoStack(command);\n        this.fire(eventNames.AFTER_UNDO, command);\n        this.unlock();\n        if (isFunction(command.undoCallback)) {\n          command.undoCallback(value);\n        }\n\n        return value;\n      })\n      ['catch']((message) => {\n        this.unlock();\n\n        return Promise.reject(message);\n      });\n  }\n\n  /**\n   * fire REDO_STACK_CHANGED event\n   * @private\n   */\n  _fireRedoStackChanged() {\n    this.fire(eventNames.REDO_STACK_CHANGED, this._redoStack.length);\n  }\n\n  /**\n   * fire UNDO_STACK_CHANGED event\n   * @private\n   */\n  _fireUndoStackChanged() {\n    this.fire(eventNames.UNDO_STACK_CHANGED, this._undoStack.length);\n  }\n\n  /**\n   * Lock this invoker\n   */\n  lock() {\n    this._isLocked = true;\n  }\n\n  /**\n   * Unlock this invoker\n   */\n  unlock() {\n    this._isLocked = false;\n  }\n\n  executeSilent(...args) {\n    this._isSilent = true;\n\n    return this.execute(...args, this._isSilent).then(() => {\n      this._isSilent = false;\n    });\n  }\n\n  /**\n   * Invoke command\n   * Store the command to the undoStack\n   * Clear the redoStack\n   * @param {String} commandName - Command name\n   * @param {...*} args - Arguments for creating command\n   * @returns {Promise}\n   */\n  execute(...args) {\n    if (this._isLocked) {\n      return Promise.reject(rejectMessages.isLock);\n    }\n\n    let [command] = args;\n    if (isString(command)) {\n      command = commandFactory.create(...args);\n    }\n\n    return this._invokeExecution(command).then((value) => {\n      this.clearRedoStack();\n\n      return value;\n    });\n  }\n\n  /**\n   * Undo command\n   * @returns {Promise}\n   */\n  undo() {\n    let command = this._undoStack.pop();\n    let promise;\n    let message = '';\n\n    if (command && this._isLocked) {\n      this.pushUndoStack(command, true);\n      command = null;\n    }\n    if (command) {\n      if (this.isEmptyUndoStack()) {\n        this._fireUndoStackChanged();\n      }\n      promise = this._invokeUndo(command);\n    } else {\n      message = rejectMessages.undo;\n      if (this._isLocked) {\n        message = `${message} Because ${rejectMessages.isLock}`;\n      }\n      promise = Promise.reject(message);\n    }\n\n    return promise;\n  }\n\n  /**\n   * Redo command\n   * @returns {Promise}\n   */\n  redo() {\n    let command = this._redoStack.pop();\n    let promise;\n    let message = '';\n\n    if (command && this._isLocked) {\n      this.pushRedoStack(command, true);\n      command = null;\n    }\n    if (command) {\n      if (this.isEmptyRedoStack()) {\n        this._fireRedoStackChanged();\n      }\n      promise = this._invokeExecution(command, true);\n    } else {\n      message = rejectMessages.redo;\n      if (this._isLocked) {\n        message = `${message} Because ${rejectMessages.isLock}`;\n      }\n      promise = Promise.reject(message);\n    }\n\n    return promise;\n  }\n\n  /**\n   * Push undo stack\n   * @param {Command} command - command\n   * @param {boolean} [isSilent] - Fire event or not\n   */\n  pushUndoStack(command, isSilent) {\n    this._undoStack.push(command);\n    if (!isSilent) {\n      this._fireUndoStackChanged();\n    }\n  }\n\n  /**\n   * Push redo stack\n   * @param {Command} command - command\n   * @param {boolean} [isSilent] - Fire event or not\n   */\n  pushRedoStack(command, isSilent) {\n    this._redoStack.push(command);\n    if (!isSilent) {\n      this._fireRedoStackChanged();\n    }\n  }\n\n  /**\n   * Return whether the redoStack is empty\n   * @returns {boolean}\n   */\n  isEmptyRedoStack() {\n    return this._redoStack.length === 0;\n  }\n\n  /**\n   * Return whether the undoStack is empty\n   * @returns {boolean}\n   */\n  isEmptyUndoStack() {\n    return this._undoStack.length === 0;\n  }\n\n  /**\n   * Clear undoStack\n   */\n  clearUndoStack() {\n    if (!this.isEmptyUndoStack()) {\n      this._undoStack = [];\n      this._fireUndoStackChanged();\n    }\n  }\n\n  /**\n   * Clear redoStack\n   */\n  clearRedoStack() {\n    if (!this.isEmptyRedoStack()) {\n      this._redoStack = [];\n      this._fireRedoStackChanged();\n    }\n  }\n}\n\nCustomEvents.mixin(Invoker);\n\nexport default Invoker;\n","// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n// Any copyright is dedicated to the Public Domain. http://creativecommons.org/publicdomain/zero/1.0/if (!Element.prototype.matches)\nElement.prototype.matches =\n  Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nif (!Element.prototype.closest)\n  Element.prototype.closest = function (s) {\n    var el = this;\n    if (!document.documentElement.contains(el)) return null;\n    do {\n      if (el.matches(s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n  };\n\n/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170427\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif ('document' in window.self) {\n  // Full polyfill for browsers with no classList support\n  // Including IE < Edge missing SVGElement.classList\n  if (\n    !('classList' in document.createElement('_')) ||\n    (document.createElementNS &&\n      !('classList' in document.createElementNS('http://www.w3.org/2000/svg', 'g')))\n  ) {\n    (function (view) {\n      'use strict';\n\n      if (!('Element' in view)) return;\n\n      var classListProp = 'classList',\n        protoProp = 'prototype',\n        elemCtrProto = view.Element[protoProp],\n        objCtr = Object,\n        strTrim =\n          String[protoProp].trim ||\n          function () {\n            return this.replace(/^\\s+|\\s+$/g, '');\n          },\n        arrIndexOf =\n          Array[protoProp].indexOf ||\n          function (item) {\n            var i = 0,\n              len = this.length;\n            for (; i < len; i++) {\n              if (i in this && this[i] === item) {\n                return i;\n              }\n            }\n            return -1;\n          },\n        // Vendors: please allow content code to instantiate DOMExceptions\n        DOMEx = function (type, message) {\n          this.name = type;\n          this.code = DOMException[type];\n          this.message = message;\n        },\n        checkTokenAndGetIndex = function (classList, token) {\n          if (token === '') {\n            throw new DOMEx('SYNTAX_ERR', 'An invalid or illegal string was specified');\n          }\n          if (/\\s/.test(token)) {\n            throw new DOMEx('INVALID_CHARACTER_ERR', 'String contains an invalid character');\n          }\n          return arrIndexOf.call(classList, token);\n        },\n        ClassList = function (elem) {\n          var trimmedClasses = strTrim.call(elem.getAttribute('class') || ''),\n            classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : [],\n            i = 0,\n            len = classes.length;\n          for (; i < len; i++) {\n            this.push(classes[i]);\n          }\n          this._updateClassName = function () {\n            elem.setAttribute('class', this.toString());\n          };\n        },\n        classListProto = (ClassList[protoProp] = []),\n        classListGetter = function () {\n          return new ClassList(this);\n        };\n      // Most DOMException implementations don't allow calling DOMException's toString()\n      // on non-DOMExceptions. Error's toString() is sufficient here.\n      DOMEx[protoProp] = Error[protoProp];\n      classListProto.item = function (i) {\n        return this[i] || null;\n      };\n      classListProto.contains = function (token) {\n        token += '';\n        return checkTokenAndGetIndex(this, token) !== -1;\n      };\n      classListProto.add = function () {\n        var tokens = arguments,\n          i = 0,\n          l = tokens.length,\n          token,\n          updated = false;\n        do {\n          token = tokens[i] + '';\n          if (checkTokenAndGetIndex(this, token) === -1) {\n            this.push(token);\n            updated = true;\n          }\n        } while (++i < l);\n\n        if (updated) {\n          this._updateClassName();\n        }\n      };\n      classListProto.remove = function () {\n        var tokens = arguments,\n          i = 0,\n          l = tokens.length,\n          token,\n          updated = false,\n          index;\n        do {\n          token = tokens[i] + '';\n          index = checkTokenAndGetIndex(this, token);\n          while (index !== -1) {\n            this.splice(index, 1);\n            updated = true;\n            index = checkTokenAndGetIndex(this, token);\n          }\n        } while (++i < l);\n\n        if (updated) {\n          this._updateClassName();\n        }\n      };\n      classListProto.toggle = function (token, force) {\n        token += '';\n\n        var result = this.contains(token),\n          method = result ? force !== true && 'remove' : force !== false && 'add';\n        if (method) {\n          this[method](token);\n        }\n\n        if (force === true || force === false) {\n          return force;\n        } else {\n          return !result;\n        }\n      };\n      classListProto.toString = function () {\n        return this.join(' ');\n      };\n\n      if (objCtr.defineProperty) {\n        var classListPropDesc = {\n          get: classListGetter,\n          enumerable: true,\n          configurable: true,\n        };\n        try {\n          objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n        } catch (ex) {\n          // IE 8 doesn't support enumerable:true\n          // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n          // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n          if (ex.number === undefined || ex.number === -0x7ff5ec54) {\n            classListPropDesc.enumerable = false;\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n          }\n        }\n      } else if (objCtr[protoProp].__defineGetter__) {\n        elemCtrProto.__defineGetter__(classListProp, classListGetter);\n      }\n    })(window.self);\n  }\n\n  // There is full or partial native classList support, so just check if we need\n  // to normalize the add/remove and toggle APIs.\n\n  (function () {\n    'use strict';\n\n    var testElement = document.createElement('_');\n\n    testElement.classList.add('c1', 'c2');\n\n    // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n    // classList.remove exist but support only one argument at a time.\n    if (!testElement.classList.contains('c2')) {\n      var createMethod = function (method) {\n        var original = DOMTokenList.prototype[method];\n\n        DOMTokenList.prototype[method] = function (token) {\n          var i,\n            len = arguments.length;\n\n          for (i = 0; i < len; i++) {\n            token = arguments[i];\n            original.call(this, token);\n          }\n        };\n      };\n      createMethod('add');\n      createMethod('remove');\n    }\n\n    testElement.classList.toggle('c3', false);\n\n    // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n    // support the second argument.\n    if (testElement.classList.contains('c3')) {\n      var _toggle = DOMTokenList.prototype.toggle;\n\n      DOMTokenList.prototype.toggle = function (token, force) {\n        if (1 in arguments && !this.contains(token) === !force) {\n          return force;\n        } else {\n          return _toggle.call(this, token);\n        }\n      };\n    }\n\n    testElement = null;\n  })();\n}\n\n/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n  'use strict';\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n    var checkUseElems;\n    var tid; // timeout id\n    var debouncedCheck = function () {\n      clearTimeout(tid);\n      tid = setTimeout(checkUseElems, 100);\n    };\n    var unobserveChanges = function () {\n      return;\n    };\n    var observeChanges = function () {\n      var observer;\n      window.addEventListener('resize', debouncedCheck, false);\n      window.addEventListener('orientationchange', debouncedCheck, false);\n      if (window.MutationObserver) {\n        observer = new MutationObserver(debouncedCheck);\n        observer.observe(document.documentElement, {\n          childList: true,\n          subtree: true,\n          attributes: true,\n        });\n        unobserveChanges = function () {\n          try {\n            observer.disconnect();\n            window.removeEventListener('resize', debouncedCheck, false);\n            window.removeEventListener('orientationchange', debouncedCheck, false);\n          } catch (ignore) {}\n        };\n      } else {\n        document.documentElement.addEventListener('DOMSubtreeModified', debouncedCheck, false);\n        unobserveChanges = function () {\n          document.documentElement.removeEventListener('DOMSubtreeModified', debouncedCheck, false);\n          window.removeEventListener('resize', debouncedCheck, false);\n          window.removeEventListener('orientationchange', debouncedCheck, false);\n        };\n      }\n    };\n    var createRequest = function (url) {\n      // In IE 9, cross origin requests can only be sent using XDomainRequest.\n      // XDomainRequest would fail if CORS headers are not set.\n      // Therefore, XDomainRequest should only be used with cross origin requests.\n      function getOrigin(loc) {\n        var a;\n        if (loc.protocol !== undefined) {\n          a = loc;\n        } else {\n          a = document.createElement('a');\n          a.href = loc;\n        }\n        return a.protocol.replace(/:/g, '') + a.host;\n      }\n      var Request;\n      var origin;\n      var origin2;\n      if (window.XMLHttpRequest) {\n        Request = new XMLHttpRequest();\n        origin = getOrigin(location);\n        origin2 = getOrigin(url);\n        if (Request.withCredentials === undefined && origin2 !== '' && origin2 !== origin) {\n          Request = XDomainRequest || undefined;\n        } else {\n          Request = XMLHttpRequest;\n        }\n      }\n      return Request;\n    };\n    var xlinkNS = 'http://www.w3.org/1999/xlink';\n    checkUseElems = function () {\n      var base;\n      var bcr;\n      var fallback = ''; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n      var hash;\n      var href;\n      var i;\n      var inProgressCount = 0;\n      var isHidden;\n      var Request;\n      var url;\n      var uses;\n      var xhr;\n      function observeIfDone() {\n        // If done with making changes, start watching for chagnes in DOM again\n        inProgressCount -= 1;\n        if (inProgressCount === 0) {\n          // if all xhrs were resolved\n          unobserveChanges(); // make sure to remove old handlers\n          observeChanges(); // watch for changes to DOM\n        }\n      }\n      function attrUpdateFunc(spec) {\n        return function () {\n          if (cache[spec.base] !== true) {\n            spec.useEl.setAttributeNS(xlinkNS, 'xlink:href', '#' + spec.hash);\n            if (spec.useEl.hasAttribute('href')) {\n              spec.useEl.setAttribute('href', '#' + spec.hash);\n            }\n          }\n        };\n      }\n      function onloadFunc(xhr) {\n        return function () {\n          var body = document.body;\n          var x = document.createElement('x');\n          var svg;\n          xhr.onload = null;\n          x.innerHTML = xhr.responseText;\n          svg = x.getElementsByTagName('svg')[0];\n          if (svg) {\n            svg.setAttribute('aria-hidden', 'true');\n            svg.style.position = 'absolute';\n            svg.style.width = 0;\n            svg.style.height = 0;\n            svg.style.overflow = 'hidden';\n            body.insertBefore(svg, body.firstChild);\n          }\n          observeIfDone();\n        };\n      }\n      function onErrorTimeout(xhr) {\n        return function () {\n          xhr.onerror = null;\n          xhr.ontimeout = null;\n          observeIfDone();\n        };\n      }\n      unobserveChanges(); // stop watching for changes to DOM\n      // find all use elements\n      uses = document.getElementsByTagName('use');\n      for (i = 0; i < uses.length; i += 1) {\n        try {\n          bcr = uses[i].getBoundingClientRect();\n        } catch (ignore) {\n          // failed to get bounding rectangle of the use element\n          bcr = false;\n        }\n        href =\n          uses[i].getAttribute('href') ||\n          uses[i].getAttributeNS(xlinkNS, 'href') ||\n          uses[i].getAttribute('xlink:href');\n        if (href && href.split) {\n          url = href.split('#');\n        } else {\n          url = ['', ''];\n        }\n        base = url[0];\n        hash = url[1];\n        isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n        if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n          // the use element is empty\n          // if there is a reference to an external SVG, try to fetch it\n          // use the optional fallback URL if there is no reference to an external SVG\n          if (fallback && !base.length && hash && !document.getElementById(hash)) {\n            base = fallback;\n          }\n          if (uses[i].hasAttribute('href')) {\n            uses[i].setAttributeNS(xlinkNS, 'xlink:href', href);\n          }\n          if (base.length) {\n            // schedule updating xlink:href\n            xhr = cache[base];\n            if (xhr !== true) {\n              // true signifies that prepending the SVG was not required\n              setTimeout(\n                attrUpdateFunc({\n                  useEl: uses[i],\n                  base: base,\n                  hash: hash,\n                }),\n                0\n              );\n            }\n            if (xhr === undefined) {\n              Request = createRequest(base);\n              if (Request !== undefined) {\n                xhr = new Request();\n                cache[base] = xhr;\n                xhr.onload = onloadFunc(xhr);\n                xhr.onerror = onErrorTimeout(xhr);\n                xhr.ontimeout = onErrorTimeout(xhr);\n                xhr.open('GET', base);\n                xhr.send();\n                inProgressCount += 1;\n              }\n            }\n          }\n        } else {\n          if (!isHidden) {\n            if (cache[base] === undefined) {\n              // remember this URL if the use element was not empty and no request was sent\n              cache[base] = true;\n            } else if (cache[base].onload) {\n              // if it turns out that prepending the SVG is not necessary,\n              // abort the in-progress xhr.\n              cache[base].abort();\n              delete cache[base].onload;\n              cache[base] = true;\n            }\n          } else if (base.length && cache[base]) {\n            setTimeout(\n              attrUpdateFunc({\n                useEl: uses[i],\n                base: base,\n                hash: hash,\n              }),\n              0\n            );\n          }\n        }\n      }\n      uses = '';\n      inProgressCount += 1;\n      observeIfDone();\n    };\n    var winLoad;\n    winLoad = function () {\n      window.removeEventListener('load', winLoad, false); // to prevent memory leaks\n      tid = setTimeout(checkUseElems, 0);\n    };\n    if (document.readyState !== 'complete') {\n      // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n      window.addEventListener('load', winLoad, false);\n    } else {\n      // No need to add a listener if the document is already loaded, initialize immediately.\n      winLoad();\n    }\n  }\n})();\n","import snippet from 'tui-code-snippet';\nimport { getSelector, assignmentForDestroy, cls, getHistoryTitle, isSilentCommand } from '@/util';\nimport {\n  ZOOM_HELP_MENUS,\n  COMMAND_HELP_MENUS,\n  DELETE_HELP_MENUS,\n  eventNames,\n  HELP_MENUS,\n} from '@/consts';\nimport mainContainer from '@/ui/template/mainContainer';\nimport controls from '@/ui/template/controls';\n\nimport Theme from '@/ui/theme/theme';\nimport Shape from '@/ui/shape';\nimport Crop from '@/ui/crop';\nimport Flip from '@/ui/flip';\nimport Rotate from '@/ui/rotate';\nimport Text from '@/ui/text';\nimport Mask from '@/ui/mask';\nimport Icon from '@/ui/icon';\nimport Draw from '@/ui/draw';\nimport Filter from '@/ui/filter';\nimport History from '@/ui/history';\nimport Locale from '@/ui/locale/locale';\n\nconst SUB_UI_COMPONENT = {\n  Shape,\n  Crop,\n  Flip,\n  Rotate,\n  Text,\n  Mask,\n  Icon,\n  Draw,\n  Filter,\n};\n\nconst { CustomEvents } = snippet;\n\nconst BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION = '1300';\nconst HISTORY_MENU = 'history';\nconst HISTORY_PANEL_CLASS_NAME = 'tie-panel-history';\n\nconst CLASS_NAME_ON = 'on';\nconst ZOOM_BUTTON_TYPE = {\n  ZOOM_IN: 'zoomIn',\n  HAND: 'hand',\n};\n\n/**\n * Ui class\n * @class\n * @param {string|HTMLElement} element - Wrapper's element or selector\n * @param {Object} [options] - Ui setting options\n *   @param {number} options.loadImage - Init default load image\n *   @param {number} options.initMenu - Init start menu\n *   @param {Boolean} [options.menuBarPosition=bottom] - Let\n *   @param {Boolean} [options.applyCropSelectionStyle=false] - Let\n *   @param {Boolean} [options.usageStatistics=false] - Use statistics or not\n *   @param {Object} [options.uiSize] - ui size of editor\n *     @param {string} options.uiSize.width - width of ui\n *     @param {string} options.uiSize.height - height of ui\n * @param {Object} actions - ui action instance\n */\nclass Ui {\n  constructor(element, options, actions) {\n    this.options = this._initializeOption(options);\n    this._actions = actions;\n    this.submenu = false;\n    this.imageSize = {};\n    this.uiSize = {};\n    this._locale = new Locale(this.options.locale);\n    this.theme = new Theme(this.options.theme);\n    this.eventHandler = {};\n    this._submenuChangeTransection = false;\n    this._selectedElement = null;\n    this._mainElement = null;\n    this._editorElementWrap = null;\n    this._editorElement = null;\n    this._menuBarElement = null;\n    this._subMenuElement = null;\n    this._makeUiElement(element);\n    this._setUiSize();\n    this._initMenuEvent = false;\n\n    this._makeSubMenu();\n\n    this._attachHistoryEvent();\n    this._attachZoomEvent();\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeUiEvent();\n    this._destroyAllMenu();\n    this._selectedElement.innerHTML = '';\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Set Default Selection for includeUI\n   * @param {Object} option - imageEditor options\n   * @returns {Object} - extends selectionStyle option\n   * @ignore\n   */\n  setUiDefaultSelectionStyle(option) {\n    return snippet.extend(\n      {\n        applyCropSelectionStyle: true,\n        applyGroupSelectionStyle: true,\n        selectionStyle: {\n          cornerStyle: 'circle',\n          cornerSize: 16,\n          cornerColor: '#fff',\n          cornerStrokeColor: '#fff',\n          transparentCorners: false,\n          lineWidth: 2,\n          borderColor: '#fff',\n        },\n      },\n      option\n    );\n  }\n\n  /**\n   * Change editor size\n   * @param {Object} resizeInfo - ui & image size info\n   *   @param {Object} [resizeInfo.uiSize] - image size dimension\n   *     @param {string} resizeInfo.uiSize.width - ui width\n   *     @param {string} resizeInfo.uiSize.height - ui height\n   *   @param {Object} [resizeInfo.imageSize] - image size dimension\n   *     @param {Number} resizeInfo.imageSize.oldWidth - old width\n   *     @param {Number} resizeInfo.imageSize.oldHeight - old height\n   *     @param {Number} resizeInfo.imageSize.newWidth - new width\n   *     @param {Number} resizeInfo.imageSize.newHeight - new height\n   * @example\n   * // Change the image size and ui size, and change the affected ui state together.\n   * imageEditor.ui.resizeEditor({\n   *     imageSize: {oldWidth: 100, oldHeight: 100, newWidth: 700, newHeight: 700},\n   *     uiSize: {width: 1000, height: 1000}\n   * });\n   * @example\n   * // Apply the ui state while preserving the previous attribute (for example, if responsive Ui)\n   * imageEditor.ui.resizeEditor();\n   */\n  resizeEditor({ uiSize, imageSize = this.imageSize } = {}) {\n    if (imageSize !== this.imageSize) {\n      this.imageSize = imageSize;\n    }\n    if (uiSize) {\n      this._setUiSize(uiSize);\n    }\n\n    const { width, height } = this._getCanvasMaxDimension();\n    const editorElementStyle = this._editorElement.style;\n    const { menuBarPosition } = this.options;\n\n    editorElementStyle.height = `${height}px`;\n    editorElementStyle.width = `${width}px`;\n\n    this._setEditorPosition(menuBarPosition);\n\n    this._editorElementWrap.style.bottom = `0px`;\n    this._editorElementWrap.style.top = `0px`;\n    this._editorElementWrap.style.left = `0px`;\n    this._editorElementWrap.style.width = `100%`;\n\n    const selectElementClassList = this._selectedElement.classList;\n\n    if (\n      menuBarPosition === 'top' &&\n      this._selectedElement.offsetWidth < BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION\n    ) {\n      selectElementClassList.add('tui-image-editor-top-optimization');\n    } else {\n      selectElementClassList.remove('tui-image-editor-top-optimization');\n    }\n  }\n\n  /**\n   * Toggle zoom button status\n   * @param {string} type - type of zoom button\n   */\n  toggleZoomButtonStatus(type) {\n    const targetClassList = this._buttonElements[type].classList;\n\n    targetClassList.toggle(CLASS_NAME_ON);\n\n    if (type === ZOOM_BUTTON_TYPE.ZOOM_IN) {\n      this._buttonElements[ZOOM_BUTTON_TYPE.HAND].classList.remove(CLASS_NAME_ON);\n    } else {\n      this._buttonElements[ZOOM_BUTTON_TYPE.ZOOM_IN].classList.remove(CLASS_NAME_ON);\n    }\n  }\n\n  /**\n   * Turn off zoom-in button status\n   */\n  offZoomInButtonStatus() {\n    const zoomInClassList = this._buttonElements[ZOOM_BUTTON_TYPE.ZOOM_IN].classList;\n\n    zoomInClassList.remove(CLASS_NAME_ON);\n  }\n\n  /**\n   * Change hand button status\n   * @param {boolean} enabled - status to change\n   */\n  changeHandButtonStatus(enabled) {\n    const handClassList = this._buttonElements[ZOOM_BUTTON_TYPE.HAND].classList;\n\n    handClassList[enabled ? 'add' : 'remove'](CLASS_NAME_ON);\n  }\n\n  /**\n   * Change help button status\n   * @param {string} buttonType - target button type\n   * @param {Boolean} enableStatus - enabled status\n   * @ignore\n   */\n  changeHelpButtonEnabled(buttonType, enableStatus) {\n    const buttonClassList = this._buttonElements[buttonType].classList;\n\n    buttonClassList[enableStatus ? 'add' : 'remove']('enabled');\n  }\n\n  /**\n   * Change delete button status\n   * @param {Object} [options] - Ui setting options\n   *   @param {object} [options.loadImage] - Init default load image\n   *   @param {string} [options.initMenu] - Init start menu\n   *   @param {string} [options.menuBarPosition=bottom] - Let\n   *   @param {boolean} [options.applyCropSelectionStyle=false] - Let\n   *   @param {boolean} [options.usageStatistics=false] - Send statistics ping or not\n   * @returns {Object} initialize option\n   * @private\n   */\n  _initializeOption(options) {\n    return snippet.extend(\n      {\n        loadImage: {\n          path: '',\n          name: '',\n        },\n        locale: {},\n        menuIconPath: '',\n        menu: ['crop', 'flip', 'rotate', 'draw', 'shape', 'icon', 'text', 'mask', 'filter'],\n        initMenu: '',\n        uiSize: {\n          width: '100%',\n          height: '100%',\n        },\n        menuBarPosition: 'bottom',\n      },\n      options\n    );\n  }\n\n  /**\n   * Set ui container size\n   * @param {Object} uiSize - ui dimension\n   *   @param {string} uiSize.width - css width property\n   *   @param {string} uiSize.height - css height property\n   * @private\n   */\n  _setUiSize(uiSize = this.options.uiSize) {\n    const elementDimension = this._selectedElement.style;\n    elementDimension.width = uiSize.width;\n    elementDimension.height = uiSize.height;\n  }\n\n  /**\n   * Make submenu dom element\n   * @private\n   */\n  _makeSubMenu() {\n    snippet.forEach(this.options.menu, (menuName) => {\n      const SubComponentClass =\n        SUB_UI_COMPONENT[menuName.replace(/^[a-z]/, ($0) => $0.toUpperCase())];\n\n      // make menu element\n      this._makeMenuElement(menuName);\n\n      // menu btn element\n      this._buttonElements[menuName] = this._menuBarElement.querySelector(`.tie-btn-${menuName}`);\n\n      // submenu ui instance\n      this[menuName] = new SubComponentClass(this._subMenuElement, {\n        locale: this._locale,\n        makeSvgIcon: this.theme.makeMenSvgIconSet.bind(this.theme),\n        menuBarPosition: this.options.menuBarPosition,\n        usageStatistics: this.options.usageStatistics,\n      });\n    });\n  }\n\n  /**\n   * Attach history event\n   * @private\n   */\n  _attachHistoryEvent() {\n    this.on(eventNames.EXECUTE_COMMAND, this._addHistory.bind(this));\n    this.on(eventNames.AFTER_UNDO, this._selectPrevHistory.bind(this));\n    this.on(eventNames.AFTER_REDO, this._selectNextHistory.bind(this));\n  }\n\n  /**\n   * Attach zoom event\n   * @private\n   */\n  _attachZoomEvent() {\n    this.on(eventNames.HAND_STARTED, () => {\n      this.offZoomInButtonStatus();\n      this.changeHandButtonStatus(true);\n    });\n    this.on(eventNames.HAND_STOPPED, () => this.changeHandButtonStatus(false));\n  }\n\n  /**\n   * Make primary ui dom element\n   * @param {string|HTMLElement} element - Wrapper's element or selector\n   * @private\n   */\n  _makeUiElement(element) {\n    let selectedElement;\n\n    window.snippet = snippet;\n\n    if (element.nodeType) {\n      selectedElement = element;\n    } else {\n      selectedElement = document.querySelector(element);\n    }\n    const selector = getSelector(selectedElement);\n\n    selectedElement.classList.add('tui-image-editor-container');\n    selectedElement.innerHTML =\n      controls({\n        locale: this._locale,\n        biImage: this.theme.getStyle('common.bi'),\n        loadButtonStyle: this.theme.getStyle('loadButton'),\n        downloadButtonStyle: this.theme.getStyle('downloadButton'),\n        menuBarPosition: this.options.menuBarPosition,\n      }) +\n      mainContainer({\n        locale: this._locale,\n        biImage: this.theme.getStyle('common.bi'),\n        commonStyle: this.theme.getStyle('common'),\n        headerStyle: this.theme.getStyle('header'),\n        loadButtonStyle: this.theme.getStyle('loadButton'),\n        downloadButtonStyle: this.theme.getStyle('downloadButton'),\n        submenuStyle: this.theme.getStyle('submenu'),\n      });\n\n    this._selectedElement = selectedElement;\n    this._selectedElement.classList.add(this.options.menuBarPosition);\n\n    this._mainElement = selector('.tui-image-editor-main');\n    this._editorElementWrap = selector('.tui-image-editor-wrap');\n    this._editorElement = selector('.tui-image-editor');\n    this._helpMenuBarElement = selector('.tui-image-editor-help-menu');\n    this._menuBarElement = selector('.tui-image-editor-menu');\n    this._subMenuElement = selector('.tui-image-editor-submenu');\n    this._buttonElements = {\n      download: this._selectedElement.querySelectorAll('.tui-image-editor-download-btn'),\n      load: this._selectedElement.querySelectorAll('.tui-image-editor-load-btn'),\n    };\n\n    this._addHelpMenus();\n\n    this._historyMenu = new History(this._buttonElements[HISTORY_MENU], {\n      locale: this._locale,\n      makeSvgIcon: this.theme.makeMenSvgIconSet.bind(this.theme),\n    });\n\n    this._activateZoomMenus();\n  }\n\n  /**\n   * Activate help menus for zoom.\n   * @private\n   */\n  _activateZoomMenus() {\n    snippet.forEach(ZOOM_HELP_MENUS, (menu) => {\n      this.changeHelpButtonEnabled(menu, true);\n    });\n  }\n\n  /**\n   * make array for help menu output, including partitions.\n   * @returns {Array}\n   * @private\n   */\n  _makeHelpMenuWithPartition() {\n    return [...ZOOM_HELP_MENUS, '', ...COMMAND_HELP_MENUS, '', ...DELETE_HELP_MENUS];\n  }\n\n  /**\n   * Add help menu\n   * @private\n   */\n  _addHelpMenus() {\n    const helpMenuWithPartition = this._makeHelpMenuWithPartition();\n\n    snippet.forEach(helpMenuWithPartition, (menuName) => {\n      if (!menuName) {\n        this._makeMenuPartitionElement();\n      } else {\n        this._makeMenuElement(menuName, ['normal', 'disabled', 'hover'], 'help');\n\n        this._buttonElements[menuName] = this._helpMenuBarElement.querySelector(\n          `.tie-btn-${menuName}`\n        );\n      }\n    });\n  }\n\n  /**\n   * Make menu partition element\n   * @private\n   */\n  _makeMenuPartitionElement() {\n    const partitionElement = document.createElement('li');\n    const partitionInnerElement = document.createElement('div');\n    partitionElement.className = cls('item');\n    partitionInnerElement.className = cls('icpartition');\n    partitionElement.appendChild(partitionInnerElement);\n\n    this._helpMenuBarElement.appendChild(partitionElement);\n  }\n\n  /**\n   * Make menu button element\n   * @param {string} menuName - menu name\n   * @param {Array} useIconTypes - Possible values are  \\['normal', 'active', 'hover', 'disabled'\\]\n   * @param {string} menuType - 'normal' or 'help'\n   * @private\n   */\n  _makeMenuElement(menuName, useIconTypes = ['normal', 'active', 'hover'], menuType = 'normal') {\n    const btnElement = document.createElement('li');\n    const menuItemHtml = this.theme.makeMenSvgIconSet(useIconTypes, menuName);\n\n    this._addTooltipAttribute(btnElement, menuName);\n    btnElement.className = `tie-btn-${menuName} ${cls('item')} ${menuType}`;\n    btnElement.innerHTML = menuItemHtml;\n\n    if (menuType === 'normal') {\n      this._menuBarElement.appendChild(btnElement);\n    } else {\n      this._helpMenuBarElement.appendChild(btnElement);\n    }\n  }\n\n  /**\n   * Add help action event\n   * @private\n   */\n  _addHelpActionEvent() {\n    snippet.forEach(HELP_MENUS, (helpName) => {\n      this.eventHandler[helpName] = (event) => this._actions.main[helpName](event);\n      this._buttonElements[helpName].addEventListener('click', this.eventHandler[helpName]);\n    });\n  }\n\n  /**\n   * Remove help action event\n   * @private\n   */\n  _removeHelpActionEvent() {\n    snippet.forEach(HELP_MENUS, (helpName) => {\n      this._buttonElements[helpName].removeEventListener('click', this.eventHandler[helpName]);\n    });\n  }\n\n  /**\n   * Add history\n   * @param {Command|string} command - command or command name\n   */\n  _addHistory(command) {\n    if (!isSilentCommand(command)) {\n      const historyTitle =\n        typeof command === 'string' ? { name: command } : getHistoryTitle(command);\n\n      this._historyMenu.add(historyTitle);\n    }\n  }\n\n  /**\n   * Init history\n   */\n  initHistory() {\n    this._historyMenu.init();\n  }\n\n  /**\n   * Clear history\n   */\n  clearHistory() {\n    this._historyMenu.clear();\n  }\n\n  /**\n   * Select prev history\n   */\n  _selectPrevHistory() {\n    this._historyMenu.prev();\n  }\n\n  /**\n   * Select next history\n   */\n  _selectNextHistory() {\n    this._historyMenu.next();\n  }\n\n  /**\n   * Toggle history menu\n   * @param {object} event - event object\n   */\n  toggleHistoryMenu(event) {\n    const { target } = event;\n    const item = target.closest(`.${HISTORY_PANEL_CLASS_NAME}`);\n\n    if (item) {\n      return;\n    }\n\n    const historyButtonClassList = this._buttonElements[HISTORY_MENU].classList;\n\n    historyButtonClassList.toggle('opened');\n  }\n\n  /**\n   * Add attribute for menu tooltip\n   * @param {HTMLElement} element - menu element\n   * @param {string} tooltipName - tooltipName\n   * @private\n   */\n  _addTooltipAttribute(element, tooltipName) {\n    element.setAttribute(\n      'tooltip-content',\n      this._locale.localize(tooltipName.replace(/^[a-z]/g, ($0) => $0.toUpperCase()))\n    );\n  }\n\n  /**\n   * Add download event\n   * @private\n   */\n  _addDownloadEvent() {\n    this.eventHandler.download = () => this._actions.main.download();\n    snippet.forEach(this._buttonElements.download, (element) => {\n      element.addEventListener('click', this.eventHandler.download);\n    });\n  }\n\n  _removeDownloadEvent() {\n    snippet.forEach(this._buttonElements.download, (element) => {\n      element.removeEventListener('click', this.eventHandler.download);\n    });\n  }\n\n  /**\n   * Add load event\n   * @private\n   */\n  _addLoadEvent() {\n    this.eventHandler.loadImage = (event) => this._actions.main.load(event.target.files[0]);\n\n    snippet.forEach(this._buttonElements.load, (element) => {\n      element.addEventListener('change', this.eventHandler.loadImage);\n    });\n  }\n\n  /**\n   * Remove load event\n   * @private\n   */\n  _removeLoadEvent() {\n    snippet.forEach(this._buttonElements.load, (element) => {\n      element.removeEventListener('change', this.eventHandler.loadImage);\n    });\n  }\n\n  /**\n   * Add menu event\n   * @param {string} menuName - menu name\n   * @private\n   */\n  _addMainMenuEvent(menuName) {\n    this.eventHandler[menuName] = () => this.changeMenu(menuName);\n    this._buttonElements[menuName].addEventListener('click', this.eventHandler[menuName]);\n  }\n\n  /**\n   * Add menu event\n   * @param {string} menuName - menu name\n   * @private\n   */\n  _addSubMenuEvent(menuName) {\n    this[menuName].addEvent(this._actions[menuName]);\n    this[menuName].on(eventNames.INPUT_BOX_EDITING_STARTED, () =>\n      this.fire(eventNames.INPUT_BOX_EDITING_STARTED)\n    );\n    this[menuName].on(eventNames.INPUT_BOX_EDITING_STOPPED, () =>\n      this.fire(eventNames.INPUT_BOX_EDITING_STOPPED)\n    );\n  }\n\n  /**\n   * Add menu event\n   * @private\n   */\n  _addMenuEvent() {\n    snippet.forEach(this.options.menu, (menuName) => {\n      this._addMainMenuEvent(menuName);\n      this._addSubMenuEvent(menuName);\n    });\n  }\n\n  /**\n   * Remove menu event\n   * @private\n   */\n  _removeMainMenuEvent() {\n    snippet.forEach(this.options.menu, (menuName) => {\n      this._buttonElements[menuName].removeEventListener('click', this.eventHandler[menuName]);\n      this[menuName].off(eventNames.INPUT_BOX_EDITING_STARTED);\n      this[menuName].off(eventNames.INPUT_BOX_EDITING_STOPPED);\n    });\n  }\n\n  /**\n   * Get editor area element\n   * @returns {HTMLElement} editor area html element\n   * @ignore\n   */\n  getEditorArea() {\n    return this._editorElement;\n  }\n\n  /**\n   * Add event for menu items\n   * @ignore\n   */\n  activeMenuEvent() {\n    if (this._initMenuEvent) {\n      return;\n    }\n\n    this._addHelpActionEvent();\n    this._addDownloadEvent();\n    this._addMenuEvent();\n    this._initMenu();\n    this._historyMenu.addEvent(this._actions.history);\n    this._initMenuEvent = true;\n  }\n\n  /**\n   * Remove ui event\n   * @private\n   */\n  _removeUiEvent() {\n    this._removeHelpActionEvent();\n    this._removeDownloadEvent();\n    this._removeLoadEvent();\n    this._removeMainMenuEvent();\n    this._historyMenu.removeEvent();\n  }\n\n  /**\n   * Destroy all menu instance\n   * @private\n   */\n  _destroyAllMenu() {\n    snippet.forEach(this.options.menu, (menuName) => {\n      this[menuName].destroy();\n    });\n\n    this._historyMenu.destroy();\n  }\n\n  /**\n   * Init canvas\n   * @ignore\n   */\n  initCanvas() {\n    const loadImageInfo = this._getLoadImage();\n    if (loadImageInfo.path) {\n      this._actions.main.initLoadImage(loadImageInfo.path, loadImageInfo.name).then(() => {\n        this.activeMenuEvent();\n      });\n    }\n\n    this._addLoadEvent();\n\n    const gridVisual = document.createElement('div');\n\n    gridVisual.className = cls('grid-visual');\n    const grid = `<table>\n           <tr><td class=\"dot left-top\"></td><td></td><td class=\"dot right-top\"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class=\"dot left-bottom\"></td><td></td><td class=\"dot right-bottom\"></td></tr>\n         </table>`;\n    gridVisual.innerHTML = grid;\n    this._editorContainerElement = this._editorElement.querySelector(\n      '.tui-image-editor-canvas-container'\n    );\n    this._editorContainerElement.appendChild(gridVisual);\n  }\n\n  /**\n   * get editor area element\n   * @returns {Object} load image option\n   * @private\n   */\n  _getLoadImage() {\n    return this.options.loadImage;\n  }\n\n  /**\n   * change menu\n   * @param {string} menuName - menu name\n   * @param {boolean} toggle - whether toogle or not\n   * @param {boolean} discardSelection - discard selection\n   * @ignore\n   */\n  changeMenu(menuName, toggle = true, discardSelection = true) {\n    if (!this._submenuChangeTransection) {\n      this._submenuChangeTransection = true;\n      this._changeMenu(menuName, toggle, discardSelection);\n      this._submenuChangeTransection = false;\n    }\n  }\n\n  /**\n   * change menu\n   * @param {string} menuName - menu name\n   * @param {boolean} toggle - whether toggle or not\n   * @param {boolean} discardSelection - discard selection\n   * @private\n   */\n  _changeMenu(menuName, toggle, discardSelection) {\n    if (this.submenu) {\n      this._buttonElements[this.submenu].classList.remove('active');\n      this._mainElement.classList.remove(`tui-image-editor-menu-${this.submenu}`);\n      if (discardSelection) {\n        this._actions.main.discardSelection();\n      }\n      this._actions.main.changeSelectableAll(true);\n      this[this.submenu].changeStandbyMode();\n    }\n\n    if (this.submenu === menuName && toggle) {\n      this.submenu = null;\n    } else {\n      this._buttonElements[menuName].classList.add('active');\n      this._mainElement.classList.add(`tui-image-editor-menu-${menuName}`);\n      this.submenu = menuName;\n      this[this.submenu].changeStartMode();\n    }\n\n    this.resizeEditor();\n  }\n\n  /**\n   * Init menu\n   * @private\n   */\n  _initMenu() {\n    if (this.options.initMenu) {\n      const evt = document.createEvent('MouseEvents');\n      evt.initEvent('click', true, false);\n      this._buttonElements[this.options.initMenu].dispatchEvent(evt);\n    }\n\n    if (this.icon) {\n      this.icon.registerDefaultIcon();\n    }\n  }\n\n  /**\n   * Get canvas max Dimension\n   * @returns {Object} - width & height of editor\n   * @private\n   */\n  _getCanvasMaxDimension() {\n    const { maxWidth, maxHeight } = this._editorContainerElement.style;\n    const width = parseFloat(maxWidth);\n    const height = parseFloat(maxHeight);\n\n    return {\n      width,\n      height,\n    };\n  }\n\n  /**\n   * Set editor position\n   * @param {string} menuBarPosition - top or right or bottom or left\n   * @private\n   */\n  // eslint-disable-next-line complexity\n  _setEditorPosition(menuBarPosition) {\n    const { width, height } = this._getCanvasMaxDimension();\n    const editorElementStyle = this._editorElement.style;\n    let top = 0;\n    let left = 0;\n\n    if (this.submenu) {\n      if (menuBarPosition === 'bottom') {\n        if (height > this._editorElementWrap.scrollHeight - 150) {\n          top = (height - this._editorElementWrap.scrollHeight) / 2;\n        } else {\n          top = (150 / 2) * -1;\n        }\n      } else if (menuBarPosition === 'top') {\n        if (height > this._editorElementWrap.offsetHeight - 150) {\n          top = 150 / 2 - (height - (this._editorElementWrap.offsetHeight - 150)) / 2;\n        } else {\n          top = 150 / 2;\n        }\n      } else if (menuBarPosition === 'left') {\n        if (width > this._editorElementWrap.offsetWidth - 248) {\n          left = 248 / 2 - (width - (this._editorElementWrap.offsetWidth - 248)) / 2;\n        } else {\n          left = 248 / 2;\n        }\n      } else if (menuBarPosition === 'right') {\n        if (width > this._editorElementWrap.scrollWidth - 248) {\n          left = (width - this._editorElementWrap.scrollWidth) / 2;\n        } else {\n          left = (248 / 2) * -1;\n        }\n      }\n    }\n    editorElementStyle.top = `${top}px`;\n    editorElementStyle.left = `${left}px`;\n  }\n}\n\nCustomEvents.mixin(Ui);\n\nexport default Ui;\n","import snippet from 'tui-code-snippet';\nimport Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/crop';\nimport { assignmentForDestroy } from '@/util';\n\n/**\n * Crop ui class\n * @class\n * @ignore\n */\nclass Crop extends Submenu {\n  constructor(subMenuElement, { locale, makeSvgIcon, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'crop',\n      makeSvgIcon,\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n\n    this.status = 'active';\n\n    this._els = {\n      apply: this.selector('.tie-crop-button .apply'),\n      cancel: this.selector('.tie-crop-button .cancel'),\n      preset: this.selector('.tie-crop-preset-button'),\n    };\n\n    this.defaultPresetButton = this._els.preset.querySelector('.preset-none');\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Add event for crop\n   * @param {Object} actions - actions for crop\n   *   @param {Function} actions.crop - crop action\n   *   @param {Function} actions.cancel - cancel action\n   *   @param {Function} actions.preset - draw rectzone at a predefined ratio\n   */\n  addEvent(actions) {\n    const apply = this._applyEventHandler.bind(this);\n    const cancel = this._cancelEventHandler.bind(this);\n    const cropzonePreset = this._cropzonePresetEventHandler.bind(this);\n\n    this.eventHandler = {\n      apply,\n      cancel,\n      cropzonePreset,\n    };\n\n    this.actions = actions;\n    this._els.apply.addEventListener('click', apply);\n    this._els.cancel.addEventListener('click', cancel);\n    this._els.preset.addEventListener('click', cropzonePreset);\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    this._els.apply.removeEventListener('click', this.eventHandler.apply);\n    this._els.cancel.removeEventListener('click', this.eventHandler.cancel);\n    this._els.preset.removeEventListener('click', this.eventHandler.cropzonePreset);\n  }\n\n  _applyEventHandler() {\n    this.actions.crop();\n    this._els.apply.classList.remove('active');\n  }\n\n  _cancelEventHandler() {\n    this.actions.cancel();\n    this._els.apply.classList.remove('active');\n  }\n\n  _cropzonePresetEventHandler(event) {\n    const button = event.target.closest('.tui-image-editor-button.preset');\n    if (button) {\n      const [presetType] = button.className.match(/preset-[^\\s]+/);\n\n      this._setPresetButtonActive(button);\n      this.actions.preset(presetType);\n    }\n  }\n\n  /**\n   * Executed when the menu starts.\n   */\n  changeStartMode() {\n    this.actions.modeChange('crop');\n  }\n\n  /**\n   * Returns the menu to its default state.\n   */\n  changeStandbyMode() {\n    this.actions.stopDrawingMode();\n    this._setPresetButtonActive();\n  }\n\n  /**\n   * Change apply button status\n   * @param {Boolean} enableStatus - apply button status\n   */\n  changeApplyButtonStatus(enableStatus) {\n    if (enableStatus) {\n      this._els.apply.classList.add('active');\n    } else {\n      this._els.apply.classList.remove('active');\n    }\n  }\n\n  /**\n   * Set preset button to active status\n   * @param {HTMLElement} button - event target element\n   * @private\n   */\n  _setPresetButtonActive(button = this.defaultPresetButton) {\n    snippet.forEach([].slice.call(this._els.preset.querySelectorAll('.preset')), (presetButton) => {\n      presetButton.classList.remove('active');\n    });\n\n    if (button) {\n      button.classList.add('active');\n    }\n  }\n}\n\nexport default Crop;\n","import Colorpicker from '@/ui/tools/colorpicker';\nimport Range from '@/ui/tools/range';\nimport Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/draw';\nimport { assignmentForDestroy, getRgb } from '@/util';\nimport { defaultDrawRangeValues, eventNames, selectorNames } from '@/consts';\n\nconst DRAW_OPACITY = 0.7;\n\n/**\n * Draw ui class\n * @class\n * @ignore\n */\nclass Draw extends Submenu {\n  constructor(subMenuElement, { locale, makeSvgIcon, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'draw',\n      makeSvgIcon,\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n\n    this._els = {\n      lineSelectButton: this.selector('.tie-draw-line-select-button'),\n      drawColorPicker: new Colorpicker(\n        this.selector('.tie-draw-color'),\n        '#00a9ff',\n        this.toggleDirection,\n        this.usageStatistics\n      ),\n      drawRange: new Range(\n        {\n          slider: this.selector('.tie-draw-range'),\n          input: this.selector('.tie-draw-range-value'),\n        },\n        defaultDrawRangeValues\n      ),\n    };\n\n    this.type = null;\n    this.color = this._els.drawColorPicker.color;\n    this.width = this._els.drawRange.value;\n\n    this.colorPickerInputBox = this._els.drawColorPicker.colorpickerElement.querySelector(\n      selectorNames.COLOR_PICKER_INPUT_BOX\n    );\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n    this._els.drawColorPicker.destroy();\n    this._els.drawRange.destroy();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Add event for draw\n   * @param {Object} actions - actions for crop\n   *   @param {Function} actions.setDrawMode - set draw mode\n   */\n  addEvent(actions) {\n    this.eventHandler.changeDrawType = this._changeDrawType.bind(this);\n\n    this.actions = actions;\n    this._els.lineSelectButton.addEventListener('click', this.eventHandler.changeDrawType);\n    this._els.drawColorPicker.on('change', this._changeDrawColor.bind(this));\n    this._els.drawRange.on('change', this._changeDrawRange.bind(this));\n\n    this.colorPickerInputBox.addEventListener(\n      eventNames.FOCUS,\n      this._onStartEditingInputBox.bind(this)\n    );\n    this.colorPickerInputBox.addEventListener(\n      eventNames.BLUR,\n      this._onStopEditingInputBox.bind(this)\n    );\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    this._els.lineSelectButton.removeEventListener('click', this.eventHandler.changeDrawType);\n    this._els.drawColorPicker.off();\n    this._els.drawRange.off();\n\n    this.colorPickerInputBox.removeEventListener(\n      eventNames.FOCUS,\n      this._onStartEditingInputBox.bind(this)\n    );\n    this.colorPickerInputBox.removeEventListener(\n      eventNames.BLUR,\n      this._onStopEditingInputBox.bind(this)\n    );\n  }\n\n  /**\n   * set draw mode - action runner\n   */\n  setDrawMode() {\n    this.actions.setDrawMode(this.type, {\n      width: this.width,\n      color: getRgb(this.color, DRAW_OPACITY),\n    });\n  }\n\n  /**\n   * Returns the menu to its default state.\n   */\n  changeStandbyMode() {\n    this.type = null;\n    this.actions.stopDrawingMode();\n    this.actions.changeSelectableAll(true);\n    this._els.lineSelectButton.classList.remove('free');\n    this._els.lineSelectButton.classList.remove('line');\n  }\n\n  /**\n   * Executed when the menu starts.\n   */\n  changeStartMode() {\n    this.type = 'free';\n    this._els.lineSelectButton.classList.add('free');\n    this.setDrawMode();\n  }\n\n  /**\n   * Change draw type event\n   * @param {object} event - line select event\n   * @private\n   */\n  _changeDrawType(event) {\n    const button = event.target.closest('.tui-image-editor-button');\n    if (button) {\n      const lineType = this.getButtonType(button, ['free', 'line']);\n      this.actions.discardSelection();\n\n      if (this.type === lineType) {\n        this.changeStandbyMode();\n\n        return;\n      }\n\n      this.changeStandbyMode();\n      this.type = lineType;\n      this._els.lineSelectButton.classList.add(lineType);\n      this.setDrawMode();\n    }\n  }\n\n  /**\n   * Change drawing color\n   * @param {string} color - select drawing color\n   * @private\n   */\n  _changeDrawColor(color) {\n    this.color = color || 'transparent';\n    if (!this.type) {\n      this.changeStartMode();\n    } else {\n      this.setDrawMode();\n    }\n  }\n\n  /**\n   * Change drawing Range\n   * @param {number} value - select drawing range\n   * @private\n   */\n  _changeDrawRange(value) {\n    this.width = value;\n    if (!this.type) {\n      this.changeStartMode();\n    } else {\n      this.setDrawMode();\n    }\n  }\n}\n\nexport default Draw;\n","import snippet from 'tui-code-snippet';\nimport Colorpicker from '@/ui/tools/colorpicker';\nimport Range from '@/ui/tools/range';\nimport Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/filter';\nimport { toInteger, toCamelCase, assignmentForDestroy } from '@/util';\nimport { defaultFilterRangeValues as FILTER_RANGE, eventNames, selectorNames } from '@/consts';\n\nconst PICKER_CONTROL_HEIGHT = '130px';\nconst BLEND_OPTIONS = ['add', 'diff', 'subtract', 'multiply', 'screen', 'lighten', 'darken'];\nconst FILTER_OPTIONS = [\n  'grayscale',\n  'invert',\n  'sepia',\n  'vintage',\n  'blur',\n  'sharpen',\n  'emboss',\n  'remove-white',\n  'brightness',\n  'noise',\n  'pixelate',\n  'color-filter',\n  'tint',\n  'multiply',\n  'blend',\n];\nconst filterNameMap = {\n  grayscale: 'grayscale',\n  invert: 'invert',\n  sepia: 'sepia',\n  blur: 'blur',\n  sharpen: 'sharpen',\n  emboss: 'emboss',\n  removeWhite: 'removeColor',\n  brightness: 'brightness',\n  contrast: 'contrast',\n  saturation: 'saturation',\n  vintage: 'vintage',\n  polaroid: 'polaroid',\n  noise: 'noise',\n  pixelate: 'pixelate',\n  colorFilter: 'removeColor',\n  tint: 'blendColor',\n  multiply: 'blendColor',\n  blend: 'blendColor',\n  hue: 'hue',\n  gamma: 'gamma',\n};\nconst RANGE_INSTANCE_NAMES = [\n  'removewhiteDistanceRange',\n  'colorfilterThresholdRange',\n  'pixelateRange',\n  'noiseRange',\n  'brightnessRange',\n  'tintOpacity',\n];\nconst COLORPICKER_INSTANCE_NAMES = ['filterBlendColor', 'filterMultiplyColor', 'filterTintColor'];\n\n/**\n * Filter ui class\n * @class\n * @ignore\n */\nclass Filter extends Submenu {\n  constructor(subMenuElement, { locale, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'filter',\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n\n    this.selectBoxShow = false;\n\n    this.checkedMap = {};\n    this._makeControlElement();\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n    this._destroyToolInstance();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Remove event for filter\n   */\n  _removeEvent() {\n    snippet.forEach(FILTER_OPTIONS, (filter) => {\n      const filterCheckElement = this.selector(`.tie-${filter}`);\n      const filterNameCamelCase = toCamelCase(filter);\n\n      filterCheckElement.removeEventListener('change', this.eventHandler[filterNameCamelCase]);\n    });\n\n    snippet.forEach([...RANGE_INSTANCE_NAMES, ...COLORPICKER_INSTANCE_NAMES], (instanceName) => {\n      this._els[instanceName].off();\n    });\n\n    this._els.blendType.removeEventListener('change', this.eventHandler.changeBlendFilter);\n    this._els.blendType.removeEventListener('click', this.eventHandler.changeBlendFilter);\n\n    snippet.forEachArray(\n      this.colorPickerInputBoxes,\n      (inputBox) => {\n        inputBox.removeEventListener(eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n        inputBox.removeEventListener(eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n      },\n      this\n    );\n  }\n\n  _destroyToolInstance() {\n    snippet.forEach([...RANGE_INSTANCE_NAMES, ...COLORPICKER_INSTANCE_NAMES], (instanceName) => {\n      this._els[instanceName].destroy();\n    });\n  }\n\n  /**\n   * Add event for filter\n   * @param {Object} actions - actions for crop\n   *   @param {Function} actions.applyFilter - apply filter option\n   */\n  addEvent({ applyFilter }) {\n    const changeFilterState = (filterName) =>\n      this._changeFilterState.bind(this, applyFilter, filterName);\n    const changeFilterStateForRange = (filterName) => (value, isLast) =>\n      this._changeFilterState(applyFilter, filterName, isLast);\n\n    this.eventHandler = {\n      changeBlendFilter: changeFilterState('blend'),\n      blandTypeClick: (event) => event.stopPropagation(),\n    };\n\n    snippet.forEach(FILTER_OPTIONS, (filter) => {\n      const filterCheckElement = this.selector(`.tie-${filter}`);\n      const filterNameCamelCase = toCamelCase(filter);\n      this.checkedMap[filterNameCamelCase] = filterCheckElement;\n      this.eventHandler[filterNameCamelCase] = changeFilterState(filterNameCamelCase);\n\n      filterCheckElement.addEventListener('change', this.eventHandler[filterNameCamelCase]);\n    });\n\n    this._els.removewhiteDistanceRange.on('change', changeFilterStateForRange('removeWhite'));\n    this._els.colorfilterThresholdRange.on('change', changeFilterStateForRange('colorFilter'));\n    this._els.pixelateRange.on('change', changeFilterStateForRange('pixelate'));\n    this._els.noiseRange.on('change', changeFilterStateForRange('noise'));\n    this._els.brightnessRange.on('change', changeFilterStateForRange('brightness'));\n\n    this._els.filterBlendColor.on('change', this.eventHandler.changeBlendFilter);\n    this._els.filterMultiplyColor.on('change', changeFilterState('multiply'));\n    this._els.filterTintColor.on('change', changeFilterState('tint'));\n    this._els.tintOpacity.on('change', changeFilterStateForRange('tint'));\n    this._els.filterMultiplyColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n    this._els.filterTintColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n    this._els.filterBlendColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n    this._els.blendType.addEventListener('change', this.eventHandler.changeBlendFilter);\n    this._els.blendType.addEventListener('click', this.eventHandler.blandTypeClick);\n\n    snippet.forEachArray(\n      this.colorPickerInputBoxes,\n      (inputBox) => {\n        inputBox.addEventListener(eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n        inputBox.addEventListener(eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n      },\n      this\n    );\n  }\n\n  /**\n   * Set filter for undo changed\n   * @param {Object} changedFilterInfos - changed command infos\n   *   @param {string} type - filter type\n   *   @param {string} action - add or remove\n   *   @param {Object} options - filter options\n   */\n  setFilterState(changedFilterInfos) {\n    const { type, options, action } = changedFilterInfos;\n    const filterName = this._getFilterNameFromOptions(type, options);\n    const isRemove = action === 'remove';\n\n    if (!isRemove) {\n      this._setFilterState(filterName, options);\n    }\n\n    this.checkedMap[filterName].checked = !isRemove;\n  }\n\n  /**\n   * Init all filter's checkbox to unchecked state\n   */\n  initFilterCheckBoxState() {\n    snippet.forEach(\n      this.checkedMap,\n      (filter) => {\n        filter.checked = false;\n      },\n      this\n    );\n  }\n\n  /**\n   * Set filter for undo changed\n   * @param {string} filterName - filter name\n   * @param {Object} options - filter options\n   * @private\n   */\n  // eslint-disable-next-line complexity\n  _setFilterState(filterName, options) {\n    if (filterName === 'colorFilter') {\n      this._els.colorfilterThresholdRange.value = options.distance;\n    } else if (filterName === 'removeWhite') {\n      this._els.removewhiteDistanceRange.value = options.distance;\n    } else if (filterName === 'pixelate') {\n      this._els.pixelateRange.value = options.blocksize;\n    } else if (filterName === 'brightness') {\n      this._els.brightnessRange.value = options.brightness;\n    } else if (filterName === 'noise') {\n      this._els.noiseRange.value = options.noise;\n    } else if (filterName === 'tint') {\n      this._els.tintOpacity.value = options.alpha;\n      this._els.filterTintColor.color = options.color;\n    } else if (filterName === 'blend') {\n      this._els.filterBlendColor.color = options.color;\n    } else if (filterName === 'multiply') {\n      this._els.filterMultiplyColor.color = options.color;\n    }\n  }\n\n  /**\n   * Get filter name\n   * @param {string} type - filter type\n   * @param {Object} options - filter options\n   * @returns {string} filter name\n   * @private\n   */\n  _getFilterNameFromOptions(type, options) {\n    let filterName = type;\n\n    if (type === 'removeColor') {\n      filterName = snippet.isExisty(options.useAlpha) ? 'removeWhite' : 'colorFilter';\n    } else if (type === 'blendColor') {\n      filterName = {\n        add: 'blend',\n        multiply: 'multiply',\n        tint: 'tint',\n      }[options.mode];\n    }\n\n    return filterName;\n  }\n\n  /**\n   * Add event for filter\n   * @param {Function} applyFilter - actions for firter\n   * @param {string} filterName - filter name\n   * @param {boolean} [isLast] - Is last change\n   */\n  _changeFilterState(applyFilter, filterName, isLast = true) {\n    const apply = this.checkedMap[filterName].checked;\n    const type = filterNameMap[filterName];\n\n    const checkboxGroup = this.checkedMap[filterName].closest('.tui-image-editor-checkbox-group');\n    if (checkboxGroup) {\n      if (apply) {\n        checkboxGroup.classList.remove('tui-image-editor-disabled');\n      } else {\n        checkboxGroup.classList.add('tui-image-editor-disabled');\n      }\n    }\n    applyFilter(apply, type, this._getFilterOption(filterName), !isLast);\n  }\n\n  /**\n   * Get filter option\n   * @param {String} type - filter type\n   * @returns {Object} filter option object\n   * @private\n   */\n  // eslint-disable-next-line complexity\n  _getFilterOption(type) {\n    const option = {};\n    switch (type) {\n      case 'removeWhite':\n        option.color = '#FFFFFF';\n        option.useAlpha = false;\n        option.distance = parseFloat(this._els.removewhiteDistanceRange.value);\n        break;\n      case 'colorFilter':\n        option.color = '#FFFFFF';\n        option.distance = parseFloat(this._els.colorfilterThresholdRange.value);\n        break;\n      case 'pixelate':\n        option.blocksize = toInteger(this._els.pixelateRange.value);\n        break;\n      case 'noise':\n        option.noise = toInteger(this._els.noiseRange.value);\n        break;\n      case 'brightness':\n        option.brightness = parseFloat(this._els.brightnessRange.value);\n        break;\n      case 'blend':\n        option.mode = 'add';\n        option.color = this._els.filterBlendColor.color;\n        option.mode = this._els.blendType.value;\n        break;\n      case 'multiply':\n        option.mode = 'multiply';\n        option.color = this._els.filterMultiplyColor.color;\n        break;\n      case 'tint':\n        option.mode = 'tint';\n        option.color = this._els.filterTintColor.color;\n        option.alpha = this._els.tintOpacity.value;\n        break;\n      case 'blur':\n        option.blur = this._els.blurRange.value;\n        break;\n      default:\n        break;\n    }\n\n    return option;\n  }\n\n  /**\n   * Make submenu range and colorpicker control\n   * @private\n   */\n  _makeControlElement() {\n    this._els = {\n      removewhiteDistanceRange: new Range(\n        { slider: this.selector('.tie-removewhite-distance-range') },\n        FILTER_RANGE.removewhiteDistanceRange\n      ),\n      brightnessRange: new Range(\n        { slider: this.selector('.tie-brightness-range') },\n        FILTER_RANGE.brightnessRange\n      ),\n      noiseRange: new Range({ slider: this.selector('.tie-noise-range') }, FILTER_RANGE.noiseRange),\n      pixelateRange: new Range(\n        { slider: this.selector('.tie-pixelate-range') },\n        FILTER_RANGE.pixelateRange\n      ),\n      colorfilterThresholdRange: new Range(\n        { slider: this.selector('.tie-colorfilter-threshold-range') },\n        FILTER_RANGE.colorfilterThresholdRange\n      ),\n      filterTintColor: new Colorpicker(\n        this.selector('.tie-filter-tint-color'),\n        '#03bd9e',\n        this.toggleDirection,\n        this.usageStatistics\n      ),\n      filterMultiplyColor: new Colorpicker(\n        this.selector('.tie-filter-multiply-color'),\n        '#515ce6',\n        this.toggleDirection,\n        this.usageStatistics\n      ),\n      filterBlendColor: new Colorpicker(\n        this.selector('.tie-filter-blend-color'),\n        '#ffbb3b',\n        this.toggleDirection,\n        this.usageStatistics\n      ),\n      blurRange: FILTER_RANGE.blurFilterRange,\n    };\n\n    this._els.tintOpacity = this._pickerWithRange(this._els.filterTintColor.pickerControl);\n    this._els.blendType = this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl);\n\n    this.colorPickerControls.push(this._els.filterTintColor);\n    this.colorPickerControls.push(this._els.filterMultiplyColor);\n    this.colorPickerControls.push(this._els.filterBlendColor);\n\n    this.colorPickerInputBoxes = [];\n    this.colorPickerInputBoxes.push(\n      this._els.filterTintColor.colorpickerElement.querySelector(\n        selectorNames.COLOR_PICKER_INPUT_BOX\n      )\n    );\n    this.colorPickerInputBoxes.push(\n      this._els.filterMultiplyColor.colorpickerElement.querySelector(\n        selectorNames.COLOR_PICKER_INPUT_BOX\n      )\n    );\n    this.colorPickerInputBoxes.push(\n      this._els.filterBlendColor.colorpickerElement.querySelector(\n        selectorNames.COLOR_PICKER_INPUT_BOX\n      )\n    );\n  }\n\n  /**\n   * Make submenu control for picker & range mixin\n   * @param {HTMLElement} pickerControl - pickerControl dom element\n   * @returns {Range}\n   * @private\n   */\n  _pickerWithRange(pickerControl) {\n    const rangeWrap = document.createElement('div');\n    const rangeLabel = document.createElement('label');\n    const slider = document.createElement('div');\n\n    slider.id = 'tie-filter-tint-opacity';\n    rangeLabel.innerHTML = 'Opacity';\n    rangeWrap.appendChild(rangeLabel);\n    rangeWrap.appendChild(slider);\n    pickerControl.appendChild(rangeWrap);\n    pickerControl.style.height = PICKER_CONTROL_HEIGHT;\n\n    return new Range({ slider }, FILTER_RANGE.tintOpacityRange);\n  }\n\n  /**\n   * Make submenu control for picker & selectbox\n   * @param {HTMLElement} pickerControl - pickerControl dom element\n   * @returns {HTMLElement}\n   * @private\n   */\n  _pickerWithSelectbox(pickerControl) {\n    const selectlistWrap = document.createElement('div');\n    const selectlist = document.createElement('select');\n    const optionlist = document.createElement('ul');\n\n    selectlistWrap.className = 'tui-image-editor-selectlist-wrap';\n    optionlist.className = 'tui-image-editor-selectlist';\n\n    selectlistWrap.appendChild(selectlist);\n    selectlistWrap.appendChild(optionlist);\n\n    this._makeSelectOptionList(selectlist);\n\n    pickerControl.appendChild(selectlistWrap);\n    pickerControl.style.height = PICKER_CONTROL_HEIGHT;\n\n    this._drawSelectOptionList(selectlist, optionlist);\n    this._pickerWithSelectboxForAddEvent(selectlist, optionlist);\n\n    return selectlist;\n  }\n\n  /**\n   * Make selectbox option list custom style\n   * @param {HTMLElement} selectlist - selectbox element\n   * @param {HTMLElement} optionlist - custom option list item element\n   * @private\n   */\n  _drawSelectOptionList(selectlist, optionlist) {\n    const options = selectlist.querySelectorAll('option');\n    snippet.forEach(options, (option) => {\n      const optionElement = document.createElement('li');\n      optionElement.innerHTML = option.innerHTML;\n      optionElement.setAttribute('data-item', option.value);\n      optionlist.appendChild(optionElement);\n    });\n  }\n\n  /**\n   * custom selectbox custom event\n   * @param {HTMLElement} selectlist - selectbox element\n   * @param {HTMLElement} optionlist - custom option list item element\n   * @private\n   */\n  _pickerWithSelectboxForAddEvent(selectlist, optionlist) {\n    optionlist.addEventListener('click', (event) => {\n      const optionValue = event.target.getAttribute('data-item');\n      const fireEvent = document.createEvent('HTMLEvents');\n\n      selectlist.querySelector(`[value=\"${optionValue}\"]`).selected = true;\n      fireEvent.initEvent('change', true, true);\n\n      selectlist.dispatchEvent(fireEvent);\n\n      this.selectBoxShow = false;\n      optionlist.style.display = 'none';\n    });\n\n    selectlist.addEventListener('mousedown', (event) => {\n      event.preventDefault();\n      this.selectBoxShow = !this.selectBoxShow;\n      optionlist.style.display = this.selectBoxShow ? 'block' : 'none';\n      optionlist.setAttribute('data-selectitem', selectlist.value);\n      optionlist.querySelector(`[data-item='${selectlist.value}']`).classList.add('active');\n    });\n  }\n\n  /**\n   * Make option list for select control\n   * @param {HTMLElement} selectlist - blend option select list element\n   * @private\n   */\n  _makeSelectOptionList(selectlist) {\n    snippet.forEach(BLEND_OPTIONS, (option) => {\n      const selectOption = document.createElement('option');\n      selectOption.setAttribute('value', option);\n      selectOption.innerHTML = option.replace(/^[a-z]/, ($0) => $0.toUpperCase());\n      selectlist.appendChild(selectOption);\n    });\n  }\n}\n\nexport default Filter;\n","import snippet from 'tui-code-snippet';\nimport Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/flip';\nimport { assignmentForDestroy } from '@/util';\n\n/**\n * Flip ui class\n * @class\n * @ignore\n */\nclass Flip extends Submenu {\n  constructor(subMenuElement, { locale, makeSvgIcon, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'flip',\n      makeSvgIcon,\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n    this.flipStatus = false;\n\n    this._els = {\n      flipButton: this.selector('.tie-flip-button'),\n    };\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Add event for flip\n   * @param {Object} actions - actions for flip\n   *   @param {Function} actions.flip - flip action\n   */\n  addEvent(actions) {\n    this.eventHandler.changeFlip = this._changeFlip.bind(this);\n    this._actions = actions;\n    this._els.flipButton.addEventListener('click', this.eventHandler.changeFlip);\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    this._els.flipButton.removeEventListener('click', this.eventHandler.changeFlip);\n  }\n\n  /**\n   * change Flip status\n   * @param {object} event - change event\n   * @private\n   */\n  _changeFlip(event) {\n    const button = event.target.closest('.tui-image-editor-button');\n    if (button) {\n      const flipType = this.getButtonType(button, ['flipX', 'flipY', 'resetFlip']);\n      if (!this.flipStatus && flipType === 'resetFlip') {\n        return;\n      }\n\n      this._actions.flip(flipType).then((flipStatus) => {\n        const flipClassList = this._els.flipButton.classList;\n        this.flipStatus = false;\n\n        flipClassList.remove('resetFlip');\n        snippet.forEach(['flipX', 'flipY'], (type) => {\n          flipClassList.remove(type);\n          if (flipStatus[type]) {\n            flipClassList.add(type);\n            flipClassList.add('resetFlip');\n            this.flipStatus = true;\n          }\n        });\n      });\n    }\n  }\n}\n\nexport default Flip;\n","import Panel from '@/ui/panelMenu';\nimport templateHtml from '@/ui/template/submenu/history';\nimport { assignmentForDestroy } from '@/util';\n\nconst historyClassName = 'history-item';\nconst selectedClassName = 'selected-item';\nconst disabledClassName = 'disabled-item';\n\n/**\n * History ui class\n * @class\n * @ignore\n */\nclass History extends Panel {\n  constructor(menuElement, { locale, makeSvgIcon }) {\n    super(menuElement, { name: 'history' });\n    menuElement.classList.add('enabled');\n\n    this.locale = locale;\n    this.makeSvgIcon = makeSvgIcon;\n    this._eventHandler = {};\n    this._historyIndex = this.getListLength();\n  }\n\n  /**\n   * Add history\n   * @param {string} name - name of history\n   * @param {?string} detail - detail information of history\n   */\n  add({ name, detail }) {\n    if (this._hasDisabledItem()) {\n      this.deleteListItemElement(this._historyIndex + 1, this.getListLength());\n    }\n\n    const html = templateHtml({ locale: this.locale, makeSvgIcon: this.makeSvgIcon, name, detail });\n    const item = this.makeListItemElement(html);\n\n    this.pushListItemElement(item);\n    this._historyIndex = this.getListLength() - 1;\n    this._selectItem(this._historyIndex);\n  }\n\n  /**\n   * Init history\n   */\n  init() {\n    this.deleteListItemElement(1, this.getListLength());\n    this._historyIndex = 0;\n    this._selectItem(this._historyIndex);\n  }\n\n  /**\n   * Clear history\n   */\n  clear() {\n    this.deleteListItemElement(0, this.getListLength());\n    this._historyIndex = -1;\n  }\n\n  /**\n   * Select previous history of current selected history\n   */\n  prev() {\n    this._historyIndex -= 1;\n    this._selectItem(this._historyIndex);\n  }\n\n  /**\n   * Select next history of current selected history\n   */\n  next() {\n    this._historyIndex += 1;\n    this._selectItem(this._historyIndex);\n  }\n\n  /**\n   * Whether history menu has disabled item\n   * @returns {boolean}\n   */\n  _hasDisabledItem() {\n    return this.getListLength() - 1 > this._historyIndex;\n  }\n\n  /**\n   * Add history menu event\n   * @private\n   */\n  _addHistoryEventListener() {\n    this._eventHandler.history = (event) => this._clickHistoryItem(event);\n    this.listElement.addEventListener('click', this._eventHandler.history);\n  }\n\n  /**\n   * Remove history menu event\n   * @private\n   */\n  _removeHistoryEventListener() {\n    this.listElement.removeEventListener('click', this._eventHandler.history);\n  }\n\n  /**\n   * onClick history menu event listener\n   * @param {object} event - event object\n   * @private\n   */\n  _clickHistoryItem(event) {\n    const { target } = event;\n    const item = target.closest(`.${historyClassName}`);\n\n    if (!item) {\n      return;\n    }\n\n    const index = Number.parseInt(item.getAttribute('data-index'), 10);\n\n    if (index !== this._historyIndex) {\n      const count = Math.abs(index - this._historyIndex);\n\n      if (index < this._historyIndex) {\n        this._actions.undo(count);\n      } else {\n        this._actions.redo(count);\n      }\n    }\n  }\n\n  /**\n   * Change item's state to selected state\n   * @param {number} index - index of selected item\n   */\n  _selectItem(index) {\n    for (let i = 0; i < this.getListLength(); i += 1) {\n      this.removeClass(i, selectedClassName);\n      this.removeClass(i, disabledClassName);\n      if (i > index) {\n        this.addClass(i, disabledClassName);\n      }\n    }\n    this.addClass(index, selectedClassName);\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this.removeEvent();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Add event for history\n   * @param {Object} actions - actions for crop\n   *   @param {Function} actions.undo - undo action\n   *   @param {Function} actions.redo - redo action\n   */\n  addEvent(actions) {\n    this._actions = actions;\n    this._addHistoryEventListener();\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  removeEvent() {\n    this._removeHistoryEventListener();\n  }\n}\n\nexport default History;\n","import snippet from 'tui-code-snippet';\nimport Colorpicker from '@/ui/tools/colorpicker';\nimport Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/icon';\nimport { isSupportFileApi, assignmentForDestroy } from '@/util';\nimport { defaultIconPath, eventNames, selectorNames } from '@/consts';\n\n/**\n * Icon ui class\n * @class\n * @ignore\n */\nclass Icon extends Submenu {\n  constructor(subMenuElement, { locale, makeSvgIcon, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'icon',\n      makeSvgIcon,\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n\n    this.iconType = null;\n    this._iconMap = {};\n\n    this._els = {\n      registerIconButton: this.selector('.tie-icon-image-file'),\n      addIconButton: this.selector('.tie-icon-add-button'),\n      iconColorpicker: new Colorpicker(\n        this.selector('.tie-icon-color'),\n        '#ffbb3b',\n        this.toggleDirection,\n        this.usageStatistics\n      ),\n    };\n\n    this.colorPickerInputBox = this._els.iconColorpicker.colorpickerElement.querySelector(\n      selectorNames.COLOR_PICKER_INPUT_BOX\n    );\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n    this._els.iconColorpicker.destroy();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Add event for icon\n   * @param {Object} actions - actions for icon\n   *   @param {Function} actions.registerCustomIcon - register icon\n   *   @param {Function} actions.addIcon - add icon\n   *   @param {Function} actions.changeColor - change icon color\n   */\n  addEvent(actions) {\n    const registerIcon = this._registerIconHandler.bind(this);\n    const addIcon = this._addIconHandler.bind(this);\n\n    this.eventHandler = {\n      registerIcon,\n      addIcon,\n    };\n\n    this.actions = actions;\n    this._els.iconColorpicker.on('change', this._changeColorHandler.bind(this));\n    this._els.registerIconButton.addEventListener('change', registerIcon);\n    this._els.addIconButton.addEventListener('click', addIcon);\n\n    this.colorPickerInputBox.addEventListener(\n      eventNames.FOCUS,\n      this._onStartEditingInputBox.bind(this)\n    );\n    this.colorPickerInputBox.addEventListener(\n      eventNames.BLUR,\n      this._onStopEditingInputBox.bind(this)\n    );\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    this._els.iconColorpicker.off();\n    this._els.registerIconButton.removeEventListener('change', this.eventHandler.registerIcon);\n    this._els.addIconButton.removeEventListener('click', this.eventHandler.addIcon);\n\n    this.colorPickerInputBox.removeEventListener(\n      eventNames.FOCUS,\n      this._onStartEditingInputBox.bind(this)\n    );\n    this.colorPickerInputBox.removeEventListener(\n      eventNames.BLUR,\n      this._onStopEditingInputBox.bind(this)\n    );\n  }\n\n  /**\n   * Clear icon type\n   */\n  clearIconType() {\n    this._els.addIconButton.classList.remove(this.iconType);\n    this.iconType = null;\n  }\n\n  /**\n   * Register default icon\n   */\n  registerDefaultIcon() {\n    snippet.forEach(defaultIconPath, (path, type) => {\n      this.actions.registerDefaultIcons(type, path);\n    });\n  }\n\n  /**\n   * Set icon picker color\n   * @param {string} iconColor - rgb color string\n   */\n  setIconPickerColor(iconColor) {\n    this._els.iconColorpicker.color = iconColor;\n  }\n\n  /**\n   * Returns the menu to its default state.\n   */\n  changeStandbyMode() {\n    this.clearIconType();\n    this.actions.cancelAddIcon();\n  }\n\n  /**\n   * Change icon color\n   * @param {string} color - color for change\n   * @private\n   */\n  _changeColorHandler(color) {\n    color = color || 'transparent';\n    this.actions.changeColor(color);\n  }\n\n  /**\n   * Change icon color\n   * @param {object} event - add button event object\n   * @private\n   */\n  _addIconHandler(event) {\n    const button = event.target.closest('.tui-image-editor-button');\n\n    if (button) {\n      const iconType = button.getAttribute('data-icontype');\n      const iconColor = this._els.iconColorpicker.color;\n      this.actions.discardSelection();\n      this.actions.changeSelectableAll(false);\n      this._els.addIconButton.classList.remove(this.iconType);\n      this._els.addIconButton.classList.add(iconType);\n\n      if (this.iconType === iconType) {\n        this.changeStandbyMode();\n      } else {\n        this.actions.addIcon(iconType, iconColor);\n        this.iconType = iconType;\n      }\n    }\n  }\n\n  /**\n   * register icon\n   * @param {object} event - file change event object\n   * @private\n   */\n  _registerIconHandler(event) {\n    let imgUrl;\n\n    if (!isSupportFileApi) {\n      alert('This browser does not support file-api');\n    }\n\n    const [file] = event.target.files;\n\n    if (file) {\n      imgUrl = URL.createObjectURL(file);\n      this.actions.registerCustomIcon(imgUrl, file);\n    }\n  }\n}\n\nexport default Icon;\n","/**\n * Translate messages\n */\nclass Locale {\n  constructor(locale) {\n    this._locale = locale;\n  }\n\n  /**\n   * localize message\n   * @param {string} message - message who will be localized\n   * @returns {string}\n   */\n  localize(message) {\n    return this._locale[message] || message;\n  }\n}\n\nexport default Locale;\n","import Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/mask';\nimport { assignmentForDestroy, isSupportFileApi } from '@/util';\n\n/**\n * Mask ui class\n * @class\n * @ignore\n */\nclass Mask extends Submenu {\n  constructor(subMenuElement, { locale, makeSvgIcon, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'mask',\n      makeSvgIcon,\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n\n    this._els = {\n      applyButton: this.selector('.tie-mask-apply'),\n      maskImageButton: this.selector('.tie-mask-image-file'),\n    };\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Add event for mask\n   * @param {Object} actions - actions for crop\n   *   @param {Function} actions.loadImageFromURL - load image action\n   *   @param {Function} actions.applyFilter - apply filter action\n   */\n  addEvent(actions) {\n    const loadMaskFile = this._loadMaskFile.bind(this);\n    const applyMask = this._applyMask.bind(this);\n\n    this.eventHandler = {\n      loadMaskFile,\n      applyMask,\n    };\n\n    this.actions = actions;\n    this._els.maskImageButton.addEventListener('change', loadMaskFile);\n    this._els.applyButton.addEventListener('click', applyMask);\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    this._els.maskImageButton.removeEventListener('change', this.eventHandler.loadMaskFile);\n    this._els.applyButton.removeEventListener('click', this.eventHandler.applyMask);\n  }\n\n  /**\n   * Apply mask\n   * @private\n   */\n  _applyMask() {\n    this.actions.applyFilter();\n    this._els.applyButton.classList.remove('active');\n  }\n\n  /**\n   * Load mask file\n   * @param {object} event - File change event object\n   * @private\n   */\n  _loadMaskFile(event) {\n    let imgUrl;\n\n    if (!isSupportFileApi()) {\n      alert('This browser does not support file-api');\n    }\n\n    const [file] = event.target.files;\n\n    if (file) {\n      imgUrl = URL.createObjectURL(file);\n      this.actions.loadImageFromURL(imgUrl, file);\n      this._els.applyButton.classList.add('active');\n    }\n  }\n}\n\nexport default Mask;\n","/**\n * Menu Panel Class\n * @class\n * @ignore\n */\n\nclass Panel {\n  /**\n   * @param {HTMLElement} menuElement - menu dom element\n   * @param {Object} options - menu options\n   *   @param {string} options.name - name of panel menu\n   */\n  constructor(menuElement, { name }) {\n    this.name = name;\n    this.items = [];\n\n    this.panelElement = this._makePanelElement();\n    this.listElement = this._makeListElement();\n\n    this.panelElement.appendChild(this.listElement);\n    menuElement.appendChild(this.panelElement);\n  }\n\n  /**\n   * Make Panel element\n   * @returns {HTMLElement}\n   */\n  _makePanelElement() {\n    const panel = document.createElement('div');\n\n    panel.className = `tie-panel-${this.name}`;\n\n    return panel;\n  }\n\n  /**\n   * Make list element\n   * @returns {HTMLElement} list element\n   * @private\n   */\n  _makeListElement() {\n    const list = document.createElement('ol');\n\n    list.className = `${this.name}-list`;\n\n    return list;\n  }\n\n  /**\n   * Make list item element\n   * @param {string} html - history list item html\n   * @returns {HTMLElement} list item element\n   */\n  makeListItemElement(html) {\n    const listItem = document.createElement('li');\n\n    listItem.innerHTML = html;\n    listItem.className = `${this.name}-item`;\n    listItem.setAttribute('data-index', this.items.length);\n\n    return listItem;\n  }\n\n  /**\n   * Push list item element\n   * @param {HTMLElement} item - list item element to add to the list\n   */\n  pushListItemElement(item) {\n    this.listElement.appendChild(item);\n    this.listElement.scrollTop += item.offsetHeight;\n    this.items.push(item);\n  }\n\n  /**\n   * Delete list item element\n   * @param {number} start - start index to delete\n   * @param {number} end - end index to delete\n   */\n  deleteListItemElement(start, end) {\n    const { items } = this;\n\n    for (let i = start; i < end; i += 1) {\n      this.listElement.removeChild(items[i]);\n    }\n    items.splice(start, end - start + 1);\n  }\n\n  /**\n   * Get list's length\n   * @returns {number}\n   */\n  getListLength() {\n    return this.items.length;\n  }\n\n  /**\n   * Add class name of item\n   * @param {number} index - index of item\n   * @param {string} className - class name to add\n   */\n  addClass(index, className) {\n    if (this.items[index]) {\n      this.items[index].classList.add(className);\n    }\n  }\n\n  /**\n   * Remove class name of item\n   * @param {number} index - index of item\n   * @param {string} className - class name to remove\n   */\n  removeClass(index, className) {\n    if (this.items[index]) {\n      this.items[index].classList.remove(className);\n    }\n  }\n\n  /**\n   * Toggle class name of item\n   * @param {number} index - index of item\n   * @param {string} className - class name to remove\n   */\n  toggleClass(index, className) {\n    if (this.items[index]) {\n      this.items[index].classList.toggle(className);\n    }\n  }\n}\n\nexport default Panel;\n","import Range from '@/ui/tools/range';\nimport Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/rotate';\nimport { toInteger, assignmentForDestroy } from '@/util';\nimport { defaultRotateRangeValues } from '@/consts';\n\nconst CLOCKWISE = 30;\nconst COUNTERCLOCKWISE = -30;\n\n/**\n * Rotate ui class\n * @class\n * @ignore\n */\nclass Rotate extends Submenu {\n  constructor(subMenuElement, { locale, makeSvgIcon, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'rotate',\n      makeSvgIcon,\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n    this._value = 0;\n\n    this._els = {\n      rotateButton: this.selector('.tie-rotate-button'),\n      rotateRange: new Range(\n        {\n          slider: this.selector('.tie-rotate-range'),\n          input: this.selector('.tie-rotate-range-value'),\n        },\n        defaultRotateRangeValues\n      ),\n    };\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n    this._els.rotateRange.destroy();\n\n    assignmentForDestroy(this);\n  }\n\n  setRangeBarAngle(type, angle) {\n    let resultAngle = angle;\n\n    if (type === 'rotate') {\n      resultAngle = parseInt(this._els.rotateRange.value, 10) + angle;\n    }\n\n    this._setRangeBarRatio(resultAngle);\n  }\n\n  _setRangeBarRatio(angle) {\n    this._els.rotateRange.value = angle;\n  }\n\n  /**\n   * Add event for rotate\n   * @param {Object} actions - actions for crop\n   *   @param {Function} actions.rotate - rotate action\n   *   @param {Function} actions.setAngle - set angle action\n   */\n  addEvent(actions) {\n    this.eventHandler.rotationAngleChanged = this._changeRotateForButton.bind(this);\n\n    // {rotate, setAngle}\n    this.actions = actions;\n    this._els.rotateButton.addEventListener('click', this.eventHandler.rotationAngleChanged);\n    this._els.rotateRange.on('change', this._changeRotateForRange.bind(this));\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    this._els.rotateButton.removeEventListener('click', this.eventHandler.rotationAngleChanged);\n    this._els.rotateRange.off();\n  }\n\n  /**\n   * Change rotate for range\n   * @param {number} value - angle value\n   * @param {boolean} isLast - Is last change\n   * @private\n   */\n  _changeRotateForRange(value, isLast) {\n    const angle = toInteger(value);\n    this.actions.setAngle(angle, !isLast);\n    this._value = angle;\n  }\n\n  /**\n   * Change rotate for button\n   * @param {object} event - add button event object\n   * @private\n   */\n  _changeRotateForButton(event) {\n    const button = event.target.closest('.tui-image-editor-button');\n    const angle = this._els.rotateRange.value;\n\n    if (button) {\n      const rotateType = this.getButtonType(button, ['counterclockwise', 'clockwise']);\n      const rotateAngle = {\n        clockwise: CLOCKWISE,\n        counterclockwise: COUNTERCLOCKWISE,\n      }[rotateType];\n      const newAngle = parseInt(angle, 10) + rotateAngle;\n      const isRotatable = newAngle >= -360 && newAngle <= 360;\n      if (isRotatable) {\n        this.actions.rotate(rotateAngle);\n      }\n    }\n  }\n}\n\nexport default Rotate;\n","import snippet from 'tui-code-snippet';\nimport Colorpicker from '@/ui/tools/colorpicker';\nimport Range from '@/ui/tools/range';\nimport Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/shape';\nimport { toInteger, assignmentForDestroy } from '@/util';\nimport { defaultShapeStrokeValues, eventNames, selectorNames } from '@/consts';\n\nconst SHAPE_DEFAULT_OPTION = {\n  stroke: '#ffbb3b',\n  fill: '',\n  strokeWidth: 3,\n};\n\n/**\n * Shape ui class\n * @class\n * @ignore\n */\nclass Shape extends Submenu {\n  constructor(subMenuElement, { locale, makeSvgIcon, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'shape',\n      makeSvgIcon,\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n    this.type = null;\n    this.options = SHAPE_DEFAULT_OPTION;\n\n    this._els = {\n      shapeSelectButton: this.selector('.tie-shape-button'),\n      shapeColorButton: this.selector('.tie-shape-color-button'),\n      strokeRange: new Range(\n        {\n          slider: this.selector('.tie-stroke-range'),\n          input: this.selector('.tie-stroke-range-value'),\n        },\n        defaultShapeStrokeValues\n      ),\n      fillColorpicker: new Colorpicker(\n        this.selector('.tie-color-fill'),\n        '',\n        this.toggleDirection,\n        this.usageStatistics\n      ),\n      strokeColorpicker: new Colorpicker(\n        this.selector('.tie-color-stroke'),\n        '#ffbb3b',\n        this.toggleDirection,\n        this.usageStatistics\n      ),\n    };\n\n    this.colorPickerControls.push(this._els.fillColorpicker);\n    this.colorPickerControls.push(this._els.strokeColorpicker);\n\n    this.colorPickerInputBoxes = [];\n    this.colorPickerInputBoxes.push(\n      this._els.fillColorpicker.colorpickerElement.querySelector(\n        selectorNames.COLOR_PICKER_INPUT_BOX\n      )\n    );\n    this.colorPickerInputBoxes.push(\n      this._els.strokeColorpicker.colorpickerElement.querySelector(\n        selectorNames.COLOR_PICKER_INPUT_BOX\n      )\n    );\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n    this._els.strokeRange.destroy();\n    this._els.fillColorpicker.destroy();\n    this._els.strokeColorpicker.destroy();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Add event for shape\n   * @param {Object} actions - actions for shape\n   *   @param {Function} actions.changeShape - change shape mode\n   *   @param {Function} actions.setDrawingShape - set drawing shape\n   */\n  addEvent(actions) {\n    this.eventHandler.shapeTypeSelected = this._changeShapeHandler.bind(this);\n    this.actions = actions;\n\n    this._els.shapeSelectButton.addEventListener('click', this.eventHandler.shapeTypeSelected);\n    this._els.strokeRange.on('change', this._changeStrokeRangeHandler.bind(this));\n    this._els.fillColorpicker.on('change', this._changeFillColorHandler.bind(this));\n    this._els.strokeColorpicker.on('change', this._changeStrokeColorHandler.bind(this));\n    this._els.fillColorpicker.on('changeShow', this.colorPickerChangeShow.bind(this));\n    this._els.strokeColorpicker.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n    snippet.forEachArray(\n      this.colorPickerInputBoxes,\n      (inputBox) => {\n        inputBox.addEventListener(eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n        inputBox.addEventListener(eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n      },\n      this\n    );\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    this._els.shapeSelectButton.removeEventListener('click', this.eventHandler.shapeTypeSelected);\n    this._els.strokeRange.off();\n    this._els.fillColorpicker.off();\n    this._els.strokeColorpicker.off();\n\n    snippet.forEachArray(\n      this.colorPickerInputBoxes,\n      (inputBox) => {\n        inputBox.removeEventListener(eventNames.FOCUS, this._onStartEditingInputBox.bind(this));\n        inputBox.removeEventListener(eventNames.BLUR, this._onStopEditingInputBox.bind(this));\n      },\n      this\n    );\n  }\n\n  /**\n   * Set Shape status\n   * @param {Object} options - options of shape status\n   *   @param {string} strokeWidth - stroke width\n   *   @param {string} strokeColor - stroke color\n   *   @param {string} fillColor - fill color\n   */\n  setShapeStatus({ strokeWidth, strokeColor, fillColor }) {\n    this._els.strokeRange.value = strokeWidth;\n    this._els.strokeColorpicker.color = strokeColor;\n    this._els.fillColorpicker.color = fillColor;\n    this.options.stroke = strokeColor;\n    this.options.fill = fillColor;\n    this.options.strokeWidth = strokeWidth;\n\n    this.actions.setDrawingShape(this.type, { strokeWidth });\n  }\n\n  /**\n   * Executed when the menu starts.\n   */\n  changeStartMode() {\n    this.actions.stopDrawingMode();\n  }\n\n  /**\n   * Returns the menu to its default state.\n   */\n  changeStandbyMode() {\n    this.type = null;\n    this.actions.changeSelectableAll(true);\n    this._els.shapeSelectButton.classList.remove('circle');\n    this._els.shapeSelectButton.classList.remove('triangle');\n    this._els.shapeSelectButton.classList.remove('rect');\n  }\n\n  /**\n   * set range stroke max value\n   * @param {number} maxValue - expect max value for change\n   */\n  setMaxStrokeValue(maxValue) {\n    let strokeMaxValue = maxValue;\n    if (strokeMaxValue <= 0) {\n      strokeMaxValue = defaultShapeStrokeValues.max;\n    }\n    this._els.strokeRange.max = strokeMaxValue;\n  }\n\n  /**\n   * Set stroke value\n   * @param {number} value - expect value for strokeRange change\n   */\n  setStrokeValue(value) {\n    this._els.strokeRange.value = value;\n    this._els.strokeRange.trigger('change');\n  }\n\n  /**\n   * Get stroke value\n   * @returns {number} - stroke range value\n   */\n  getStrokeValue() {\n    return this._els.strokeRange.value;\n  }\n\n  /**\n   * Change icon color\n   * @param {object} event - add button event object\n   * @private\n   */\n  _changeShapeHandler(event) {\n    const button = event.target.closest('.tui-image-editor-button');\n    if (button) {\n      this.actions.stopDrawingMode();\n      this.actions.discardSelection();\n      const shapeType = this.getButtonType(button, ['circle', 'triangle', 'rect']);\n\n      if (this.type === shapeType) {\n        this.changeStandbyMode();\n\n        return;\n      }\n      this.changeStandbyMode();\n      this.type = shapeType;\n      event.currentTarget.classList.add(shapeType);\n      this.actions.changeSelectableAll(false);\n      this.actions.modeChange('shape');\n    }\n  }\n\n  /**\n   * Change stroke range\n   * @param {number} value - stroke range value\n   * @param {boolean} isLast - Is last change\n   * @private\n   */\n  _changeStrokeRangeHandler(value, isLast) {\n    this.options.strokeWidth = toInteger(value);\n    this.actions.changeShape(\n      {\n        strokeWidth: value,\n      },\n      !isLast\n    );\n\n    this.actions.setDrawingShape(this.type, this.options);\n  }\n\n  /**\n   * Change shape color\n   * @param {string} color - fill color\n   * @private\n   */\n  _changeFillColorHandler(color) {\n    color = color || 'transparent';\n    this.options.fill = color;\n    this.actions.changeShape({\n      fill: color,\n    });\n  }\n\n  /**\n   * Change shape stroke color\n   * @param {string} color - fill color\n   * @private\n   */\n  _changeStrokeColorHandler(color) {\n    color = color || 'transparent';\n    this.options.stroke = color;\n    this.actions.changeShape({\n      stroke: color,\n    });\n  }\n}\n\nexport default Shape;\n","import { CustomEvents } from 'tui-code-snippet';\nimport { eventNames } from '@/consts';\n\n/**\n * Submenu Base Class\n * @class\n * @ignore\n */\nclass Submenu {\n  /**\n   * @param {HTMLElement} subMenuElement - submenu dom element\n   * @param {Locale} locale - translate text\n   * @param {string} name - name of sub menu\n   * @param {Object} iconStyle - style of icon\n   * @param {string} menuBarPosition - position of menu\n   * @param {*} templateHtml - template for SubMenuElement\n   * @param {boolean} [usageStatistics=false] - template for SubMenuElement\n   */\n  constructor(\n    subMenuElement,\n    { locale, name, makeSvgIcon, menuBarPosition, templateHtml, usageStatistics }\n  ) {\n    this.subMenuElement = subMenuElement;\n    this.menuBarPosition = menuBarPosition;\n    this.toggleDirection = menuBarPosition === 'top' ? 'down' : 'up';\n    this.colorPickerControls = [];\n    this.usageStatistics = usageStatistics;\n    this.eventHandler = {};\n    this._makeSubMenuElement({\n      locale,\n      name,\n      makeSvgIcon,\n      templateHtml,\n    });\n  }\n\n  /**\n   * editor dom ui query selector\n   * @param {string} selectName - query selector string name\n   * @returns {HTMLElement}\n   */\n  selector(selectName) {\n    return this.subMenuElement.querySelector(selectName);\n  }\n\n  /**\n   * change show state change for colorpicker instance\n   * @param {Colorpicker} occurredControl - target Colorpicker Instance\n   */\n  colorPickerChangeShow(occurredControl) {\n    this.colorPickerControls.forEach((pickerControl) => {\n      if (occurredControl !== pickerControl) {\n        pickerControl.hide();\n      }\n    });\n  }\n\n  /**\n   * Get button type\n   * @param {HTMLElement} button - event target element\n   * @param {array} buttonNames - Array of button names\n   * @returns {string} - button type\n   */\n  getButtonType(button, buttonNames) {\n    return button.className.match(RegExp(`(${buttonNames.join('|')})`))[0];\n  }\n\n  /**\n   * Get button type\n   * @param {HTMLElement} target - event target element\n   * @param {string} removeClass - remove class name\n   * @param {string} addClass - add class name\n   */\n  changeClass(target, removeClass, addClass) {\n    target.classList.remove(removeClass);\n    target.classList.add(addClass);\n  }\n\n  /**\n   * Interface method whose implementation is optional.\n   * Returns the menu to its default state.\n   */\n  changeStandbyMode() {}\n\n  /**\n   * Interface method whose implementation is optional.\n   * Executed when the menu starts.\n   */\n  changeStartMode() {}\n\n  /**\n   * Make submenu dom element\n   * @param {Locale} locale - translate text\n   * @param {string} name - submenu name\n   * @param {Object} iconStyle -  icon style\n   * @param {*} templateHtml - template for SubMenuElement\n   * @private\n   */\n  _makeSubMenuElement({ locale, name, iconStyle, makeSvgIcon, templateHtml }) {\n    const iconSubMenu = document.createElement('div');\n    iconSubMenu.className = `tui-image-editor-menu-${name}`;\n    iconSubMenu.innerHTML = templateHtml({\n      locale,\n      iconStyle,\n      makeSvgIcon,\n    });\n\n    this.subMenuElement.appendChild(iconSubMenu);\n  }\n\n  _onStartEditingInputBox() {\n    this.fire(eventNames.INPUT_BOX_EDITING_STARTED);\n  }\n\n  _onStopEditingInputBox() {\n    this.fire(eventNames.INPUT_BOX_EDITING_STOPPED);\n  }\n}\n\nCustomEvents.mixin(Submenu);\n\nexport default Submenu;\n","import { getHelpMenuBarPosition } from '@/util';\n\nexport default ({ locale, biImage, loadButtonStyle, downloadButtonStyle, menuBarPosition }) => `\n    <ul class=\"tui-image-editor-help-menu ${getHelpMenuBarPosition(menuBarPosition)}\"></ul>\n    <div class=\"tui-image-editor-controls\">\n        <div class=\"tui-image-editor-controls-logo\">\n            <img src=\"${biImage}\" />\n        </div>\n        <ul class=\"tui-image-editor-menu\"></ul>\n\n        <div class=\"tui-image-editor-controls-buttons\">\n            <div style=\"${loadButtonStyle}\">\n                ${locale.localize('Load')}\n                <input type=\"file\" class=\"tui-image-editor-load-btn\" />\n            </div>\n            <button class=\"tui-image-editor-download-btn\" style=\"${downloadButtonStyle}\">\n                ${locale.localize('Download')}\n            </button>\n        </div>\n    </div>\n`;\n","export default ({\n  locale,\n  biImage,\n  commonStyle,\n  headerStyle,\n  loadButtonStyle,\n  downloadButtonStyle,\n  submenuStyle,\n}) => `\n    <div class=\"tui-image-editor-main-container\" style=\"${commonStyle}\">\n        <div class=\"tui-image-editor-header\" style=\"${headerStyle}\">\n            <div class=\"tui-image-editor-header-logo\">\n                <img src=\"${biImage}\" />\n            </div>\n            <div class=\"tui-image-editor-header-buttons\">\n                <div style=\"${loadButtonStyle}\">\n                    ${locale.localize('Load')}\n                    <input type=\"file\" class=\"tui-image-editor-load-btn\" />\n                </div>\n                <button class=\"tui-image-editor-download-btn\" style=\"${downloadButtonStyle}\">\n                    ${locale.localize('Download')}\n                </button>\n            </div>\n        </div>\n        <div class=\"tui-image-editor-main\">\n            <div class=\"tui-image-editor-submenu\">\n                <div class=\"tui-image-editor-submenu-style\" style=\"${submenuStyle}\"></div>\n            </div>\n            <div class=\"tui-image-editor-wrap\">\n                <div class=\"tui-image-editor-size-wrap\">\n                    <div class=\"tui-image-editor-align-wrap\">\n                        <div class=\"tui-image-editor\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n`;\n","export default ({\n  subMenuLabelActive,\n  subMenuLabelNormal,\n  subMenuRangeTitle,\n  submenuPartitionVertical,\n  submenuPartitionHorizontal,\n  submenuCheckbox,\n  submenuRangePointer,\n  submenuRangeValue,\n  submenuColorpickerTitle,\n  submenuColorpickerButton,\n  submenuRangeBar,\n  submenuRangeSubbar,\n  submenuDisabledRangePointer,\n  submenuDisabledRangeBar,\n  submenuDisabledRangeSubbar,\n  submenuIconSize,\n  menuIconSize,\n  biSize,\n  menuIconStyle,\n  submenuIconStyle,\n}) => `\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\"icon-bubble\"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype=\"icon-heart\"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype=\"icon-location\"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype=\"icon-polygon\"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype=\"icon-star\"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype=\"icon-star-2\"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype=\"icon-arrow-3\"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype=\"icon-arrow-2\"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype=\"icon-arrow\"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\"icon-bubble\"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.left .tui-image-editor-button.left label,\n    .tie-text-align-button.center .tui-image-editor-button.center label,\n    .tie-text-align-button.right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        ${subMenuLabelActive}\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        ${subMenuLabelNormal}\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        ${subMenuRangeTitle}\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        ${submenuPartitionVertical}\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        ${submenuPartitionHorizontal}\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        ${submenuCheckbox}\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        ${submenuRangePointer}\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        ${submenuRangeBar}\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        ${submenuRangeSubbar}\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        ${submenuDisabledRangePointer}\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        ${submenuDisabledRangeSubbar}\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        ${submenuDisabledRangeBar}\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        ${submenuRangeValue}\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        ${submenuColorpickerTitle}\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        ${submenuColorpickerButton}\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        ${menuIconSize}\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        ${submenuIconSize}\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        ${biSize}\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ${menuIconStyle.normal.color};\n        stroke: ${menuIconStyle.normal.color};\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ${menuIconStyle.active.color};\n        stroke: ${menuIconStyle.active.color};\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: ${menuIconStyle.hover.color};\n        stroke: ${menuIconStyle.hover.color};\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: ${menuIconStyle.disabled.color};\n        stroke: ${menuIconStyle.disabled.color};\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ${submenuIconStyle.normal.color};\n        stroke: ${submenuIconStyle.normal.color};\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ${submenuIconStyle.active.color};\n        stroke: ${submenuIconStyle.active.color};\n    }\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon }) => `\n    <ul class=\"tui-image-editor-submenu-item\">\n        <li class=\"tie-crop-preset-button\">\n            <div class=\"tui-image-editor-button preset preset-none active\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'shape-rectangle', true)}\n                </div>\n                <label> ${locale.localize('Custom')} </label>\n            </div>\n            <div class=\"tui-image-editor-button preset preset-square\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'crop', true)}\n                </div>\n                <label> ${locale.localize('Square')} </label>\n            </div>\n            <div class=\"tui-image-editor-button preset preset-3-2\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'crop', true)}\n                </div>\n                <label> ${locale.localize('3:2')} </label>\n            </div>\n            <div class=\"tui-image-editor-button preset preset-4-3\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'crop', true)}\n                </div>\n                <label> ${locale.localize('4:3')} </label>\n            </div>\n            <div class=\"tui-image-editor-button preset preset-5-4\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'crop', true)}\n                </div>\n                <label> ${locale.localize('5:4')} </label>\n            </div>\n            <div class=\"tui-image-editor-button preset preset-7-5\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'crop', true)}\n                </div>\n                <label> ${locale.localize('7:5')} </label>\n            </div>\n            <div class=\"tui-image-editor-button preset preset-16-9\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'crop', true)}\n                </div>\n                <label> ${locale.localize('16:9')} </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition tui-image-editor-newline\">\n        </li>\n        <li class=\"tui-image-editor-partition only-left-right\">\n            <div></div>\n        </li>\n        <li class=\"tie-crop-button action\">\n            <div class=\"tui-image-editor-button apply\">\n                ${makeSvgIcon(['normal', 'active'], 'apply')}\n                <label>\n                    ${locale.localize('Apply')}\n                </label>\n            </div>\n            <div class=\"tui-image-editor-button cancel\">\n                ${makeSvgIcon(['normal', 'active'], 'cancel')}\n                <label>\n                    ${locale.localize('Cancel')}\n                </label>\n            </div>\n        </li>\n    </ul>\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon }) => `\n    <ul class=\"tui-image-editor-submenu-item\">\n        <li class=\"tie-draw-line-select-button\">\n            <div class=\"tui-image-editor-button free\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'draw-free', true)}\n                </div>\n                <label>\n                    ${locale.localize('Free')}\n                </label>\n            </div>\n            <div class=\"tui-image-editor-button line\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'draw-line', true)}\n                </div>\n                <label>\n                    ${locale.localize('Straight')}\n                </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li>\n            <div class=\"tie-draw-color\" title=\"${locale.localize('Color')}\"></div>\n        </li>\n        <li class=\"tui-image-editor-partition only-left-right\">\n            <div></div>\n        </li>\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\n            <label class=\"range\">${locale.localize('Range')}</label>\n            <div class=\"tie-draw-range\"></div>\n            <input class=\"tie-draw-range-value tui-image-editor-range-value\" value=\"0\" />\n        </li>\n    </ul>\n`;\n","/**\n * @param {Locale} locale - Translate text\n * @returns {string}\n */\nexport default ({ locale }) => `\n    <ul class=\"tui-image-editor-submenu-item\">\n        <li class=\"tui-image-editor-submenu-align\">\n            <div class=\"tui-image-editor-checkbox-wrap fixed-width\">\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-grayscale\">\n                        <span>${locale.localize('Grayscale')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-invert\">\n                        <span>${locale.localize('Invert')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-sepia\">\n                        <span>${locale.localize('Sepia')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-vintage\">\n                        <span>${locale.localize('Sepia2')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-blur\">\n                        <span>${locale.localize('Blur')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-sharpen\">\n                        <span>${locale.localize('Sharpen')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-emboss\">\n                        <span>${locale.localize('Emboss')}</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li class=\"tui-image-editor-submenu-align\">\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\" style=\"margin-bottom: 7px;\">\n                <div class=\"tui-image-editor-checkbox-wrap\">\n                    <div class=\"tui-image-editor-checkbox\">\n                        <label>\n                            <input type=\"checkbox\" class=\"tie-remove-white\">\n                            <span>${locale.localize('Remove White')}</span>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"tui-image-editor-newline tui-image-editor-range-wrap short\">\n                    <label>${locale.localize('Distance')}</label>\n                    <div class=\"tie-removewhite-distance-range\"></div>\n                </div>\n            </div>\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\">\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-brightness\">\n                        <span>${locale.localize('Brightness')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-range-wrap short\">\n                    <div class=\"tie-brightness-range\"></div>\n                </div>\n            </div>\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\">\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-noise\">\n                        <span>${locale.localize('Noise')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-range-wrap short\">\n                    <div class=\"tie-noise-range\"></div>\n                </div>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition only-left-right\">\n            <div></div>\n        </li>\n        <li class=\"tui-image-editor-submenu-align\">\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\">\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-pixelate\">\n                        <span>${locale.localize('Pixelate')}</span>\n                    </label>\n                </div>\n                <div class=\"tui-image-editor-range-wrap short\">\n                    <div class=\"tie-pixelate-range\"></div>\n                </div>\n            </div>\n            <div class=\"tui-image-editor-checkbox-group tui-image-editor-disabled\">\n                <div class=\"tui-image-editor-newline tui-image-editor-checkbox-wrap\">\n                    <div class=\"tui-image-editor-checkbox\">\n                        <label>\n                            <input type=\"checkbox\" class=\"tie-color-filter\">\n                            <span>${locale.localize('Color Filter')}</span>\n                        </label>\n                    </div>\n                </div>\n                <div class=\"tui-image-editor-newline tui-image-editor-range-wrap short\">\n                    <label>${locale.localize('Threshold')}</label>\n                    <div class=\"tie-colorfilter-threshold-range\"></div>\n                </div>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li>\n            <div class=\"filter-color-item\">\n                <div class=\"tie-filter-tint-color\" title=\"${locale.localize('Tint')}\"></div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-tint\">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class=\"filter-color-item\">\n                <div class=\"tie-filter-multiply-color\" title=\"${locale.localize('Multiply')}\"></div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-multiply\">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class=\"filter-color-item\">\n                <div class=\"tie-filter-blend-color\" title=\"${locale.localize('Blend')}\"></div>\n                <div class=\"tui-image-editor-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" class=\"tie-blend\">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon }) => `\n    <ul class=\"tie-flip-button tui-image-editor-submenu-item\">\n        <li>\n            <div class=\"tui-image-editor-button flipX\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'flip-x', true)}\n                </div>\n                <label>\n                    ${locale.localize('Flip X')}\n                </label>\n            </div>\n            <div class=\"tui-image-editor-button flipY\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'flip-y', true)}\n                </div>\n                <label>\n                    ${locale.localize('Flip Y')}\n                </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li>\n            <div class=\"tui-image-editor-button resetFlip\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'flip-reset', true)}\n                </div>\n                <label>\n                    ${locale.localize('Reset')}\n                </label>\n            </div>\n        </li>\n    </ul>\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n *   @param {string} name - history name\n *   @param {string} detail - history detail information\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon, name, detail }) => `\n    <div class=\"tui-image-editor-history-item history\">\n        <div class=\"history-item-icon\">\n            ${makeSvgIcon(['normal', 'active'], `history-${name.toLowerCase()}`, true)}\n        </div>\n        <span>\n            ${locale.localize(name)}\n            ${detail ? `(${locale.localize(detail)})` : ''}\n        </span>\n        <div class=\"history-item-checkbox\">\n            ${makeSvgIcon(['normal'], 'history-check', true)}\n        </div>\n    </div>\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon }) => `\n    <ul class=\"tui-image-editor-submenu-item\">\n        <li class=\"tie-icon-add-button\">\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-arrow', true)}\n                </div>\n                <label>\n                    ${locale.localize('Arrow')}\n                </label>\n            </div>\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow-2\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-arrow-2', true)}\n                </div>\n                <label>\n                    ${locale.localize('Arrow-2')}\n                </label>\n            </div>\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow-3\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-arrow-3', true)}\n                </div>\n                <label>\n                    ${locale.localize('Arrow-3')}\n                </label>\n            </div>\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-star\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-star', true)}\n                </div>\n                <label>\n                    ${locale.localize('Star-1')}\n                </label>\n            </div>\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-star-2\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-star-2', true)}\n                </div>\n                <label>\n                    ${locale.localize('Star-2')}\n                </label>\n            </div>\n\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-polygon\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-polygon', true)}\n                </div>\n                <label>\n                    ${locale.localize('Polygon')}\n                </label>\n            </div>\n\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-location\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-location', true)}\n                </div>\n                <label>\n                    ${locale.localize('Location')}\n                </label>\n            </div>\n\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-heart\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-heart', true)}\n                </div>\n                <label>\n                    ${locale.localize('Heart')}\n                </label>\n            </div>\n\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-bubble\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'icon-bubble', true)}\n                </div>\n                <label>\n                    ${locale.localize('Bubble')}\n                </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li class=\"tie-icon-add-button\">\n            <div class=\"tui-image-editor-button\" style=\"margin:0\">\n                <div>\n                    <input type=\"file\" accept=\"image/*\" class=\"tie-icon-image-file\">\n                    ${makeSvgIcon(['normal', 'active'], 'icon-load', true)}\n                </div>\n                <label>\n                    ${locale.localize('Custom icon')}\n                </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li>\n            <div class=\"tie-icon-color\" title=\"${locale.localize('Color')}\"></div>\n        </li>\n    </ul>\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon }) => `\n    <ul class=\"tui-image-editor-submenu-item\">\n        <li>\n            <div class=\"tui-image-editor-button\">\n                <div>\n                    <input type=\"file\" accept=\"image/*\" class=\"tie-mask-image-file\">\n                    ${makeSvgIcon(['normal', 'active'], 'mask-load', true)}\n                </div>\n                <label> ${locale.localize('Load Mask Image')} </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition only-left-right\">\n            <div></div>\n        </li>\n        <li class=\"tie-mask-apply tui-image-editor-newline apply\" style=\"margin-top: 22px;margin-bottom: 5px\">\n            <div class=\"tui-image-editor-button apply\">\n                ${makeSvgIcon(['normal', 'active'], 'apply')}\n                <label>\n                    ${locale.localize('Apply')}\n                </label>\n            </div>\n        </li>\n    </ul>\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon }) => `\n    <ul class=\"tui-image-editor-submenu-item\">\n        <li class=\"tie-rotate-button\">\n            <div class=\"tui-image-editor-button clockwise\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'rotate-clockwise', true)}\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class=\"tui-image-editor-button counterclockwise\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'rotate-counterclockwise', true)}\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition only-left-right\">\n            <div></div>\n        </li>\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\n            <label class=\"range\">${locale.localize('Range')}</label>\n            <div class=\"tie-rotate-range\"></div>\n            <input class=\"tie-rotate-range-value tui-image-editor-range-value\" value=\"0\" />\n        </li>\n    </ul>\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon }) => `\n    <ul class=\"tui-image-editor-submenu-item\">\n        <li class=\"tie-shape-button\">\n            <div class=\"tui-image-editor-button rect\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'shape-rectangle', true)}\n                </div>\n                <label> ${locale.localize('Rectangle')} </label>\n            </div>\n            <div class=\"tui-image-editor-button circle\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'shape-circle', true)}\n                </div>\n                <label> ${locale.localize('Circle')} </label>\n            </div>\n            <div class=\"tui-image-editor-button triangle\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'shape-triangle', true)}\n                </div>\n                <label> ${locale.localize('Triangle')} </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li class=\"tie-shape-color-button\">\n            <div class=\"tie-color-fill\" title=\"${locale.localize('Fill')}\"></div>\n            <div class=\"tie-color-stroke\" title=\"${locale.localize('Stroke')}\"></div>\n        </li>\n        <li class=\"tui-image-editor-partition only-left-right\">\n            <div></div>\n        </li>\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\n            <label class=\"range\">${locale.localize('Stroke')}</label>\n            <div class=\"tie-stroke-range\"></div>\n            <input class=\"tie-stroke-range-value tui-image-editor-range-value\" value=\"0\" />\n        </li>\n    </ul>\n`;\n","/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexport default ({ locale, makeSvgIcon }) => `\n    <ul class=\"tui-image-editor-submenu-item\">\n        <li class=\"tie-text-effect-button\">\n            <div class=\"tui-image-editor-button bold\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'text-bold', true)}\n                </div>\n                <label> ${locale.localize('Bold')} </label>\n            </div>\n            <div class=\"tui-image-editor-button italic\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'text-italic', true)}\n                </div>\n                <label> ${locale.localize('Italic')} </label>\n            </div>\n            <div class=\"tui-image-editor-button underline\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'text-underline', true)}\n                </div>\n                <label> ${locale.localize('Underline')} </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li class=\"tie-text-align-button\">\n            <div class=\"tui-image-editor-button left\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'text-align-left', true)}\n                </div>\n                <label> ${locale.localize('Left')} </label>\n            </div>\n            <div class=\"tui-image-editor-button center\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'text-align-center', true)}\n                </div>\n                <label> ${locale.localize('Center')} </label>\n            </div>\n            <div class=\"tui-image-editor-button right\">\n                <div>\n                    ${makeSvgIcon(['normal', 'active'], 'text-align-right', true)}\n                </div>\n                <label> ${locale.localize('Right')} </label>\n            </div>\n        </li>\n        <li class=\"tui-image-editor-partition\">\n            <div></div>\n        </li>\n        <li>\n            <div class=\"tie-text-color\" title=\"${locale.localize('Color')}\"></div>\n        </li>\n        <li class=\"tui-image-editor-partition only-left-right\">\n            <div></div>\n        </li>\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\n            <label class=\"range\">${locale.localize('Text size')}</label>\n            <div class=\"tie-text-range\"></div>\n            <input class=\"tie-text-range-value tui-image-editor-range-value\" value=\"0\" />\n        </li>\n    </ul>\n`;\n","import Range from '@/ui/tools/range';\nimport Colorpicker from '@/ui/tools/colorpicker';\nimport Submenu from '@/ui/submenuBase';\nimport templateHtml from '@/ui/template/submenu/text';\nimport { assignmentForDestroy } from '@/util';\nimport { defaultTextRangeValues, eventNames, selectorNames } from '@/consts';\n\n/**\n * Crop ui class\n * @class\n * @ignore\n */\nclass Text extends Submenu {\n  constructor(subMenuElement, { locale, makeSvgIcon, menuBarPosition, usageStatistics }) {\n    super(subMenuElement, {\n      locale,\n      name: 'text',\n      makeSvgIcon,\n      menuBarPosition,\n      templateHtml,\n      usageStatistics,\n    });\n    this.effect = {\n      bold: false,\n      italic: false,\n      underline: false,\n    };\n    this.align = 'left';\n    this._els = {\n      textEffectButton: this.selector('.tie-text-effect-button'),\n      textAlignButton: this.selector('.tie-text-align-button'),\n      textColorpicker: new Colorpicker(\n        this.selector('.tie-text-color'),\n        '#ffbb3b',\n        this.toggleDirection,\n        this.usageStatistics\n      ),\n      textRange: new Range(\n        {\n          slider: this.selector('.tie-text-range'),\n          input: this.selector('.tie-text-range-value'),\n        },\n        defaultTextRangeValues\n      ),\n    };\n\n    this.colorPickerInputBox = this._els.textColorpicker.colorpickerElement.querySelector(\n      selectorNames.COLOR_PICKER_INPUT_BOX\n    );\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n    this._els.textColorpicker.destroy();\n    this._els.textRange.destroy();\n\n    assignmentForDestroy(this);\n  }\n\n  /**\n   * Add event for text\n   * @param {Object} actions - actions for text\n   *   @param {Function} actions.changeTextStyle - change text style\n   */\n  addEvent(actions) {\n    const setTextEffect = this._setTextEffectHandler.bind(this);\n    const setTextAlign = this._setTextAlignHandler.bind(this);\n\n    this.eventHandler = {\n      setTextEffect,\n      setTextAlign,\n    };\n\n    this.actions = actions;\n    this._els.textEffectButton.addEventListener('click', setTextEffect);\n    this._els.textAlignButton.addEventListener('click', setTextAlign);\n    this._els.textRange.on('change', this._changeTextRnageHandler.bind(this));\n    this._els.textColorpicker.on('change', this._changeColorHandler.bind(this));\n\n    this.colorPickerInputBox.addEventListener(\n      eventNames.FOCUS,\n      this._onStartEditingInputBox.bind(this)\n    );\n    this.colorPickerInputBox.addEventListener(\n      eventNames.BLUR,\n      this._onStopEditingInputBox.bind(this)\n    );\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    const { setTextEffect, setTextAlign } = this.eventHandler;\n\n    this._els.textEffectButton.removeEventListener('click', setTextEffect);\n    this._els.textAlignButton.removeEventListener('click', setTextAlign);\n    this._els.textRange.off();\n    this._els.textColorpicker.off();\n\n    this.colorPickerInputBox.removeEventListener(\n      eventNames.FOCUS,\n      this._onStartEditingInputBox.bind(this)\n    );\n    this.colorPickerInputBox.removeEventListener(\n      eventNames.BLUR,\n      this._onStopEditingInputBox.bind(this)\n    );\n  }\n\n  /**\n   * Returns the menu to its default state.\n   */\n  changeStandbyMode() {\n    this.actions.stopDrawingMode();\n  }\n\n  /**\n   * Executed when the menu starts.\n   */\n  changeStartMode() {\n    this.actions.modeChange('text');\n  }\n\n  set textColor(color) {\n    this._els.textColorpicker.color = color;\n  }\n\n  /**\n   * Get text color\n   * @returns {string} - text color\n   */\n  get textColor() {\n    return this._els.textColorpicker.color;\n  }\n\n  /**\n   * Get text size\n   * @returns {string} - text size\n   */\n  get fontSize() {\n    return this._els.textRange.value;\n  }\n\n  /**\n   * Set text size\n   * @param {Number} value - text size\n   */\n  set fontSize(value) {\n    this._els.textRange.value = value;\n  }\n\n  /**\n   * get font style\n   * @returns {string} - font style\n   */\n  get fontStyle() {\n    return this.effect.italic ? 'italic' : 'normal';\n  }\n\n  /**\n   * get font weight\n   * @returns {string} - font weight\n   */\n  get fontWeight() {\n    return this.effect.bold ? 'bold' : 'normal';\n  }\n\n  /**\n   * get text underline text underline\n   * @returns {boolean} - true or false\n   */\n  get underline() {\n    return this.effect.underline;\n  }\n\n  setTextStyleStateOnAction(textStyle = {}) {\n    const { fill, fontSize, fontStyle, fontWeight, textDecoration, textAlign } = textStyle;\n\n    this.textColor = fill;\n    this.fontSize = fontSize;\n    this.setEffectState('italic', fontStyle);\n    this.setEffectState('bold', fontWeight);\n    this.setEffectState('underline', textDecoration);\n    this.setAlignState(textAlign);\n  }\n\n  setEffectState(effectName, value) {\n    const effectValue = value === 'italic' || value === 'bold' || value === 'underline';\n    const button = this._els.textEffectButton.querySelector(\n      `.tui-image-editor-button.${effectName}`\n    );\n\n    this.effect[effectName] = effectValue;\n\n    button.classList[effectValue ? 'add' : 'remove']('active');\n  }\n\n  setAlignState(value) {\n    const button = this._els.textAlignButton;\n    button.classList.remove(this.align);\n    button.classList.add(value);\n    this.align = value;\n  }\n\n  /**\n   * text effect set handler\n   * @param {object} event - add button event object\n   * @private\n   */\n  _setTextEffectHandler(event) {\n    const button = event.target.closest('.tui-image-editor-button');\n    if (button) {\n      const [styleType] = button.className.match(/(bold|italic|underline)/);\n      const styleObj = {\n        bold: { fontWeight: 'bold' },\n        italic: { fontStyle: 'italic' },\n        underline: { textDecoration: 'underline' },\n      }[styleType];\n\n      this.effect[styleType] = !this.effect[styleType];\n      button.classList.toggle('active');\n      this.actions.changeTextStyle(styleObj);\n    }\n  }\n\n  /**\n   * text effect set handler\n   * @param {object} event - add button event object\n   * @private\n   */\n  _setTextAlignHandler(event) {\n    const button = event.target.closest('.tui-image-editor-button');\n    if (button) {\n      const styleType = this.getButtonType(button, ['left', 'center', 'right']);\n\n      event.currentTarget.classList.remove(this.align);\n      if (this.align !== styleType) {\n        event.currentTarget.classList.add(styleType);\n      }\n      this.actions.changeTextStyle({ textAlign: styleType });\n\n      this.align = styleType;\n    }\n  }\n\n  /**\n   * text align set handler\n   * @param {number} value - range value\n   * @param {boolean} isLast - Is last change\n   * @private\n   */\n  _changeTextRnageHandler(value, isLast) {\n    this.actions.changeTextStyle(\n      {\n        fontSize: value,\n      },\n      !isLast\n    );\n  }\n\n  /**\n   * change color handler\n   * @param {string} color - change color string\n   * @private\n   */\n  _changeColorHandler(color) {\n    color = color || 'transparent';\n    this.actions.changeTextStyle({\n      fill: color,\n    });\n  }\n}\n\nexport default Text;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview The standard theme\n */\n\n/**\n * Full configuration for theme.<br>\n * @typedef {object} themeConfig\n * @property {string} common.bi.image - Brand icon image\n * @property {string} common.bisize.width - Icon image width\n * @property {string} common.bisize.height - Icon Image Height\n * @property {string} common.backgroundImage - Background image\n * @property {string} common.backgroundColor - Background color\n * @property {string} common.border - Full area border style\n * @property {string} header.backgroundImage - header area background\n * @property {string} header.backgroundColor - header area background color\n * @property {string} header.border - header area border style\n * @property {string} loadButton.backgroundColor - load button background color\n * @property {string} loadButton.border - load button border style\n * @property {string} loadButton.color - load button foreground color\n * @property {string} loadButton.fontFamily - load button font type\n * @property {string} loadButton.fontSize - load button font size\n * @property {string} downloadButton.backgroundColor - download button background color\n * @property {string} downloadButton.border - download button border style\n * @property {string} downloadButton.color - download button foreground color\n * @property {string} downloadButton.fontFamily - download button font type\n * @property {string} downloadButton.fontSize - download button font size\n * @property {string} menu.normalIcon.color - Menu normal color for default icon\n * @property {string} menu.normalIcon.path - Menu normal icon svg bundle file path\n * @property {string} menu.normalIcon.name - Menu normal icon svg bundle name\n * @property {string} menu.activeIcon.color - Menu active color for default icon\n * @property {string} menu.activeIcon.path - Menu active icon svg bundle file path\n * @property {string} menu.activeIcon.name - Menu active icon svg bundle name\n * @property {string} menu.disabled.color - Menu disabled color for default icon\n * @property {string} menu.disabled.path - Menu disabled icon svg bundle file path\n * @property {string} menu.disabled.name - Menu disabled icon svg bundle name\n * @property {string} menu.hover.color - Menu default icon hover color\n * @property {string} menu.hover.path - Menu hover icon svg bundle file path\n * @property {string} menu.hover.name - Menu hover icon svg bundle name\n * @property {string} menu.iconSize.width - Menu icon Size Width\n * @property {string} menu.iconSize.height - Menu Icon Size Height\n * @property {string} submenu.backgroundColor - Sub-menu area background color\n * @property {string} submenu.partition.color - Submenu partition line color\n * @property {string} submenu.normalIcon.color - Submenu normal color for default icon\n * @property {string} submenu.normalIcon.path - Submenu default icon svg bundle file path\n * @property {string} submenu.normalIcon.name - Submenu default icon svg bundle name\n * @property {string} submenu.activeIcon.color - Submenu active color for default icon\n * @property {string} submenu.activeIcon.path - Submenu active icon svg bundle file path\n * @property {string} submenu.activeIcon.name - Submenu active icon svg bundle name\n * @property {string} submenu.iconSize.width - Submenu icon Size Width\n * @property {string} submenu.iconSize.height - Submenu Icon Size Height\n * @property {string} submenu.normalLabel.color - Submenu default label color\n * @property {string} submenu.normalLabel.fontWeight - Sub Menu Default Label Font Thickness\n * @property {string} submenu.activeLabel.color - Submenu active label color\n * @property {string} submenu.activeLabel.fontWeight - Submenu active label Font thickness\n * @property {string} checkbox.border - Checkbox border style\n * @property {string} checkbox.backgroundColor - Checkbox background color\n * @property {string} range.pointer.color - range control pointer color\n * @property {string} range.bar.color - range control bar color\n * @property {string} range.subbar.color - range control subbar color\n * @property {string} range.value.color - range number box font color\n * @property {string} range.value.fontWeight - range number box font thickness\n * @property {string} range.value.fontSize - range number box font size\n * @property {string} range.value.border - range number box border style\n * @property {string} range.value.backgroundColor - range number box background color\n * @property {string} range.title.color - range title font color\n * @property {string} range.title.fontWeight - range title font weight\n * @property {string} colorpicker.button.border - colorpicker button border style\n * @property {string} colorpicker.title.color - colorpicker button title font color\n * @example\n // default keys and styles\n var customTheme = {\n    'common.bi.image': 'https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png',\n    'common.bisize.width': '251px',\n    'common.bisize.height': '21px',\n    'common.backgroundImage': 'none',\n    'common.backgroundColor': '#1e1e1e',\n    'common.border': '0px',\n\n    // header\n    'header.backgroundImage': 'none',\n    'header.backgroundColor': 'transparent',\n    'header.border': '0px',\n\n    // load button\n    'loadButton.backgroundColor': '#fff',\n    'loadButton.border': '1px solid #ddd',\n    'loadButton.color': '#222',\n    'loadButton.fontFamily': 'NotoSans, sans-serif',\n    'loadButton.fontSize': '12px',\n\n    // download button\n    'downloadButton.backgroundColor': '#fdba3b',\n    'downloadButton.border': '1px solid #fdba3b',\n    'downloadButton.color': '#fff',\n    'downloadButton.fontFamily': 'NotoSans, sans-serif',\n    'downloadButton.fontSize': '12px',\n\n    // icons default\n    'menu.normalIcon.color': '#8a8a8a',\n    'menu.activeIcon.color': '#555555',\n    'menu.disabledIcon.color': '#434343',\n    'menu.hoverIcon.color': '#e9e9e9',\n    'submenu.normalIcon.color': '#8a8a8a',\n    'submenu.activeIcon.color': '#e9e9e9',\n\n    'menu.iconSize.width': '24px',\n    'menu.iconSize.height': '24px',\n    'submenu.iconSize.width': '32px',\n    'submenu.iconSize.height': '32px',\n\n    // submenu primary color\n    'submenu.backgroundColor': '#1e1e1e',\n    'submenu.partition.color': '#858585',\n\n    // submenu labels\n    'submenu.normalLabel.color': '#858585',\n    'submenu.normalLabel.fontWeight': 'lighter',\n    'submenu.activeLabel.color': '#fff',\n    'submenu.activeLabel.fontWeight': 'lighter',\n\n    // checkbox style\n    'checkbox.border': '1px solid #ccc',\n    'checkbox.backgroundColor': '#fff',\n\n    // rango style\n    'range.pointer.color': '#fff',\n    'range.bar.color': '#666',\n    'range.subbar.color': '#d1d1d1',\n\n    'range.disabledPointer.color': '#414141',\n    'range.disabledBar.color': '#282828',\n    'range.disabledSubbar.color': '#414141',\n\n    'range.value.color': '#fff',\n    'range.value.fontWeight': 'lighter',\n    'range.value.fontSize': '11px',\n    'range.value.border': '1px solid #353535',\n    'range.value.backgroundColor': '#151515',\n    'range.title.color': '#fff',\n    'range.title.fontWeight': 'lighter',\n\n    // colorpicker style\n    'colorpicker.button.border': '1px solid #1e1e1e',\n    'colorpicker.title.color': '#fff'\n};\n */\nexport default {\n  'common.bi.image': 'https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png',\n  'common.bisize.width': '251px',\n  'common.bisize.height': '21px',\n  'common.backgroundImage': 'none',\n  'common.backgroundColor': '#1e1e1e',\n  'common.border': '0px',\n\n  // header\n  'header.backgroundImage': 'none',\n  'header.backgroundColor': 'transparent',\n  'header.border': '0px',\n\n  // load button\n  'loadButton.backgroundColor': '#fff',\n  'loadButton.border': '1px solid #ddd',\n  'loadButton.color': '#222',\n  'loadButton.fontFamily': \"'Noto Sans', sans-serif\",\n  'loadButton.fontSize': '12px',\n\n  // download button\n  'downloadButton.backgroundColor': '#fdba3b',\n  'downloadButton.border': '1px solid #fdba3b',\n  'downloadButton.color': '#fff',\n  'downloadButton.fontFamily': \"'Noto Sans', sans-serif\",\n  'downloadButton.fontSize': '12px',\n\n  // main icons\n  'menu.normalIcon.color': '#8a8a8a',\n  'menu.activeIcon.color': '#555555',\n  'menu.disabledIcon.color': '#434343',\n  'menu.hoverIcon.color': '#e9e9e9',\n\n  // submenu icons\n  'submenu.normalIcon.color': '#8a8a8a',\n  'submenu.activeIcon.color': '#e9e9e9',\n\n  'menu.iconSize.width': '24px',\n  'menu.iconSize.height': '24px',\n\n  'submenu.iconSize.width': '32px',\n  'submenu.iconSize.height': '32px',\n\n  // submenu primary color\n  'submenu.backgroundColor': '#1e1e1e',\n  'submenu.partition.color': '#3c3c3c',\n\n  // submenu labels\n  'submenu.normalLabel.color': '#8a8a8a',\n  'submenu.normalLabel.fontWeight': 'lighter',\n  'submenu.activeLabel.color': '#fff',\n  'submenu.activeLabel.fontWeight': 'lighter',\n\n  // checkbox style\n  'checkbox.border': '0px',\n  'checkbox.backgroundColor': '#fff',\n\n  // range style\n  'range.pointer.color': '#fff',\n  'range.bar.color': '#666',\n  'range.subbar.color': '#d1d1d1',\n\n  'range.disabledPointer.color': '#414141',\n  'range.disabledBar.color': '#282828',\n  'range.disabledSubbar.color': '#414141',\n\n  'range.value.color': '#fff',\n  'range.value.fontWeight': 'lighter',\n  'range.value.fontSize': '11px',\n  'range.value.border': '1px solid #353535',\n  'range.value.backgroundColor': '#151515',\n  'range.title.color': '#fff',\n  'range.title.fontWeight': 'lighter',\n\n  // colorpicker style\n  'colorpicker.button.border': '1px solid #1e1e1e',\n  'colorpicker.title.color': '#fff',\n};\n","import { extend, forEach, map } from 'tui-code-snippet';\nimport style from '@/ui/template/style';\nimport standardTheme from '@/ui/theme/standard';\nimport icon from '@svg/default.svg';\nimport { styleLoad } from '@/util';\n\n/**\n * Theme manager\n * @class\n * @param {Object} customTheme - custom theme\n * @ignore\n */\nclass Theme {\n  constructor(customTheme) {\n    this.styles = this._changeToObject(extend({}, standardTheme, customTheme));\n    styleLoad(this._styleMaker());\n\n    this._loadDefaultSvgIcon();\n  }\n\n  /**\n   * Get a Style cssText or StyleObject\n   * @param {string} type - style type\n   * @returns {string|object} - cssText or StyleObject\n   */\n  // eslint-disable-next-line complexity\n  getStyle(type) {\n    let result = null;\n    const firstProperty = type.replace(/\\..+$/, '');\n    const option = this.styles[type];\n    switch (type) {\n      case 'common.bi':\n        result = this.styles[type].image;\n        break;\n      case 'menu.icon':\n        result = {\n          active: this.styles[`${firstProperty}.activeIcon`],\n          normal: this.styles[`${firstProperty}.normalIcon`],\n          hover: this.styles[`${firstProperty}.hoverIcon`],\n          disabled: this.styles[`${firstProperty}.disabledIcon`],\n        };\n        break;\n      case 'submenu.icon':\n        result = {\n          active: this.styles[`${firstProperty}.activeIcon`],\n          normal: this.styles[`${firstProperty}.normalIcon`],\n        };\n        break;\n      case 'submenu.label':\n        result = {\n          active: this._makeCssText(this.styles[`${firstProperty}.activeLabel`]),\n          normal: this._makeCssText(this.styles[`${firstProperty}.normalLabel`]),\n        };\n        break;\n      case 'submenu.partition':\n        result = {\n          vertical: this._makeCssText(\n            extend({}, option, { borderLeft: `1px solid ${option.color}` })\n          ),\n          horizontal: this._makeCssText(\n            extend({}, option, { borderBottom: `1px solid ${option.color}` })\n          ),\n        };\n        break;\n\n      case 'range.disabledPointer':\n      case 'range.disabledBar':\n      case 'range.disabledSubbar':\n      case 'range.pointer':\n      case 'range.bar':\n      case 'range.subbar':\n        option.backgroundColor = option.color;\n        result = this._makeCssText(option);\n        break;\n      default:\n        result = this._makeCssText(option);\n        break;\n    }\n\n    return result;\n  }\n\n  /**\n   * Make css resource\n   * @returns {string} - serialized css text\n   * @private\n   */\n  _styleMaker() {\n    const submenuLabelStyle = this.getStyle('submenu.label');\n    const submenuPartitionStyle = this.getStyle('submenu.partition');\n\n    return style({\n      subMenuLabelActive: submenuLabelStyle.active,\n      subMenuLabelNormal: submenuLabelStyle.normal,\n      submenuPartitionVertical: submenuPartitionStyle.vertical,\n      submenuPartitionHorizontal: submenuPartitionStyle.horizontal,\n      biSize: this.getStyle('common.bisize'),\n      subMenuRangeTitle: this.getStyle('range.title'),\n      submenuRangePointer: this.getStyle('range.pointer'),\n      submenuRangeBar: this.getStyle('range.bar'),\n      submenuRangeSubbar: this.getStyle('range.subbar'),\n\n      submenuDisabledRangePointer: this.getStyle('range.disabledPointer'),\n      submenuDisabledRangeBar: this.getStyle('range.disabledBar'),\n      submenuDisabledRangeSubbar: this.getStyle('range.disabledSubbar'),\n\n      submenuRangeValue: this.getStyle('range.value'),\n      submenuColorpickerTitle: this.getStyle('colorpicker.title'),\n      submenuColorpickerButton: this.getStyle('colorpicker.button'),\n      submenuCheckbox: this.getStyle('checkbox'),\n      menuIconSize: this.getStyle('menu.iconSize'),\n      submenuIconSize: this.getStyle('submenu.iconSize'),\n      menuIconStyle: this.getStyle('menu.icon'),\n      submenuIconStyle: this.getStyle('submenu.icon'),\n    });\n  }\n\n  /**\n   * Change to low dimensional object.\n   * @param {object} styleOptions - style object of user interface\n   * @returns {object} low level object for style apply\n   * @private\n   */\n  _changeToObject(styleOptions) {\n    const styleObject = {};\n    forEach(styleOptions, (value, key) => {\n      const keyExplode = key.match(/^(.+)\\.([a-z]+)$/i);\n      const [, property, subProperty] = keyExplode;\n\n      if (!styleObject[property]) {\n        styleObject[property] = {};\n      }\n      styleObject[property][subProperty] = value;\n    });\n\n    return styleObject;\n  }\n\n  /**\n   * Style object to Csstext serialize\n   * @param {object} styleObject - style object\n   * @returns {string} - css text string\n   * @private\n   */\n  _makeCssText(styleObject) {\n    const converterStack = [];\n\n    forEach(styleObject, (value, key) => {\n      if (['backgroundImage'].indexOf(key) > -1 && value !== 'none') {\n        value = `url(${value})`;\n      }\n\n      converterStack.push(`${this._toUnderScore(key)}: ${value}`);\n    });\n\n    return converterStack.join(';');\n  }\n\n  /**\n   * Camel key string to Underscore string\n   * @param {string} targetString - change target\n   * @returns {string}\n   * @private\n   */\n  _toUnderScore(targetString) {\n    return targetString.replace(/([A-Z])/g, ($0, $1) => `-${$1.toLowerCase()}`);\n  }\n\n  /**\n   * Load default svg icon\n   * @private\n   */\n  _loadDefaultSvgIcon() {\n    if (!document.getElementById('tui-image-editor-svg-default-icons')) {\n      const parser = new DOMParser();\n      const dom = parser.parseFromString(icon, 'text/xml');\n\n      document.body.appendChild(dom.documentElement);\n    }\n  }\n\n  /**\n   * Make className for svg icon\n   * @param {string} iconType - normal' or 'active' or 'hover' or 'disabled\n   * @param {boolean} isSubmenu - submenu icon or not.\n   * @returns {string}\n   * @private\n   */\n  _makeIconClassName(iconType, isSubmenu) {\n    const iconStyleInfo = isSubmenu ? this.getStyle('submenu.icon') : this.getStyle('menu.icon');\n    const { path, name } = iconStyleInfo[iconType];\n\n    return path && name ? iconType : `${iconType} use-default`;\n  }\n\n  /**\n   * Make svg use link path name\n   * @param {string} iconType - normal' or 'active' or 'hover' or 'disabled\n   * @param {boolean} isSubmenu - submenu icon or not.\n   * @returns {string}\n   * @private\n   */\n  _makeSvgIconPrefix(iconType, isSubmenu) {\n    const iconStyleInfo = isSubmenu ? this.getStyle('submenu.icon') : this.getStyle('menu.icon');\n    const { path, name } = iconStyleInfo[iconType];\n\n    return path && name ? `${path}#${name}-` : '#';\n  }\n\n  /**\n   * Make svg use link path name\n   * @param {Array.<string>} useIconTypes - normal' or 'active' or 'hover' or 'disabled\n   * @param {string} menuName - menu name\n   * @param {boolean} isSubmenu - submenu icon or not.\n   * @returns {string}\n   * @private\n   */\n  _makeSvgItem(useIconTypes, menuName, isSubmenu) {\n    return map(useIconTypes, (iconType) => {\n      const svgIconPrefix = this._makeSvgIconPrefix(iconType, isSubmenu);\n      const iconName = this._toUnderScore(menuName);\n      const svgIconClassName = this._makeIconClassName(iconType, isSubmenu);\n\n      return `<use xlink:href=\"${svgIconPrefix}ic-${iconName}\" class=\"${svgIconClassName}\"/>`;\n    }).join('');\n  }\n\n  /**\n   * Make svg icon set\n   * @param {Array.<string>} useIconTypes - normal' or 'active' or 'hover' or 'disabled\n   * @param {string} menuName - menu name\n   * @param {boolean} isSubmenu - submenu icon or not.\n   * @returns {string}\n   */\n  makeMenSvgIconSet(useIconTypes, menuName, isSubmenu = false) {\n    return `<svg class=\"svg_ic-${isSubmenu ? 'submenu' : 'menu'}\">${this._makeSvgItem(\n      useIconTypes,\n      menuName,\n      isSubmenu\n    )}</svg>`;\n  }\n}\n\nexport default Theme;\n","import snippet from 'tui-code-snippet';\nimport tuiColorPicker from 'tui-color-picker';\n\nconst PICKER_COLOR = [\n  '#000000',\n  '#2a2a2a',\n  '#545454',\n  '#7e7e7e',\n  '#a8a8a8',\n  '#d2d2d2',\n  '#ffffff',\n  '',\n  '#ff4040',\n  '#ff6518',\n  '#ffbb3b',\n  '#03bd9e',\n  '#00a9ff',\n  '#515ce6',\n  '#9e5fff',\n  '#ff5583',\n];\n\n/**\n * Colorpicker control class\n * @class\n * @ignore\n */\nclass Colorpicker {\n  constructor(\n    colorpickerElement,\n    defaultColor = '#7e7e7e',\n    toggleDirection = 'up',\n    usageStatistics\n  ) {\n    this.colorpickerElement = colorpickerElement;\n    this.usageStatistics = usageStatistics;\n\n    this._show = false;\n\n    this._colorpickerElement = colorpickerElement;\n    this._toggleDirection = toggleDirection;\n    this._makePickerButtonElement(defaultColor);\n    this._makePickerLayerElement(colorpickerElement, colorpickerElement.getAttribute('title'));\n    this._color = defaultColor;\n    this.picker = tuiColorPicker.create({\n      container: this.pickerElement,\n      preset: PICKER_COLOR,\n      color: defaultColor,\n      usageStatistics: this.usageStatistics,\n    });\n\n    this._addEvent();\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeEvent();\n    this.picker.destroy();\n    this.colorpickerElement.innerHTML = '';\n    snippet.forEach(this, (value, key) => {\n      this[key] = null;\n    });\n  }\n\n  /**\n   * Get color\n   * @returns {Number} color value\n   */\n  get color() {\n    return this._color;\n  }\n\n  /**\n   * Set color\n   * @param {string} color color value\n   */\n  set color(color) {\n    this._color = color;\n    this._changeColorElement(color);\n  }\n\n  /**\n   * Change color element\n   * @param {string} color color value\n   * #private\n   */\n  _changeColorElement(color) {\n    if (color) {\n      this.colorElement.classList.remove('transparent');\n      this.colorElement.style.backgroundColor = color;\n    } else {\n      this.colorElement.style.backgroundColor = '#fff';\n      this.colorElement.classList.add('transparent');\n    }\n  }\n\n  /**\n   * Make picker button element\n   * @param {string} defaultColor color value\n   * @private\n   */\n  _makePickerButtonElement(defaultColor) {\n    this.colorpickerElement.classList.add('tui-image-editor-button');\n\n    this.colorElement = document.createElement('div');\n    this.colorElement.className = 'color-picker-value';\n    if (defaultColor) {\n      this.colorElement.style.backgroundColor = defaultColor;\n    } else {\n      this.colorElement.classList.add('transparent');\n    }\n  }\n\n  /**\n   * Make picker layer element\n   * @param {HTMLElement} colorpickerElement color picker element\n   * @param {string} title picker title\n   * @private\n   */\n  _makePickerLayerElement(colorpickerElement, title) {\n    const label = document.createElement('label');\n    const triangle = document.createElement('div');\n\n    this.pickerControl = document.createElement('div');\n    this.pickerControl.className = 'color-picker-control';\n\n    this.pickerElement = document.createElement('div');\n    this.pickerElement.className = 'color-picker';\n\n    label.innerHTML = title;\n    triangle.className = 'triangle';\n\n    this.pickerControl.appendChild(this.pickerElement);\n    this.pickerControl.appendChild(triangle);\n\n    colorpickerElement.appendChild(this.pickerControl);\n    colorpickerElement.appendChild(this.colorElement);\n    colorpickerElement.appendChild(label);\n  }\n\n  /**\n   * Add event\n   * @private\n   */\n  _addEvent() {\n    this.picker.on('selectColor', (value) => {\n      this._changeColorElement(value.color);\n      this._color = value.color;\n      this.fire('change', value.color);\n    });\n\n    this.eventHandler = {\n      pickerToggle: this._pickerToggleEventHandler.bind(this),\n      pickerHide: () => this.hide(),\n    };\n\n    this.colorpickerElement.addEventListener('click', this.eventHandler.pickerToggle);\n    document.body.addEventListener('click', this.eventHandler.pickerHide);\n  }\n\n  /**\n   * Remove event\n   * @private\n   */\n  _removeEvent() {\n    this.colorpickerElement.removeEventListener('click', this.eventHandler.pickerToggle);\n    document.body.removeEventListener('click', this.eventHandler.pickerHide);\n    this.picker.off();\n  }\n\n  /**\n   * Picker toggle event handler\n   * @param {object} event - change event\n   * @private\n   */\n  _pickerToggleEventHandler(event) {\n    const { target } = event;\n    const isInPickerControl = target && this._isElementInColorPickerControl(target);\n\n    if (!isInPickerControl || (isInPickerControl && this._isPaletteButton(target))) {\n      this._show = !this._show;\n      this.pickerControl.style.display = this._show ? 'block' : 'none';\n      this._setPickerControlPosition();\n      this.fire('changeShow', this);\n    }\n    event.stopPropagation();\n  }\n\n  /**\n   * Check hex input or not\n   * @param {Element} target - Event target element\n   * @returns {boolean}\n   * @private\n   */\n  _isPaletteButton(target) {\n    return target.className === 'tui-colorpicker-palette-button';\n  }\n\n  /**\n   * Check given element is in pickerControl element\n   * @param {Element} element - element to check\n   * @returns {boolean}\n   * @private\n   */\n  _isElementInColorPickerControl(element) {\n    let parentNode = element;\n\n    while (parentNode !== document.body) {\n      if (!parentNode) {\n        break;\n      }\n\n      if (parentNode === this.pickerControl) {\n        return true;\n      }\n\n      parentNode = parentNode.parentNode;\n    }\n\n    return false;\n  }\n\n  hide() {\n    this._show = false;\n    this.pickerControl.style.display = 'none';\n  }\n\n  /**\n   * Set picker control position\n   * @private\n   */\n  _setPickerControlPosition() {\n    const controlStyle = this.pickerControl.style;\n    const halfPickerWidth = this._colorpickerElement.clientWidth / 2 + 2;\n    const left = this.pickerControl.offsetWidth / 2 - halfPickerWidth;\n    let top = (this.pickerControl.offsetHeight + 10) * -1;\n\n    if (this._toggleDirection === 'down') {\n      top = 30;\n    }\n\n    controlStyle.top = `${top}px`;\n    controlStyle.left = `-${left}px`;\n  }\n}\n\nsnippet.CustomEvents.mixin(Colorpicker);\nexport default Colorpicker;\n","import snippet from 'tui-code-snippet';\nimport { toInteger, clamp } from '@/util';\nimport { keyCodes } from '@/consts';\n\nconst INPUT_FILTER_REGEXP = /(-?)([0-9]*)[^0-9]*([0-9]*)/g;\n\n/**\n * Range control class\n * @class\n * @ignore\n */\nclass Range {\n  /**\n   * @constructor\n   * @extends {View}\n   * @param {Object} rangeElements - Html resources for creating sliders\n   *  @param {HTMLElement} rangeElements.slider - b\n   *  @param {HTMLElement} [rangeElements.input] - c\n   * @param {Object} options - Slider make options\n   *  @param {number} options.min - min value\n   *  @param {number} options.max - max value\n   *  @param {number} options.value - default value\n   *  @param {number} [options.useDecimal] - Decimal point processing.\n   *  @param {boolean} [options.realTimeEvent] - Reflect live events.\n   */\n  constructor(rangeElements, options = {}) {\n    this._value = options.value || 0;\n\n    this.rangeElement = rangeElements.slider;\n    this.rangeInputElement = rangeElements.input;\n\n    this._drawRangeElement();\n\n    this.rangeWidth = this._getRangeWidth();\n    this._min = options.min || 0;\n    this._max = options.max || 100;\n    this._useDecimal = options.useDecimal;\n    this._absMax = this._min * -1 + this._max;\n    this.realTimeEvent = options.realTimeEvent || false;\n\n    this.eventHandler = {\n      startChangingSlide: this._startChangingSlide.bind(this),\n      stopChangingSlide: this._stopChangingSlide.bind(this),\n      changeSlide: this._changeSlide.bind(this),\n      changeSlideFinally: this._changeSlideFinally.bind(this),\n      changeInput: this._changeValueWithInput.bind(this, false),\n      changeInputFinally: this._changeValueWithInput.bind(this, true),\n      changeInputWithArrow: this._changeValueWithInputKeyEvent.bind(this),\n    };\n\n    this._addClickEvent();\n    this._addDragEvent();\n    this._addInputEvent();\n    this.value = options.value;\n    this.trigger('change');\n  }\n\n  /**\n   * Destroys the instance.\n   */\n  destroy() {\n    this._removeClickEvent();\n    this._removeDragEvent();\n    this._removeInputEvent();\n    this.rangeElement.innerHTML = '';\n    snippet.forEach(this, (value, key) => {\n      this[key] = null;\n    });\n  }\n\n  /**\n   * Set range max value and re position cursor\n   * @param {number} maxValue - max value\n   */\n  set max(maxValue) {\n    this._max = maxValue;\n    this._absMax = this._min * -1 + this._max;\n    this.value = this._value;\n  }\n\n  get max() {\n    return this._max;\n  }\n\n  /**\n   * Get range value\n   * @returns {Number} range value\n   */\n  get value() {\n    return this._value;\n  }\n\n  /**\n   * Set range value\n   * @param {Number} value range value\n   */\n  set value(value) {\n    value = this._useDecimal ? value : toInteger(value);\n\n    const absValue = value - this._min;\n    let leftPosition = (absValue * this.rangeWidth) / this._absMax;\n\n    if (this.rangeWidth < leftPosition) {\n      leftPosition = this.rangeWidth;\n    }\n\n    this.pointer.style.left = `${leftPosition}px`;\n    this.subbar.style.right = `${this.rangeWidth - leftPosition}px`;\n\n    this._value = value;\n    if (this.rangeInputElement) {\n      this.rangeInputElement.value = value;\n    }\n  }\n\n  /**\n   * event trigger\n   * @param {string} type - type\n   */\n  trigger(type) {\n    this.fire(type, this._value);\n  }\n\n  /**\n   * Calculate slider width\n   * @returns {number} - slider width\n   */\n  _getRangeWidth() {\n    const getElementWidth = (element) => toInteger(window.getComputedStyle(element, null).width);\n\n    return getElementWidth(this.rangeElement) - getElementWidth(this.pointer);\n  }\n\n  /**\n   * Make range element\n   * @private\n   */\n  _drawRangeElement() {\n    this.rangeElement.classList.add('tui-image-editor-range');\n\n    this.bar = document.createElement('div');\n    this.bar.className = 'tui-image-editor-virtual-range-bar';\n\n    this.subbar = document.createElement('div');\n    this.subbar.className = 'tui-image-editor-virtual-range-subbar';\n\n    this.pointer = document.createElement('div');\n    this.pointer.className = 'tui-image-editor-virtual-range-pointer';\n\n    this.bar.appendChild(this.subbar);\n    this.bar.appendChild(this.pointer);\n    this.rangeElement.appendChild(this.bar);\n  }\n\n  /**\n   * Add range input editing event\n   * @private\n   */\n  _addInputEvent() {\n    if (this.rangeInputElement) {\n      this.rangeInputElement.addEventListener('keydown', this.eventHandler.changeInputWithArrow);\n      this.rangeInputElement.addEventListener('keyup', this.eventHandler.changeInput);\n      this.rangeInputElement.addEventListener('blur', this.eventHandler.changeInputFinally);\n    }\n  }\n\n  /**\n   * Remove range input editing event\n   * @private\n   */\n  _removeInputEvent() {\n    if (this.rangeInputElement) {\n      this.rangeInputElement.removeEventListener('keydown', this.eventHandler.changeInputWithArrow);\n      this.rangeInputElement.removeEventListener('keyup', this.eventHandler.changeInput);\n      this.rangeInputElement.removeEventListener('blur', this.eventHandler.changeInputFinally);\n    }\n  }\n\n  /**\n   * change angle event\n   * @param {object} event - key event\n   * @private\n   */\n  _changeValueWithInputKeyEvent(event) {\n    const { keyCode, target } = event;\n\n    if ([keyCodes.ARROW_UP, keyCodes.ARROW_DOWN].indexOf(keyCode) < 0) {\n      return;\n    }\n\n    let value = Number(target.value);\n\n    value = this._valueUpDownForKeyEvent(value, keyCode);\n\n    const unChanged = value < this._min || value > this._max;\n\n    if (!unChanged) {\n      const clampValue = clamp(value, this._min, this.max);\n      this.value = clampValue;\n      this.fire('change', clampValue, false);\n    }\n  }\n\n  /**\n   * value up down for input\n   * @param {number} value - original value number\n   * @param {number} keyCode - input event key code\n   * @returns {number} value - changed value\n   * @private\n   */\n  _valueUpDownForKeyEvent(value, keyCode) {\n    const step = this._useDecimal ? 0.1 : 1;\n\n    if (keyCode === keyCodes.ARROW_UP) {\n      value += step;\n    } else if (keyCode === keyCodes.ARROW_DOWN) {\n      value -= step;\n    }\n\n    return value;\n  }\n\n  /**\n   * change angle event\n   * @param {boolean} isLast - Is last change\n   * @param {object} event - key event\n   * @private\n   */\n  _changeValueWithInput(isLast, event) {\n    const { keyCode, target } = event;\n\n    if ([keyCodes.ARROW_UP, keyCodes.ARROW_DOWN].indexOf(keyCode) >= 0) {\n      return;\n    }\n\n    const stringValue = this._filterForInputText(target.value);\n    const waitForChange = !stringValue || isNaN(stringValue);\n    target.value = stringValue;\n\n    if (!waitForChange) {\n      let value = this._useDecimal ? Number(stringValue) : toInteger(stringValue);\n      value = clamp(value, this._min, this.max);\n\n      this.value = value;\n      this.fire('change', value, isLast);\n    }\n  }\n\n  /**\n   * Add Range click event\n   * @private\n   */\n  _addClickEvent() {\n    this.rangeElement.addEventListener('click', this.eventHandler.changeSlideFinally);\n  }\n\n  /**\n   * Remove Range click event\n   * @private\n   */\n  _removeClickEvent() {\n    this.rangeElement.removeEventListener('click', this.eventHandler.changeSlideFinally);\n  }\n\n  /**\n   * Add Range drag event\n   * @private\n   */\n  _addDragEvent() {\n    this.pointer.addEventListener('mousedown', this.eventHandler.startChangingSlide);\n  }\n\n  /**\n   * Remove Range drag event\n   * @private\n   */\n  _removeDragEvent() {\n    this.pointer.removeEventListener('mousedown', this.eventHandler.startChangingSlide);\n  }\n\n  /**\n   * change angle event\n   * @param {object} event - change event\n   * @private\n   */\n  _changeSlide(event) {\n    const changePosition = event.screenX;\n    const diffPosition = changePosition - this.firstPosition;\n    let touchPx = this.firstLeft + diffPosition;\n    touchPx = touchPx > this.rangeWidth ? this.rangeWidth : touchPx;\n    touchPx = touchPx < 0 ? 0 : touchPx;\n\n    this.pointer.style.left = `${touchPx}px`;\n    this.subbar.style.right = `${this.rangeWidth - touchPx}px`;\n\n    const ratio = touchPx / this.rangeWidth;\n    const resultValue = this._absMax * ratio + this._min;\n    const value = this._useDecimal ? resultValue : toInteger(resultValue);\n    const isValueChanged = this.value !== value;\n\n    if (isValueChanged) {\n      this.value = value;\n      if (this.realTimeEvent) {\n        this.fire('change', this._value, false);\n      }\n    }\n  }\n\n  _changeSlideFinally(event) {\n    event.stopPropagation();\n    if (event.target.className !== 'tui-image-editor-range') {\n      return;\n    }\n    const touchPx = event.offsetX;\n    const ratio = touchPx / this.rangeWidth;\n    const value = this._absMax * ratio + this._min;\n    this.pointer.style.left = `${ratio * this.rangeWidth}px`;\n    this.subbar.style.right = `${(1 - ratio) * this.rangeWidth}px`;\n    this.value = value;\n\n    this.fire('change', value, true);\n  }\n\n  _startChangingSlide(event) {\n    this.firstPosition = event.screenX;\n    this.firstLeft = toInteger(this.pointer.style.left) || 0;\n\n    document.addEventListener('mousemove', this.eventHandler.changeSlide);\n    document.addEventListener('mouseup', this.eventHandler.stopChangingSlide);\n  }\n\n  /**\n   * stop change angle event\n   * @private\n   */\n  _stopChangingSlide() {\n    this.fire('change', this._value, true);\n\n    document.removeEventListener('mousemove', this.eventHandler.changeSlide);\n    document.removeEventListener('mouseup', this.eventHandler.stopChangingSlide);\n  }\n\n  /**\n   * Unnecessary string filtering.\n   * @param {string} inputValue - origin string of input\n   * @returns {string} filtered string\n   * @private\n   */\n  _filterForInputText(inputValue) {\n    return inputValue.replace(INPUT_FILTER_REGEXP, '$1$2$3');\n  }\n}\n\nsnippet.CustomEvents.mixin(Range);\n\nexport default Range;\n","/**\n * @author NHN. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Util\n */\nimport { forEach, sendHostname, extend, isString, pick, inArray } from 'tui-code-snippet';\nimport Promise from 'core-js-pure/features/promise';\nimport {\n  commandNames,\n  filterType,\n  historyNames,\n  SHAPE_FILL_TYPE,\n  SHAPE_TYPE,\n  emptyCropRectValues,\n} from '@/consts';\n\nconst FLOATING_POINT_DIGIT = 2;\nconst CSS_PREFIX = 'tui-image-editor-';\nconst { min, max } = Math;\nlet hostnameSent = false;\n\n/**\n * Export Promise Class (for simplified module path)\n * @returns {Promise} promise class\n */\nexport { Promise };\n\n/**\n * Clamp value\n * @param {number} value - Value\n * @param {number} minValue - Minimum value\n * @param {number} maxValue - Maximum value\n * @returns {number} clamped value\n */\nexport function clamp(value, minValue, maxValue) {\n  if (minValue > maxValue) {\n    [minValue, maxValue] = [maxValue, minValue];\n  }\n\n  return max(minValue, min(value, maxValue));\n}\n\n/**\n * Make key-value object from arguments\n * @returns {object.<string, string>}\n */\nexport function keyMirror(...args) {\n  const obj = {};\n\n  forEach(args, (key) => {\n    obj[key] = key;\n  });\n\n  return obj;\n}\n\n/**\n * Make CSSText\n * @param {Object} styleObj - Style info object\n * @returns {string} Connected string of style\n */\nexport function makeStyleText(styleObj) {\n  let styleStr = '';\n\n  forEach(styleObj, (value, prop) => {\n    styleStr += `${prop}: ${value};`;\n  });\n\n  return styleStr;\n}\n\n/**\n * Get object's properties\n * @param {Object} obj - object\n * @param {Array} keys - keys\n * @returns {Object} properties object\n */\nexport function getProperties(obj, keys) {\n  const props = {};\n  const { length } = keys;\n  let i = 0;\n  let key;\n\n  for (i = 0; i < length; i += 1) {\n    key = keys[i];\n    props[key] = obj[key];\n  }\n\n  return props;\n}\n\n/**\n * ParseInt simpliment\n * @param {number} value - Value\n * @returns {number}\n */\nexport function toInteger(value) {\n  return parseInt(value, 10);\n}\n\n/**\n * String to camelcase string\n * @param {string} targetString - change target\n * @returns {string}\n * @private\n */\nexport function toCamelCase(targetString) {\n  return targetString.replace(/-([a-z])/g, ($0, $1) => $1.toUpperCase());\n}\n\n/**\n * Check browser file api support\n * @returns {boolean}\n * @private\n */\nexport function isSupportFileApi() {\n  return !!(window.File && window.FileList && window.FileReader);\n}\n\n/**\n * hex to rgb\n * @param {string} color - hex color\n * @param {string} alpha - color alpha value\n * @returns {string} rgb expression\n */\nexport function getRgb(color, alpha) {\n  if (color.length === 4) {\n    color = `${color}${color.slice(1, 4)}`;\n  }\n  const r = parseInt(color.slice(1, 3), 16);\n  const g = parseInt(color.slice(3, 5), 16);\n  const b = parseInt(color.slice(5, 7), 16);\n  const a = alpha || 1;\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n * send hostname\n */\nexport function sendHostName() {\n  if (hostnameSent) {\n    return;\n  }\n  hostnameSent = true;\n\n  sendHostname('image-editor', 'UA-129999381-1');\n}\n\n/**\n * Apply css resource\n * @param {string} styleBuffer - serialized css text\n * @param {string} tagId - style tag id\n */\nexport function styleLoad(styleBuffer, tagId) {\n  const [head] = document.getElementsByTagName('head');\n  const linkElement = document.createElement('link');\n  const styleData = encodeURIComponent(styleBuffer);\n  if (tagId) {\n    linkElement.id = tagId;\n    // linkElement.id = 'tui-image-editor-theme-style';\n  }\n  linkElement.setAttribute('rel', 'stylesheet');\n  linkElement.setAttribute('type', 'text/css');\n  linkElement.setAttribute('href', `data:text/css;charset=UTF-8,${styleData}`);\n  head.appendChild(linkElement);\n}\n\n/**\n * Get selector\n * @param {HTMLElement} targetElement - target element\n * @returns {Function} selector\n */\nexport function getSelector(targetElement) {\n  return (str) => targetElement.querySelector(str);\n}\n\n/**\n * Change base64 to blob\n * @param {String} data - base64 string data\n * @returns {Blob} Blob Data\n */\nexport function base64ToBlob(data) {\n  const rImageType = /data:(image\\/.+);base64,/;\n  let mimeString = '';\n  let raw, uInt8Array, i;\n\n  raw = data.replace(rImageType, (header, imageType) => {\n    mimeString = imageType;\n\n    return '';\n  });\n\n  raw = atob(raw);\n  const rawLength = raw.length;\n  uInt8Array = new Uint8Array(rawLength); // eslint-disable-line\n\n  for (i = 0; i < rawLength; i += 1) {\n    uInt8Array[i] = raw.charCodeAt(i);\n  }\n\n  return new Blob([uInt8Array], { type: mimeString });\n}\n\n/**\n * Fix floating point diff.\n * @param {number} value - original value\n * @returns {number} fixed value\n */\nexport function fixFloatingPoint(value) {\n  return Number(value.toFixed(FLOATING_POINT_DIGIT));\n}\n\n/**\n * Assignment for destroying objects.\n * @param {Object} targetObject - object to be removed.\n */\nexport function assignmentForDestroy(targetObject) {\n  forEach(targetObject, (value, key) => {\n    targetObject[key] = null;\n  });\n}\n\n/**\n * Make class name for ui\n * @param {String} str  - main string of className\n * @param {String} prefix - prefix string of className\n * @returns {String} class name\n */\nexport function cls(str = '', prefix = '') {\n  if (str.charAt(0) === '.') {\n    return `.${CSS_PREFIX}${prefix}${str.slice(1)}`;\n  }\n\n  return `${CSS_PREFIX}${prefix}${str}`;\n}\n\n/**\n * Change object origin\n * @param {fabric.Object} fObject - fabric object\n * @param {Object} origin - origin of fabric object\n *   @param {string} originX - horizontal basis.\n *   @param {string} originY - vertical basis.\n */\nexport function changeOrigin(fObject, origin) {\n  const { originX, originY } = origin;\n  const { x: left, y: top } = fObject.getPointByOrigin(originX, originY);\n\n  fObject.set({\n    left,\n    top,\n    originX,\n    originY,\n  });\n\n  fObject.setCoords();\n}\n\n/**\n * Object key value flip\n * @param {Object} targetObject - The data object of the key value.\n * @returns {Object}\n */\nexport function flipObject(targetObject) {\n  const result = {};\n\n  Object.keys(targetObject).forEach((key) => {\n    result[targetObject[key]] = key;\n  });\n\n  return result;\n}\n\n/**\n * Set custom properties\n * @param {Object} targetObject - target object\n * @param {Object} props - custom props object\n */\nexport function setCustomProperty(targetObject, props) {\n  targetObject.customProps = targetObject.customProps || {};\n  extend(targetObject.customProps, props);\n}\n\n/**\n * Get custom property\n * @param {fabric.Object} fObject - fabric object\n * @param {Array|string} propNames - prop name array\n * @returns {object | number | string}\n */\nexport function getCustomProperty(fObject, propNames) {\n  const resultObject = {};\n  if (isString(propNames)) {\n    propNames = [propNames];\n  }\n  forEach(propNames, (propName) => {\n    resultObject[propName] = fObject.customProps[propName];\n  });\n\n  return resultObject;\n}\n\n/**\n * Capitalize string\n * @param {string} targetString - target string\n * @returns {string}\n */\nexport function capitalizeString(targetString) {\n  return targetString.charAt(0).toUpperCase() + targetString.slice(1);\n}\n\n/**\n * Array includes check\n * @param {Array} targetArray - target array\n * @param {string|number} compareValue - compare value\n * @returns {boolean}\n */\nexport function includes(targetArray, compareValue) {\n  return targetArray.indexOf(compareValue) >= 0;\n}\n\n/**\n * Get fill type\n * @param {Object | string} fillOption - shape fill option\n * @returns {string} 'color' or 'filter'\n */\nexport function getFillTypeFromOption(fillOption = {}) {\n  return pick(fillOption, 'type') || SHAPE_FILL_TYPE.COLOR;\n}\n\n/**\n * Get fill type of shape type object\n * @param {fabric.Object} shapeObj - fabric object\n * @returns {string} 'transparent' or 'color' or 'filter'\n */\nexport function getFillTypeFromObject(shapeObj) {\n  const { fill = {} } = shapeObj;\n  if (fill.source) {\n    return SHAPE_FILL_TYPE.FILTER;\n  }\n\n  return SHAPE_FILL_TYPE.COLOR;\n}\n\n/**\n * Check if the object is a shape object.\n * @param {fabric.Object} obj - fabric object\n * @returns {boolean}\n */\nexport function isShape(obj) {\n  return inArray(obj.get('type'), SHAPE_TYPE) >= 0;\n}\n\n/**\n * Get object type\n * @param {string} type - fabric object type\n * @returns {string} type of object (ex: shape, icon, ...)\n */\nexport function getObjectType(type) {\n  if (includes(SHAPE_TYPE, type)) {\n    return 'Shape';\n  }\n\n  switch (type) {\n    case 'i-text':\n      return 'Text';\n    case 'path':\n    case 'line':\n      return 'Draw';\n    case 'activeSelection':\n      return 'Group';\n    default:\n      return toStartOfCapital(type);\n  }\n}\n\n/**\n * Get filter type\n * @param {string} type - fabric filter type\n * @param {object} [options] - filter type options\n *   @param {boolean} [options.useAlpha=true] - usage of alpha(true is 'color filter', false is 'remove white')\n *   @param {string} [options.mode] - mode of blendColor\n * @returns {string} type of filter (ex: sepia, blur, ...)\n */\nfunction getFilterType(type, { useAlpha = true, mode } = {}) {\n  const {\n    VINTAGE,\n    REMOVE_COLOR,\n    BLEND_COLOR,\n    SEPIA2,\n    COLOR_FILTER,\n    REMOVE_WHITE,\n    BLEND,\n  } = filterType;\n\n  let filterName;\n\n  switch (type) {\n    case VINTAGE:\n      filterName = SEPIA2;\n      break;\n    case REMOVE_COLOR:\n      filterName = useAlpha ? COLOR_FILTER : REMOVE_WHITE;\n      break;\n    case BLEND_COLOR:\n      filterName = mode === 'add' ? BLEND : mode;\n      break;\n    default:\n      filterName = type;\n  }\n\n  return toStartOfCapital(filterName);\n}\n\n/**\n * Check if command is silent command\n * @param {Command|string} command - command or command name\n * @returns {boolean}\n */\nexport function isSilentCommand(command) {\n  const { LOAD_IMAGE } = commandNames;\n\n  return typeof command === 'string' ? LOAD_IMAGE === command : LOAD_IMAGE === command.name;\n}\n\n/**\n * Get command name\n * @param {Command|string} command - command or command name\n * @returns {{name: string, ?detail: string}}\n */\n// eslint-disable-next-line complexity, require-jsdoc\nexport function getHistoryTitle(command) {\n  const {\n    FLIP_IMAGE,\n    ROTATE_IMAGE,\n    ADD_TEXT,\n    APPLY_FILTER,\n    REMOVE_FILTER,\n    CHANGE_SHAPE,\n    CHANGE_ICON_COLOR,\n    CHANGE_TEXT_STYLE,\n    CLEAR_OBJECTS,\n    ADD_IMAGE_OBJECT,\n    REMOVE_OBJECT,\n  } = commandNames;\n  const { name, args } = command;\n  let historyInfo;\n\n  switch (name) {\n    case FLIP_IMAGE:\n      historyInfo = { name, detail: args[1] === 'reset' ? args[1] : args[1].slice(4) };\n      break;\n    case ROTATE_IMAGE:\n      historyInfo = { name, detail: args[2] };\n      break;\n    case APPLY_FILTER:\n      historyInfo = { name: historyNames.APPLY_FILTER, detail: getFilterType(args[1], args[2]) };\n      break;\n    case REMOVE_FILTER:\n      historyInfo = { name: historyNames.REMOVE_FILTER, detail: 'Remove' };\n      break;\n    case CHANGE_SHAPE:\n      historyInfo = { name: historyNames.CHANGE_SHAPE, detail: 'Change' };\n      break;\n    case CHANGE_ICON_COLOR:\n      historyInfo = { name: historyNames.CHANGE_ICON_COLOR, detail: 'Change' };\n      break;\n    case CHANGE_TEXT_STYLE:\n      historyInfo = { name: historyNames.CHANGE_TEXT_STYLE, detail: 'Change' };\n      break;\n    case REMOVE_OBJECT:\n      historyInfo = { name: historyNames.REMOVE_OBJECT, detail: args[2] };\n      break;\n    case CLEAR_OBJECTS:\n      historyInfo = { name: historyNames.CLEAR_OBJECTS, detail: 'All' };\n      break;\n    case ADD_IMAGE_OBJECT:\n      historyInfo = { name: historyNames.ADD_IMAGE_OBJECT, detail: 'Add' };\n      break;\n    case ADD_TEXT:\n      historyInfo = { name: historyNames.ADD_TEXT };\n      break;\n\n    default:\n      historyInfo = { name };\n      break;\n  }\n\n  if (args[1] === 'mask') {\n    historyInfo = { name: historyNames.LOAD_MASK_IMAGE, detail: 'Apply' };\n  }\n\n  return historyInfo;\n}\n\n/**\n * Get help menubar position(opposite of menubar)\n * @param {string} position - position of menubar\n * @returns {string} position of help menubar\n */\nexport function getHelpMenuBarPosition(position) {\n  if (position === 'top') {\n    return 'bottom';\n  }\n  if (position === 'left') {\n    return 'right';\n  }\n  if (position === 'right') {\n    return 'left';\n  }\n\n  return 'top';\n}\n\n/**\n * Change to capital start letter\n * @param {string} str - string to change\n * @returns {string}\n */\nfunction toStartOfCapital(str) {\n  return str.replace(/[a-z]/, (first) => first.toUpperCase());\n}\n\n/**\n * Check if cropRect is Empty.\n * @param {Object} cropRect - cropRect object\n *  @param {Number} cropRect.left - cropRect left position value\n *  @param {Number} cropRect.top - cropRect top position value\n *  @param {Number} cropRect.width - cropRect width value\n *  @param {Number} cropRect.height - cropRect height value\n * @returns {boolean}\n */\nexport function isEmptyCropzone(cropRect) {\n  const { left, top, width, height } = cropRect;\n  const { LEFT, TOP, WIDTH, HEIGHT } = emptyCropRectValues;\n\n  return left === LEFT && top === TOP && width === WIDTH && height === HEIGHT;\n}\n","module.exports = \"<svg display=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"><defs id=\\\"tui-image-editor-svg-default-icons\\\"><symbol id=\\\"ic-apply\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" stroke=\\\"none\\\" fill=\\\"none\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M4 12.011l5 5L20.011 6\\\"></path></symbol><symbol id=\\\"ic-cancel\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M6 6l12 12M18 6L6 18\\\"></path></symbol><symbol id=\\\"ic-crop\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" stroke=\\\"none\\\" fill=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M4 0h1v20a1 1 0 0 1-1-1V0zM20 17h-1V5h1v12zm0 2v5h-1v-5h1z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M5 19h19v1H5zM4.762 4v1H0V4h4.762zM7 4h12a1 1 0 0 1 1 1H7V4z\\\"></path></symbol><symbol id=\\\"ic-delete-all\\\" viewBox=\\\"0 0 24 24\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M5 23H3a1 1 0 0 1-1-1V6h1v16h2v1zm16-10h-1V6h1v7zM9 13H8v-3h1v3zm3 0h-1v-3h1v3zm3 0h-1v-3h1v3zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M0 3h23v1H0zM11.286 21H8.714L8 23H7l1-2.8V20h.071L9.5 16h1l1.429 4H12v.2l1 2.8h-1l-.714-2zm-.357-1L10 17.4 9.071 20h1.858zM20 22h3v1h-4v-7h1v6zm-5 0h3v1h-4v-7h1v6z\\\"></path></symbol><symbol id=\\\"ic-delete\\\" viewBox=\\\"0 0 24 24\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M3 6v16h17V6h1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6h1zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M0 3h23v1H0zM8 10h1v6H8v-6zm3 0h1v6h-1v-6zm3 0h1v6h-1v-6z\\\"></path></symbol><symbol id=\\\"ic-draw-free\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M2.5 20.929C2.594 10.976 4.323 6 7.686 6c5.872 0 2.524 19 7.697 19s1.89-14.929 6.414-14.929 1.357 10.858 5.13 10.858c1.802 0 2.657-2.262 2.566-6.786\\\"></path></symbol><symbol id=\\\"ic-draw-line\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M2 15.5h28\\\"></path></symbol><symbol id=\\\"ic-draw\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M2.5 21.5H5c.245 0 .48-.058.691-.168l.124-.065.14.01c.429.028.85-.127 1.16-.437L22.55 5.405a.5.5 0 0 0 0-.707l-3.246-3.245a.5.5 0 0 0-.707 0L3.162 16.888a1.495 1.495 0 0 0-.437 1.155l.01.14-.065.123c-.111.212-.17.448-.17.694v2.5z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M16.414 3.707l3.89 3.89-.708.706-3.889-3.889z\\\"></path></symbol><symbol id=\\\"ic-filter\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M12 7v1H2V7h10zm6 0h4v1h-4V7zM12 16v1h10v-1H12zm-6 0H2v1h4v-1z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M8.5 20a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM15.5 11a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z\\\"></path></symbol><symbol id=\\\"ic-flip-reset\\\" viewBox=\\\"0 0 31 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M31 0H0v32h31z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M28 16a8 8 0 0 1-8 8H3v-1h1v-7H3a8 8 0 0 1 8-8h17v1h-1v7h1zM11 9a7 7 0 0 0-7 7v7h16a7 7 0 0 0 7-7V9H11z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M24 5l3.5 3.5L24 12M7 20l-3.5 3.5L7 27\\\"></path></symbol><symbol id=\\\"ic-flip-x\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M32 32H0V0h32z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M17 32h-1V0h1zM27.167 11l.5 3h-1.03l-.546-3h1.076zm-.5-3h-1.122L25 5h-5V4h5.153a1 1 0 0 1 .986.836L26.667 8zm1.5 9l.5 3h-.94l-.545-3h.985zm1 6l.639 3.836A1 1 0 0 1 28.819 28H26v-1h3l-.726-4h.894zM23 28h-3v-1h3v1zM13 4v1H7L3 27h10v1H3.18a1 1 0 0 1-.986-1.164l3.666-22A1 1 0 0 1 6.847 4H13z\\\"></path></symbol><symbol id=\\\"ic-flip-y\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M0 0v32h32V0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M0 16v1h32v-1zM11 27.167l3 .5v-1.03l-3-.546v1.076zm-3-.5v-1.122L5 25v-5H4v5.153a1 1 0 0 0 .836.986L8 26.667zm9 1.5l3 .5v-.94l-3-.545v.985zm6 1l3.836.639A1 1 0 0 0 28 28.82V26h-1v3l-4-.727v.894zM28 23v-3h-1v3h1zM4 13h1V7l22-4v10h1V3.18a1 1 0 0 0-1.164-.986l-22 3.667A1 1 0 0 0 4 6.847V13z\\\"></path></symbol><symbol id=\\\"ic-flip\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path fill=\\\"inherit\\\" stroke=\\\"none\\\" d=\\\"M11 0h1v24h-1zM19 21v-1h2v-2h1v2a1 1 0 0 1-1 1h-2zm-2 0h-3v-1h3v1zm5-5h-1v-3h1v3zm0-5h-1V8h1v3zm0-5h-1V4h-2V3h2a1 1 0 0 1 1 1v2zm-5-3v1h-3V3h3zM9 3v1H2v16h7v1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7z\\\"></path></symbol><symbol id=\\\"ic-history\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M0 0H24V24H0z\\\" transform=\\\"translate(-740 -16) translate(547 8) translate(193 8)\\\"></path><path fill=\\\"inherit\\\" stroke=\\\"none\\\" d=\\\"M12.5 1C18.299 1 23 5.701 23 11.5S18.299 22 12.5 22c-5.29 0-9.665-3.911-10.394-8.999h1.012C3.838 17.534 7.764 21 12.5 21c5.247 0 9.5-4.253 9.5-9.5S17.747 2 12.5 2C8.49 2 5.06 4.485 3.666 8H3h4v1H2V4h1v3.022C4.68 3.462 8.303 1 12.5 1zm.5 5l-.001 5.291 2.537 2.537-.708.708L12.292 12H12V6h1z\\\" transform=\\\"translate(-740 -16) translate(547 8) translate(193 8)\\\"></path></symbol><symbol id=\\\"ic-history-check\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path stroke=\\\"#555555\\\" d=\\\"M4.5 -1L1.5 2 6.5 7\\\" transform=\\\"translate(-60 -804) translate(60 804) translate(2 3) rotate(-90 4 3)\\\"></path></g></symbol><symbol id=\\\"ic-history-crop\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-84 -804) translate(84 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M2 0h1v10c-.552 0-1-.448-1-1V0zM10 9v3H9V9h1zM9 2h1v6H9V2z\\\" transform=\\\"translate(-84 -804) translate(84 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M2 9H12V10H2zM9 2c.513 0 .936.386.993.883L10 3H3V2h6zM2 3H0V2h2v1z\\\" transform=\\\"translate(-84 -804) translate(84 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-draw\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 1H12V13H0z\\\" transform=\\\"translate(-156 -804) translate(156 803)\\\"></path><path stroke=\\\"#434343\\\" d=\\\"M9.622 1.584l1.835 1.658-8.31 8.407L.5 12.5V11l9.122-9.416z\\\" transform=\\\"translate(-156 -804) translate(156 803)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M7.628 3.753L10.378 3.753 10.378 4.253 7.628 4.253z\\\" transform=\\\"translate(-156 -804) translate(156 803) rotate(45 9.003 4.003)\\\"></path></g></symbol><symbol id=\\\"ic-history-filter\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-276 -804) translate(276 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M12 3v1H9V3h3zM7 4H0V3h7v1z\\\" transform=\\\"translate(-276 -804) translate(276 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M12 8v1H9V8h3zM7 9H0V8h7v1z\\\" transform=\\\"translate(-276 -804) translate(276 804) matrix(-1 0 0 1 12 0)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M8 1c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zM4 7c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1z\\\" transform=\\\"translate(-276 -804) translate(276 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-flip\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-108 -804) translate(108 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M6 0L7 0 7 12 6 12zM11 10V9h1v1.5c0 .276-.224.5-.5.5H10v-1h1zM5 1v1H1v8h4v1H.5c-.276 0-.5-.224-.5-.5v-9c0-.276.224-.5.5-.5H5zm7 5v2h-1V6h1zm0-3v2h-1V3h1zM9 1v1H7V1h2zm2.5 0c.276 0 .5.224.5.5V2h-2V1h1.5zM9 11H7v-1h2v1z\\\" transform=\\\"translate(-108 -804) translate(108 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-icon\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-204 -804) translate(204 804)\\\"></path><path stroke=\\\"#434343\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.1\\\" d=\\\"M6 9.568L2.601 11 2.975 7.467 0.5 4.82 4.13 4.068 6 1 7.87 4.068 11.5 4.82 9.025 7.467 9.399 11z\\\" transform=\\\"translate(-204 -804) translate(204 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-mask\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(-252 -804) translate(252 804)\\\"><path d=\\\"M0 0H12V12H0z\\\"></path><circle cx=\\\"6\\\" cy=\\\"6\\\" r=\\\"2.5\\\" stroke=\\\"#444\\\"></circle><path fill=\\\"#434343\\\" d=\\\"M11.5 0c.276 0 .5.224.5.5v11c0 .276-.224.5-.5.5H.5c-.276 0-.5-.224-.5-.5V.5C0 .224.224 0 .5 0h11zM11 1H1v10h10V1z\\\"></path></g></g></symbol><symbol id=\\\"ic-history-rotate\\\" viewBox=\\\"0 0 24 24\\\"><defs><path id=\\\"rfn4rylffa\\\" d=\\\"M7 12c-.335 0-.663-.025-.983-.074C3.171 11.492 1 9.205 1 6.444c0-1.363.534-2.613 1.415-3.58\\\"></path><mask id=\\\"6f9gn2dysb\\\" width=\\\"6\\\" height=\\\"9.136\\\" x=\\\"0\\\" y=\\\"0\\\" maskUnits=\\\"objectBoundingBox\\\"><use xlink:href=\\\"#rfn4rylffa\\\" stroke=\\\"434343\\\"></use></mask></defs><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(-132 -804) translate(132 804)\\\"><path d=\\\"M0 0.5H12V12.5H0z\\\"></path><path fill=\\\"#434343\\\" d=\\\"M6.5 1C9.538 1 12 3.462 12 6.5c0 2.37-1.5 4.39-3.6 5.163l-.407-.916C9.744 10.13 11 8.462 11 6.5 11 4.015 8.985 2 6.5 2c-.777 0-1.509.197-2.147.544L4 1.75l-.205-.04C4.594 1.258 5.517 1 6.5 1z\\\"></path><use stroke=\\\"#434343\\\" stroke-dasharray=\\\"2 1.25\\\" stroke-width=\\\"1\\\" mask=\\\"url(#6f9gn2dysb)\\\" xlink:href=\\\"#rfn4rylffa\\\"></use><path fill=\\\"#434343\\\" d=\\\"M4.279 0L6 1.75 4.25 3.571 3.543 2.864 4.586 1.75 3.572 0.707z\\\" transform=\\\"matrix(-1 0 0 1 9.543 0)\\\"></path></g></g></symbol><symbol id=\\\"ic-history-shape\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-180 -804) translate(180 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M11.5 4c.276 0 .5.224.5.5v7c0 .276-.224.5-.5.5h-7c-.276 0-.5-.224-.5-.5V8.8h1V11h6V5H8.341l-.568-1H11.5z\\\" transform=\\\"translate(-180 -804) translate(180 804)\\\"></path><path stroke=\\\"#434343\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M4.5 0.5L8.5 7.611 0.5 7.611z\\\" transform=\\\"translate(-180 -804) translate(180 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-text\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-228 -804) translate(228 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M2 1h8c.552 0 1 .448 1 1H1c0-.552.448-1 1-1z\\\" transform=\\\"translate(-228 -804) translate(228 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M1 1H2V3H1zM10 1H11V3H10zM5.5 1L6.5 1 6.5 11 5.5 11z\\\" transform=\\\"translate(-228 -804) translate(228 804)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M4 10H8V11H4z\\\" transform=\\\"translate(-228 -804) translate(228 804)\\\"></path></g></symbol><symbol id=\\\"ic-history-load\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M0 0H12V12H0z\\\" transform=\\\"translate(-324 -805) translate(324 805)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M5 0c.552 0 1 .448 1 1v1h5.5c.276 0 .5.224.5.5v8c0 .276-.224.5-.5.5H.5c-.276 0-.5-.224-.5-.5V1c0-.552.448-1 1-1h4zm0 1H1v9h10V3H5V1z\\\" transform=\\\"translate(-324 -805) translate(324 805)\\\"></path><path fill=\\\"#434343\\\" d=\\\"M1 2L5 2 5 3 1 3z\\\" transform=\\\"translate(-324 -805) translate(324 805)\\\"></path></g></symbol><symbol id=\\\"ic-history-delete\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g fill=\\\"#434343\\\"><path d=\\\"M2 9h8V1h1v8.5c0 .276-.224.5-.5.5h-9c-.276 0-.5-.224-.5-.5V1h1v8zM0 0H12V1H0z\\\" transform=\\\"translate(-300 -804) translate(300 804) translate(0 2)\\\"></path><path d=\\\"M4 3H5V7H4zM7 3H8V7H7z\\\" transform=\\\"translate(-300 -804) translate(300 804) translate(0 2)\\\"></path><path d=\\\"M4 1h4V0h1v1.5c0 .276-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5V0h1v1z\\\" transform=\\\"translate(-300 -804) translate(300 804) matrix(1 0 0 -1 0 2)\\\"></path></g></g></symbol><symbol id=\\\"ic-history-group\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" stroke=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(-348 -804) translate(348 804)\\\"><path d=\\\"M0 0H12V12H0z\\\"></path><path fill=\\\"#434343\\\" d=\\\"M1 9v2h1v1H.5c-.276 0-.5-.224-.5-.5V9h1zm11 1v1.5c0 .276-.224.5-.5.5H9v-1h2v-1h1zm-4 1v1H6v-1h2zm-3 0v1H3v-1h2zm7-4v2h-1V7h1zM1 6v2H0V6h1zm11-2v2h-1V4h1zM1 3v2H0V3h1zm10.5-3c.276 0 .5.224.5.5V3h-1V1h-1V0h1.5zM6 0v1H4V0h2zm3 0v1H7V0h2zM0 .5C0 .224.224 0 .5 0H3v1H1v1H0V.5zM9.5 4c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-5c-.276 0-.5-.224-.5-.5V8.355c.317.094.652.145 1 .145V9h4V5h-.5c0-.348-.05-.683-.145-1H9.5z\\\"></path><circle cx=\\\"5\\\" cy=\\\"5\\\" r=\\\"2.5\\\" stroke=\\\"#434343\\\"></circle></g></g></symbol><symbol id=\\\"ic-icon-arrow-2\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M21.793 18.5H2.5v-5h18.935l-7.6-8h5.872l10.5 10.5-10.5 10.5h-5.914l8-8z\\\"></path></symbol><symbol id=\\\"ic-icon-arrow-3\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M25.288 16.42L14.208 27.5H6.792l11.291-11.291L6.826 4.5h7.381l11.661 11.661-.58.258z\\\"></path></symbol><symbol id=\\\"ic-icon-arrow\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M2.5 11.5v9h18v5.293L30.293 16 20.5 6.207V11.5h-18z\\\"></path></symbol><symbol id=\\\"ic-icon-bubble\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M22.207 24.5L16.5 30.207V24.5H8A6.5 6.5 0 0 1 1.5 18V9A6.5 6.5 0 0 1 8 2.5h16A6.5 6.5 0 0 1 30.5 9v9a6.5 6.5 0 0 1-6.5 6.5h-1.793z\\\"></path></symbol><symbol id=\\\"ic-icon-heart\\\" viewBox=\\\"0 0 32 32\\\"><path fill-rule=\\\"nonzero\\\" fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M15.996 30.675l1.981-1.79c7.898-7.177 10.365-9.718 12.135-13.012.922-1.716 1.377-3.37 1.377-5.076 0-4.65-3.647-8.297-8.297-8.297-2.33 0-4.86 1.527-6.817 3.824l-.38.447-.381-.447C13.658 4.027 11.126 2.5 8.797 2.5 4.147 2.5.5 6.147.5 10.797c0 1.714.46 3.375 1.389 5.098 1.775 3.288 4.26 5.843 12.123 12.974l1.984 1.806z\\\"></path></symbol><symbol id=\\\"ic-icon-load\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M17.314 18.867l1.951-2.53 4 5.184h-17l6.5-8.84 4.549 6.186z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M25 3h1v9h-1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M22 6l3.5-3.5L29 6\\\"></path></symbol><symbol id=\\\"ic-icon-location\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M16 31.28C23.675 23.302 27.5 17.181 27.5 13c0-6.351-5.149-11.5-11.5-11.5S4.5 6.649 4.5 13c0 4.181 3.825 10.302 11.5 18.28z\\\"></path><circle fill=\\\"none\\\" stroke=\\\"inherit\\\" cx=\\\"16\\\" cy=\\\"13\\\" r=\\\"4.5\\\"></circle></symbol><symbol id=\\\"ic-icon-polygon\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M.576 16L8.29 29.5h15.42L31.424 16 23.71 2.5H8.29L.576 16z\\\"></path></symbol><symbol id=\\\"ic-icon-star-2\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M19.446 31.592l2.265-3.272 3.946.25.636-3.94 3.665-1.505-1.12-3.832 2.655-2.962-2.656-2.962 1.12-3.832-3.664-1.505-.636-3.941-3.946.25-2.265-3.271L16 3.024 12.554 1.07 10.289 4.34l-3.946-.25-.636 3.941-3.665 1.505 1.12 3.832L.508 16.33l2.656 2.962-1.12 3.832 3.664 1.504.636 3.942 3.946-.25 2.265 3.27L16 29.638l3.446 1.955z\\\"></path></symbol><symbol id=\\\"ic-icon-star\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M25.292 29.878l-1.775-10.346 7.517-7.327-10.388-1.51L16 1.282l-4.646 9.413-10.388 1.51 7.517 7.327-1.775 10.346L16 24.993l9.292 4.885z\\\"></path></symbol><symbol id=\\\"ic-icon\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M11.923 19.136L5.424 22l.715-7.065-4.731-5.296 6.94-1.503L11.923 2l3.574 6.136 6.94 1.503-4.731 5.296L18.42 22z\\\"></path></symbol><symbol id=\\\"ic-mask-load\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01zM15 23a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-1a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M25 3h1v9h-1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" d=\\\"M22 6l3.5-3.5L29 6\\\"></path></symbol><symbol id=\\\"ic-mask\\\" viewBox=\\\"0 0 24 24\\\"><circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"4.5\\\" stroke=\\\"inherit\\\" fill=\\\"none\\\"></circle><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 1h20a1 1 0 0 1 1 1v20a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm0 1v20h20V2H2z\\\"></path></symbol><symbol id=\\\"ic-redo\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" opacity=\\\".5\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M21 6H9a6 6 0 1 0 0 12h12v1H9A7 7 0 0 1 9 5h12v1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M19 3l2.5 2.5L19 8\\\"></path></symbol><symbol id=\\\"ic-reset\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" opacity=\\\".5\\\" stroke=\\\"none\\\" fill=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 13v-1a7 7 0 0 1 7-7h13v1h-1v5h1v1a7 7 0 0 1-7 7H2v-1h1v-5H2zm7-7a6 6 0 0 0-6 6v6h12a6 6 0 0 0 6-6V6H9z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M19 3l2.5 2.5L19 8M5 16l-2.5 2.5L5 21\\\"></path></symbol><symbol id=\\\"ic-rotate-clockwise\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M29 17h-.924c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12C4.076 10.398 9.407 5.041 16 5V4C8.82 4 3 9.82 3 17s5.82 13 13 13 13-5.82 13-13z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M16 1.5l4 3-4 3\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M16 4h4v1h-4z\\\"></path></symbol><symbol id=\\\"ic-rotate-counterclockwise\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" d=\\\"M3 17h.924c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.602-5.331-11.96-11.924-12V4c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 24.18 3 17z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M12 4h4v1h-4z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M16 1.5l-4 3 4 3\\\"></path></symbol><symbol id=\\\"ic-rotate\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path fill=\\\"inherit\\\" stroke=\\\"none\\\" d=\\\"M8.349 22.254a10.002 10.002 0 0 1-2.778-1.719l.65-.76a9.002 9.002 0 0 0 2.495 1.548l-.367.931zm2.873.704l.078-.997a9 9 0 1 0-.557-17.852l-.14-.99A10.076 10.076 0 0 1 12.145 3c5.523 0 10 4.477 10 10s-4.477 10-10 10c-.312 0-.62-.014-.924-.042zm-7.556-4.655a9.942 9.942 0 0 1-1.253-2.996l.973-.234a8.948 8.948 0 0 0 1.124 2.693l-.844.537zm-1.502-5.91A9.949 9.949 0 0 1 2.88 9.23l.925.382a8.954 8.954 0 0 0-.644 2.844l-.998-.062zm2.21-5.686c.687-.848 1.51-1.58 2.436-2.166l.523.852a9.048 9.048 0 0 0-2.188 1.95l-.771-.636z\\\"></path><path stroke=\\\"inherit\\\" fill=\\\"none\\\" stroke-linecap=\\\"square\\\" d=\\\"M13 1l-2.5 2.5L13 6\\\"></path></symbol><symbol id=\\\"ic-shape-circle\\\" viewBox=\\\"0 0 32 32\\\"><circle cx=\\\"16\\\" cy=\\\"16\\\" r=\\\"14.5\\\" fill=\\\"none\\\" stroke=\\\"inherit\\\"></circle></symbol><symbol id=\\\"ic-shape-rectangle\\\" viewBox=\\\"0 0 32 32\\\"><rect width=\\\"27\\\" height=\\\"27\\\" x=\\\"2.5\\\" y=\\\"2.5\\\" fill=\\\"none\\\" stroke=\\\"inherit\\\" rx=\\\"1\\\"></rect></symbol><symbol id=\\\"ic-shape-triangle\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M16 2.5l15.5 27H.5z\\\"></path></symbol><symbol id=\\\"ic-shape\\\" viewBox=\\\"0 0 24 24\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M14.706 8H21a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4h1v4h12V9h-5.706l-.588-1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" d=\\\"M8.5 1.5l7.5 13H1z\\\"></path></symbol><symbol id=\\\"ic-text-align-center\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 5h28v1H2zM8 12h16v1H8zM2 19h28v1H2zM8 26h16v1H8z\\\"></path></symbol><symbol id=\\\"ic-text-align-left\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 5h28v1H2zM2 12h16v1H2zM2 19h28v1H2zM2 26h16v1H2z\\\"></path></symbol><symbol id=\\\"ic-text-align-right\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M2 5h28v1H2zM14 12h16v1H14zM2 19h28v1H2zM14 26h16v1H14z\\\"></path></symbol><symbol id=\\\"ic-text-bold\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M7 2h2v2H7zM7 28h2v2H7z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-width=\\\"2\\\" d=\\\"M9 3v12h9a6 6 0 1 0 0-12H9zM9 15v14h10a7 7 0 0 0 0-14H9z\\\"></path></symbol><symbol id=\\\"ic-text-italic\\\" viewBox=\\\"0 0 32 32\\\"><path fill=\\\"none\\\" stroke=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M15 2h5v1h-5zM11 29h5v1h-5zM17 3h1l-4 26h-1z\\\"></path></symbol><symbol id=\\\"ic-text-underline\\\" viewBox=\\\"0 0 32 32\\\"><path stroke=\\\"none\\\" fill=\\\"none\\\" d=\\\"M0 0h32v32H0z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M8 2v14a8 8 0 1 0 16 0V2h1v14a9 9 0 0 1-18 0V2h1zM3 29h26v1H3z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M5 2h5v1H5zM22 2h5v1h-5z\\\"></path></symbol><symbol id=\\\"ic-text\\\" viewBox=\\\"0 0 24 24\\\"><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M4 3h15a1 1 0 0 1 1 1H3a1 1 0 0 1 1-1zM3 4h1v1H3zM19 4h1v1h-1z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M11 3h1v18h-1z\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M10 20h3v1h-3z\\\"></path></symbol><symbol id=\\\"ic-undo\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M24 0H0v24h24z\\\" opacity=\\\".5\\\" fill=\\\"none\\\" stroke=\\\"none\\\"></path><path stroke=\\\"none\\\" fill=\\\"inherit\\\" d=\\\"M3 6h12a6 6 0 1 1 0 12H3v1h12a7 7 0 0 0 0-14H3v1z\\\"></path><path fill=\\\"none\\\" stroke=\\\"inherit\\\" stroke-linecap=\\\"square\\\" d=\\\"M5 3L2.5 5.5 5 8\\\"></path></symbol><symbol id=\\\"ic-zoom-in\\\" viewBox=\\\"0 0 24 24\\\"><g transform=\\\"translate(-229 -290) translate(229 290)\\\"><circle cx=\\\"10.5\\\" cy=\\\"10.5\\\" r=\\\"9\\\" stroke=\\\"inherit\\\" fill=\\\"none\\\"></circle><path fill=\\\"inherit\\\" d=\\\"M18.828 15.828H19.828V22.828H18.828z\\\" transform=\\\"rotate(-45 19.328 19.328)\\\"></path><path fill=\\\"inherit\\\" d=\\\"M7 10H14V11H7z\\\"></path><path fill=\\\"inherit\\\" d=\\\"M10 7H11V14H10z\\\"></path></g></symbol><symbol id=\\\"ic-zoom-out\\\" viewBox=\\\"0 0 24 24\\\"><g transform=\\\"translate(-263 -290) translate(263 290)\\\"><circle cx=\\\"10.5\\\" cy=\\\"10.5\\\" r=\\\"9\\\" stroke=\\\"inherit\\\" fill=\\\"none\\\"></circle><path fill=\\\"inherit\\\" d=\\\"M18.828 15.828H19.828V22.828H18.828z\\\" transform=\\\"rotate(-45 19.328 19.328)\\\"></path><path fill=\\\"inherit\\\" d=\\\"M7 10H14V11H7z\\\"></path></g></symbol><symbol id=\\\"ic-hand\\\" viewBox=\\\"0 0 24 24\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" stroke-linejoin=\\\"round\\\"><path fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M8.672 3.36c1.328 0 2.114.78 2.29 1.869l.014.101.023.006v1.042l-.638-.185c-.187-.055-.323-.211-.354-.399L10 5.713c0-.825-.42-1.353-1.328-1.353C7.695 4.36 7 5.041 7 5.713v7.941c0 .439-.524.665-.843.364l-1.868-1.761c-.595-.528-1.316-.617-1.918-.216-.522.348-.562 1.203-.18 1.8L7.738 22h11.013l.285-.518c1.247-2.326 1.897-4.259 1.96-5.785l.004-.239V8.035c0-.656-.5-1.17-1-1.17-.503 0-1 .456-1 1.17 0 .333-.32.573-.64.48L18 8.41V7.368l.086.026.042-.136c.279-.805.978-1.332 1.738-1.388L20 5.865c1.057 0 2 .967 2 2.17v7.423c0 1.929-.845 4.352-2.521 7.29-.09.156-.255.252-.435.252H7.474c-.166 0-.321-.082-.414-.219l-5.704-8.39c-.653-1.019-.584-2.486.46-3.182 1-.666 2.216-.516 3.148.31L6 12.495V5.713c0-1.18 1.058-2.263 2.49-2.348z\\\" transform=\\\"translate(-297 -290) translate(297 290)\\\"></path><path fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M12.5 1.5c1.325 0 2.41 1.032 2.495 2.336L15 4v7.22h-1V4c0-.828-.672-1.5-1.5-1.5-.78 0-1.42.595-1.493 1.356L11 4v7.22h-1V4c0-1.38 1.12-2.5 2.5-2.5z\\\" transform=\\\"translate(-297 -290) translate(297 290)\\\"></path><path fill=\\\"inherit\\\" fill-rule=\\\"nonzero\\\" d=\\\"M16.5 3.5c1.325 0 2.41 1.032 2.495 2.336L19 6v6.3h-1V6c0-.828-.672-1.5-1.5-1.5-.78 0-1.42.595-1.493 1.356L15 6v2.44h-1V6c0-1.38 1.12-2.5 2.5-2.5z\\\" transform=\\\"translate(-297 -290) translate(297 290)\\\"></path></g></symbol></defs></svg>\"","module.exports = __WEBPACK_EXTERNAL_MODULE_fabric__;","module.exports = __WEBPACK_EXTERNAL_MODULE_tui_code_snippet__;","module.exports = __WEBPACK_EXTERNAL_MODULE_tui_color_picker__;"]},"metadata":{},"sourceType":"script"}