{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Report\\\\Report.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { report } from '../../actions/product_actions';\nimport { Link, withRouter } from 'react-router-dom';\nimport Slide from '@material-ui/core/Slide';\nimport Dialog from '@material-ui/core/Dialog';\nimport './report.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Transition = /*#__PURE__*/React.forwardRef(_c = function Transition(props, ref) {\n  return /*#__PURE__*/_jsxDEV(Slide, {\n    direction: \"up\",\n    ref: ref,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Transition;\n\nclass Report extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      reportPolicy: [],\n      reportCompleted: false\n    };\n  }\n\n  pullPolicy(item) {\n    let newreportPolicy = [...this.state.reportPolicy];\n    newreportPolicy.splice(this.state.reportPolicy.indexOf(item._id), 1);\n    console.log(newreportPolicy);\n    this.setState({\n      reportPolicy: newreportPolicy\n    });\n  }\n\n  pushPolicy(item) {\n    let newreportPolicy = [...this.state.reportPolicy];\n    newreportPolicy.push(item._id);\n    console.log(newreportPolicy);\n    this.setState({\n      reportPolicy: newreportPolicy\n    });\n  }\n\n  renderPolicies(list) {\n    return list.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => {\n          this.state.reportPolicy.includes(item._id) ? this.pullPolicy(item) : this.pushPolicy(item);\n        },\n        className: this.state.reportPolicy.includes(item._id) ? \"active_policy_content\" : \"policy_content\",\n        children: item.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 20\n      }, this);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Dialog, {\n      open: this.props.isReportFormShow,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: () => {\n        this.setState({\n          reportPolicy: [],\n          reportCompleted: false\n        });\n        this.props.closeReportForm();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reportForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \" B\\xC1O C\\xC1O VI PH\\u1EA0M \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"H\\xE3y ch\\u1ECDn ch\\xEDnh s\\xE1ch vi ph\\u1EA1m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reportPolicies\",\n            children: this.props.list ? this.renderPolicies(this.props.list) : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn_wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"cancel_btn\",\n              onClick: () => {\n                this.setState({\n                  reportPolicy: [],\n                  reportCompleted: false\n                });\n                this.props.closeReportForm();\n              },\n              children: \"H\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"send_button\",\n              onClick: () => {\n                this.props.dispatch(report(this.props.reportData, this.state.reportPolicy)).then(response => {\n                  console.log(response);\n\n                  if (response.payload.reportSuccess) {\n                    this.setState({\n                      reportPolicy: [],\n                      reportCompleted: true\n                    }, () => {\n                      this.props.closeReportForm();\n                      this.props.handleSnackBar(\"Đã gửi báo cáo\", true);\n                    });\n                  } else {\n                    this.setState({\n                      reportPolicy: [],\n                      reportCompleted: true\n                    }, () => {\n                      this.props.closeReportForm();\n                      this.props.handleSnackBar(\"Đã xãy ra lỗi\", false);\n                    });\n                  }\n                });\n              },\n              children: \"B\\xE1o c\\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(Report));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Transition$React.forwardRef\");\n$RefreshReg$(_c2, \"Transition\");","map":{"version":3,"names":["React","Component","connect","report","Link","withRouter","Slide","Dialog","Transition","forwardRef","props","ref","Report","state","reportPolicy","reportCompleted","pullPolicy","item","newreportPolicy","splice","indexOf","_id","console","log","setState","pushPolicy","push","renderPolicies","list","map","includes","content","render","isReportFormShow","closeReportForm","dispatch","reportData","then","response","payload","reportSuccess","handleSnackBar","mapStateToProps","user"],"sources":["D:/Kltn/test/social-media/client/src/components/Report/Report.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { report } from '../../actions/product_actions';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport './report.scss';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass Report extends Component {\r\n\r\n    state = {\r\n        reportPolicy:[],\r\n        reportCompleted: false,\r\n    }\r\n\r\n    pullPolicy(item){\r\n        let newreportPolicy = [...this.state.reportPolicy]\r\n        newreportPolicy.splice(this.state.reportPolicy.indexOf(item._id), 1);\r\n        console.log(newreportPolicy);\r\n        this.setState({ reportPolicy: newreportPolicy })\r\n    }\r\n    \r\n    pushPolicy(item){\r\n        let newreportPolicy = [...this.state.reportPolicy]\r\n        newreportPolicy.push(item._id);\r\n        console.log(newreportPolicy);\r\n        this.setState({ reportPolicy: newreportPolicy })\r\n    }\r\n\r\n    renderPolicies(list){\r\n        return list.map((item)=>{\r\n            return <p \r\n                onClick={()=>{\r\n                    this.state.reportPolicy.includes(item._id) ?\r\n                        this.pullPolicy(item) : this.pushPolicy(item)\r\n                    }} \r\n                    className={this.state.reportPolicy.includes(item._id) ? \"active_policy_content\":\"policy_content\"}\r\n                    >\r\n                {item.content}</p>\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <Dialog\r\n            open={this.props.isReportFormShow}\r\n            TransitionComponent={Transition}\r\n            keepMounted\r\n            onClose={() => { \r\n                this.setState({\r\n                    reportPolicy: [],\r\n                    reportCompleted: false\r\n                });\r\n                this.props.closeReportForm()}}>\r\n            <div className=\"reportForm\">\r\n                <h5> BÁO CÁO VI PHẠM </h5>\r\n                {\r\n                    <div>\r\n                        <h6>Hãy chọn chính sách vi phạm</h6>\r\n                        <div className=\"reportPolicies\">\r\n                            {\r\n                                this.props.list?\r\n                                this.renderPolicies(this.props.list)\r\n                                : \"\"\r\n                            }\r\n                        </div>\r\n                        <div className=\"btn_wrapper\">\r\n                            <p className=\"cancel_btn\" \r\n                                        onClick={() => {\r\n                                            this.setState({ reportPolicy: [], reportCompleted: false}); \r\n                                                this.props.closeReportForm()}}>Hủy</p>\r\n                            <p className=\"send_button\" \r\n                                onClick={() => {this.props.dispatch(report(this.props.reportData,this.state.reportPolicy))\r\n                                .then(response => {\r\n                                    console.log(response)\r\n                                    if(response.payload.reportSuccess){\r\n                                        this.setState({\r\n                                            reportPolicy: [],\r\n                                            reportCompleted: true,\r\n                                        }, () => { this.props.closeReportForm(); this.props.handleSnackBar(\"Đã gửi báo cáo\",true)})\r\n                                    }else{\r\n                                        this.setState({\r\n                                            reportPolicy: [],\r\n                                            reportCompleted: true,\r\n                                        }, () => { this.props.closeReportForm(); this.props.handleSnackBar(\"Đã xãy ra lỗi\",false)})\r\n                                    }\r\n                                })}}>\r\n                                Báo cáo</p>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                \r\n            </div>\r\n        </Dialog>  \r\n    )}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(Report));"],"mappings":"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"},"metadata":{},"sourceType":"module"}