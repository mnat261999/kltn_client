{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Resetpass\\\\index.js\";\nimport FormField from \"../ultils/Form/FormField\";\nimport axios from \"axios\";\nimport { USER_SERVER } from \"../ultils/mise\";\nimport { update, ifFormValid, generateData } from \"../ultils/Form/FormActions\";\nimport React, { Component } from \"react\";\nimport \"./index.scss\";\n\nclass ResetUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formError: false,\n      formSuccess: \"\",\n      formData: {\n        email: {\n          element: \"input\",\n          value: \"\",\n          config: {\n            label: \"Email\",\n            name: \"email_input\",\n            type: \"email\",\n            placeholder: \"Nhập email của bạn\"\n          },\n          validation: {\n            required: true,\n            email: true\n          },\n          valid: false,\n          touched: false,\n          validationMessage: \"\",\n          showlabel: false\n        }\n      }\n    };\n\n    this.updateForm = element => {\n      //Hàm update được viết trong FormActions.js\n      const newFormdata = update(element, this.state.formData, \"reset_email\"); //Cập nhật lại State\n\n      this.setState({\n        formError: false,\n        formData: newFormdata\n      });\n    };\n\n    this.submitForm = event => {\n      event.preventDefault();\n      let dataToSubmit = generateData(this.state.formData, \"reset_email\");\n      let formIsValid = ifFormValid(this.state.formData, \"reset_email\");\n\n      if (formIsValid) {\n        //console.log(dataToSubmit)\n        axios.post(`${USER_SERVER}/reset_user`, dataToSubmit).then(response => {\n          if (response.data.success) this.setState({\n            formSuccess: true,\n            formError: false\n          });\n        });\n      } else {\n        this.setState({\n          formError: true,\n          formSuccess: false\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"resetPass\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"banner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signin__logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"logo\",\n      src: require(\"../../asset/login-page/logo2x.png\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"stunning_text\",\n      src: require(\"../../asset/login-page/stun2x.png\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, \"Reset password\"), /*#__PURE__*/React.createElement(FormField, {\n      id: \"email\",\n      formData: this.state.formData.email,\n      change: element => this.updateForm(element),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"signin__button\",\n      onClick: event => {\n        this.submitForm(event);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, \"Send Email to reset password\"), this.state.formSuccess ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, \"Done, check your email\") : null, this.state.formError ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, \"Please check your data\") : null)));\n  }\n\n}\n\nexport default ResetUser;","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Resetpass/index.js"],"names":["FormField","axios","USER_SERVER","update","ifFormValid","generateData","React","Component","ResetUser","state","formError","formSuccess","formData","email","element","value","config","label","name","type","placeholder","validation","required","valid","touched","validationMessage","showlabel","updateForm","newFormdata","setState","submitForm","event","preventDefault","dataToSubmit","formIsValid","post","then","response","data","success","render","require"],"mappings":"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","sourcesContent":["import FormField from \"../ultils/Form/FormField\";\nimport axios from \"axios\";\nimport { USER_SERVER } from \"../ultils/mise\";\nimport { update, ifFormValid, generateData } from \"../ultils/Form/FormActions\";\nimport React, { Component } from \"react\";\nimport \"./index.scss\";\n\nclass ResetUser extends Component {\n  state = {\n    formError: false,\n    formSuccess: \"\",\n    formData: {\n      email: {\n        element: \"input\",\n        value: \"\",\n        config: {\n          label: \"Email\",\n          name: \"email_input\",\n          type: \"email\",\n          placeholder: \"Nhập email của bạn\",\n        },\n        validation: {\n          required: true,\n          email: true,\n        },\n        valid: false,\n        touched: false,\n        validationMessage: \"\",\n        showlabel: false,\n      },\n    },\n  };\n  updateForm = (element) => {\n    //Hàm update được viết trong FormActions.js\n    const newFormdata = update(element, this.state.formData, \"reset_email\");\n    //Cập nhật lại State\n    this.setState({\n      formError: false,\n      formData: newFormdata,\n    });\n  };\n  submitForm = (event) => {\n    event.preventDefault();\n\n    let dataToSubmit = generateData(this.state.formData, \"reset_email\");\n\n    let formIsValid = ifFormValid(this.state.formData, \"reset_email\");\n\n    if (formIsValid) {\n      //console.log(dataToSubmit)\n      axios.post(`${USER_SERVER}/reset_user`, dataToSubmit).then((response) => {\n        if (response.data.success)\n          this.setState({\n            formSuccess: true,\n            formError: false,\n          });\n      });\n    } else {\n      this.setState({\n        formError: true,\n        formSuccess: false,\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"resetPass\">\n        <div className=\"banner\">\n          <div className=\"signin__logo\">\n            <img\n              className=\"logo\"\n              src={require(\"../../asset/login-page/logo2x.png\")}\n            />\n            <img\n              className=\"stunning_text\"\n              src={require(\"../../asset/login-page/stun2x.png\")}\n            />\n          </div>\n        </div>\n        <div className=\"content\">\n          <div className=\"wrapper\">\n            <div className=\"title\">Reset password</div>\n            <FormField\n              id={\"email\"}\n              formData={this.state.formData.email}\n              change={(element) => this.updateForm(element)}\n            />\n            <button\n              className=\"signin__button\"\n              onClick={(event) => {\n                this.submitForm(event);\n              }}\n            >\n              Send Email to reset password\n            </button>\n            {this.state.formSuccess ? (\n              <div className=\"message\">Done, check your email</div>\n            ) : null}\n            {this.state.formError ? (\n              <div className=\"message\">Please check your data</div>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ResetUser;\n"]},"metadata":{},"sourceType":"module"}