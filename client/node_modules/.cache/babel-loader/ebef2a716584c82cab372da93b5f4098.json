{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Report\\\\Report.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { report } from \"../../actions/product_actions\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport \"./report.scss\";\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 10\n    }\n  }));\n});\n\nclass Report extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      reportPolicy: [],\n      reportCompleted: false\n    };\n  }\n\n  pullPolicy(item) {\n    let newreportPolicy = [...this.state.reportPolicy];\n    newreportPolicy.splice(this.state.reportPolicy.indexOf(item._id), 1);\n    console.log(newreportPolicy);\n    this.setState({\n      reportPolicy: newreportPolicy\n    });\n  }\n\n  pushPolicy(item) {\n    let newreportPolicy = [...this.state.reportPolicy];\n    newreportPolicy.push(item._id);\n    console.log(newreportPolicy);\n    this.setState({\n      reportPolicy: newreportPolicy\n    });\n  }\n\n  renderPolicies(list) {\n    return list.map(item => {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        onClick: () => {\n          this.state.reportPolicy.includes(item._id) ? this.pullPolicy(item) : this.pushPolicy(item);\n        },\n        className: this.state.reportPolicy.includes(item._id) ? \"active_policy_content\" : \"policy_content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }, item.content);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Dialog, {\n      open: this.props.isReportFormShow,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: () => {\n        this.setState({\n          reportPolicy: [],\n          reportCompleted: false\n        });\n        this.props.closeReportForm();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"reportForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \" B\\xC1O C\\xC1O VI PH\\u1EA0M \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, \"H\\xE3y ch\\u1ECDn ch\\xEDnh s\\xE1ch vi ph\\u1EA1m\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"reportPolicies\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, this.props.list ? this.renderPolicies(this.props.list) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn_wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"cancel_btn\",\n      onClick: () => {\n        this.setState({\n          reportPolicy: [],\n          reportCompleted: false\n        });\n        this.props.closeReportForm();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, \"H\\u1EE7y\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"send_button\",\n      onClick: () => {\n        this.props.dispatch(report(this.props.reportData, this.state.reportPolicy)).then(response => {\n          console.log(response);\n\n          if (response.payload.reportSuccess) {\n            this.setState({\n              reportPolicy: [],\n              reportCompleted: true\n            }, () => {\n              this.props.closeReportForm();\n              this.props.handleSnackBar(\"Đã gửi báo cáo\", true);\n            });\n          } else {\n            this.setState({\n              reportPolicy: [],\n              reportCompleted: true\n            }, () => {\n              this.props.closeReportForm();\n              this.props.handleSnackBar(\"Đã xãy ra lỗi\", false);\n            });\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, \"B\\xE1o c\\xE1o\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(Report));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Report/Report.js"],"names":["React","Component","connect","report","Link","withRouter","Slide","Dialog","Transition","forwardRef","props","ref","Report","state","reportPolicy","reportCompleted","pullPolicy","item","newreportPolicy","splice","indexOf","_id","console","log","setState","pushPolicy","push","renderPolicies","list","map","includes","content","render","isReportFormShow","closeReportForm","dispatch","reportData","then","response","payload","reportSuccess","handleSnackBar","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { report } from \"../../actions/product_actions\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport \"./report.scss\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass Report extends Component {\r\n  state = {\r\n    reportPolicy: [],\r\n    reportCompleted: false,\r\n  };\r\n\r\n  pullPolicy(item) {\r\n    let newreportPolicy = [...this.state.reportPolicy];\r\n    newreportPolicy.splice(this.state.reportPolicy.indexOf(item._id), 1);\r\n    console.log(newreportPolicy);\r\n    this.setState({ reportPolicy: newreportPolicy });\r\n  }\r\n\r\n  pushPolicy(item) {\r\n    let newreportPolicy = [...this.state.reportPolicy];\r\n    newreportPolicy.push(item._id);\r\n    console.log(newreportPolicy);\r\n    this.setState({ reportPolicy: newreportPolicy });\r\n  }\r\n\r\n  renderPolicies(list) {\r\n    return list.map((item) => {\r\n      return (\r\n        <p\r\n          onClick={() => {\r\n            this.state.reportPolicy.includes(item._id)\r\n              ? this.pullPolicy(item)\r\n              : this.pushPolicy(item);\r\n          }}\r\n          className={\r\n            this.state.reportPolicy.includes(item._id)\r\n              ? \"active_policy_content\"\r\n              : \"policy_content\"\r\n          }\r\n        >\r\n          {item.content}\r\n        </p>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open={this.props.isReportFormShow}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => {\r\n          this.setState({\r\n            reportPolicy: [],\r\n            reportCompleted: false,\r\n          });\r\n          this.props.closeReportForm();\r\n        }}\r\n      >\r\n        <div className=\"reportForm\">\r\n          <h5> BÁO CÁO VI PHẠM </h5>\r\n          {\r\n            <div>\r\n              <h6>Hãy chọn chính sách vi phạm</h6>\r\n              <div className=\"reportPolicies\">\r\n                {this.props.list ? this.renderPolicies(this.props.list) : \"\"}\r\n              </div>\r\n              <div className=\"btn_wrapper\">\r\n                <p\r\n                  className=\"cancel_btn\"\r\n                  onClick={() => {\r\n                    this.setState({ reportPolicy: [], reportCompleted: false });\r\n                    this.props.closeReportForm();\r\n                  }}\r\n                >\r\n                  Hủy\r\n                </p>\r\n                <p\r\n                  className=\"send_button\"\r\n                  onClick={() => {\r\n                    this.props\r\n                      .dispatch(\r\n                        report(this.props.reportData, this.state.reportPolicy)\r\n                      )\r\n                      .then((response) => {\r\n                        console.log(response);\r\n                        if (response.payload.reportSuccess) {\r\n                          this.setState(\r\n                            {\r\n                              reportPolicy: [],\r\n                              reportCompleted: true,\r\n                            },\r\n                            () => {\r\n                              this.props.closeReportForm();\r\n                              this.props.handleSnackBar(\"Đã gửi báo cáo\", true);\r\n                            }\r\n                          );\r\n                        } else {\r\n                          this.setState(\r\n                            {\r\n                              reportPolicy: [],\r\n                              reportCompleted: true,\r\n                            },\r\n                            () => {\r\n                              this.props.closeReportForm();\r\n                              this.props.handleSnackBar(\"Đã xãy ra lỗi\", false);\r\n                            }\r\n                          );\r\n                        }\r\n                      });\r\n                  }}\r\n                >\r\n                  Báo cáo\r\n                </p>\r\n              </div>\r\n            </div>\r\n          }\r\n        </div>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(Report));\r\n"]},"metadata":{},"sourceType":"module"}