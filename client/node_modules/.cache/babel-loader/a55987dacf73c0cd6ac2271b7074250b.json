{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Admin\\\\Account\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Layout from \"../Layout/index\";\nimport \"./account.scss\";\nimport { getAll, sort } from \"../../../actions/account_actions\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { withRouter } from \"react-router-dom\";\n\nclass AccountPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      limit: 4,\n      skip: 0,\n      sortBy: {\n        type: \"name\",\n        order: 1\n      },\n      isloading: false\n    };\n\n    this.loadmore = () => {\n      this.setState({\n        isloading: true\n      });\n      let skip = this.state.skip + this.state.limit;\n      this.props.dispatch(getAll(this.state.limit, skip, this.props.accounts.list)).then(() => {\n        sort(this.state.sortBy, this.props.accounts.list);\n        this.setState({\n          skip: skip,\n          isloading: false\n        }, () => {\n          console.log(\"here\", this.props.accounts.list);\n        });\n      });\n    };\n\n    this.order = type => {\n      switch (type) {\n        case \"name\":\n          if (this.state.sortBy.type == \"name\") {\n            this.setState({\n              sortBy: {\n                type: \"name\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"name\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          }\n\n          break;\n\n        case \"userName\":\n          if (this.state.sortBy.type == \"userName\") {\n            this.setState({\n              sortBy: {\n                type: \"userName\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"userName\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          }\n\n          break;\n\n        case \"email\":\n          if (this.state.sortBy.type == \"email\") {\n            this.setState({\n              sortBy: {\n                type: \"email\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"email\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          }\n\n          break;\n      }\n    };\n\n    this.toDetail = item => {\n      this.props.history.push(`/Admin/Account/${item._id}`);\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getAll(this.state.limit, this.state.skip));\n  }\n\n  render() {\n    const {\n      accounts\n    } = this.props;\n    console.log();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      page: \"account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"page_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, \"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"add_btn\",\n      onClick: () => {\n        this.props.history.push(\"/Admin/Account/add_new\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, \"Th\\xEAm m\\u1EDBi\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"dropdown filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-secondary dropdown-toggle\",\n      type: \"button\",\n      id: \"dropdownMenuButton\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, this.state.sortBy.type), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"dropdown-menu\",\n      \"aria-labelledby\": \"dropdownMenuButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"name\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, \"T\\xEAn\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"userName\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, \"T\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"email\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, \"Email\")))), accounts.list ? /*#__PURE__*/React.createElement(\"table\", {\n      className: \"report-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"table-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"name hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, \"T\\xEAn\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"role hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 19\n      }\n    }, \"Vai tr\\xF2\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"userName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 19\n      }\n    }, \"Email\")), accounts.list.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"table-content\",\n      onClick: () => this.toDetail(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"avt\",\n      src: item.avt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"name hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"role hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, \"Admin\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"userName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }, \" \", item.userName), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, item.email)))) : /*#__PURE__*/React.createElement(LinearProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }), this.state.isloading ? /*#__PURE__*/React.createElement(LinearProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }) : accounts.size >= this.state.limit ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"loadmore\",\n      onClick: () => {\n        this.loadmore();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, \"Load more\") : \"\")));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    accounts: state.accounts\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(AccountPage));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Admin/Account/index.js"],"names":["React","Component","connect","Layout","getAll","sort","LinearProgress","withRouter","AccountPage","state","limit","skip","sortBy","type","order","isloading","loadmore","setState","props","dispatch","accounts","list","then","console","log","toDetail","item","history","push","_id","componentDidMount","render","map","avt","name","userName","email","size","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Layout from \"../Layout/index\";\nimport \"./account.scss\";\nimport { getAll, sort } from \"../../../actions/account_actions\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { withRouter } from \"react-router-dom\";\n\nclass AccountPage extends Component {\n  state = {\n    limit: 4,\n    skip: 0,\n    sortBy: { type: \"name\", order: 1 },\n    isloading: false,\n  };\n\n  componentDidMount() {\n    this.props.dispatch(getAll(this.state.limit, this.state.skip));\n  }\n  loadmore = () => {\n    this.setState({ isloading: true });\n    let skip = this.state.skip + this.state.limit;\n    this.props\n      .dispatch(getAll(this.state.limit, skip, this.props.accounts.list))\n      .then(() => {\n        sort(this.state.sortBy, this.props.accounts.list);\n        this.setState(\n          {\n            skip: skip,\n            isloading: false,\n          },\n          () => {\n            console.log(\"here\", this.props.accounts.list);\n          }\n        );\n      });\n  };\n  order = (type) => {\n    switch (type) {\n      case \"name\":\n        if (this.state.sortBy.type == \"name\") {\n          this.setState(\n            { sortBy: { type: \"name\", order: this.state.sortBy.order * -1 } },\n            () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            }\n          );\n        } else {\n          this.setState({ sortBy: { type: \"name\", order: 1 } }, () => {\n            sort(this.state.sortBy, this.props.accounts.list);\n          });\n        }\n        break;\n      case \"userName\":\n        if (this.state.sortBy.type == \"userName\") {\n          this.setState(\n            {\n              sortBy: { type: \"userName\", order: this.state.sortBy.order * -1 },\n            },\n            () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            }\n          );\n        } else {\n          this.setState({ sortBy: { type: \"userName\", order: 1 } }, () => {\n            sort(this.state.sortBy, this.props.accounts.list);\n          });\n        }\n        break;\n      case \"email\":\n        if (this.state.sortBy.type == \"email\") {\n          this.setState(\n            { sortBy: { type: \"email\", order: this.state.sortBy.order * -1 } },\n            () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            }\n          );\n        } else {\n          this.setState({ sortBy: { type: \"email\", order: 1 } }, () => {\n            sort(this.state.sortBy, this.props.accounts.list);\n          });\n        }\n        break;\n    }\n  };\n  toDetail = (item) => {\n    this.props.history.push(`/Admin/Account/${item._id}`);\n  };\n\n  render() {\n    const { accounts } = this.props;\n    console.log();\n    return (\n      <div>\n        <Layout page=\"account\">\n          <div className=\"account\">\n            <h2 className=\"page_title\">Quản trị viên</h2>\n            <div className=\"button\">\n              <button\n                className=\"add_btn\"\n                onClick={() => {\n                  this.props.history.push(\"/Admin/Account/add_new\");\n                }}\n              >\n                Thêm mới\n              </button>\n              <div class=\"dropdown filter\">\n                <button\n                  class=\"btn btn-secondary dropdown-toggle\"\n                  type=\"button\"\n                  id=\"dropdownMenuButton\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  {this.state.sortBy.type}\n                </button>\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                  <a\n                    class=\"dropdown-item\"\n                    href=\"#\"\n                    onClick={() => this.order(\"name\")}\n                  >\n                    Tên\n                  </a>\n                  <a\n                    class=\"dropdown-item\"\n                    href=\"#\"\n                    onClick={() => this.order(\"userName\")}\n                  >\n                    Tên người dùng\n                  </a>\n                  <a\n                    class=\"dropdown-item\"\n                    href=\"#\"\n                    onClick={() => this.order(\"email\")}\n                  >\n                    Email\n                  </a>\n                </div>\n              </div>\n            </div>\n            {accounts.list ? (\n              <table className=\"report-list\">\n                <tr className=\"table-header\">\n                  <th className=\"img\"></th>\n                  <th className=\"name hidden\">Tên</th>\n                  <th className=\"role hidden\">Vai trò</th>\n                  <th className=\"userName\">Username</th>\n                  <th className=\"email\">Email</th>\n                </tr>\n                {accounts.list.map((item) => (\n                  <tr\n                    className=\"table-content\"\n                    onClick={() => this.toDetail(item)}\n                  >\n                    <td>\n                      <img className=\"avt\" src={item.avt} />\n                    </td>\n                    <td className=\"name hidden\">{item.name}</td>\n                    <td className=\"role hidden\">Admin</td>\n                    <td className=\"userName\"> {item.userName}</td>\n                    <td className=\"email\">{item.email}</td>\n                  </tr>\n                ))}\n              </table>\n            ) : (\n              <LinearProgress />\n            )}\n            {this.state.isloading ? (\n              <LinearProgress />\n            ) : accounts.size >= this.state.limit ? (\n              <button\n                className=\"loadmore\"\n                onClick={() => {\n                  this.loadmore();\n                }}\n              >\n                Load more\n              </button>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    accounts: state.accounts,\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(AccountPage));\n"]},"metadata":{},"sourceType":"module"}