{"ast":null,"code":"import axios from 'axios';\nimport { TAG_SERVER } from '../components/ultils/mise';\nimport { GET_ALL_TAGS, GET_TOP10_TAGS, ADD_TAG, GET_USER_TAG, GET_TAG_POSTS, FOLLOW_TAG, UN_FOLLOW_TAG } from './types';\nexport function getAllTags() {\n  const request = axios.get(`${TAG_SERVER}/getAllTags`).then(response => response.data);\n  return {\n    type: GET_ALL_TAGS,\n    payload: request\n  };\n}\nexport function getUserTag() {\n  const request = axios.get(`${TAG_SERVER}/getFollowers`).then(response => response.data);\n  return {\n    type: GET_USER_TAG,\n    payload: request\n  };\n}\nexport function getTopTenTags(skip, limit, previousState = []) {\n  const data = {\n    skip,\n    limit\n  };\n  const request = axios.get(`${TAG_SERVER}/getTop10Tags`, data).then(response => {\n    let newState = [...previousState, ...response.data.topTenTags];\n    return newState;\n  });\n  return {\n    type: GET_TOP10_TAGS,\n    payload: request\n  };\n}\nexport function addTag(dataToSubmit, existingTag) {\n  const request = axios.post(`${TAG_SERVER}/addTag`, dataToSubmit).then(response => {\n    let tags = [...existingTag, response.data.tags];\n    return {\n      success: response.data.success,\n      tags\n    };\n  });\n  return {\n    type: ADD_TAG,\n    payload: request\n  };\n}\nexport function getTag(id, skip, limit, previousState = []) {\n  const data = {\n    id,\n    skip,\n    limit\n  };\n  const request = axios.post(`${TAG_SERVER}/getTag`, data).then(response => {\n    console.log(response.data);\n    let newState = {\n      tag: response.data.tag,\n      posts: [...previousState, ...response.data.posts]\n    };\n    return newState;\n  });\n  return {\n    type: GET_TAG_POSTS,\n    payload: request\n  };\n}\nexport function followTag(tagId, previousState = []) {\n  const data = {\n    tagId\n  };\n  const request = axios.put(`${TAG_SERVER}/follow`, data).then(response => {\n    console.log(response.data);\n    return { ...previousState,\n      tag: response.data.tag\n    };\n  });\n  return {\n    type: FOLLOW_TAG,\n    payload: request\n  };\n}\nexport function unfollowTag(tagId, previousState = []) {\n  const data = {\n    tagId\n  };\n  const request = axios.put(`${TAG_SERVER}/unfollow`, data).then(response => {\n    console.log(response.data);\n    return { ...previousState,\n      tag: response.data.tag\n    };\n  });\n  return {\n    type: FOLLOW_TAG,\n    payload: request\n  };\n}\nexport function getTagId(hashtag) {\n  console.log(hashtag);\n  const data = {\n    hashtag\n  };\n  const request = axios.post(`${TAG_SERVER}/getTagId`, data).then(response => {\n    console.log(response.data);\n    return response.data;\n  });\n  return request;\n}","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/actions/tag_actions.js"],"names":["axios","TAG_SERVER","GET_ALL_TAGS","GET_TOP10_TAGS","ADD_TAG","GET_USER_TAG","GET_TAG_POSTS","FOLLOW_TAG","UN_FOLLOW_TAG","getAllTags","request","get","then","response","data","type","payload","getUserTag","getTopTenTags","skip","limit","previousState","newState","topTenTags","addTag","dataToSubmit","existingTag","post","tags","success","getTag","id","console","log","tag","posts","followTag","tagId","put","unfollowTag","getTagId","hashtag"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { TAG_SERVER } from '../components/ultils/mise';\r\n\r\nimport {\r\n    GET_ALL_TAGS,\r\n    GET_TOP10_TAGS,\r\n    ADD_TAG,\r\n    GET_USER_TAG, \r\n    GET_TAG_POSTS,\r\n    FOLLOW_TAG,\r\n    UN_FOLLOW_TAG,\r\n} from './types';\r\n\r\nexport function getAllTags() {\r\n    const request = axios.get(`${TAG_SERVER}/getAllTags`)\r\n    .then(response => response.data)\r\n    return {\r\n        type: GET_ALL_TAGS,\r\n        payload: request,\r\n    }\r\n}\r\n\r\nexport function getUserTag() {\r\n    const request = axios.get(`${TAG_SERVER}/getFollowers`)\r\n        .then(response => response.data)\r\n    return {\r\n        type: GET_USER_TAG,\r\n        payload: request,\r\n    }\r\n}\r\n\r\nexport function getTopTenTags(skip,limit,previousState=[]) {\r\n    const data={\r\n        skip,\r\n        limit\r\n    };\r\n    const request = axios.get(`${TAG_SERVER}/getTop10Tags`, data)\r\n    .then(response => {\r\n        let newState = [\r\n            ...previousState,\r\n            ...response.data.topTenTags\r\n        ]\r\n        return  newState;\r\n    })\r\n    return {\r\n        type: GET_TOP10_TAGS,\r\n        payload: request,\r\n    }\r\n}\r\nexport function addTag(dataToSubmit, existingTag) {\r\n    const request = axios.post(`${TAG_SERVER}/addTag`, dataToSubmit)\r\n        .then(response => {\r\n            let tags = [\r\n                ...existingTag,\r\n                response.data.tags\r\n            ];\r\n            return {\r\n                success: response.data.success,\r\n                tags\r\n            }\r\n        });\r\n\r\n    return {\r\n        type: ADD_TAG,\r\n        payload: request\r\n    }\r\n}\r\nexport function getTag(id,skip, limit, previousState = []){\r\n    const data = {\r\n        id,\r\n        skip,\r\n        limit,\r\n    }\r\n    const request = axios.post(`${TAG_SERVER}/getTag`, data)\r\n        .then(response => {\r\n            console.log(response.data);\r\n            let newState = {\r\n                tag: response.data.tag,\r\n                posts: [...previousState,...response.data.posts]\r\n            }\r\n            return newState\r\n        })\r\n    return {\r\n        type: GET_TAG_POSTS,\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function followTag(tagId, previousState=[]) {\r\n    \r\n    const data = { tagId }\r\n    \r\n    const request = axios.put(`${TAG_SERVER}/follow`, data)\r\n    .then( response => {\r\n        console.log(response.data);\r\n        return {\r\n            ...previousState,\r\n            tag: response.data.tag,\r\n        }\r\n    })\r\n    \r\n    return {\r\n        type: FOLLOW_TAG,\r\n        payload: request\r\n    }\r\n\r\n}\r\n\r\nexport function unfollowTag(tagId, previousState = []){\r\n\r\n    const data = { tagId }\r\n\r\n    const request = axios.put(`${TAG_SERVER}/unfollow`, data)\r\n        .then(response => {\r\n            console.log(response.data);\r\n            return {\r\n                ...previousState,\r\n                tag: response.data.tag,\r\n            }\r\n        })\r\n\r\n    return {\r\n        type: FOLLOW_TAG,\r\n        payload: request\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function getTagId(hashtag) {\r\n    console.log(hashtag)\r\n    const data = {hashtag}\r\n    const request = axios.post(`${TAG_SERVER}/getTagId`, data)\r\n        .then(response => {\r\n            console.log(response.data);\r\n            return response.data\r\n        })\r\n    return request;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}