{"ast":null,"code":"import React, { useMemo, useCallback, createElement } from 'react';\nimport { radiansToDegrees, midAngle, positionFromAngle, useMotionConfig, useTheme, usePropertyAccessor, textPropsByEngine, degreesToRadians, getDistance, getAngle } from '@nivo/core';\nimport { useInheritedColor } from '@nivo/colors';\nimport { to, useTransition, animated, useSpring } from '@react-spring/web';\nimport { line, arc } from 'd3-shape';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar getNormalizedAngle = function getNormalizedAngle(angle) {\n  var normalizedAngle = angle % (Math.PI * 2);\n\n  if (normalizedAngle < 0) {\n    normalizedAngle += Math.PI * 2;\n  }\n\n  return normalizedAngle;\n};\n\nvar filterDataBySkipAngle = function filterDataBySkipAngle(data, skipAngle) {\n  return data.filter(function (datum) {\n    return Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >= skipAngle;\n  });\n};\n\nvar useFilteredDataBySkipAngle = function useFilteredDataBySkipAngle(data, skipAngle) {\n  return useMemo(function () {\n    return filterDataBySkipAngle(data, skipAngle);\n  }, [data, skipAngle]);\n};\n\nvar arcTransitionModes = ['startAngle', 'middleAngle', 'endAngle', 'innerRadius', 'centerRadius', 'outerRadius', 'pushIn', 'pushOut'];\nvar arcTransitionModeById = {\n  startAngle: {\n    enter: function enter(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        endAngle: arc.startAngle\n      });\n    },\n    update: function update(arc) {\n      return arc;\n    },\n    leave: function leave(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        startAngle: arc.endAngle\n      });\n    }\n  },\n  middleAngle: {\n    enter: function enter(arc) {\n      var middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2;\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        startAngle: middleAngle,\n        endAngle: middleAngle\n      });\n    },\n    update: function update(arc) {\n      return arc;\n    },\n    leave: function leave(arc) {\n      var middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2;\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        startAngle: middleAngle,\n        endAngle: middleAngle\n      });\n    }\n  },\n  endAngle: {\n    enter: function enter(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        startAngle: arc.endAngle\n      });\n    },\n    update: function update(arc) {\n      return arc;\n    },\n    leave: function leave(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        endAngle: arc.startAngle\n      });\n    }\n  },\n  innerRadius: {\n    enter: function enter(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        outerRadius: arc.innerRadius\n      });\n    },\n    update: function update(arc) {\n      return arc;\n    },\n    leave: function leave(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        innerRadius: arc.outerRadius\n      });\n    }\n  },\n  centerRadius: {\n    enter: function enter(arc) {\n      var centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2;\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        innerRadius: centerRadius,\n        outerRadius: centerRadius\n      });\n    },\n    update: function update(arc) {\n      return arc;\n    },\n    leave: function leave(arc) {\n      var centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2;\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        innerRadius: centerRadius,\n        outerRadius: centerRadius\n      });\n    }\n  },\n  outerRadius: {\n    enter: function enter(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        innerRadius: arc.outerRadius\n      });\n    },\n    update: function update(arc) {\n      return arc;\n    },\n    leave: function leave(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        outerRadius: arc.innerRadius\n      });\n    }\n  },\n  pushIn: {\n    enter: function enter(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n        outerRadius: arc.innerRadius\n      });\n    },\n    update: function update(arc) {\n      return arc;\n    },\n    leave: function leave(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        innerRadius: arc.outerRadius,\n        outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius\n      });\n    }\n  },\n  pushOut: {\n    enter: function enter(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        innerRadius: arc.outerRadius,\n        outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius\n      });\n    },\n    update: function update(arc) {\n      return arc;\n    },\n    leave: function leave(arc) {\n      return _objectSpread2(_objectSpread2({}, arc), {}, {\n        innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n        outerRadius: arc.innerRadius\n      });\n    }\n  }\n};\n\nvar useArcTransitionMode = function useArcTransitionMode(mode, extraTransition) {\n  return useMemo(function () {\n    var transitionMode = arcTransitionModeById[mode];\n    return {\n      enter: function enter(datum) {\n        return _objectSpread2(_objectSpread2({\n          progress: 0\n        }, transitionMode.enter(datum.arc)), extraTransition ? extraTransition.enter(datum) : {});\n      },\n      update: function update(datum) {\n        return _objectSpread2(_objectSpread2({\n          progress: 1\n        }, transitionMode.update(datum.arc)), extraTransition ? extraTransition.update(datum) : {});\n      },\n      leave: function leave(datum) {\n        return _objectSpread2(_objectSpread2({\n          progress: 0\n        }, transitionMode.leave(datum.arc)), extraTransition ? extraTransition.leave(datum) : {});\n      }\n    };\n  }, [mode, extraTransition]);\n};\n\nvar computeArcCenter = function computeArcCenter(arc, offset) {\n  var angle = midAngle(arc) - Math.PI / 2;\n  var radius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) * offset;\n  return positionFromAngle(angle, radius);\n};\n\nvar interpolateArcCenter = function interpolateArcCenter(offset) {\n  return function (startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue) {\n    return to([startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue], function (startAngle, endAngle, innerRadius, outerRadius) {\n      var centroid = computeArcCenter({\n        startAngle: startAngle,\n        endAngle: endAngle,\n        innerRadius: innerRadius,\n        outerRadius: outerRadius\n      }, offset);\n      return \"translate(\".concat(centroid.x, \",\").concat(centroid.y, \")\");\n    });\n  };\n};\n\nvar useArcCentersTransition = function useArcCentersTransition(data) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n  var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'innerRadius';\n  var extra = arguments.length > 3 ? arguments[3] : undefined;\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.config;\n\n  var phases = useArcTransitionMode(mode, extra);\n  var transition = useTransition(data, {\n    keys: function keys(datum) {\n      return datum.id;\n    },\n    initial: phases.update,\n    from: phases.enter,\n    enter: phases.update,\n    update: phases.update,\n    leave: phases.leave,\n    config: springConfig,\n    immediate: !animate\n  });\n  return {\n    transition: transition,\n    interpolate: interpolateArcCenter(offset)\n  };\n};\n\nvar useArcCenters = function useArcCenters(_ref) {\n  var data = _ref.data,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? 0.5 : _ref$offset,\n      _ref$skipAngle = _ref.skipAngle,\n      skipAngle = _ref$skipAngle === void 0 ? 0 : _ref$skipAngle,\n      _ref$computeExtraProp = _ref.computeExtraProps,\n      computeExtraProps = _ref$computeExtraProp === void 0 ? function () {\n    return {};\n  } : _ref$computeExtraProp;\n  return useMemo(function () {\n    return filterDataBySkipAngle(data, skipAngle).map(function (datum) {\n      var position = computeArcCenter(datum.arc, offset);\n      return _objectSpread2(_objectSpread2({}, computeExtraProps(datum)), {}, {\n        x: position.x,\n        y: position.y,\n        data: datum\n      });\n    });\n  }, [data, offset, skipAngle, computeExtraProps]);\n};\n\nvar staticStyle = {\n  pointerEvents: 'none'\n};\n\nvar ArcLabel = function ArcLabel(_ref) {\n  var label = _ref.label,\n      style = _ref.style;\n  var theme = useTheme();\n  return React.createElement(animated.g, {\n    transform: style.transform,\n    opacity: style.progress,\n    style: staticStyle\n  }, React.createElement(animated.text, {\n    textAnchor: \"middle\",\n    dominantBaseline: \"central\",\n    style: _objectSpread2(_objectSpread2({}, theme.labels.text), {}, {\n      fill: style.textColor\n    })\n  }, label));\n};\n\nvar ArcLabelsLayer = function ArcLabelsLayer(_ref) {\n  var center = _ref.center,\n      data = _ref.data,\n      transitionMode = _ref.transitionMode,\n      labelAccessor = _ref.label,\n      radiusOffset = _ref.radiusOffset,\n      skipAngle = _ref.skipAngle,\n      textColor = _ref.textColor,\n      _ref$component = _ref.component,\n      component = _ref$component === void 0 ? ArcLabel : _ref$component;\n  var getLabel = usePropertyAccessor(labelAccessor);\n  var theme = useTheme();\n  var getTextColor = useInheritedColor(textColor, theme);\n  var filteredData = useMemo(function () {\n    return data.filter(function (datum) {\n      return Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >= skipAngle;\n    });\n  }, [data, skipAngle]);\n\n  var _useArcCentersTransit = useArcCentersTransition(filteredData, radiusOffset, transitionMode),\n      transition = _useArcCentersTransit.transition,\n      interpolate = _useArcCentersTransit.interpolate;\n\n  var Label = component;\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(center[0], \",\").concat(center[1], \")\")\n  }, transition(function (transitionProps, datum) {\n    return React.createElement(Label, {\n      key: datum.id,\n      datum: datum,\n      label: getLabel(datum),\n      style: _objectSpread2(_objectSpread2({}, transitionProps), {}, {\n        transform: interpolate(transitionProps.startAngle, transitionProps.endAngle, transitionProps.innerRadius, transitionProps.outerRadius),\n        textColor: getTextColor(datum)\n      })\n    });\n  }));\n};\n\nvar drawCanvasArcLabels = function drawCanvasArcLabels(ctx, labels, theme) {\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.font = \"\".concat(theme.labels.text.fontSize, \"px \").concat(theme.labels.text.fontFamily);\n  labels.forEach(function (label) {\n    ctx.fillStyle = label.textColor;\n    ctx.fillText(\"\".concat(label.label), label.x, label.y);\n  });\n};\n\nvar useArcLabels = function useArcLabels(_ref) {\n  var data = _ref.data,\n      offset = _ref.offset,\n      skipAngle = _ref.skipAngle,\n      label = _ref.label,\n      textColor = _ref.textColor;\n  var getLabel = usePropertyAccessor(label);\n  var theme = useTheme();\n  var getTextColor = useInheritedColor(textColor, theme);\n  var computeExtraProps = useCallback(function (datum) {\n    return {\n      label: getLabel(datum),\n      textColor: getTextColor(datum)\n    };\n  }, [getLabel, getTextColor]);\n  return useArcCenters({\n    data: data,\n    offset: offset,\n    skipAngle: skipAngle,\n    computeExtraProps: computeExtraProps\n  });\n};\n\nvar computeArcLinkTextAnchor = function computeArcLinkTextAnchor(arc) {\n  var centerAngle = getNormalizedAngle(arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2);\n\n  if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n    return 'start';\n  }\n\n  return 'end';\n};\n\nvar computeArcLink = function computeArcLink(arc, offset, diagonalLength, straightLength) {\n  var centerAngle = getNormalizedAngle(arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2);\n  var point0 = positionFromAngle(centerAngle, arc.outerRadius + offset);\n  var point1 = positionFromAngle(centerAngle, arc.outerRadius + offset + diagonalLength);\n  var side;\n  var point2;\n\n  if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n    side = 'after';\n    point2 = {\n      x: point1.x + straightLength,\n      y: point1.y\n    };\n  } else {\n    side = 'before';\n    point2 = {\n      x: point1.x - straightLength,\n      y: point1.y\n    };\n  }\n\n  return {\n    side: side,\n    points: [point0, point1, point2]\n  };\n};\n\nvar lineGenerator = line().x(function (d) {\n  return d.x;\n}).y(function (d) {\n  return d.y;\n});\n\nvar useTransitionPhases = function useTransitionPhases(_ref) {\n  var offset = _ref.offset,\n      diagonalLength = _ref.diagonalLength,\n      straightLength = _ref.straightLength,\n      textOffset = _ref.textOffset,\n      getLinkColor = _ref.getLinkColor,\n      getTextColor = _ref.getTextColor;\n  return useMemo(function () {\n    return {\n      enter: function enter(datum) {\n        return {\n          startAngle: datum.arc.startAngle,\n          endAngle: datum.arc.endAngle,\n          innerRadius: datum.arc.innerRadius,\n          outerRadius: datum.arc.outerRadius,\n          offset: offset,\n          diagonalLength: 0,\n          straightLength: 0,\n          textOffset: textOffset,\n          linkColor: getLinkColor(datum),\n          textColor: getTextColor(datum),\n          opacity: 0\n        };\n      },\n      update: function update(d) {\n        return {\n          startAngle: d.arc.startAngle,\n          endAngle: d.arc.endAngle,\n          innerRadius: d.arc.innerRadius,\n          outerRadius: d.arc.outerRadius,\n          offset: offset,\n          diagonalLength: diagonalLength,\n          straightLength: straightLength,\n          textOffset: textOffset,\n          linkColor: getLinkColor(d),\n          textColor: getTextColor(d),\n          opacity: 1\n        };\n      },\n      leave: function leave(d) {\n        return {\n          startAngle: d.arc.startAngle,\n          endAngle: d.arc.endAngle,\n          innerRadius: d.arc.innerRadius,\n          outerRadius: d.arc.outerRadius,\n          offset: offset,\n          diagonalLength: 0,\n          straightLength: 0,\n          textOffset: textOffset,\n          linkColor: getLinkColor(d),\n          textColor: getTextColor(d),\n          opacity: 0\n        };\n      }\n    };\n  }, [diagonalLength, straightLength, textOffset, getLinkColor, getTextColor]);\n};\n\nvar interpolateLink = function interpolateLink(startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue, offsetValue, diagonalLengthValue, straightLengthValue) {\n  return to([startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue, offsetValue, diagonalLengthValue, straightLengthValue], function (startAngle, endAngle, innerRadius, outerRadius, offset, diagonalLengthAnimated, straightLengthAnimated) {\n    var _computeArcLink = computeArcLink({\n      startAngle: startAngle,\n      endAngle: endAngle,\n      innerRadius: innerRadius,\n      outerRadius: outerRadius\n    }, offset, diagonalLengthAnimated, straightLengthAnimated),\n        points = _computeArcLink.points;\n\n    return lineGenerator(points);\n  });\n};\n\nvar interpolateTextAnchor = function interpolateTextAnchor(startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue) {\n  return to([startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue], function (startAngle, endAngle, innerRadius, outerRadius) {\n    return computeArcLinkTextAnchor({\n      startAngle: startAngle,\n      endAngle: endAngle,\n      innerRadius: innerRadius,\n      outerRadius: outerRadius\n    });\n  });\n};\n\nvar interpolateTextPosition = function interpolateTextPosition(startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue, offsetValue, diagonalLengthValue, straightLengthValue, textOffsetValue) {\n  return to([startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue, offsetValue, diagonalLengthValue, straightLengthValue, textOffsetValue], function (startAngle, endAngle, innerRadius, outerRadius, offset, diagonalLengthAnimated, straightLengthAnimated, textOffset) {\n    var _computeArcLink2 = computeArcLink({\n      startAngle: startAngle,\n      endAngle: endAngle,\n      innerRadius: innerRadius,\n      outerRadius: outerRadius\n    }, offset, diagonalLengthAnimated, straightLengthAnimated),\n        points = _computeArcLink2.points,\n        side = _computeArcLink2.side;\n\n    var position = points[2];\n\n    if (side === 'before') {\n      position.x -= textOffset;\n    } else {\n      position.x += textOffset;\n    }\n\n    return \"translate(\".concat(position.x, \",\").concat(position.y, \")\");\n  });\n};\n\nvar useArcLinkLabelsTransition = function useArcLinkLabelsTransition(_ref2) {\n  var data = _ref2.data,\n      _ref2$offset = _ref2.offset,\n      offset = _ref2$offset === void 0 ? 0 : _ref2$offset,\n      diagonalLength = _ref2.diagonalLength,\n      straightLength = _ref2.straightLength,\n      _ref2$skipAngle = _ref2.skipAngle,\n      skipAngle = _ref2$skipAngle === void 0 ? 0 : _ref2$skipAngle,\n      textOffset = _ref2.textOffset,\n      linkColor = _ref2.linkColor,\n      textColor = _ref2.textColor;\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.config;\n\n  var theme = useTheme();\n  var getLinkColor = useInheritedColor(linkColor, theme);\n  var getTextColor = useInheritedColor(textColor, theme);\n  var filteredData = useFilteredDataBySkipAngle(data, skipAngle);\n  var transitionPhases = useTransitionPhases({\n    offset: offset,\n    diagonalLength: diagonalLength,\n    straightLength: straightLength,\n    textOffset: textOffset,\n    getLinkColor: getLinkColor,\n    getTextColor: getTextColor\n  });\n  var transition = useTransition(filteredData, {\n    keys: function keys(datum) {\n      return datum.id;\n    },\n    initial: transitionPhases.update,\n    from: transitionPhases.enter,\n    enter: transitionPhases.update,\n    update: transitionPhases.update,\n    leave: transitionPhases.leave,\n    config: springConfig,\n    immediate: !animate\n  });\n  return {\n    transition: transition,\n    interpolateLink: interpolateLink,\n    interpolateTextAnchor: interpolateTextAnchor,\n    interpolateTextPosition: interpolateTextPosition\n  };\n};\n\nvar ArcLinkLabel = function ArcLinkLabel(_ref) {\n  var label = _ref.label,\n      style = _ref.style;\n  var theme = useTheme();\n  return React.createElement(animated.g, {\n    opacity: style.opacity\n  }, React.createElement(animated.path, {\n    fill: \"none\",\n    stroke: style.linkColor,\n    strokeWidth: style.thickness,\n    d: style.path\n  }), React.createElement(animated.text, {\n    transform: style.textPosition,\n    textAnchor: style.textAnchor,\n    dominantBaseline: \"central\",\n    style: _objectSpread2(_objectSpread2({}, theme.labels.text), {}, {\n      fill: style.textColor\n    })\n  }, label));\n};\n\nvar ArcLinkLabelsLayer = function ArcLinkLabelsLayer(_ref) {\n  var center = _ref.center,\n      data = _ref.data,\n      labelAccessor = _ref.label,\n      skipAngle = _ref.skipAngle,\n      offset = _ref.offset,\n      diagonalLength = _ref.diagonalLength,\n      straightLength = _ref.straightLength,\n      strokeWidth = _ref.strokeWidth,\n      textOffset = _ref.textOffset,\n      textColor = _ref.textColor,\n      linkColor = _ref.linkColor,\n      _ref$component = _ref.component,\n      component = _ref$component === void 0 ? ArcLinkLabel : _ref$component;\n  var getLabel = usePropertyAccessor(labelAccessor);\n\n  var _useArcLinkLabelsTran = useArcLinkLabelsTransition({\n    data: data,\n    skipAngle: skipAngle,\n    offset: offset,\n    diagonalLength: diagonalLength,\n    straightLength: straightLength,\n    textOffset: textOffset,\n    linkColor: linkColor,\n    textColor: textColor\n  }),\n      transition = _useArcLinkLabelsTran.transition,\n      interpolateLink = _useArcLinkLabelsTran.interpolateLink,\n      interpolateTextAnchor = _useArcLinkLabelsTran.interpolateTextAnchor,\n      interpolateTextPosition = _useArcLinkLabelsTran.interpolateTextPosition;\n\n  var Label = component;\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(center[0], \",\").concat(center[1], \")\")\n  }, transition(function (transitionProps, datum) {\n    return React.createElement(Label, {\n      key: datum.id,\n      datum: datum,\n      label: getLabel(datum),\n      style: _objectSpread2(_objectSpread2({}, transitionProps), {}, {\n        thickness: strokeWidth,\n        path: interpolateLink(transitionProps.startAngle, transitionProps.endAngle, transitionProps.innerRadius, transitionProps.outerRadius, transitionProps.offset, transitionProps.diagonalLength, transitionProps.straightLength),\n        textAnchor: interpolateTextAnchor(transitionProps.startAngle, transitionProps.endAngle, transitionProps.innerRadius, transitionProps.outerRadius),\n        textPosition: interpolateTextPosition(transitionProps.startAngle, transitionProps.endAngle, transitionProps.innerRadius, transitionProps.outerRadius, transitionProps.offset, transitionProps.diagonalLength, transitionProps.straightLength, transitionProps.textOffset)\n      })\n    });\n  }));\n};\n\nvar drawCanvasArcLinkLabels = function drawCanvasArcLinkLabels(ctx, labels, theme, strokeWidth) {\n  ctx.textBaseline = 'middle';\n  ctx.font = \"\".concat(theme.labels.text.fontSize, \"px \").concat(theme.labels.text.fontFamily);\n  labels.forEach(function (label) {\n    ctx.fillStyle = label.textColor;\n    ctx.textAlign = textPropsByEngine.canvas.align[label.textAnchor];\n    ctx.fillText(\"\".concat(label.label), label.x, label.y);\n    ctx.beginPath();\n    ctx.strokeStyle = label.linkColor;\n    ctx.lineWidth = strokeWidth;\n    label.points.forEach(function (point, index) {\n      if (index === 0) ctx.moveTo(point.x, point.y);else ctx.lineTo(point.x, point.y);\n    });\n    ctx.stroke();\n  });\n};\n\nvar useArcLinks = function useArcLinks(_ref) {\n  var data = _ref.data,\n      _ref$skipAngle = _ref.skipAngle,\n      skipAngle = _ref$skipAngle === void 0 ? 0 : _ref$skipAngle,\n      _ref$offset = _ref.offset,\n      offset = _ref$offset === void 0 ? 0.5 : _ref$offset,\n      diagonalLength = _ref.diagonalLength,\n      straightLength = _ref.straightLength,\n      _ref$computeExtraProp = _ref.computeExtraProps,\n      computeExtraProps = _ref$computeExtraProp === void 0 ? function () {\n    return {};\n  } : _ref$computeExtraProp;\n  var links = useMemo(function () {\n    return data.filter(function (datum) {\n      return Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >= skipAngle;\n    }).map(function (datum) {\n      return _objectSpread2(_objectSpread2({}, computeArcLink(datum.arc, offset, diagonalLength, straightLength)), {}, {\n        data: datum\n      });\n    });\n  }, [data, skipAngle, offset, diagonalLength, straightLength]);\n  return useMemo(function () {\n    return links.map(function (link) {\n      return _objectSpread2(_objectSpread2({}, computeExtraProps(link)), link);\n    });\n  }, [links, computeExtraProps]);\n};\n\nvar useArcLinkLabels = function useArcLinkLabels(_ref) {\n  var data = _ref.data,\n      skipAngle = _ref.skipAngle,\n      offset = _ref.offset,\n      diagonalLength = _ref.diagonalLength,\n      straightLength = _ref.straightLength,\n      _ref$textOffset = _ref.textOffset,\n      textOffset = _ref$textOffset === void 0 ? 0 : _ref$textOffset,\n      label = _ref.label,\n      linkColor = _ref.linkColor,\n      textColor = _ref.textColor;\n  var getLabel = usePropertyAccessor(label);\n  var theme = useTheme();\n  var getLinkColor = useInheritedColor(linkColor, theme);\n  var getTextColor = useInheritedColor(textColor, theme);\n  var computeExtraProps = useCallback(function (link) {\n    var position = {\n      x: link.points[2].x,\n      y: link.points[2].y\n    };\n    var textAnchor;\n\n    if (link.side === 'before') {\n      position.x -= textOffset;\n      textAnchor = 'end';\n    } else {\n      position.x += textOffset;\n      textAnchor = 'start';\n    }\n\n    return _objectSpread2(_objectSpread2({}, position), {}, {\n      label: getLabel(link.data),\n      linkColor: getLinkColor(link.data),\n      textAnchor: textAnchor,\n      textColor: getTextColor(link.data)\n    });\n  }, [getLabel, getLinkColor, getTextColor, textOffset]);\n  return useArcLinks({\n    data: data,\n    skipAngle: skipAngle,\n    offset: offset,\n    diagonalLength: diagonalLength,\n    straightLength: straightLength,\n    computeExtraProps: computeExtraProps\n  });\n};\n\nvar ArcShape = function ArcShape(_ref) {\n  var datum = _ref.datum,\n      style = _ref.style,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave;\n  var handleClick = useCallback(function (event) {\n    return onClick === null || onClick === void 0 ? void 0 : onClick(datum, event);\n  }, [onClick, datum]);\n  var handleMouseEnter = useCallback(function (event) {\n    return onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(datum, event);\n  }, [onMouseEnter, datum]);\n  var handleMouseMove = useCallback(function (event) {\n    return onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove(datum, event);\n  }, [onMouseMove, datum]);\n  var handleMouseLeave = useCallback(function (event) {\n    return onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(datum, event);\n  }, [onMouseLeave, datum]);\n  return React.createElement(animated.path, {\n    d: style.path,\n    opacity: style.opacity,\n    fill: datum.fill || style.color,\n    stroke: style.borderColor,\n    strokeWidth: style.borderWidth,\n    onClick: onClick ? handleClick : undefined,\n    onMouseEnter: onMouseEnter ? handleMouseEnter : undefined,\n    onMouseMove: onMouseMove ? handleMouseMove : undefined,\n    onMouseLeave: onMouseLeave ? handleMouseLeave : undefined\n  });\n};\n\nvar interpolateArc = function interpolateArc(startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue, arcGenerator) {\n  return to([startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue], function (startAngle, endAngle, innerRadius, outerRadius) {\n    return arcGenerator({\n      startAngle: startAngle,\n      endAngle: endAngle,\n      innerRadius: Math.max(0, innerRadius),\n      outerRadius: Math.max(0, outerRadius)\n    });\n  });\n};\n\nvar useArcsTransition = function useArcsTransition(data) {\n  var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'innerRadius';\n  var extra = arguments.length > 2 ? arguments[2] : undefined;\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.config;\n\n  var phases = useArcTransitionMode(mode, extra);\n  var transition = useTransition(data, {\n    keys: function keys(datum) {\n      return datum.id;\n    },\n    initial: phases.update,\n    from: phases.enter,\n    enter: phases.update,\n    update: phases.update,\n    leave: phases.leave,\n    config: springConfig,\n    immediate: !animate\n  });\n  return {\n    transition: transition,\n    interpolate: interpolateArc\n  };\n};\n\nvar ArcsLayer = function ArcsLayer(_ref) {\n  var center = _ref.center,\n      data = _ref.data,\n      arcGenerator = _ref.arcGenerator,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseMove = _ref.onMouseMove,\n      onMouseLeave = _ref.onMouseLeave,\n      transitionMode = _ref.transitionMode,\n      _ref$component = _ref.component,\n      component = _ref$component === void 0 ? ArcShape : _ref$component;\n  var theme = useTheme();\n  var getBorderColor = useInheritedColor(borderColor, theme);\n\n  var _useArcsTransition = useArcsTransition(data, transitionMode, {\n    enter: function enter(datum) {\n      return {\n        opacity: 0,\n        color: datum.color,\n        borderColor: getBorderColor(datum)\n      };\n    },\n    update: function update(datum) {\n      return {\n        opacity: 1,\n        color: datum.color,\n        borderColor: getBorderColor(datum)\n      };\n    },\n    leave: function leave(datum) {\n      return {\n        opacity: 0,\n        color: datum.color,\n        borderColor: getBorderColor(datum)\n      };\n    }\n  }),\n      transition = _useArcsTransition.transition,\n      interpolate = _useArcsTransition.interpolate;\n\n  var Arc = component;\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(center[0], \",\").concat(center[1], \")\")\n  }, transition(function (transitionProps, datum) {\n    return createElement(Arc, {\n      key: datum.id,\n      datum: datum,\n      style: _objectSpread2(_objectSpread2({}, transitionProps), {}, {\n        borderWidth: borderWidth,\n        path: interpolate(transitionProps.startAngle, transitionProps.endAngle, transitionProps.innerRadius, transitionProps.outerRadius, arcGenerator)\n      }),\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseMove: onMouseMove,\n      onMouseLeave: onMouseLeave\n    });\n  }));\n};\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar computeArcBoundingBox = function computeArcBoundingBox(centerX, centerY, radius, startAngle, endAngle) {\n  var includeCenter = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var points = [];\n  var p0 = positionFromAngle(degreesToRadians(startAngle), radius);\n  points.push([p0.x, p0.y]);\n  var p1 = positionFromAngle(degreesToRadians(endAngle), radius);\n  points.push([p1.x, p1.y]);\n\n  for (var angle = Math.round(Math.min(startAngle, endAngle)); angle <= Math.round(Math.max(startAngle, endAngle)); angle++) {\n    if (angle % 90 === 0) {\n      var p = positionFromAngle(degreesToRadians(angle), radius);\n      points.push([p.x, p.y]);\n    }\n  }\n\n  points = points.map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        x = _ref2[0],\n        y = _ref2[1];\n\n    return [centerX + x, centerY + y];\n  });\n\n  if (includeCenter === true) {\n    points.push([centerX, centerY]);\n  }\n\n  var xs = points.map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 1),\n        x = _ref4[0];\n\n    return x;\n  });\n  var ys = points.map(function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n        y = _ref6[1];\n\n    return y;\n  });\n  var x0 = Math.min.apply(Math, _toConsumableArray(xs));\n  var x1 = Math.max.apply(Math, _toConsumableArray(xs));\n  var y0 = Math.min.apply(Math, _toConsumableArray(ys));\n  var y1 = Math.max.apply(Math, _toConsumableArray(ys));\n  return {\n    points: points,\n    x: x0,\n    y: y0,\n    width: x1 - x0,\n    height: y1 - y0\n  };\n};\n\nvar isCursorInRing = function isCursorInRing(centerX, centerY, radius, innerRadius, cursorX, cursorY) {\n  var distance = getDistance(cursorX, cursorY, centerX, centerY);\n  return distance < radius && distance > innerRadius;\n};\n\nvar findArcUnderCursor = function findArcUnderCursor(centerX, centerY, radius, innerRadius, arcs, cursorX, cursorY) {\n  if (!isCursorInRing(centerX, centerY, radius, innerRadius, cursorX, cursorY)) {\n    return undefined;\n  }\n\n  var cursorAngle = getAngle(cursorX, cursorY, centerX, centerY);\n  return arcs.find(function (_ref) {\n    var startAngle = _ref.startAngle,\n        endAngle = _ref.endAngle;\n    return cursorAngle >= startAngle && cursorAngle < endAngle;\n  });\n};\n\nvar useAnimatedArc = function useAnimatedArc(datumWithArc, arcGenerator) {\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.config;\n\n  var animatedValues = useSpring({\n    startAngle: datumWithArc.arc.startAngle,\n    endAngle: datumWithArc.arc.endAngle,\n    innerRadius: datumWithArc.arc.innerRadius,\n    outerRadius: datumWithArc.arc.outerRadius,\n    config: springConfig,\n    immediate: !animate\n  });\n  return _objectSpread2(_objectSpread2({}, animatedValues), {}, {\n    path: interpolateArc(animatedValues.startAngle, animatedValues.endAngle, animatedValues.innerRadius, animatedValues.outerRadius, arcGenerator)\n  });\n};\n\nvar useArcGenerator = function useArcGenerator() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$cornerRadius = _ref.cornerRadius,\n      cornerRadius = _ref$cornerRadius === void 0 ? 0 : _ref$cornerRadius,\n      _ref$padAngle = _ref.padAngle,\n      padAngle = _ref$padAngle === void 0 ? 0 : _ref$padAngle;\n\n  return useMemo(function () {\n    return arc().innerRadius(function (arc) {\n      return arc.innerRadius;\n    }).outerRadius(function (arc) {\n      return arc.outerRadius;\n    }).cornerRadius(cornerRadius).padAngle(padAngle);\n  }, [cornerRadius, padAngle]);\n};\n\nexport { ArcLabelsLayer, ArcLinkLabelsLayer, ArcShape, ArcsLayer, arcTransitionModeById, arcTransitionModes, computeArcBoundingBox, computeArcCenter, computeArcLink, computeArcLinkTextAnchor, drawCanvasArcLabels, drawCanvasArcLinkLabels, findArcUnderCursor, interpolateArc, interpolateArcCenter, isCursorInRing, useAnimatedArc, useArcCenters, useArcCentersTransition, useArcGenerator, useArcLabels, useArcLinkLabels, useArcLinkLabelsTransition, useArcLinks, useArcTransitionMode, useArcsTransition };","map":{"version":3,"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../src/utils.ts","../src/arcTransitionMode.ts","../src/centers.ts","../src/arc_labels/ArcLabel.tsx","../src/arc_labels/ArcLabelsLayer.tsx","../src/arc_labels/canvas.ts","../src/arc_labels/useArcLabels.ts","../src/arc_link_labels/compute.ts","../src/arc_link_labels/useArcLinkLabelsTransition.ts","../src/arc_link_labels/ArcLinkLabel.tsx","../src/arc_link_labels/ArcLinkLabelsLayer.tsx","../src/arc_link_labels/canvas.ts","../src/arc_link_labels/useArcLinks.ts","../src/arc_link_labels/useArcLinkLabels.ts","../src/ArcShape.tsx","../src/interpolateArc.ts","../src/useArcsTransition.ts","../src/ArcsLayer.tsx","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/boundingBox.ts","../src/interactivity.ts","../src/useAnimatedArc.ts","../src/useArcGenerator.ts"],"names":["defineProperty","getNormalizedAngle","normalizedAngle","angle","Math","filterDataBySkipAngle","radiansToDegrees","datum","useFilteredDataBySkipAngle","useMemo","arcTransitionModes","arcTransitionModeById","startAngle","enter","endAngle","arc","update","leave","middleAngle","innerRadius","outerRadius","centerRadius","pushIn","pushOut","useArcTransitionMode","transitionMode","progress","extraTransition","computeArcCenter","midAngle","radius","positionFromAngle","interpolateArcCenter","to","centroid","useArcCentersTransition","offset","mode","extra","animate","springConfig","useMotionConfig","phases","transition","useTransition","keys","initial","from","config","immediate","interpolate","useArcCenters","data","skipAngle","computeExtraProps","position","x","y","staticStyle","pointerEvents","ArcLabel","label","style","theme","useTheme","fill","textColor","ArcLabelsLayer","center","labelAccessor","radiusOffset","component","getLabel","usePropertyAccessor","getTextColor","useInheritedColor","filteredData","Label","key","transform","transitionProps","drawCanvasArcLabels","ctx","labels","useArcLabels","useCallback","computeArcLinkTextAnchor","centerAngle","computeArcLink","point0","point1","side","point2","points","lineGenerator","d","useTransitionPhases","diagonalLength","straightLength","textOffset","getLinkColor","linkColor","opacity","interpolateLink","interpolateTextAnchor","interpolateTextPosition","useArcLinkLabelsTransition","transitionPhases","ArcLinkLabel","path","ArcLinkLabelsLayer","strokeWidth","thickness","textAnchor","textPosition","drawCanvasArcLinkLabels","textPropsByEngine","index","point","useArcLinks","links","useArcLinkLabels","link","ArcShape","onClick","onMouseEnter","onMouseMove","onMouseLeave","handleClick","handleMouseEnter","handleMouseMove","handleMouseLeave","undefined","interpolateArc","arcGenerator","useArcsTransition","ArcsLayer","borderWidth","borderColor","getBorderColor","color","Arc","createElement","arrayLikeToArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arrayWithHoles","iterableToArrayLimit","nonIterableRest","computeArcBoundingBox","includeCenter","p0","degreesToRadians","p1","p","centerX","centerY","xs","ys","x0","x1","y0","y1","width","height","isCursorInRing","distance","getDistance","findArcUnderCursor","cursorAngle","getAngle","useAnimatedArc","animatedValues","useSpring","datumWithArc","useArcGenerator","cornerRadius","padAngle"],"mappings":"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","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useMemo } from 'react'\nimport { radiansToDegrees } from '@nivo/core'\nimport { DatumWithArc } from './types'\n\n/**\n * Make sure an angle (expressed in radians)\n * always falls in the range 0~2*PI.\n */\nexport const getNormalizedAngle = (angle: number) => {\n    let normalizedAngle = angle % (Math.PI * 2)\n    if (normalizedAngle < 0) {\n        normalizedAngle += Math.PI * 2\n    }\n\n    return normalizedAngle\n}\n\n/**\n * Filter out arcs with a length below `skipAngle`.\n */\nexport const filterDataBySkipAngle = <Datum extends DatumWithArc>(\n    data: Datum[],\n    skipAngle: number\n) =>\n    data.filter(\n        datum => Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >= skipAngle\n    )\n\n/**\n * Memoized version of `filterDataBySkipAngle`.\n */\nexport const useFilteredDataBySkipAngle = <Datum extends DatumWithArc>(\n    data: Datum[],\n    skipAngle: number\n) => useMemo(() => filterDataBySkipAngle(data, skipAngle), [data, skipAngle])\n","import { Arc, DatumWithArc } from './types'\nimport { useMemo } from 'react'\n\nexport interface ArcTransitionModeConfig {\n    enter: (arc: Arc) => Arc\n    update: (arc: Arc) => Arc\n    leave: (arc: Arc) => Arc\n}\n\nexport const arcTransitionModes = [\n    'startAngle',\n    'middleAngle',\n    'endAngle',\n    'innerRadius',\n    'centerRadius',\n    'outerRadius',\n    'pushIn',\n    'pushOut',\n] as const\nexport type ArcTransitionMode = typeof arcTransitionModes[number]\n\nexport const arcTransitionModeById: Record<ArcTransitionMode, ArcTransitionModeConfig> = {\n    startAngle: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            endAngle: arc.startAngle,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            startAngle: arc.endAngle,\n        }),\n    },\n    middleAngle: {\n        enter: (arc: Arc) => {\n            const middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2\n\n            return {\n                ...arc,\n                startAngle: middleAngle,\n                endAngle: middleAngle,\n            }\n        },\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => {\n            const middleAngle = arc.startAngle + (arc.endAngle - arc.startAngle) / 2\n\n            return {\n                ...arc,\n                startAngle: middleAngle,\n                endAngle: middleAngle,\n            }\n        },\n    },\n    endAngle: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            startAngle: arc.endAngle,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            endAngle: arc.startAngle,\n        }),\n    },\n    innerRadius: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            outerRadius: arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n        }),\n    },\n    centerRadius: {\n        enter: (arc: Arc) => {\n            const centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2\n\n            return {\n                ...arc,\n                innerRadius: centerRadius,\n                outerRadius: centerRadius,\n            }\n        },\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => {\n            const centerRadius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) / 2\n\n            return {\n                ...arc,\n                innerRadius: centerRadius,\n                outerRadius: centerRadius,\n            }\n        },\n    },\n    outerRadius: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            outerRadius: arc.innerRadius,\n        }),\n    },\n    pushIn: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n            outerRadius: arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n            outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius,\n        }),\n    },\n    pushOut: {\n        enter: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.outerRadius,\n            outerRadius: arc.outerRadius + arc.outerRadius - arc.innerRadius,\n        }),\n        update: (arc: Arc) => arc,\n        leave: (arc: Arc) => ({\n            ...arc,\n            innerRadius: arc.innerRadius - arc.outerRadius + arc.innerRadius,\n            outerRadius: arc.innerRadius,\n        }),\n    },\n}\n\nexport interface TransitionExtra<Datum extends DatumWithArc, ExtraProps> {\n    enter: (datum: Datum) => ExtraProps\n    update: (datum: Datum) => ExtraProps\n    leave: (datum: Datum) => ExtraProps\n}\n\nexport const useArcTransitionMode = <Datum extends DatumWithArc, ExtraProps>(\n    mode: ArcTransitionMode,\n    extraTransition?: TransitionExtra<Datum, ExtraProps>\n) =>\n    useMemo(() => {\n        const transitionMode = arcTransitionModeById[mode]\n\n        return {\n            enter: (datum: Datum) => ({\n                progress: 0,\n                ...transitionMode.enter(datum.arc),\n                ...(extraTransition ? extraTransition.enter(datum) : {}),\n            }),\n            update: (datum: Datum) => ({\n                progress: 1,\n                ...transitionMode.update(datum.arc),\n                ...(extraTransition ? extraTransition.update(datum) : {}),\n            }),\n            leave: (datum: Datum) => ({\n                progress: 0,\n                ...transitionMode.leave(datum.arc),\n                ...(extraTransition ? extraTransition.leave(datum) : {}),\n            }),\n        }\n    }, [mode, extraTransition])\n","import { useMemo } from 'react'\nimport { useTransition, to, SpringValue } from '@react-spring/web'\nimport {\n    // @ts-ignore\n    midAngle,\n    positionFromAngle,\n    useMotionConfig,\n} from '@nivo/core'\nimport { Arc, DatumWithArc, Point } from './types'\nimport { filterDataBySkipAngle } from './utils'\nimport { ArcTransitionMode, TransitionExtra, useArcTransitionMode } from './arcTransitionMode'\n\nexport const computeArcCenter = (arc: Arc, offset: number): Point => {\n    const angle = midAngle(arc) - Math.PI / 2\n    const radius = arc.innerRadius + (arc.outerRadius - arc.innerRadius) * offset\n\n    return positionFromAngle(angle, radius)\n}\n\nexport const interpolateArcCenter = (offset: number) => (\n    startAngleValue: SpringValue<number>,\n    endAngleValue: SpringValue<number>,\n    innerRadiusValue: SpringValue<number>,\n    outerRadiusValue: SpringValue<number>\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            const centroid = computeArcCenter(\n                { startAngle, endAngle, innerRadius, outerRadius },\n                offset\n            )\n\n            return `translate(${centroid.x},${centroid.y})`\n        }\n    )\n\nexport const useArcCentersTransition = <Datum extends DatumWithArc, ExtraProps = unknown>(\n    data: Datum[],\n    // define where the centers should be placed,\n    // 0.0: inner radius\n    // 0.5: center\n    // 1.0: outer radius\n    offset = 0.5,\n    mode: ArcTransitionMode = 'innerRadius',\n    extra?: TransitionExtra<Datum, ExtraProps>\n) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const phases = useArcTransitionMode<Datum, ExtraProps>(mode, extra)\n\n    const transition = useTransition<\n        Datum,\n        {\n            progress: number\n            startAngle: number\n            endAngle: number\n            innerRadius: number\n            outerRadius: number\n        } & ExtraProps\n    >(data, {\n        keys: datum => datum.id,\n        initial: phases.update,\n        from: phases.enter,\n        enter: phases.update,\n        update: phases.update,\n        leave: phases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolate: interpolateArcCenter(offset),\n    }\n}\n\nexport interface ArcCenter<Datum extends DatumWithArc> extends Point {\n    data: Datum\n}\n\n/**\n * Compute an array of arc centers from an array of data containing arcs.\n *\n * If you plan to animate those, you could use `useArcCentersTransition`\n * instead, you could use the returned array with react-spring `useTransition`,\n * but this would lead to cartesian transitions (x/y), while `useArcCentersTransition`\n * will generate proper transitions using radius/angle.\n */\nexport const useArcCenters = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, any>\n>({\n    data,\n    offset = 0.5,\n    skipAngle = 0,\n    computeExtraProps = () => ({} as ExtraProps),\n}: {\n    data: Datum[]\n    // define where the centers should be placed,\n    // 0.0: inner radius\n    // 0.5: center\n    // 1.0: outer radius\n    offset?: number\n    // arcs with a length below this (end angle - start angle in degrees)\n    // are going to be excluded, this can typically be used to avoid having\n    // overlapping labels.\n    skipAngle?: number\n    // this can be used to append extra properties to the centers,\n    // can be used to compute a color/label for example.\n    computeExtraProps?: (datum: Datum) => ExtraProps\n}): (ArcCenter<Datum> & ExtraProps)[] =>\n    useMemo(\n        () =>\n            filterDataBySkipAngle<Datum>(data, skipAngle)\n                // compute position and extra props for each eligible datum\n                .map(datum => {\n                    const position = computeArcCenter(datum.arc, offset)\n\n                    return {\n                        ...computeExtraProps(datum),\n                        x: position.x,\n                        y: position.y,\n                        data: datum,\n                    }\n                }),\n        [data, offset, skipAngle, computeExtraProps]\n    )\n","import React, { CSSProperties } from 'react'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { useTheme } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\n\nconst staticStyle: CSSProperties = {\n    pointerEvents: 'none',\n}\n\nexport interface ArcLabelProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    label: string\n    style: {\n        progress: SpringValue<number>\n        transform: Interpolation<string>\n        textColor: string\n    }\n}\n\nexport const ArcLabel = <Datum extends DatumWithArcAndColor>({\n    label,\n    style,\n}: ArcLabelProps<Datum>) => {\n    const theme = useTheme()\n\n    return (\n        <animated.g transform={style.transform} opacity={style.progress} style={staticStyle}>\n            <animated.text\n                textAnchor=\"middle\"\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: style.textColor,\n                }}\n            >\n                {label}\n            </animated.text>\n        </animated.g>\n    )\n}\n","import React, { useMemo } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, radiansToDegrees, useTheme } from '@nivo/core'\nimport { useInheritedColor } from '@nivo/colors'\nimport { useArcCentersTransition } from '../centers'\nimport { ArcTransitionMode } from '../arcTransitionMode'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLabelsProps } from './props'\nimport { ArcLabel, ArcLabelProps } from './ArcLabel'\n\nexport type ArcLabelComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcLabelProps<Datum>\n) => JSX.Element\n\ninterface ArcLabelsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    label: PropertyAccessor<Datum, string>\n    radiusOffset: ArcLabelsProps<Datum>['arcLabelsRadiusOffset']\n    skipAngle: ArcLabelsProps<Datum>['arcLabelsSkipAngle']\n    textColor: ArcLabelsProps<Datum>['arcLabelsTextColor']\n    transitionMode: ArcTransitionMode\n    component?: ArcLabelsProps<Datum>['arcLabelsComponent']\n}\n\nexport const ArcLabelsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    transitionMode,\n    label: labelAccessor,\n    radiusOffset,\n    skipAngle,\n    textColor,\n    component = ArcLabel,\n}: ArcLabelsLayerProps<Datum>) => {\n    const getLabel = usePropertyAccessor<Datum, string>(labelAccessor)\n    const theme = useTheme()\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const filteredData = useMemo(\n        () =>\n            data.filter(datum => {\n                return (\n                    Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >=\n                    skipAngle\n                )\n            }),\n        [data, skipAngle]\n    )\n\n    const { transition, interpolate } = useArcCentersTransition<Datum>(\n        filteredData,\n        radiusOffset,\n        transitionMode\n    )\n\n    const Label: ArcLabelComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return React.createElement(Label, {\n                    key: datum.id,\n                    datum,\n                    label: getLabel(datum),\n                    style: {\n                        ...transitionProps,\n                        transform: interpolate(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius\n                        ),\n                        textColor: getTextColor(datum),\n                    },\n                })\n            })}\n        </g>\n    )\n}\n","import { CompleteTheme } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLabel } from './useArcLabels'\n\nexport const drawCanvasArcLabels = <Datum extends DatumWithArcAndColor>(\n    ctx: CanvasRenderingContext2D,\n    labels: ArcLabel<Datum>[],\n    theme: CompleteTheme\n) => {\n    ctx.textAlign = 'center'\n    ctx.textBaseline = 'middle'\n    ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n    labels.forEach(label => {\n        ctx.fillStyle = label.textColor\n        ctx.fillText(`${label.label}`, label.x, label.y)\n    })\n}\n","import { useCallback } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor } from '../types'\nimport { useArcCenters, ArcCenter } from '../centers'\n\nexport interface ArcLabel<Datum extends DatumWithArcAndColor> extends ArcCenter<Datum> {\n    label: string\n    textColor: string\n}\n\n/**\n * Compute arc labels, please note that the datum should\n * contain a color in order to be able to compute the label text color.\n *\n * Please see `useArcCenters` for a more detailed explanation\n * about the parameters.\n */\nexport const useArcLabels = <Datum extends DatumWithArcAndColor>({\n    data,\n    offset,\n    skipAngle,\n    label,\n    textColor,\n}: {\n    data: Datum[]\n    offset?: number\n    skipAngle?: number\n    label: PropertyAccessor<Datum, string>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const getLabel = usePropertyAccessor<Datum, string>(label)\n\n    const theme = useTheme()\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const computeExtraProps = useCallback(\n        (datum: Datum) => {\n            return {\n                label: getLabel(datum),\n                textColor: getTextColor(datum),\n            }\n        },\n        [getLabel, getTextColor]\n    )\n\n    return useArcCenters<Datum, Omit<ArcLabel<Datum>, keyof ArcCenter<Datum>>>({\n        data,\n        offset,\n        skipAngle,\n        computeExtraProps,\n    })\n}\n","import { positionFromAngle } from '@nivo/core'\nimport { Arc, Point } from '../types'\nimport { getNormalizedAngle } from '../utils'\nimport { ArcLink } from './types'\n\n/**\n * Compute text anchor for a given arc.\n *\n * `computeArcLink` already computes a `side`, but when using\n * `react-spring`, you cannot have a single interpolation\n * returning several output values, so we need to compute\n * them in separate interpolations.\n */\nexport const computeArcLinkTextAnchor = (arc: Arc): 'start' | 'end' => {\n    const centerAngle = getNormalizedAngle(\n        arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2\n    )\n\n    if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n        return 'start'\n    }\n\n    return 'end'\n}\n\n/**\n * Compute the link of a single arc, returning its points,\n * please note that points coordinates are relative to\n * the center of the arc.\n */\nexport const computeArcLink = (\n    arc: Arc,\n    offset: number,\n    diagonalLength: number,\n    straightLength: number\n): ArcLink => {\n    const centerAngle = getNormalizedAngle(\n        arc.startAngle + (arc.endAngle - arc.startAngle) / 2 - Math.PI / 2\n    )\n    const point0: Point = positionFromAngle(centerAngle, arc.outerRadius + offset)\n    const point1: Point = positionFromAngle(centerAngle, arc.outerRadius + offset + diagonalLength)\n\n    let side: ArcLink['side']\n    let point2: Point\n    if (centerAngle < Math.PI / 2 || centerAngle > Math.PI * 1.5) {\n        side = 'after'\n        point2 = {\n            x: point1.x + straightLength,\n            y: point1.y,\n        }\n    } else {\n        side = 'before'\n        point2 = {\n            x: point1.x - straightLength,\n            y: point1.y,\n        }\n    }\n\n    return {\n        side,\n        points: [point0, point1, point2],\n    }\n}\n","import { useMemo } from 'react'\nimport { SpringValue, useTransition, to } from '@react-spring/web'\nimport { line } from 'd3-shape'\nimport { useMotionConfig, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor, Point } from '../types'\nimport { useFilteredDataBySkipAngle } from '../utils'\nimport { computeArcLink, computeArcLinkTextAnchor } from './compute'\n\nconst lineGenerator = line<Point>()\n    .x(d => d.x)\n    .y(d => d.y)\n\ntype AnimatedProps = {\n    startAngle: number\n    endAngle: number\n    innerRadius: number\n    outerRadius: number\n    offset: number\n    diagonalLength: number\n    straightLength: number\n    textOffset: number\n    linkColor: string\n    textColor: string\n    opacity: number\n}\n\nconst useTransitionPhases = <Datum extends DatumWithArcAndColor>({\n    offset,\n    diagonalLength,\n    straightLength,\n    textOffset,\n    getLinkColor,\n    getTextColor,\n}: Pick<AnimatedProps, 'offset' | 'diagonalLength' | 'straightLength' | 'textOffset'> & {\n    getLinkColor: (datum: Datum) => string\n    getTextColor: (datum: Datum) => string\n}): Record<'enter' | 'update' | 'leave', (datum: Datum) => AnimatedProps> =>\n    useMemo(\n        () => ({\n            enter: (datum: Datum) => ({\n                startAngle: datum.arc.startAngle,\n                endAngle: datum.arc.endAngle,\n                innerRadius: datum.arc.innerRadius,\n                outerRadius: datum.arc.outerRadius,\n                offset,\n                diagonalLength: 0,\n                straightLength: 0,\n                textOffset,\n                linkColor: getLinkColor(datum),\n                textColor: getTextColor(datum),\n                opacity: 0,\n            }),\n            update: (d: Datum) => ({\n                startAngle: d.arc.startAngle,\n                endAngle: d.arc.endAngle,\n                innerRadius: d.arc.innerRadius,\n                outerRadius: d.arc.outerRadius,\n                offset,\n                diagonalLength,\n                straightLength,\n                textOffset,\n                linkColor: getLinkColor(d),\n                textColor: getTextColor(d),\n                opacity: 1,\n            }),\n            leave: (d: Datum) => ({\n                startAngle: d.arc.startAngle,\n                endAngle: d.arc.endAngle,\n                innerRadius: d.arc.innerRadius,\n                outerRadius: d.arc.outerRadius,\n                offset,\n                diagonalLength: 0,\n                straightLength: 0,\n                textOffset,\n                linkColor: getLinkColor(d),\n                textColor: getTextColor(d),\n                opacity: 0,\n            }),\n        }),\n        [diagonalLength, straightLength, textOffset, getLinkColor, getTextColor]\n    )\n\nconst interpolateLink = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>,\n    offsetValue: SpringValue<AnimatedProps['offset']>,\n    diagonalLengthValue: SpringValue<AnimatedProps['diagonalLength']>,\n    straightLengthValue: SpringValue<AnimatedProps['straightLength']>\n) =>\n    to(\n        [\n            startAngleValue,\n            endAngleValue,\n            innerRadiusValue,\n            outerRadiusValue,\n            offsetValue,\n            diagonalLengthValue,\n            straightLengthValue,\n        ],\n        (\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius,\n            offset,\n            diagonalLengthAnimated,\n            straightLengthAnimated\n        ) => {\n            const { points } = computeArcLink(\n                {\n                    startAngle,\n                    endAngle,\n                    innerRadius,\n                    outerRadius,\n                },\n                offset,\n                diagonalLengthAnimated,\n                straightLengthAnimated\n            )\n\n            return lineGenerator(points)\n        }\n    )\n\nconst interpolateTextAnchor = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            return computeArcLinkTextAnchor({\n                startAngle,\n                endAngle,\n                innerRadius,\n                outerRadius,\n            })\n        }\n    )\n\n/**\n * Interpolating the text position involves almost the same computation\n * as `interpolateLink`, unfortunately `react-spring` does not support\n * multiple output values from a single interpolation.\n *\n * We should revise this if `react-spring` adds this feature at some point.\n */\nconst interpolateTextPosition = (\n    startAngleValue: SpringValue<AnimatedProps['startAngle']>,\n    endAngleValue: SpringValue<AnimatedProps['endAngle']>,\n    innerRadiusValue: SpringValue<AnimatedProps['innerRadius']>,\n    outerRadiusValue: SpringValue<AnimatedProps['outerRadius']>,\n    offsetValue: SpringValue<AnimatedProps['offset']>,\n    diagonalLengthValue: SpringValue<AnimatedProps['diagonalLength']>,\n    straightLengthValue: SpringValue<AnimatedProps['straightLength']>,\n    textOffsetValue: SpringValue<AnimatedProps['textOffset']>\n) =>\n    to(\n        [\n            startAngleValue,\n            endAngleValue,\n            innerRadiusValue,\n            outerRadiusValue,\n            offsetValue,\n            diagonalLengthValue,\n            straightLengthValue,\n            textOffsetValue,\n        ],\n        (\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius,\n            offset,\n            diagonalLengthAnimated,\n            straightLengthAnimated,\n            textOffset\n        ) => {\n            const { points, side } = computeArcLink(\n                {\n                    startAngle,\n                    endAngle,\n                    innerRadius,\n                    outerRadius,\n                },\n                offset,\n                diagonalLengthAnimated,\n                straightLengthAnimated\n            )\n\n            const position = points[2]\n            if (side === 'before') {\n                position.x -= textOffset\n            } else {\n                position.x += textOffset\n            }\n\n            return `translate(${position.x},${position.y})`\n        }\n    )\n\n/**\n * This hook can be used to animate a group of arc link labels,\n * if you just want to compute the labels, please use `useArcLinkLabels`.\n */\nexport const useArcLinkLabelsTransition = <Datum extends DatumWithArcAndColor>({\n    data,\n    offset = 0,\n    diagonalLength,\n    straightLength,\n    skipAngle = 0,\n    textOffset,\n    linkColor,\n    textColor,\n}: {\n    data: Datum[]\n    offset?: number\n    diagonalLength: number\n    straightLength: number\n    skipAngle?: number\n    textOffset: number\n    linkColor: InheritedColorConfig<Datum>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const theme = useTheme()\n    const getLinkColor = useInheritedColor<Datum>(linkColor, theme)\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const filteredData = useFilteredDataBySkipAngle<Datum>(data, skipAngle)\n    const transitionPhases = useTransitionPhases<Datum>({\n        offset,\n        diagonalLength,\n        straightLength,\n        textOffset,\n        getLinkColor,\n        getTextColor,\n    })\n\n    const transition = useTransition<Datum, AnimatedProps>(filteredData, {\n        keys: datum => datum.id,\n        initial: transitionPhases.update,\n        from: transitionPhases.enter,\n        enter: transitionPhases.update,\n        update: transitionPhases.update,\n        leave: transitionPhases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolateLink,\n        interpolateTextAnchor,\n        interpolateTextPosition,\n    }\n}\n","import React from 'react'\nimport { useTheme } from '@nivo/core'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { DatumWithArcAndColor } from '../types'\n\nexport interface ArcLinkLabelProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    label: string\n    style: {\n        path: Interpolation<string>\n        thickness: number\n        textPosition: Interpolation<string>\n        textAnchor: Interpolation<'start' | 'end'>\n        linkColor: SpringValue<string>\n        opacity: SpringValue<number>\n        textColor: SpringValue<string>\n    }\n}\n\nexport const ArcLinkLabel = <Datum extends DatumWithArcAndColor>({\n    label,\n    style,\n}: ArcLinkLabelProps<Datum>) => {\n    const theme = useTheme()\n\n    return (\n        <animated.g opacity={style.opacity}>\n            <animated.path\n                fill=\"none\"\n                stroke={style.linkColor}\n                strokeWidth={style.thickness}\n                d={style.path}\n            />\n            <animated.text\n                transform={style.textPosition}\n                textAnchor={style.textAnchor}\n                dominantBaseline=\"central\"\n                style={{\n                    ...theme.labels.text,\n                    fill: style.textColor,\n                }}\n            >\n                {label}\n            </animated.text>\n        </animated.g>\n    )\n}\n","import React from 'react'\nimport { usePropertyAccessor } from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { useArcLinkLabelsTransition } from './useArcLinkLabelsTransition'\nimport { ArcLinkLabelsProps } from './props'\nimport { ArcLinkLabel, ArcLinkLabelProps } from './ArcLinkLabel'\n\nexport type ArcLinkLabelComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcLinkLabelProps<Datum>\n) => JSX.Element\n\ninterface ArcLinkLabelsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    label: ArcLinkLabelsProps<Datum>['arcLinkLabel']\n    skipAngle: ArcLinkLabelsProps<Datum>['arcLinkLabelsSkipAngle']\n    offset: ArcLinkLabelsProps<Datum>['arcLinkLabelsOffset']\n    diagonalLength: ArcLinkLabelsProps<Datum>['arcLinkLabelsDiagonalLength']\n    straightLength: ArcLinkLabelsProps<Datum>['arcLinkLabelsStraightLength']\n    strokeWidth: ArcLinkLabelsProps<Datum>['arcLinkLabelsThickness']\n    textOffset: ArcLinkLabelsProps<Datum>['arcLinkLabelsTextOffset']\n    textColor: ArcLinkLabelsProps<Datum>['arcLinkLabelsTextColor']\n    linkColor: ArcLinkLabelsProps<Datum>['arcLinkLabelsColor']\n    component?: ArcLinkLabelComponent<Datum>\n}\n\nexport const ArcLinkLabelsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    label: labelAccessor,\n    skipAngle,\n    offset,\n    diagonalLength,\n    straightLength,\n    strokeWidth,\n    textOffset,\n    textColor,\n    linkColor,\n    component = ArcLinkLabel,\n}: ArcLinkLabelsLayerProps<Datum>) => {\n    const getLabel = usePropertyAccessor<Datum, string>(labelAccessor)\n\n    const {\n        transition,\n        interpolateLink,\n        interpolateTextAnchor,\n        interpolateTextPosition,\n    } = useArcLinkLabelsTransition<Datum>({\n        data,\n        skipAngle,\n        offset,\n        diagonalLength,\n        straightLength,\n        textOffset,\n        linkColor,\n        textColor,\n    })\n\n    const Label: ArcLinkLabelComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return React.createElement(Label, {\n                    key: datum.id,\n                    datum,\n                    label: getLabel(datum),\n                    style: {\n                        ...transitionProps,\n                        thickness: strokeWidth,\n                        path: interpolateLink(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            transitionProps.offset,\n                            transitionProps.diagonalLength,\n                            transitionProps.straightLength\n                        ),\n                        textAnchor: interpolateTextAnchor(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius\n                        ),\n                        textPosition: interpolateTextPosition(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            transitionProps.offset,\n                            transitionProps.diagonalLength,\n                            transitionProps.straightLength,\n                            transitionProps.textOffset\n                        ),\n                    },\n                })\n            })}\n        </g>\n    )\n}\n","import {\n    // @ts-ignore\n    textPropsByEngine,\n    CompleteTheme,\n} from '@nivo/core'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLinkLabel } from './types'\n\nexport const drawCanvasArcLinkLabels = <Datum extends DatumWithArcAndColor>(\n    ctx: CanvasRenderingContext2D,\n    labels: ArcLinkLabel<Datum>[],\n    theme: CompleteTheme,\n    strokeWidth: number\n) => {\n    ctx.textBaseline = 'middle'\n    ctx.font = `${theme.labels.text.fontSize}px ${theme.labels.text.fontFamily}`\n\n    labels.forEach(label => {\n        ctx.fillStyle = label.textColor\n        ctx.textAlign = textPropsByEngine.canvas.align[label.textAnchor]\n        ctx.fillText(`${label.label}`, label.x, label.y)\n\n        ctx.beginPath()\n        ctx.strokeStyle = label.linkColor\n        ctx.lineWidth = strokeWidth\n        label.points.forEach((point, index) => {\n            if (index === 0) ctx.moveTo(point.x, point.y)\n            else ctx.lineTo(point.x, point.y)\n        })\n        ctx.stroke()\n    })\n}\n","import { useMemo } from 'react'\nimport { radiansToDegrees } from '@nivo/core'\nimport { DatumWithArc } from '../types'\nimport { ArcLinkWithDatum } from './types'\nimport { computeArcLink } from './compute'\n\n/**\n * Compute links for an array of data containing arcs.\n *\n * This is typically used to create labels for arcs,\n * and it's used for the `useArcLinkLabels` hook.\n */\nexport const useArcLinks = <\n    Datum extends DatumWithArc,\n    ExtraProps extends Record<string, any> = Record<string, any>\n>({\n    data,\n    skipAngle = 0,\n    offset = 0.5,\n    diagonalLength,\n    straightLength,\n    computeExtraProps = () => ({} as ExtraProps),\n}: {\n    data: Datum[]\n    // arcs with a length below this (end angle - start angle in degrees)\n    // are going to be excluded, this can typically be used to avoid having\n    // overlapping labels.\n    skipAngle?: number\n    // offset from arc outer radius in pixels\n    offset?: number\n    // length of the diagonal segment of the link\n    diagonalLength: number\n    // length of the straight segment of the link\n    straightLength: number\n    // this can be used to append extra properties to the links,\n    // can be used to compute a color/label for example.\n    computeExtraProps?: (datum: ArcLinkWithDatum<Datum>) => ExtraProps\n}): (ArcLinkWithDatum<Datum> & ExtraProps)[] => {\n    const links = useMemo(\n        () =>\n            data\n                // filter out arcs with a length below `skipAngle`\n                .filter(\n                    datum =>\n                        Math.abs(radiansToDegrees(datum.arc.endAngle - datum.arc.startAngle)) >=\n                        skipAngle\n                )\n                // compute the link for each eligible arc\n                .map(datum => ({\n                    ...computeArcLink(datum.arc, offset, diagonalLength, straightLength),\n                    data: datum,\n                })),\n        [data, skipAngle, offset, diagonalLength, straightLength]\n    )\n\n    // splitting memoization of links and extra props can be more efficient,\n    // this way if only `computeExtraProps` changes, we skip links computation.\n    return useMemo(\n        () =>\n            links.map(link => ({\n                ...computeExtraProps(link),\n                ...link,\n            })),\n        [links, computeExtraProps]\n    )\n}\n","import { useCallback } from 'react'\nimport { PropertyAccessor, usePropertyAccessor, useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor } from '../types'\nimport { ArcLinkWithDatum, ArcLinkLabel } from './types'\nimport { useArcLinks } from './useArcLinks'\n\n/**\n * Compute arc link labels, please note that the datum should\n * contain a color in order to be able to compute the link/label text color.\n *\n * Please see `useArcLinks` for a more detailed explanation\n * about the parameters.\n */\nexport const useArcLinkLabels = <Datum extends DatumWithArcAndColor>({\n    data,\n    skipAngle,\n    offset,\n    diagonalLength,\n    straightLength,\n    textOffset = 0,\n    label,\n    linkColor,\n    textColor,\n}: {\n    data: Datum[]\n    skipAngle?: number\n    offset?: number\n    diagonalLength: number\n    straightLength: number\n    textOffset: number\n    label: PropertyAccessor<Datum, string>\n    linkColor: InheritedColorConfig<Datum>\n    textColor: InheritedColorConfig<Datum>\n}) => {\n    const getLabel = usePropertyAccessor<Datum, string>(label)\n\n    const theme = useTheme()\n    const getLinkColor = useInheritedColor<Datum>(linkColor, theme)\n    const getTextColor = useInheritedColor<Datum>(textColor, theme)\n\n    const computeExtraProps = useCallback(\n        (link: ArcLinkWithDatum<Datum>) => {\n            const position = {\n                x: link.points[2].x,\n                y: link.points[2].y,\n            }\n            let textAnchor: ArcLinkLabel<Datum>['textAnchor']\n            if (link.side === 'before') {\n                position.x -= textOffset\n                textAnchor = 'end'\n            } else {\n                position.x += textOffset\n                textAnchor = 'start'\n            }\n\n            return {\n                ...position,\n                label: getLabel(link.data),\n                linkColor: getLinkColor(link.data),\n                textAnchor,\n                textColor: getTextColor(link.data),\n            }\n        },\n        [getLabel, getLinkColor, getTextColor, textOffset]\n    )\n\n    return useArcLinks<Datum, Omit<ArcLinkLabel<Datum>, keyof ArcLinkWithDatum<Datum>>>({\n        data,\n        skipAngle,\n        offset,\n        diagonalLength,\n        straightLength,\n        computeExtraProps,\n    })\n}\n","import React, { useCallback } from 'react'\nimport { SpringValue, Interpolation, animated } from '@react-spring/web'\nimport { DatumWithArcAndColor } from './types'\n\nexport type ArcMouseHandler<Datum extends DatumWithArcAndColor> = (\n    datum: Datum,\n    event: React.MouseEvent<SVGPathElement>\n) => void\n\nexport interface ArcShapeProps<Datum extends DatumWithArcAndColor> {\n    datum: Datum\n    style: {\n        opacity: SpringValue<number>\n        color: SpringValue<string>\n        borderWidth: number\n        borderColor: SpringValue<string>\n        path: Interpolation<string>\n    }\n    onClick?: ArcMouseHandler<Datum>\n    onMouseEnter?: ArcMouseHandler<Datum>\n    onMouseMove?: ArcMouseHandler<Datum>\n    onMouseLeave?: ArcMouseHandler<Datum>\n}\n\n/**\n * A simple arc component to be used typically with an `ArcsLayer`.\n *\n * Please note that the component accepts `SpringValue`s instead of\n * regular values to support animations.\n */\nexport const ArcShape = <Datum extends DatumWithArcAndColor>({\n    datum,\n    style,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n}: ArcShapeProps<Datum>) => {\n    const handleClick = useCallback(event => onClick?.(datum, event), [onClick, datum])\n\n    const handleMouseEnter = useCallback(event => onMouseEnter?.(datum, event), [\n        onMouseEnter,\n        datum,\n    ])\n\n    const handleMouseMove = useCallback(event => onMouseMove?.(datum, event), [onMouseMove, datum])\n\n    const handleMouseLeave = useCallback(event => onMouseLeave?.(datum, event), [\n        onMouseLeave,\n        datum,\n    ])\n\n    return (\n        <animated.path\n            d={style.path}\n            opacity={style.opacity}\n            fill={datum.fill || style.color}\n            stroke={style.borderColor}\n            strokeWidth={style.borderWidth}\n            onClick={onClick ? handleClick : undefined}\n            onMouseEnter={onMouseEnter ? handleMouseEnter : undefined}\n            onMouseMove={onMouseMove ? handleMouseMove : undefined}\n            onMouseLeave={onMouseLeave ? handleMouseLeave : undefined}\n        />\n    )\n}\n","import { to, SpringValue } from '@react-spring/web'\nimport { ArcGenerator } from './types'\n\n/**\n * Directly animating paths for arcs leads to sub-optimal results\n * as the interpolation is going to be linear while we deal with polar coordinates,\n * this interpolator is going to generate proper arc transitions.\n * It should be used with the `useAnimatedArc` or `useArcsTransition` hooks.\n */\nexport const interpolateArc = (\n    startAngleValue: SpringValue<number>,\n    endAngleValue: SpringValue<number>,\n    innerRadiusValue: SpringValue<number>,\n    outerRadiusValue: SpringValue<number>,\n    arcGenerator: ArcGenerator\n) =>\n    to(\n        [startAngleValue, endAngleValue, innerRadiusValue, outerRadiusValue],\n        (startAngle, endAngle, innerRadius, outerRadius) => {\n            return arcGenerator({\n                startAngle,\n                endAngle,\n                innerRadius: Math.max(0, innerRadius),\n                outerRadius: Math.max(0, outerRadius),\n            })\n        }\n    )\n","import { useTransition } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { DatumWithArc } from './types'\nimport { ArcTransitionMode, useArcTransitionMode, TransitionExtra } from './arcTransitionMode'\nimport { interpolateArc } from './interpolateArc'\n\n/**\n * This hook can be used to animate a group of arcs,\n * if you want to animate a single arc,\n * please have a look at the `useAnimatedArc` hook.\n */\nexport const useArcsTransition = <Datum extends DatumWithArc, ExtraProps = unknown>(\n    data: Datum[],\n    mode: ArcTransitionMode = 'innerRadius',\n    extra?: TransitionExtra<Datum, ExtraProps>\n) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const phases = useArcTransitionMode<Datum, ExtraProps>(mode, extra)\n\n    const transition = useTransition<\n        Datum,\n        {\n            progress: number\n            startAngle: number\n            endAngle: number\n            innerRadius: number\n            outerRadius: number\n        } & ExtraProps\n    >(data, {\n        keys: datum => datum.id,\n        initial: phases.update,\n        from: phases.enter,\n        enter: phases.update,\n        update: phases.update,\n        leave: phases.leave,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        transition,\n        interpolate: interpolateArc,\n    }\n}\n","import React, { createElement } from 'react'\nimport { useTheme } from '@nivo/core'\nimport { InheritedColorConfig, useInheritedColor } from '@nivo/colors'\nimport { DatumWithArcAndColor, ArcGenerator } from './types'\nimport { useArcsTransition } from './useArcsTransition'\nimport { ArcTransitionMode } from './arcTransitionMode'\nimport { ArcMouseHandler, ArcShape, ArcShapeProps } from './ArcShape'\n\nexport type ArcComponent<Datum extends DatumWithArcAndColor> = (\n    props: ArcShapeProps<Datum>\n) => JSX.Element\n\ninterface ArcsLayerProps<Datum extends DatumWithArcAndColor> {\n    center: [number, number]\n    data: Datum[]\n    arcGenerator: ArcGenerator\n    borderWidth: number\n    borderColor: InheritedColorConfig<Datum>\n    onClick?: ArcMouseHandler<Datum>\n    onMouseEnter?: ArcMouseHandler<Datum>\n    onMouseMove?: ArcMouseHandler<Datum>\n    onMouseLeave?: ArcMouseHandler<Datum>\n    transitionMode: ArcTransitionMode\n    component?: ArcComponent<Datum>\n}\n\nexport const ArcsLayer = <Datum extends DatumWithArcAndColor>({\n    center,\n    data,\n    arcGenerator,\n    borderWidth,\n    borderColor,\n    onClick,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    transitionMode,\n    component = ArcShape,\n}: ArcsLayerProps<Datum>) => {\n    const theme = useTheme()\n    const getBorderColor = useInheritedColor<Datum>(borderColor, theme)\n\n    const { transition, interpolate } = useArcsTransition<\n        Datum,\n        {\n            opacity: number\n            color: string\n            borderColor: string\n        }\n    >(data, transitionMode, {\n        enter: datum => ({\n            opacity: 0,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n        update: datum => ({\n            opacity: 1,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n        leave: datum => ({\n            opacity: 0,\n            color: datum.color,\n            borderColor: getBorderColor(datum),\n        }),\n    })\n\n    const Arc: ArcComponent<Datum> = component\n\n    return (\n        <g transform={`translate(${center[0]},${center[1]})`}>\n            {transition((transitionProps, datum) => {\n                return createElement(Arc, {\n                    key: datum.id,\n                    datum,\n                    style: {\n                        ...transitionProps,\n                        borderWidth,\n                        path: interpolate(\n                            transitionProps.startAngle,\n                            transitionProps.endAngle,\n                            transitionProps.innerRadius,\n                            transitionProps.outerRadius,\n                            arcGenerator\n                        ),\n                    },\n                    onClick,\n                    onMouseEnter,\n                    onMouseMove,\n                    onMouseLeave,\n                })\n            })}\n        </g>\n    )\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { positionFromAngle, degreesToRadians } from '@nivo/core'\n\n/**\n * Computes the bounding box for a circle arc.\n *\n * Assumptions:\n *   - Anywhere the arc intersects an axis will be a max or a min.\n *   - If the arc doesn't intersect an axis, then the center\n *     will be one corner of the bounding rectangle,\n *     and this is the only case when it will be.\n *   - The only other possible extreme points of the sector to consider\n *     are the endpoints of the radii.\n *\n * This script was built within the help of this answer on stackoverflow:\n *   https://stackoverflow.com/questions/1336663/2d-bounding-box-of-a-sector\n */\nexport const computeArcBoundingBox = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    // in degrees\n    startAngle: number,\n    // in degrees\n    endAngle: number,\n    includeCenter = true\n) => {\n    let points: [number, number][] = []\n\n    const p0 = positionFromAngle(degreesToRadians(startAngle), radius)\n    points.push([p0.x, p0.y])\n\n    const p1 = positionFromAngle(degreesToRadians(endAngle), radius)\n    points.push([p1.x, p1.y])\n\n    for (\n        let angle = Math.round(Math.min(startAngle, endAngle));\n        angle <= Math.round(Math.max(startAngle, endAngle));\n        angle++\n    ) {\n        if (angle % 90 === 0) {\n            const p = positionFromAngle(degreesToRadians(angle), radius)\n            points.push([p.x, p.y])\n        }\n    }\n\n    points = points.map(([x, y]) => [centerX + x, centerY + y])\n    if (includeCenter === true) {\n        points.push([centerX, centerY])\n    }\n\n    const xs = points.map(([x]) => x)\n    const ys = points.map(([, y]) => y)\n\n    const x0 = Math.min(...xs)\n    const x1 = Math.max(...xs)\n\n    const y0 = Math.min(...ys)\n    const y1 = Math.max(...ys)\n\n    return {\n        points,\n        x: x0,\n        y: y0,\n        width: x1 - x0,\n        height: y1 - y0,\n    }\n}\n","import { getDistance, getAngle } from '@nivo/core'\nimport { Arc } from './types'\n\n/**\n * Check if cursor is in given ring.\n */\nexport const isCursorInRing = (\n    centerX: number,\n    centerY: number,\n    radius: number,\n    innerRadius: number,\n    cursorX: number,\n    cursorY: number\n) => {\n    const distance = getDistance(cursorX, cursorY, centerX, centerY)\n\n    return distance < radius && distance > innerRadius\n}\n\n/**\n * Search for an arc being under cursor.\n */\nexport const findArcUnderCursor = <A extends Arc = Arc>(\n    centerX: number,\n    centerY: number,\n    radius: number,\n    innerRadius: number,\n    arcs: A[],\n    cursorX: number,\n    cursorY: number\n): A | undefined => {\n    if (!isCursorInRing(centerX, centerY, radius, innerRadius, cursorX, cursorY)) {\n        return undefined\n    }\n\n    const cursorAngle = getAngle(cursorX, cursorY, centerX, centerY)\n\n    return arcs.find(\n        ({ startAngle, endAngle }) => cursorAngle >= startAngle && cursorAngle < endAngle\n    )\n}\n","import { useSpring } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { Arc, ArcGenerator } from './types'\nimport { interpolateArc } from './interpolateArc'\n\n/**\n * This hook can be used to animate a single arc,\n * if you want to animate a group of arcs,\n * please have a look at the `useArcsTransition` hook.\n */\nexport const useAnimatedArc = (datumWithArc: { arc: Arc }, arcGenerator: ArcGenerator) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedValues = useSpring({\n        startAngle: datumWithArc.arc.startAngle,\n        endAngle: datumWithArc.arc.endAngle,\n        innerRadius: datumWithArc.arc.innerRadius,\n        outerRadius: datumWithArc.arc.outerRadius,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return {\n        ...animatedValues,\n        path: interpolateArc(\n            animatedValues.startAngle,\n            animatedValues.endAngle,\n            animatedValues.innerRadius,\n            animatedValues.outerRadius,\n            arcGenerator\n        ),\n    }\n}\n","import { useMemo } from 'react'\nimport { arc as d3Arc } from 'd3-shape'\nimport { ArcGenerator, Arc } from './types'\n\n/**\n * Memoize a d3 arc generator.\n *\n * Please note that both inner/outer radius aren't static\n * and should come from the arc itself, while it requires\n * more props on the arcs, it provides more flexibility\n * because it's not limited to pie then but can also work\n * with charts such as sunbursts.\n */\nexport const useArcGenerator = ({\n    cornerRadius = 0,\n    padAngle = 0,\n}: {\n    cornerRadius?: number\n    padAngle?: number\n} = {}): ArcGenerator =>\n    useMemo(\n        () =>\n            d3Arc<Arc>()\n                .innerRadius(arc => arc.innerRadius)\n                .outerRadius(arc => arc.outerRadius)\n                .cornerRadius(cornerRadius)\n                .padAngle(padAngle),\n        [cornerRadius, padAngle]\n    )\n"]},"metadata":{},"sourceType":"module"}