{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\FacebookLoginButton\\\\FacebookLoginButton.js\";\nimport React, { Component } from 'react';\nimport './FacebookLoginButton.scss';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { loginByFaceGoogle, storeInfoForRegister } from '../../actions/user_action';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass FacebookLoginButton extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      authFailed: false,\n      name: \"\",\n      email: \"\",\n      picture: \"\"\n    };\n\n    this.componentClicked = () => {\n      console.log(\"Facebook Authentication\");\n    };\n\n    this.responseFacebook = response => {\n      if (response) {\n        console.log(response);\n        this.props.dispatch(loginByFaceGoogle(response.email)).then(res => {\n          if (res.payload.loginSuccess) {\n            this.props.history.push('/newfeed');\n          } else {\n            console.log(response); // let data = {\n            //     name: response.name,\n            //     email: response.email,\n            //     picture: response.image.url,\n            // }\n            // this.props.dispatch(storeInfoForRegister(data));\n            // this.props.history.push('/register');\n          }\n        });\n      } else {\n        console.log(response);\n      }\n    };\n\n    this.responseGoogle = response => {\n      console.log(response);\n    };\n  }\n\n  render() {\n    let template;\n    this.state.authFailed ? template = /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this) : template = /*#__PURE__*/_jsxDEV(FacebookLogin, {\n      appId: \"413244283385621\",\n      fields: \"name,email,picture\",\n      callback: this.responseFacebook,\n      render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"facebook_signin_button\",\n        onClick: renderProps.onClick,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: require('../../asset/login-page/fb_Icon2x.png')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), \"\\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Facebook\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: template\n    }, void 0, false);\n  }\n\n}\n\nexport default connect()(withRouter(FacebookLoginButton));","map":{"version":3,"names":["React","Component","FacebookLogin","withRouter","connect","loginByFaceGoogle","storeInfoForRegister","FacebookLoginButton","state","authFailed","name","email","picture","componentClicked","console","log","responseFacebook","response","props","dispatch","then","res","payload","loginSuccess","history","push","responseGoogle","render","template","renderProps","onClick","require"],"sources":["D:/Kltn/test/social-media/client/src/components/FacebookLoginButton/FacebookLoginButton.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport './FacebookLoginButton.scss'\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { loginByFaceGoogle, storeInfoForRegister } from '../../actions/user_action'\r\n\r\nclass FacebookLoginButton extends Component {\r\n\r\n    state = {\r\n        authFailed: false,\r\n        name: \"\",\r\n        email: \"\",\r\n        picture: \"\",\r\n    }\r\n\r\n    componentClicked = () =>{\r\n        console.log(\"Facebook Authentication\");\r\n    }\r\n\r\n    responseFacebook = (response) =>{\r\n        if (response) {\r\n            console.log(response);\r\n            this.props.dispatch(loginByFaceGoogle(response.email))\r\n            .then(res => {\r\n                if (res.payload.loginSuccess) {\r\n                    this.props.history.push('/newfeed')\r\n                }else {\r\n                    console.log(response)\r\n                    // let data = {\r\n                    //     name: response.name,\r\n                    //     email: response.email,\r\n                    //     picture: response.image.url,\r\n                    // }\r\n                    // this.props.dispatch(storeInfoForRegister(data));\r\n                    // this.props.history.push('/register');\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            console.log(response)\r\n        }\r\n    }\r\n\r\n    responseGoogle = (response) =>  {\r\n        console.log(response)\r\n    }\r\n\r\n    render() {\r\n        let template;\r\n        this.state.authFailed?\r\n            template =(\r\n                <div>\r\n                </div>\r\n            )\r\n        : template = (\r\n            <FacebookLogin\r\n                appId=\"413244283385621\"\r\n                fields=\"name,email,picture\"\r\n                callback={this.responseFacebook}\r\n                render={renderProps => (\r\n                    <button className='facebook_signin_button' onClick={renderProps.onClick}>\r\n                        <img src={require('../../asset/login-page/fb_Icon2x.png')} />Đăng nhập bằng Facebook\r\n                    </button>\r\n                )}\r\n            />\r\n        );\r\n        return (\r\n           <>\r\n                {template}\r\n           </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect()(withRouter(FacebookLoginButton));"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,4BAAP;AACA,OAAOC,aAAP,MAA0B,uDAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,iBAAT,EAA4BC,oBAA5B,QAAwD,2BAAxD;;;;AAEA,MAAMC,mBAAN,SAAkCN,SAAlC,CAA4C;EAAA;IAAA;IAAA,KAExCO,KAFwC,GAEhC;MACJC,UAAU,EAAE,KADR;MAEJC,IAAI,EAAE,EAFF;MAGJC,KAAK,EAAE,EAHH;MAIJC,OAAO,EAAE;IAJL,CAFgC;;IAAA,KASxCC,gBATwC,GASrB,MAAK;MACpBC,OAAO,CAACC,GAAR,CAAY,yBAAZ;IACH,CAXuC;;IAAA,KAaxCC,gBAbwC,GAapBC,QAAD,IAAa;MAC5B,IAAIA,QAAJ,EAAc;QACVH,OAAO,CAACC,GAAR,CAAYE,QAAZ;QACA,KAAKC,KAAL,CAAWC,QAAX,CAAoBd,iBAAiB,CAACY,QAAQ,CAACN,KAAV,CAArC,EACCS,IADD,CACMC,GAAG,IAAI;UACT,IAAIA,GAAG,CAACC,OAAJ,CAAYC,YAAhB,EAA8B;YAC1B,KAAKL,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;UACH,CAFD,MAEM;YACFX,OAAO,CAACC,GAAR,CAAYE,QAAZ,EADE,CAEF;YACA;YACA;YACA;YACA;YACA;YACA;UACH;QACJ,CAdD;MAeH,CAjBD,MAkBK;QACDH,OAAO,CAACC,GAAR,CAAYE,QAAZ;MACH;IACJ,CAnCuC;;IAAA,KAqCxCS,cArCwC,GAqCtBT,QAAD,IAAe;MAC5BH,OAAO,CAACC,GAAR,CAAYE,QAAZ;IACH,CAvCuC;EAAA;;EAyCxCU,MAAM,GAAG;IACL,IAAIC,QAAJ;IACA,KAAKpB,KAAL,CAAWC,UAAX,GACImB,QAAQ,gBACJ;MAAA;MAAA;MAAA;IAAA,QAFR,GAKEA,QAAQ,gBACN,QAAC,aAAD;MACI,KAAK,EAAC,iBADV;MAEI,MAAM,EAAC,oBAFX;MAGI,QAAQ,EAAE,KAAKZ,gBAHnB;MAII,MAAM,EAAEa,WAAW,iBACf;QAAQ,SAAS,EAAC,wBAAlB;QAA2C,OAAO,EAAEA,WAAW,CAACC,OAAhE;QAAA,wBACI;UAAK,GAAG,EAAEC,OAAO,CAAC,sCAAD;QAAjB;UAAA;UAAA;UAAA;QAAA,QADJ;MAAA;QAAA;QAAA;QAAA;MAAA;IALR;MAAA;MAAA;MAAA;IAAA,QANJ;IAiBA,oBACG;MAAA,UACMH;IADN,iBADH;EAKH;;AAjEuC;;AAoE5C,eAAexB,OAAO,GAAGD,UAAU,CAACI,mBAAD,CAAb,CAAtB"},"metadata":{},"sourceType":"module"}