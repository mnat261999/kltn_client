{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Admin\\\\Account\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Layout from '../Layout/index';\nimport './account.scss';\nimport { getAll, sort } from '../../../actions/account_actions';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { withRouter } from 'react-router-dom';\n\nclass AccountPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      limit: 4,\n      skip: 0,\n      sortBy: {\n        type: \"name\",\n        order: 1\n      },\n      isloading: false\n    };\n\n    this.loadmore = () => {\n      this.setState({\n        isloading: true\n      });\n      let skip = this.state.skip + this.state.limit;\n      this.props.dispatch(getAll(this.state.limit, skip, this.props.accounts.list)).then(() => {\n        sort(this.state.sortBy, this.props.accounts.list);\n        this.setState({\n          skip: skip,\n          isloading: false\n        }, () => {\n          console.log(\"here\", this.props.accounts.list);\n        });\n      });\n    };\n\n    this.order = type => {\n      switch (type) {\n        case \"name\":\n          if (this.state.sortBy.type == \"name\") {\n            this.setState({\n              sortBy: {\n                type: \"name\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"name\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          }\n\n          break;\n\n        case \"userName\":\n          if (this.state.sortBy.type == \"userName\") {\n            this.setState({\n              sortBy: {\n                type: \"userName\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"userName\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          }\n\n          break;\n\n        case \"email\":\n          if (this.state.sortBy.type == \"email\") {\n            this.setState({\n              sortBy: {\n                type: \"email\",\n                order: this.state.sortBy.order * -1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          } else {\n            this.setState({\n              sortBy: {\n                type: \"email\",\n                order: 1\n              }\n            }, () => {\n              sort(this.state.sortBy, this.props.accounts.list);\n            });\n          }\n\n          break;\n      }\n    };\n\n    this.toDetail = item => {\n      this.props.history.push(`/Admin/Account/${item._id}`);\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getAll(this.state.limit, this.state.skip));\n  }\n\n  render() {\n    const {\n      accounts\n    } = this.props;\n    console.log();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      page: \"account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"page_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, \"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"add_btn\",\n      onClick: () => {\n        this.props.history.push(\"/Admin/Account/add_new\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, \"Th\\xEAm m\\u1EDBi\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"dropdown filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"btn btn-secondary dropdown-toggle\",\n      type: \"button\",\n      id: \"dropdownMenuButton\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-haspopup\": \"true\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    }, this.state.sortBy.type), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"dropdown-menu\",\n      \"aria-labelledby\": \"dropdownMenuButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"name\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, \"T\\xEAn\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"userName\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 37\n      }\n    }, \"T\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng\"), /*#__PURE__*/React.createElement(\"a\", {\n      class: \"dropdown-item\",\n      href: \"#\",\n      onClick: () => this.order(\"email\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, \"Email\")))), accounts.list ? /*#__PURE__*/React.createElement(\"table\", {\n      className: \"report-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"table-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"name hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 41\n      }\n    }, \"T\\xEAn\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"role hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 41\n      }\n    }, \"Vai tr\\xF2\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"userName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 41\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 41\n      }\n    }, \"Email\")), accounts.list.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"table-content\",\n      onClick: () => this.toDetail(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"avt\",\n      src: item.avt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"name hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 49\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"role hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 49\n      }\n    }, \"Admin\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"userName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 49\n      }\n    }, \"  \", item.userName), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 49\n      }\n    }, item.email)))) : /*#__PURE__*/React.createElement(LinearProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 35\n      }\n    }), this.state.isloading ? /*#__PURE__*/React.createElement(LinearProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 33\n      }\n    }) : accounts.size >= this.state.limit ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"loadmore\",\n      onClick: () => {\n        this.loadmore();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 33\n      }\n    }, \"Load more\") : \"\")));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    accounts: state.accounts\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(AccountPage));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Admin/Account/index.js"],"names":["React","Component","connect","Layout","getAll","sort","LinearProgress","withRouter","AccountPage","state","limit","skip","sortBy","type","order","isloading","loadmore","setState","props","dispatch","accounts","list","then","console","log","toDetail","item","history","push","_id","componentDidMount","render","map","avt","name","userName","email","size","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Layout from '../Layout/index';\r\nimport './account.scss';\r\nimport { getAll, sort } from '../../../actions/account_actions';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass AccountPage extends Component {\r\n    state = {\r\n        limit: 4,\r\n        skip: 0,\r\n        sortBy: { type: \"name\", order: 1 },\r\n        isloading: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.dispatch(getAll(\r\n            this.state.limit, this.state.skip\r\n        ));\r\n    }\r\n    loadmore = () => {\r\n        this.setState({ isloading: true });\r\n        let skip = this.state.skip + this.state.limit;\r\n        this.props.dispatch(getAll(\r\n            this.state.limit,\r\n            skip,\r\n            this.props.accounts.list,\r\n        )).then(() => {\r\n            sort(this.state.sortBy, this.props.accounts.list)\r\n            this.setState({\r\n                skip: skip,\r\n                isloading: false\r\n            }, () => { console.log(\"here\", this.props.accounts.list) })\r\n        })\r\n    }\r\n    order = (type) => {\r\n        switch (type) {\r\n            case \"name\":\r\n                if (this.state.sortBy.type == \"name\") {\r\n                    this.setState({ sortBy: { type: \"name\", order: this.state.sortBy.order * -1 } }, () => {\r\n                        sort(this.state.sortBy, this.props.accounts.list)\r\n                    })\r\n                } else {\r\n                    this.setState({ sortBy: { type: \"name\", order: 1 } }, () => {\r\n                        sort(this.state.sortBy, this.props.accounts.list)\r\n                    })\r\n                }\r\n                break;\r\n            case \"userName\":\r\n                if (this.state.sortBy.type == \"userName\") {\r\n                    this.setState({ sortBy: { type: \"userName\", order: this.state.sortBy.order * -1 } }, () => {\r\n                        sort(this.state.sortBy, this.props.accounts.list)\r\n                    })\r\n                } else {\r\n                    this.setState({ sortBy: { type: \"userName\", order: 1 } }, () => {\r\n                        sort(this.state.sortBy, this.props.accounts.list)\r\n                    })\r\n                }\r\n                break;\r\n            case \"email\":\r\n                if (this.state.sortBy.type == \"email\") {\r\n                    this.setState({ sortBy: { type: \"email\", order: this.state.sortBy.order * -1 } }, () => {\r\n                        sort(this.state.sortBy, this.props.accounts.list)\r\n                    })\r\n                } else {\r\n                    this.setState({ sortBy: { type: \"email\", order: 1 } }, () => {\r\n                        sort(this.state.sortBy, this.props.accounts.list)\r\n                    })\r\n                }\r\n                break;\r\n        }\r\n\r\n    }\r\n    toDetail = (item) => {\r\n        this.props.history.push(`/Admin/Account/${item._id}`);\r\n    }\r\n\r\n    render() {\r\n        const { accounts } = this.props\r\n        console.log()\r\n        return (\r\n            <div>\r\n                <Layout page=\"account\">\r\n                    <div className=\"account\">\r\n                        <h2 className=\"page_title\">Quản trị viên</h2>\r\n                        <div className=\"button\">\r\n                            <button className=\"add_btn\" onClick={() => {this.props.history.push(\"/Admin/Account/add_new\")}}>Thêm mới</button>\r\n                            <div class=\"dropdown filter\">\r\n                                <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    {this.state.sortBy.type}\r\n                                </button>\r\n                                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() => this.order(\"name\")}>Tên</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() => this.order(\"userName\")}>Tên người dùng</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\" onClick={() => this.order(\"email\")}>Email</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            accounts.list ?\r\n                                <table className=\"report-list\">\r\n                                    <tr className=\"table-header\">\r\n                                        <th className=\"img\"></th>\r\n                                        <th className=\"name hidden\">Tên</th>\r\n                                        <th className=\"role hidden\">Vai trò</th>\r\n                                        <th className=\"userName\" >Username</th>\r\n                                        <th className=\"email\" >Email</th>\r\n                                    </tr>\r\n                                    {\r\n                                        accounts.list.map((item) => (\r\n                                            <tr className=\"table-content\" onClick={() => this.toDetail(item)}>\r\n                                                <td><img className=\"avt\" src={item.avt} /></td>\r\n                                                <td className=\"name hidden\">\r\n                                                    {item.name}\r\n                                                </td>\r\n                                                <td className=\"role hidden\">Admin</td>\r\n                                                <td className=\"userName\">  {item.userName}</td>\r\n                                                <td className=\"email\">{item.email}</td>\r\n                                            </tr>\r\n                                        ))\r\n                                    }\r\n                                </table>\r\n                                : <LinearProgress />\r\n                        }\r\n                        {\r\n                            this.state.isloading ?\r\n                                <LinearProgress />\r\n                                :\r\n                            accounts.size >= this.state.limit ?\r\n                                <button className=\"loadmore\" onClick={() => { this.loadmore() }}>Load more</button>\r\n                                : \"\"\r\n                        }\r\n                    </div>\r\n                </Layout> \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        accounts: state.accounts\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(AccountPage));"]},"metadata":{},"sourceType":"module"}