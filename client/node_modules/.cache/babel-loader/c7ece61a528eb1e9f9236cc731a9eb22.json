{"ast":null,"code":"import { LetterB } from 'tabler-icons-react';\nimport { GET_ALL_REPORTS, GET_REPORT_DETAIL, UPDATE_REPORT, RESTRICT_USER, CLEAR, DELETE_RESTRICTED_FUNCTION, DELETE_REPORT_POST, DELETE_REPORT_COMMENT } from '../actions/types';\nexport default function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_ALL_REPORTS:\n      {\n        return { ...state,\n          list: action.payload.reports,\n          size: action.payload.size\n        };\n      }\n\n    case GET_REPORT_DETAIL:\n      {\n        return {\n          reportDetail: action.payload.reportDetail\n        };\n      }\n\n    case UPDATE_REPORT:\n      {\n        // if(action.payload.report.reportType == \"user\" ){\n        //     let newUserInfo = {\n        //         ...state.reportDetail.userId[0]\n        //     }\n        //     console.log(newUserInfo)\n        //     newUserInfo.restrictedFunctions = action.payload.restrictedFunctions\n        //     console.log(newUserInfo)\n        //     return {\n        //         reportDetail: {\n        //             ...state.reportDetail,\n        //             status: action.payload.report.status,\n        //             userId: [newUserInfo]\n        //         }\n        //     }\n        // }else {\n        // }\n        const newDetail = { ...state.reportDetail,\n          status: action.payload.report.status\n        };\n        return {\n          reportDetail: newDetail\n        };\n      }\n\n    case RESTRICT_USER:\n      {\n        let newUserInfo = { ...state.reportDetail.userId[0]\n        };\n        console.log(newUserInfo);\n        newUserInfo.restrictedFunctions = action.payload.restrictedFunctions;\n        console.log(newUserInfo);\n        return {\n          reportDetail: { ...state.reportDetail,\n            status: action.payload.report.status,\n            userId: [newUserInfo]\n          }\n        };\n      }\n\n    case DELETE_REPORT_POST:\n      {\n        const newDetail = { ...state.reportDetail,\n          status: action.payload.report.status\n        };\n        return {\n          reportDetail: newDetail\n        };\n      }\n\n    case DELETE_REPORT_COMMENT:\n      {\n        const newDetail = { ...state.reportDetail,\n          status: action.payload.report.status\n        };\n        return {\n          reportDetail: newDetail\n        };\n      }\n\n    case DELETE_RESTRICTED_FUNCTION:\n      {\n        let newUserInfo = { ...state.reportDetail.userId[0]\n        };\n        console.log(newUserInfo);\n        newUserInfo.restrictedFunctions = newUserInfo.restrictedFunctions.filter(item => item._id != action.payload.funcId);\n        console.log(newUserInfo);\n        return {\n          reportDetail: { ...state.reportDetail,\n            userId: [newUserInfo]\n          }\n        };\n      }\n\n    case CLEAR:\n      {\n        return {};\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["LetterB","GET_ALL_REPORTS","GET_REPORT_DETAIL","UPDATE_REPORT","RESTRICT_USER","CLEAR","DELETE_RESTRICTED_FUNCTION","DELETE_REPORT_POST","DELETE_REPORT_COMMENT","state","action","type","list","payload","reports","size","reportDetail","newDetail","status","report","newUserInfo","userId","console","log","restrictedFunctions","filter","item","_id","funcId"],"sources":["D:/Kltn/test/social-media/client/src/reducers/report_reducer.js"],"sourcesContent":["import { LetterB } from 'tabler-icons-react';\r\nimport {\r\n    GET_ALL_REPORTS,\r\n    GET_REPORT_DETAIL,\r\n    UPDATE_REPORT,\r\n    RESTRICT_USER,\r\n    CLEAR,\r\n    DELETE_RESTRICTED_FUNCTION,\r\n    DELETE_REPORT_POST,\r\n    DELETE_REPORT_COMMENT\r\n} from '../actions/types';\r\n\r\nexport default function (state = {}, action) {\r\n    switch (action.type) {\r\n        case GET_ALL_REPORTS: {\r\n            return {\r\n                ...state,\r\n                list: action.payload.reports,\r\n                size: action.payload.size,\r\n            }\r\n        }\r\n        case GET_REPORT_DETAIL:{\r\n            return {\r\n                reportDetail: action.payload.reportDetail\r\n            }\r\n        }\r\n        case UPDATE_REPORT: {\r\n            // if(action.payload.report.reportType == \"user\" ){\r\n            //     let newUserInfo = {\r\n            //         ...state.reportDetail.userId[0]\r\n            //     }\r\n            //     console.log(newUserInfo)\r\n            //     newUserInfo.restrictedFunctions = action.payload.restrictedFunctions\r\n            //     console.log(newUserInfo)\r\n            //     return {\r\n            //         reportDetail: {\r\n            //             ...state.reportDetail,\r\n            //             status: action.payload.report.status,\r\n            //             userId: [newUserInfo]\r\n            //         }\r\n            //     }\r\n            // }else {\r\n               \r\n            // }\r\n            const newDetail = {\r\n                ...state.reportDetail,\r\n                status: action.payload.report.status\r\n            }\r\n            return {\r\n                reportDetail: newDetail\r\n            }\r\n        }\r\n        case RESTRICT_USER:{\r\n            let newUserInfo = {\r\n                ...state.reportDetail.userId[0]\r\n            }\r\n            console.log(newUserInfo)\r\n            newUserInfo.restrictedFunctions = action.payload.restrictedFunctions\r\n            console.log(newUserInfo)\r\n            return {\r\n                reportDetail: {\r\n                    ...state.reportDetail,\r\n                    status: action.payload.report.status,\r\n                    userId: [newUserInfo]\r\n                }\r\n            }\r\n        }\r\n        case DELETE_REPORT_POST: {\r\n            const newDetail = {\r\n                ...state.reportDetail,\r\n                status: action.payload.report.status\r\n            }\r\n            return {\r\n                reportDetail: newDetail\r\n            }\r\n        }\r\n        case DELETE_REPORT_COMMENT: {\r\n            const newDetail = {\r\n                ...state.reportDetail,\r\n                status: action.payload.report.status\r\n            }\r\n            return {\r\n                reportDetail: newDetail\r\n            }\r\n        }\r\n        case DELETE_RESTRICTED_FUNCTION:{\r\n            let newUserInfo = {\r\n                ...state.reportDetail.userId[0]\r\n            }\r\n            console.log(newUserInfo)\r\n            newUserInfo.restrictedFunctions = newUserInfo.restrictedFunctions.filter(item =>\r\n                item._id != action.payload.funcId) \r\n            console.log(newUserInfo)\r\n            return {\r\n                reportDetail: {\r\n                    ...state.reportDetail,\r\n                    userId: [newUserInfo]\r\n                }\r\n            }\r\n        }\r\n        case CLEAR: {\r\n            return {}\r\n        }\r\n        default: return state;\r\n    }\r\n}"],"mappings":"AAAA,SAASA,OAAT,QAAwB,oBAAxB;AACA,SACIC,eADJ,EAEIC,iBAFJ,EAGIC,aAHJ,EAIIC,aAJJ,EAKIC,KALJ,EAMIC,0BANJ,EAOIC,kBAPJ,EAQIC,qBARJ,QASO,kBATP;AAWA,eAAe,YAA8B;EAAA,IAApBC,KAAoB,uEAAZ,EAAY;EAAA,IAARC,MAAQ;;EACzC,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKV,eAAL;MAAsB;QAClB,OAAO,EACH,GAAGQ,KADA;UAEHG,IAAI,EAAEF,MAAM,CAACG,OAAP,CAAeC,OAFlB;UAGHC,IAAI,EAAEL,MAAM,CAACG,OAAP,CAAeE;QAHlB,CAAP;MAKH;;IACD,KAAKb,iBAAL;MAAuB;QACnB,OAAO;UACHc,YAAY,EAAEN,MAAM,CAACG,OAAP,CAAeG;QAD1B,CAAP;MAGH;;IACD,KAAKb,aAAL;MAAoB;QAChB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QAEA;QACA,MAAMc,SAAS,GAAG,EACd,GAAGR,KAAK,CAACO,YADK;UAEdE,MAAM,EAAER,MAAM,CAACG,OAAP,CAAeM,MAAf,CAAsBD;QAFhB,CAAlB;QAIA,OAAO;UACHF,YAAY,EAAEC;QADX,CAAP;MAGH;;IACD,KAAKb,aAAL;MAAmB;QACf,IAAIgB,WAAW,GAAG,EACd,GAAGX,KAAK,CAACO,YAAN,CAAmBK,MAAnB,CAA0B,CAA1B;QADW,CAAlB;QAGAC,OAAO,CAACC,GAAR,CAAYH,WAAZ;QACAA,WAAW,CAACI,mBAAZ,GAAkCd,MAAM,CAACG,OAAP,CAAeW,mBAAjD;QACAF,OAAO,CAACC,GAAR,CAAYH,WAAZ;QACA,OAAO;UACHJ,YAAY,EAAE,EACV,GAAGP,KAAK,CAACO,YADC;YAEVE,MAAM,EAAER,MAAM,CAACG,OAAP,CAAeM,MAAf,CAAsBD,MAFpB;YAGVG,MAAM,EAAE,CAACD,WAAD;UAHE;QADX,CAAP;MAOH;;IACD,KAAKb,kBAAL;MAAyB;QACrB,MAAMU,SAAS,GAAG,EACd,GAAGR,KAAK,CAACO,YADK;UAEdE,MAAM,EAAER,MAAM,CAACG,OAAP,CAAeM,MAAf,CAAsBD;QAFhB,CAAlB;QAIA,OAAO;UACHF,YAAY,EAAEC;QADX,CAAP;MAGH;;IACD,KAAKT,qBAAL;MAA4B;QACxB,MAAMS,SAAS,GAAG,EACd,GAAGR,KAAK,CAACO,YADK;UAEdE,MAAM,EAAER,MAAM,CAACG,OAAP,CAAeM,MAAf,CAAsBD;QAFhB,CAAlB;QAIA,OAAO;UACHF,YAAY,EAAEC;QADX,CAAP;MAGH;;IACD,KAAKX,0BAAL;MAAgC;QAC5B,IAAIc,WAAW,GAAG,EACd,GAAGX,KAAK,CAACO,YAAN,CAAmBK,MAAnB,CAA0B,CAA1B;QADW,CAAlB;QAGAC,OAAO,CAACC,GAAR,CAAYH,WAAZ;QACAA,WAAW,CAACI,mBAAZ,GAAkCJ,WAAW,CAACI,mBAAZ,CAAgCC,MAAhC,CAAuCC,IAAI,IACzEA,IAAI,CAACC,GAAL,IAAYjB,MAAM,CAACG,OAAP,CAAee,MADG,CAAlC;QAEAN,OAAO,CAACC,GAAR,CAAYH,WAAZ;QACA,OAAO;UACHJ,YAAY,EAAE,EACV,GAAGP,KAAK,CAACO,YADC;YAEVK,MAAM,EAAE,CAACD,WAAD;UAFE;QADX,CAAP;MAMH;;IACD,KAAKf,KAAL;MAAY;QACR,OAAO,EAAP;MACH;;IACD;MAAS,OAAOI,KAAP;EA1Fb;AA4FH"},"metadata":{},"sourceType":"module"}