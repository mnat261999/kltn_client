{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\photoEditor\\\\index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"tui-image-editor/dist/tui-image-editor.css\";\nimport ImageEditor from \"@toast-ui/react-image-editor\";\nimport \"./photoEditor.scss\";\nimport { createStory } from \"../../actions/product_actions\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { useHistory } from \"react-router-dom\";\nimport { useStore, useDispatch } from \"react-redux\";\nimport { Snackbar } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nconst myTheme = {// Theme object to extends default dark theme.\n}; // var pngUrl = canvas.toDataURL(); // PNG is the default\n\nconst PhotoEditor = props => {\n  let history = useHistory();\n  const store = useStore();\n  const state = store.getState();\n  const dispatch = useDispatch();\n\n  function handleClick() {\n    history.push(\"/newfeed\");\n  }\n\n  const [isLoading, setIsLoading] = useState(props.isLoading);\n  const [isEmpty, setIsEmpty] = useState(false); // const [errors, setErrors] = useState(0);\n\n  useEffect(() => {\n    setIsLoading(props.isLoading);\n  }, [props.isLoading]);\n  useEffect(() => {\n    setIsEmpty(props.isEmpty);\n  }, [props.isEmpty]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `photoEditor ${isLoading ? \"disable\" : \"\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-cancel\",\n    onClick: () => props.close(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__logo\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    class: \"Logo_stunn\",\n    src: require(\"../../asset/logo/logo2x.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    class: \"Logo_text\",\n    src: require(\"../../asset/logo/stunn2x.png\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-complete\",\n    onClick: () => {\n      var list = document.getElementsByTagName(\"canvas\");\n      var dataURL = list[0].toDataURL(\"image/jpeg\", 1.0);\n\n      if (dataURL == `data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANv/bAEMAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/bAEMBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAJYBLAMBEQACEQEDEQH/xAAVAAEBAAAAAAAAAAAAAAAAAAAAC//EABQQAQAAAAAAAAAAAAAAAAAAAAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8An/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/9k=`) {\n        //console.log(\"ERROR\")\n        setIsEmpty(true);\n      } else {\n        //console.log(\"SUCCESS\")\n        setIsLoading(true);\n        dispatch(createStory(dataURL, state.user.userData._id)).then(response => {\n          console.log(response);\n\n          if (response.payload.success) {\n            props.onSuccess();\n            setIsLoading(false);\n          } else {\n            setIsLoading(false);\n            setIsEmpty(true);\n          }\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Add\")), !isLoading ? \"\" : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LinearProcess\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LinearProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"left\"\n    },\n    open: isEmpty,\n    onClose: () => setIsEmpty(false),\n    autoHideDuration: 2000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MuiAlert, {\n    elevation: 6,\n    variant: \"filled\",\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"Ki\\xEA\\u0309m tra va\\u0300 th\\u01B0\\u0309 la\\u0323i!\")), /*#__PURE__*/React.createElement(ImageEditor, {\n    includeUI: {\n      loadImage: {\n        path: \"\",\n        name: \"SampleImage\"\n      },\n      theme: myTheme,\n      menu: [\"crop\", \"flip\", \"rotate\", \"draw\", \"shape\", \"icon\", \"text\", \"mask\", \"filter\"],\n      initMenu: \"filter\",\n      uiSize: {\n        width: \"auto\",\n        height: \"100vh\"\n      },\n      menuBarPosition: \"right\"\n    },\n    cssMaxHeight: 500,\n    cssMaxWidth: 700,\n    selectionStyle: {\n      cornerSize: 20,\n      rotatingPointOffset: 70\n    },\n    usageStatistics: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, \" \", \"Photo editor is not support small screen device!\"));\n};\n\nexport default PhotoEditor;","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/photoEditor/index.js"],"names":["React","useEffect","useState","ImageEditor","createStory","LinearProgress","useHistory","useStore","useDispatch","Snackbar","MuiAlert","myTheme","PhotoEditor","props","history","store","state","getState","dispatch","handleClick","push","isLoading","setIsLoading","isEmpty","setIsEmpty","close","require","list","document","getElementsByTagName","dataURL","toDataURL","user","userData","_id","then","response","console","log","payload","success","onSuccess","vertical","horizontal","loadImage","path","name","theme","menu","initMenu","uiSize","width","height","menuBarPosition","cornerSize","rotatingPointOffset"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"tui-image-editor/dist/tui-image-editor.css\";\r\nimport ImageEditor from \"@toast-ui/react-image-editor\";\r\nimport \"./photoEditor.scss\";\r\nimport { createStory } from \"../../actions/product_actions\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useStore, useDispatch } from \"react-redux\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nconst myTheme = {\r\n  // Theme object to extends default dark theme.\r\n};\r\n// var pngUrl = canvas.toDataURL(); // PNG is the default\r\n\r\nconst PhotoEditor = (props) => {\r\n  let history = useHistory();\r\n  const store = useStore();\r\n  const state = store.getState();\r\n  const dispatch = useDispatch();\r\n\r\n  function handleClick() {\r\n    history.push(\"/newfeed\");\r\n  }\r\n\r\n  const [isLoading, setIsLoading] = useState(props.isLoading);\r\n  const [isEmpty, setIsEmpty] = useState(false);\r\n\r\n  // const [errors, setErrors] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(props.isLoading);\r\n  }, [props.isLoading]);\r\n\r\n  useEffect(() => {\r\n    setIsEmpty(props.isEmpty);\r\n  }, [props.isEmpty]);\r\n\r\n  return (\r\n    <div className={`photoEditor ${isLoading ? \"disable\" : \"\"}`}>\r\n      <div class=\"header\">\r\n        <div className=\"header-wrapper\">\r\n          <button className=\"btn btn-cancel\" onClick={() => props.close()}>\r\n            Cancel\r\n          </button>\r\n          <div className=\"header__logo\" onClick={handleClick}>\r\n            <img\r\n              class=\"Logo_stunn\"\r\n              src={require(\"../../asset/logo/logo2x.png\")}\r\n            />\r\n            <img\r\n              class=\"Logo_text\"\r\n              src={require(\"../../asset/logo/stunn2x.png\")}\r\n            />\r\n          </div>\r\n          <button\r\n            className=\"btn btn-complete\"\r\n            onClick={() => {\r\n              var list = document.getElementsByTagName(\"canvas\");\r\n              var dataURL = list[0].toDataURL(\"image/jpeg\", 1.0);\r\n              if (\r\n                dataURL ==\r\n                `data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANv/bAEMAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/bAEMBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAJYBLAMBEQACEQEDEQH/xAAVAAEBAAAAAAAAAAAAAAAAAAAAC//EABQQAQAAAAAAAAAAAAAAAAAAAAD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8An/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/9k=`\r\n              ) {\r\n                //console.log(\"ERROR\")\r\n                setIsEmpty(true);\r\n              } else {\r\n                //console.log(\"SUCCESS\")\r\n                setIsLoading(true);\r\n                dispatch(createStory(dataURL, state.user.userData._id)).then(\r\n                  (response) => {\r\n                    console.log(response);\r\n                    if (response.payload.success) {\r\n                      props.onSuccess();\r\n                      setIsLoading(false);\r\n                    } else {\r\n                      setIsLoading(false);\r\n                      setIsEmpty(true);\r\n                    }\r\n                  }\r\n                );\r\n              }\r\n            }}\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n        {!isLoading ? (\r\n          \"\"\r\n        ) : (\r\n          <div className=\"LinearProcess\">\r\n            <LinearProgress />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"left\",\r\n        }}\r\n        open={isEmpty}\r\n        onClose={() => setIsEmpty(false)}\r\n        autoHideDuration={2000}\r\n      >\r\n        <MuiAlert elevation={6} variant=\"filled\" severity={\"error\"}>\r\n          Kiểm tra và thử lại!\r\n        </MuiAlert>\r\n      </Snackbar>\r\n      <ImageEditor\r\n        includeUI={{\r\n          loadImage: {\r\n            path: \"\",\r\n            name: \"SampleImage\",\r\n          },\r\n          theme: myTheme,\r\n          menu: [\r\n            \"crop\",\r\n            \"flip\",\r\n            \"rotate\",\r\n            \"draw\",\r\n            \"shape\",\r\n            \"icon\",\r\n            \"text\",\r\n            \"mask\",\r\n            \"filter\",\r\n          ],\r\n          initMenu: \"filter\",\r\n          uiSize: {\r\n            width: \"auto\",\r\n            height: \"100vh\",\r\n          },\r\n          menuBarPosition: \"right\",\r\n        }}\r\n        cssMaxHeight={500}\r\n        cssMaxWidth={700}\r\n        selectionStyle={{\r\n          cornerSize: 20,\r\n          rotatingPointOffset: 70,\r\n        }}\r\n        usageStatistics={true}\r\n      />\r\n\r\n      <div className=\"message\">\r\n        {\" \"}\r\n        Photo editor is not support small screen device!\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoEditor;\r\n"]},"metadata":{},"sourceType":"module"}