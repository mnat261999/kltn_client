{"ast":null,"code":"import React, { useState, useCallback, useMemo } from 'react';\nimport { useTheme } from '@nivo/core';\nimport PropTypes from 'prop-types';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar isObject = function isObject(item) {\n  return typeof item === 'object' && !Array.isArray(item) && item !== null;\n};\n\nvar zeroPadding = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar computeDimensions = function computeDimensions(_ref) {\n  var direction = _ref.direction,\n      itemsSpacing = _ref.itemsSpacing,\n      _padding = _ref.padding,\n      itemCount = _ref.itemCount,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight;\n\n  if (typeof _padding !== 'number' && !isObject(_padding)) {\n    throw new Error('Invalid property padding, must be one of: number, object');\n  }\n\n  var padding = typeof _padding === 'number' ? {\n    top: _padding,\n    right: _padding,\n    bottom: _padding,\n    left: _padding\n  } : _objectSpread2(_objectSpread2({}, zeroPadding), _padding);\n  var horizontalPadding = padding.left + padding.right;\n  var verticalPadding = padding.top + padding.bottom;\n  var width = itemWidth + horizontalPadding;\n  var height = itemHeight + verticalPadding;\n  var spacing = (itemCount - 1) * itemsSpacing;\n\n  if (direction === 'row') {\n    width = itemWidth * itemCount + spacing + horizontalPadding;\n  } else if (direction === 'column') {\n    height = itemHeight * itemCount + spacing + verticalPadding;\n  }\n\n  return {\n    width: width,\n    height: height,\n    padding: padding\n  };\n};\n\nvar computePositionFromAnchor = function computePositionFromAnchor(_ref2) {\n  var anchor = _ref2.anchor,\n      translateX = _ref2.translateX,\n      translateY = _ref2.translateY,\n      containerWidth = _ref2.containerWidth,\n      containerHeight = _ref2.containerHeight,\n      width = _ref2.width,\n      height = _ref2.height;\n  var x = translateX;\n  var y = translateY;\n\n  switch (anchor) {\n    case 'top':\n      x += (containerWidth - width) / 2;\n      break;\n\n    case 'top-right':\n      x += containerWidth - width;\n      break;\n\n    case 'right':\n      x += containerWidth - width;\n      y += (containerHeight - height) / 2;\n      break;\n\n    case 'bottom-right':\n      x += containerWidth - width;\n      y += containerHeight - height;\n      break;\n\n    case 'bottom':\n      x += (containerWidth - width) / 2;\n      y += containerHeight - height;\n      break;\n\n    case 'bottom-left':\n      y += containerHeight - height;\n      break;\n\n    case 'left':\n      y += (containerHeight - height) / 2;\n      break;\n\n    case 'center':\n      x += (containerWidth - width) / 2;\n      y += (containerHeight - height) / 2;\n      break;\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n};\n\nvar computeItemLayout = function computeItemLayout(_ref3) {\n  var direction = _ref3.direction,\n      justify = _ref3.justify,\n      symbolSize = _ref3.symbolSize,\n      symbolSpacing = _ref3.symbolSpacing,\n      width = _ref3.width,\n      height = _ref3.height;\n  var symbolX;\n  var symbolY;\n  var labelX;\n  var labelY;\n  var labelAnchor;\n  var labelAlignment;\n\n  switch (direction) {\n    case 'left-to-right':\n      symbolX = 0;\n      symbolY = (height - symbolSize) / 2;\n      labelY = height / 2;\n      labelAlignment = 'central';\n\n      if (justify === true) {\n        labelX = width;\n        labelAnchor = 'end';\n      } else {\n        labelX = symbolSize + symbolSpacing;\n        labelAnchor = 'start';\n      }\n\n      break;\n\n    case 'right-to-left':\n      symbolX = width - symbolSize;\n      symbolY = (height - symbolSize) / 2;\n      labelY = height / 2;\n      labelAlignment = 'central';\n\n      if (justify === true) {\n        labelX = 0;\n        labelAnchor = 'start';\n      } else {\n        labelX = width - symbolSize - symbolSpacing;\n        labelAnchor = 'end';\n      }\n\n      break;\n\n    case 'top-to-bottom':\n      symbolX = (width - symbolSize) / 2;\n      symbolY = 0;\n      labelX = width / 2;\n      labelAnchor = 'middle';\n\n      if (justify === true) {\n        labelY = height;\n        labelAlignment = 'alphabetic';\n      } else {\n        labelY = symbolSize + symbolSpacing;\n        labelAlignment = 'text-before-edge';\n      }\n\n      break;\n\n    case 'bottom-to-top':\n      symbolX = (width - symbolSize) / 2;\n      symbolY = height - symbolSize;\n      labelX = width / 2;\n      labelAnchor = 'middle';\n\n      if (justify === true) {\n        labelY = 0;\n        labelAlignment = 'text-before-edge';\n      } else {\n        labelY = height - symbolSize - symbolSpacing;\n        labelAlignment = 'alphabetic';\n      }\n\n      break;\n  }\n\n  return {\n    symbolX: symbolX,\n    symbolY: symbolY,\n    labelX: labelX,\n    labelY: labelY,\n    labelAnchor: labelAnchor,\n    labelAlignment: labelAlignment\n  };\n};\n\nvar SymbolCircle = function SymbolCircle(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      fill = _ref.fill,\n      _ref$borderWidth = _ref.borderWidth,\n      borderWidth = _ref$borderWidth === void 0 ? 0 : _ref$borderWidth,\n      _ref$borderColor = _ref.borderColor,\n      borderColor = _ref$borderColor === void 0 ? 'transparent' : _ref$borderColor;\n  return React.createElement(\"circle\", {\n    r: size / 2,\n    cx: x + size / 2,\n    cy: y + size / 2,\n    fill: fill,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    style: {\n      pointerEvents: 'none'\n    }\n  });\n};\n\nvar SymbolDiamond = function SymbolDiamond(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      fill = _ref.fill,\n      _ref$borderWidth = _ref.borderWidth,\n      borderWidth = _ref$borderWidth === void 0 ? 0 : _ref$borderWidth,\n      _ref$borderColor = _ref.borderColor,\n      borderColor = _ref$borderColor === void 0 ? 'transparent' : _ref$borderColor;\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n  }, React.createElement(\"path\", {\n    d: \"\\n                    M\".concat(size / 2, \" 0\\n                    L\").concat(size * 0.8, \" \").concat(size / 2, \"\\n                    L\").concat(size / 2, \" \").concat(size, \"\\n                    L\").concat(size * 0.2, \" \").concat(size / 2, \"\\n                    L\").concat(size / 2, \" 0\\n                \"),\n    fill: fill,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    style: {\n      pointerEvents: 'none'\n    }\n  }));\n};\n\nvar SymbolSquare = function SymbolSquare(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      fill = _ref.fill,\n      _ref$borderWidth = _ref.borderWidth,\n      borderWidth = _ref$borderWidth === void 0 ? 0 : _ref$borderWidth,\n      _ref$borderColor = _ref.borderColor,\n      borderColor = _ref$borderColor === void 0 ? 'transparent' : _ref$borderColor;\n  return React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    fill: fill,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    width: size,\n    height: size,\n    style: {\n      pointerEvents: 'none'\n    }\n  });\n};\n\nvar SymbolTriangle = function SymbolTriangle(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      size = _ref.size,\n      fill = _ref.fill,\n      _ref$borderWidth = _ref.borderWidth,\n      borderWidth = _ref$borderWidth === void 0 ? 0 : _ref$borderWidth,\n      _ref$borderColor = _ref.borderColor,\n      borderColor = _ref$borderColor === void 0 ? 'transparent' : _ref$borderColor;\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n  }, React.createElement(\"path\", {\n    d: \"\\n                M\".concat(size / 2, \" 0\\n                L\").concat(size, \" \").concat(size, \"\\n                L0 \").concat(size, \"\\n                L\").concat(size / 2, \" 0\\n            \"),\n    fill: fill,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    style: {\n      pointerEvents: 'none'\n    }\n  }));\n};\n\nvar symbolByShape = {\n  circle: SymbolCircle,\n  diamond: SymbolDiamond,\n  square: SymbolSquare,\n  triangle: SymbolTriangle\n};\n\nvar LegendSvgItem = function LegendSvgItem(_ref) {\n  var _style$symbolSize, _style$itemOpacity, _style$itemBackground, _style$symbolSize2, _ref4, _data$fill, _style$symbolBorderWi, _style$symbolBorderCo, _ref5, _ref6, _style$itemTextColor;\n\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      data = _ref.data,\n      _ref$direction = _ref.direction,\n      direction = _ref$direction === void 0 ? 'left-to-right' : _ref$direction,\n      _ref$justify = _ref.justify,\n      justify = _ref$justify === void 0 ? false : _ref$justify,\n      textColor = _ref.textColor,\n      _ref$background = _ref.background,\n      background = _ref$background === void 0 ? 'transparent' : _ref$background,\n      _ref$opacity = _ref.opacity,\n      opacity = _ref$opacity === void 0 ? 1 : _ref$opacity,\n      _ref$symbolShape = _ref.symbolShape,\n      symbolShape = _ref$symbolShape === void 0 ? 'square' : _ref$symbolShape,\n      _ref$symbolSize = _ref.symbolSize,\n      symbolSize = _ref$symbolSize === void 0 ? 16 : _ref$symbolSize,\n      _ref$symbolSpacing = _ref.symbolSpacing,\n      symbolSpacing = _ref$symbolSpacing === void 0 ? 8 : _ref$symbolSpacing,\n      _ref$symbolBorderWidt = _ref.symbolBorderWidth,\n      symbolBorderWidth = _ref$symbolBorderWidt === void 0 ? 0 : _ref$symbolBorderWidt,\n      _ref$symbolBorderColo = _ref.symbolBorderColor,\n      symbolBorderColor = _ref$symbolBorderColo === void 0 ? 'transparent' : _ref$symbolBorderColo,\n      _onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      effects = _ref.effects;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      style = _useState2[0],\n      setStyle = _useState2[1];\n\n  var theme = useTheme();\n  var handleMouseEnter = useCallback(function (event) {\n    if (effects) {\n      var applyEffects = effects.filter(function (_ref2) {\n        var on = _ref2.on;\n        return on === 'hover';\n      });\n\n      var _style = applyEffects.reduce(function (acc, effect) {\n        return _objectSpread2(_objectSpread2({}, acc), effect.style);\n      }, {});\n\n      setStyle(_style);\n    }\n\n    onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(data, event);\n  }, [onMouseEnter, data, effects]);\n  var handleMouseLeave = useCallback(function (event) {\n    if (effects) {\n      var applyEffects = effects.filter(function (_ref3) {\n        var on = _ref3.on;\n        return on !== 'hover';\n      });\n\n      var _style2 = applyEffects.reduce(function (acc, effect) {\n        return _objectSpread2(_objectSpread2({}, acc), effect.style);\n      }, {});\n\n      setStyle(_style2);\n    }\n\n    onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(data, event);\n  }, [onMouseLeave, data, effects]);\n\n  var _computeItemLayout = computeItemLayout({\n    direction: direction,\n    justify: justify,\n    symbolSize: (_style$symbolSize = style.symbolSize) !== null && _style$symbolSize !== void 0 ? _style$symbolSize : symbolSize,\n    symbolSpacing: symbolSpacing,\n    width: width,\n    height: height\n  }),\n      symbolX = _computeItemLayout.symbolX,\n      symbolY = _computeItemLayout.symbolY,\n      labelX = _computeItemLayout.labelX,\n      labelY = _computeItemLayout.labelY,\n      labelAnchor = _computeItemLayout.labelAnchor,\n      labelAlignment = _computeItemLayout.labelAlignment;\n\n  var isInteractive = [_onClick, onMouseEnter, onMouseLeave].some(function (handler) {\n    return handler !== undefined;\n  });\n  var SymbolShape = typeof symbolShape === 'function' ? symbolShape : symbolByShape[symbolShape];\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\"),\n    style: {\n      opacity: (_style$itemOpacity = style.itemOpacity) !== null && _style$itemOpacity !== void 0 ? _style$itemOpacity : opacity\n    }\n  }, React.createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: (_style$itemBackground = style.itemBackground) !== null && _style$itemBackground !== void 0 ? _style$itemBackground : background,\n    style: {\n      cursor: isInteractive ? 'pointer' : 'auto'\n    },\n    onClick: function onClick(event) {\n      _onClick === null || _onClick === void 0 ? void 0 : _onClick(data, event);\n    },\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave\n  }), React.createElement(SymbolShape, {\n    id: data.id,\n    x: symbolX,\n    y: symbolY,\n    size: (_style$symbolSize2 = style.symbolSize) !== null && _style$symbolSize2 !== void 0 ? _style$symbolSize2 : symbolSize,\n    fill: (_ref4 = (_data$fill = data.fill) !== null && _data$fill !== void 0 ? _data$fill : data.color) !== null && _ref4 !== void 0 ? _ref4 : 'black',\n    borderWidth: (_style$symbolBorderWi = style.symbolBorderWidth) !== null && _style$symbolBorderWi !== void 0 ? _style$symbolBorderWi : symbolBorderWidth,\n    borderColor: (_style$symbolBorderCo = style.symbolBorderColor) !== null && _style$symbolBorderCo !== void 0 ? _style$symbolBorderCo : symbolBorderColor\n  }), React.createElement(\"text\", {\n    textAnchor: labelAnchor,\n    style: _objectSpread2(_objectSpread2({}, theme.legends.text), {}, {\n      fill: (_ref5 = (_ref6 = (_style$itemTextColor = style.itemTextColor) !== null && _style$itemTextColor !== void 0 ? _style$itemTextColor : textColor) !== null && _ref6 !== void 0 ? _ref6 : theme.legends.text.fill) !== null && _ref5 !== void 0 ? _ref5 : 'black',\n      dominantBaseline: labelAlignment,\n      pointerEvents: 'none',\n      userSelect: 'none'\n    }),\n    x: labelX,\n    y: labelY\n  }, data.label));\n};\n\nvar LegendSvg = function LegendSvg(_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      direction = _ref.direction,\n      _ref$padding = _ref.padding,\n      _padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      justify = _ref.justify,\n      effects = _ref.effects,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      _ref$itemDirection = _ref.itemDirection,\n      itemDirection = _ref$itemDirection === void 0 ? 'left-to-right' : _ref$itemDirection,\n      _ref$itemsSpacing = _ref.itemsSpacing,\n      itemsSpacing = _ref$itemsSpacing === void 0 ? 0 : _ref$itemsSpacing,\n      itemTextColor = _ref.itemTextColor,\n      _ref$itemBackground = _ref.itemBackground,\n      itemBackground = _ref$itemBackground === void 0 ? 'transparent' : _ref$itemBackground,\n      _ref$itemOpacity = _ref.itemOpacity,\n      itemOpacity = _ref$itemOpacity === void 0 ? 1 : _ref$itemOpacity,\n      symbolShape = _ref.symbolShape,\n      symbolSize = _ref.symbolSize,\n      symbolSpacing = _ref.symbolSpacing,\n      symbolBorderWidth = _ref.symbolBorderWidth,\n      symbolBorderColor = _ref.symbolBorderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemsSpacing: itemsSpacing,\n    direction: direction,\n    padding: _padding\n  }),\n      padding = _computeDimensions.padding;\n\n  var xStep = direction === 'row' ? itemWidth + itemsSpacing : 0;\n  var yStep = direction === 'column' ? itemHeight + itemsSpacing : 0;\n  return React.createElement(\"g\", {\n    transform: \"translate(\".concat(x, \",\").concat(y, \")\")\n  }, data.map(function (data, i) {\n    return React.createElement(LegendSvgItem, {\n      key: i,\n      data: data,\n      x: i * xStep + padding.left,\n      y: i * yStep + padding.top,\n      width: itemWidth,\n      height: itemHeight,\n      direction: itemDirection,\n      justify: justify,\n      effects: effects,\n      textColor: itemTextColor,\n      background: itemBackground,\n      opacity: itemOpacity,\n      symbolShape: symbolShape,\n      symbolSize: symbolSize,\n      symbolSpacing: symbolSpacing,\n      symbolBorderWidth: symbolBorderWidth,\n      symbolBorderColor: symbolBorderColor,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave\n    });\n  }));\n};\n\nvar BoxLegendSvg = function BoxLegendSvg(_ref) {\n  var data = _ref.data,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      _ref$translateX = _ref.translateX,\n      translateX = _ref$translateX === void 0 ? 0 : _ref$translateX,\n      _ref$translateY = _ref.translateY,\n      translateY = _ref$translateY === void 0 ? 0 : _ref$translateY,\n      anchor = _ref.anchor,\n      direction = _ref.direction,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      justify = _ref.justify,\n      _ref$itemsSpacing = _ref.itemsSpacing,\n      itemsSpacing = _ref$itemsSpacing === void 0 ? 0 : _ref$itemsSpacing,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      itemDirection = _ref.itemDirection,\n      itemTextColor = _ref.itemTextColor,\n      itemBackground = _ref.itemBackground,\n      itemOpacity = _ref.itemOpacity,\n      symbolShape = _ref.symbolShape,\n      symbolSize = _ref.symbolSize,\n      symbolSpacing = _ref.symbolSpacing,\n      symbolBorderWidth = _ref.symbolBorderWidth,\n      symbolBorderColor = _ref.symbolBorderColor,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      effects = _ref.effects;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemsSpacing: itemsSpacing,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    direction: direction,\n    padding: padding\n  }),\n      width = _computeDimensions.width,\n      height = _computeDimensions.height;\n\n  var _computePositionFromA = computePositionFromAnchor({\n    anchor: anchor,\n    translateX: translateX,\n    translateY: translateY,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    width: width,\n    height: height\n  }),\n      x = _computePositionFromA.x,\n      y = _computePositionFromA.y;\n\n  return React.createElement(LegendSvg, {\n    data: data,\n    x: x,\n    y: y,\n    direction: direction,\n    padding: padding,\n    justify: justify,\n    effects: effects,\n    itemsSpacing: itemsSpacing,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemDirection: itemDirection,\n    itemTextColor: itemTextColor,\n    itemBackground: itemBackground,\n    itemOpacity: itemOpacity,\n    symbolShape: symbolShape,\n    symbolSize: symbolSize,\n    symbolSpacing: symbolSpacing,\n    symbolBorderWidth: symbolBorderWidth,\n    symbolBorderColor: symbolBorderColor,\n    onClick: onClick,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave\n  });\n};\n\nvar textAlignMapping = {\n  start: 'left',\n  middle: 'center',\n  end: 'right'\n};\n\nvar renderLegendToCanvas = function renderLegendToCanvas(ctx, _ref) {\n  var data = _ref.data,\n      containerWidth = _ref.containerWidth,\n      containerHeight = _ref.containerHeight,\n      _ref$translateX = _ref.translateX,\n      translateX = _ref$translateX === void 0 ? 0 : _ref$translateX,\n      _ref$translateY = _ref.translateY,\n      translateY = _ref$translateY === void 0 ? 0 : _ref$translateY,\n      anchor = _ref.anchor,\n      direction = _ref.direction,\n      _ref$padding = _ref.padding,\n      _padding = _ref$padding === void 0 ? 0 : _ref$padding,\n      _ref$justify = _ref.justify,\n      justify = _ref$justify === void 0 ? false : _ref$justify,\n      _ref$itemsSpacing = _ref.itemsSpacing,\n      itemsSpacing = _ref$itemsSpacing === void 0 ? 0 : _ref$itemsSpacing,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      _ref$itemDirection = _ref.itemDirection,\n      itemDirection = _ref$itemDirection === void 0 ? 'left-to-right' : _ref$itemDirection,\n      itemTextColor = _ref.itemTextColor,\n      _ref$symbolSize = _ref.symbolSize,\n      symbolSize = _ref$symbolSize === void 0 ? 16 : _ref$symbolSize,\n      _ref$symbolSpacing = _ref.symbolSpacing,\n      symbolSpacing = _ref$symbolSpacing === void 0 ? 8 : _ref$symbolSpacing,\n      theme = _ref.theme;\n\n  var _computeDimensions = computeDimensions({\n    itemCount: data.length,\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemsSpacing: itemsSpacing,\n    direction: direction,\n    padding: _padding\n  }),\n      width = _computeDimensions.width,\n      height = _computeDimensions.height,\n      padding = _computeDimensions.padding;\n\n  var _computePositionFromA = computePositionFromAnchor({\n    anchor: anchor,\n    translateX: translateX,\n    translateY: translateY,\n    containerWidth: containerWidth,\n    containerHeight: containerHeight,\n    width: width,\n    height: height\n  }),\n      x = _computePositionFromA.x,\n      y = _computePositionFromA.y;\n\n  var xStep = direction === 'row' ? itemWidth + itemsSpacing : 0;\n  var yStep = direction === 'column' ? itemHeight + itemsSpacing : 0;\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.font = \"\".concat(theme.legends.text.fontSize, \"px \").concat(theme.legends.text.fontFamily || 'sans-serif');\n  data.forEach(function (d, i) {\n    var _d$color, _ref2;\n\n    var itemX = i * xStep + padding.left;\n    var itemY = i * yStep + padding.top;\n\n    var _computeItemLayout = computeItemLayout({\n      direction: itemDirection,\n      justify: justify,\n      symbolSize: symbolSize,\n      symbolSpacing: symbolSpacing,\n      width: itemWidth,\n      height: itemHeight\n    }),\n        symbolX = _computeItemLayout.symbolX,\n        symbolY = _computeItemLayout.symbolY,\n        labelX = _computeItemLayout.labelX,\n        labelY = _computeItemLayout.labelY,\n        labelAnchor = _computeItemLayout.labelAnchor,\n        labelAlignment = _computeItemLayout.labelAlignment;\n\n    ctx.fillStyle = (_d$color = d.color) !== null && _d$color !== void 0 ? _d$color : 'black';\n    ctx.fillRect(itemX + symbolX, itemY + symbolY, symbolSize, symbolSize);\n    ctx.textAlign = textAlignMapping[labelAnchor];\n\n    if (labelAlignment === 'central') {\n      ctx.textBaseline = 'middle';\n    }\n\n    ctx.fillStyle = (_ref2 = itemTextColor !== null && itemTextColor !== void 0 ? itemTextColor : theme.legends.text.fill) !== null && _ref2 !== void 0 ? _ref2 : 'black';\n    ctx.fillText(String(d.label), itemX + labelX, itemY + labelY);\n  });\n  ctx.restore();\n};\n\nvar useQuantizeColorScaleLegendData = function useQuantizeColorScaleLegendData(_ref) {\n  var scale = _ref.scale,\n      overriddenDomain = _ref.domain,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? false : _ref$reverse,\n      _ref$valueFormat = _ref.valueFormat,\n      valueFormat = _ref$valueFormat === void 0 ? function (v) {\n    return v;\n  } : _ref$valueFormat,\n      _ref$separator = _ref.separator,\n      separator = _ref$separator === void 0 ? ' - ' : _ref$separator;\n  return useMemo(function () {\n    var domain = overriddenDomain !== null && overriddenDomain !== void 0 ? overriddenDomain : scale.range();\n    var items = domain.map(function (domainValue, index) {\n      var _scale$invertExtent = scale.invertExtent(domainValue),\n          _scale$invertExtent2 = _slicedToArray(_scale$invertExtent, 2),\n          start = _scale$invertExtent2[0],\n          end = _scale$invertExtent2[1];\n\n      return {\n        id: domainValue,\n        index: index,\n        extent: [start, end],\n        label: \"\".concat(valueFormat(start)).concat(separator).concat(valueFormat(end)),\n        value: scale(start),\n        color: domainValue\n      };\n    });\n    if (reverse === true) items.reverse();\n    return items;\n  }, [overriddenDomain, scale, reverse]);\n};\n\nvar LegendPropShape = {\n  data: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    color: PropTypes.string,\n    fill: PropTypes.string\n  })),\n  anchor: PropTypes.oneOf(['top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left', 'center']).isRequired,\n  translateX: PropTypes.number,\n  translateY: PropTypes.number,\n  direction: PropTypes.oneOf(['row', 'column']).isRequired,\n  itemsSpacing: PropTypes.number,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  itemDirection: PropTypes.oneOf(['left-to-right', 'right-to-left', 'top-to-bottom', 'bottom-to-top']),\n  itemTextColor: PropTypes.string,\n  itemBackground: PropTypes.string,\n  itemOpacity: PropTypes.number,\n  symbolShape: PropTypes.oneOfType([PropTypes.oneOf(['circle', 'diamond', 'square', 'triangle']), PropTypes.func]),\n  symbolSize: PropTypes.number,\n  symbolSpacing: PropTypes.number,\n  symbolBorderWidth: PropTypes.number,\n  symbolBorderColor: PropTypes.string,\n  onClick: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  effects: PropTypes.arrayOf(PropTypes.shape({\n    on: PropTypes.oneOfType([PropTypes.oneOf(['hover'])]).isRequired,\n    style: PropTypes.shape({\n      itemTextColor: PropTypes.string,\n      itemBackground: PropTypes.string,\n      itemOpacity: PropTypes.number,\n      symbolSize: PropTypes.number,\n      symbolBorderWidth: PropTypes.number,\n      symbolBorderColor: PropTypes.string\n    }).isRequired\n  }))\n};\nexport { BoxLegendSvg, LegendPropShape, LegendSvg, LegendSvgItem, renderLegendToCanvas, useQuantizeColorScaleLegendData };","map":{"version":3,"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/compute.ts","../src/svg/symbols/SymbolCircle.tsx","../src/svg/symbols/SymbolDiamond.tsx","../src/svg/symbols/SymbolSquare.tsx","../src/svg/symbols/SymbolTriangle.tsx","../src/svg/LegendSvgItem.tsx","../src/svg/LegendSvg.tsx","../src/svg/BoxLegendSvg.tsx","../src/canvas.ts","../src/hooks.ts","../src/props.ts"],"names":["defineProperty","arrayLikeToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","isObject","Array","item","zeroPadding","top","right","bottom","left","computeDimensions","direction","itemsSpacing","padding","_padding","itemCount","itemWidth","itemHeight","horizontalPadding","verticalPadding","width","height","spacing","computePositionFromAnchor","anchor","translateX","translateY","containerWidth","containerHeight","x","y","computeItemLayout","justify","symbolSize","symbolSpacing","symbolX","symbolY","labelY","labelAlignment","labelX","labelAnchor","SymbolCircle","size","fill","borderWidth","borderColor","pointerEvents","SymbolDiamond","SymbolSquare","SymbolTriangle","symbolByShape","circle","diamond","square","triangle","LegendSvgItem","data","textColor","background","opacity","symbolShape","symbolBorderWidth","symbolBorderColor","onClick","onMouseEnter","onMouseLeave","effects","style","setStyle","useState","theme","useTheme","handleMouseEnter","useCallback","applyEffects","on","effect","handleMouseLeave","isInteractive","handler","SymbolShape","cursor","id","dominantBaseline","userSelect","LegendSvg","itemDirection","itemTextColor","itemBackground","itemOpacity","xStep","yStep","i","BoxLegendSvg","textAlignMapping","start","middle","end","renderLegendToCanvas","ctx","itemX","itemY","d","String","useQuantizeColorScaleLegendData","scale","domain","overriddenDomain","reverse","valueFormat","separator","useMemo","items","index","extent","label","value","color","domainValue","LegendPropShape","PropTypes","string","isRequired"],"mappings":"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","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { BoxLegendSvgProps, LegendAnchor, LegendItemDirection } from './types'\n\nconst isObject = <T>(item: unknown): item is T =>\n    typeof item === 'object' && !Array.isArray(item) && item !== null\n\nconst zeroPadding = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n}\n\nexport const computeDimensions = ({\n    direction,\n    itemsSpacing,\n    padding: _padding,\n    itemCount,\n    itemWidth,\n    itemHeight,\n}: Pick<BoxLegendSvgProps, 'direction' | 'padding'> &\n    Record<'itemsSpacing' | 'itemCount' | 'itemWidth' | 'itemHeight', number>) => {\n    if (typeof _padding !== 'number' && !isObject(_padding)) {\n        throw new Error('Invalid property padding, must be one of: number, object')\n    }\n\n    const padding =\n        typeof _padding === 'number'\n            ? {\n                  top: _padding,\n                  right: _padding,\n                  bottom: _padding,\n                  left: _padding,\n              }\n            : {\n                  ...zeroPadding,\n                  ..._padding,\n              }\n\n    const horizontalPadding = padding.left + padding.right\n    const verticalPadding = padding.top + padding.bottom\n    let width = itemWidth + horizontalPadding\n    let height = itemHeight + verticalPadding\n    const spacing = (itemCount - 1) * itemsSpacing\n    if (direction === 'row') {\n        width = itemWidth * itemCount + spacing + horizontalPadding\n    } else if (direction === 'column') {\n        height = itemHeight * itemCount + spacing + verticalPadding\n    }\n\n    return { width, height, padding }\n}\n\nexport const computePositionFromAnchor = ({\n    anchor,\n    translateX,\n    translateY,\n    containerWidth,\n    containerHeight,\n    width,\n    height,\n}: { anchor: LegendAnchor } & Record<\n    'translateX' | 'translateY' | 'containerWidth' | 'containerHeight' | 'width' | 'height',\n    number\n>) => {\n    let x = translateX\n    let y = translateY\n\n    switch (anchor) {\n        case 'top':\n            x += (containerWidth - width) / 2\n            break\n\n        case 'top-right':\n            x += containerWidth - width\n            break\n\n        case 'right':\n            x += containerWidth - width\n            y += (containerHeight - height) / 2\n            break\n\n        case 'bottom-right':\n            x += containerWidth - width\n            y += containerHeight - height\n            break\n\n        case 'bottom':\n            x += (containerWidth - width) / 2\n            y += containerHeight - height\n            break\n\n        case 'bottom-left':\n            y += containerHeight - height\n            break\n\n        case 'left':\n            y += (containerHeight - height) / 2\n            break\n\n        case 'center':\n            x += (containerWidth - width) / 2\n            y += (containerHeight - height) / 2\n            break\n    }\n\n    return { x, y }\n}\n\nexport const computeItemLayout = ({\n    direction,\n    justify,\n    symbolSize,\n    symbolSpacing,\n    width,\n    height,\n}: {\n    direction: LegendItemDirection\n    justify: boolean\n} & Record<'symbolSize' | 'symbolSpacing' | 'width' | 'height', number>) => {\n    let symbolX\n    let symbolY\n\n    let labelX\n    let labelY\n    let labelAnchor: 'start' | 'middle' | 'end'\n    let labelAlignment: 'alphabetic' | 'central' | 'text-before-edge'\n\n    switch (direction) {\n        case 'left-to-right':\n            symbolX = 0\n            symbolY = (height - symbolSize) / 2\n\n            labelY = height / 2\n            labelAlignment = 'central'\n            if (justify === true) {\n                labelX = width\n                labelAnchor = 'end'\n            } else {\n                labelX = symbolSize + symbolSpacing\n                labelAnchor = 'start'\n            }\n            break\n\n        case 'right-to-left':\n            symbolX = width - symbolSize\n            symbolY = (height - symbolSize) / 2\n\n            labelY = height / 2\n            labelAlignment = 'central'\n            if (justify === true) {\n                labelX = 0\n                labelAnchor = 'start'\n            } else {\n                labelX = width - symbolSize - symbolSpacing\n                labelAnchor = 'end'\n            }\n            break\n\n        case 'top-to-bottom':\n            symbolX = (width - symbolSize) / 2\n            symbolY = 0\n\n            labelX = width / 2\n\n            labelAnchor = 'middle'\n            if (justify === true) {\n                labelY = height\n                labelAlignment = 'alphabetic'\n            } else {\n                labelY = symbolSize + symbolSpacing\n                labelAlignment = 'text-before-edge'\n            }\n            break\n\n        case 'bottom-to-top':\n            symbolX = (width - symbolSize) / 2\n            symbolY = height - symbolSize\n\n            labelX = width / 2\n            labelAnchor = 'middle'\n            if (justify === true) {\n                labelY = 0\n                labelAlignment = 'text-before-edge'\n            } else {\n                labelY = height - symbolSize - symbolSpacing\n                labelAlignment = 'alphabetic'\n            }\n            break\n    }\n\n    return {\n        symbolX,\n        symbolY,\n\n        labelX,\n        labelY,\n        labelAnchor,\n        labelAlignment,\n    }\n}\n","import React from 'react'\nimport { SymbolProps } from './types'\n\nexport const SymbolCircle = ({\n    x,\n    y,\n    size,\n    fill,\n    borderWidth = 0,\n    borderColor = 'transparent',\n}: SymbolProps) => {\n    return (\n        <circle\n            r={size / 2}\n            cx={x + size / 2}\n            cy={y + size / 2}\n            fill={fill}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            style={{\n                pointerEvents: 'none',\n            }}\n        />\n    )\n}\n","import React from 'react'\nimport { SymbolProps } from './types'\n\nexport const SymbolDiamond = ({\n    x,\n    y,\n    size,\n    fill,\n    borderWidth = 0,\n    borderColor = 'transparent',\n}: SymbolProps) => {\n    return (\n        <g transform={`translate(${x},${y})`}>\n            <path\n                d={`\n                    M${size / 2} 0\n                    L${size * 0.8} ${size / 2}\n                    L${size / 2} ${size}\n                    L${size * 0.2} ${size / 2}\n                    L${size / 2} 0\n                `}\n                fill={fill}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                style={{\n                    pointerEvents: 'none',\n                }}\n            />\n        </g>\n    )\n}\n","import React from 'react'\nimport { SymbolProps } from './types'\n\nexport const SymbolSquare = ({\n    x,\n    y,\n    size,\n    fill,\n    borderWidth = 0,\n    borderColor = 'transparent',\n}: SymbolProps) => {\n    return (\n        <rect\n            x={x}\n            y={y}\n            fill={fill}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            width={size}\n            height={size}\n            style={{\n                pointerEvents: 'none',\n            }}\n        />\n    )\n}\n","import React from 'react'\nimport { SymbolProps } from './types'\n\nexport const SymbolTriangle = ({\n    x,\n    y,\n    size,\n    fill,\n    borderWidth = 0,\n    borderColor = 'transparent',\n}: SymbolProps) => {\n    return (\n        <g transform={`translate(${x},${y})`}>\n            <path\n                d={`\n                M${size / 2} 0\n                L${size} ${size}\n                L0 ${size}\n                L${size / 2} 0\n            `}\n                fill={fill}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                style={{\n                    pointerEvents: 'none',\n                }}\n            />\n        </g>\n    )\n}\n","import React, { useState, useCallback } from 'react'\nimport { useTheme } from '@nivo/core'\nimport { LegendSvgItemProps } from '../types'\nimport { computeItemLayout } from '../compute'\nimport { SymbolCircle, SymbolDiamond, SymbolSquare, SymbolTriangle } from './symbols'\n\ntype Style = Partial<{\n    itemBackground: string\n    itemOpacity: number\n    itemTextColor: string\n    symbolBorderColor: string\n    symbolBorderWidth: number\n    symbolSize: number\n}>\n\nconst symbolByShape = {\n    circle: SymbolCircle,\n    diamond: SymbolDiamond,\n    square: SymbolSquare,\n    triangle: SymbolTriangle,\n}\n\nexport const LegendSvgItem = ({\n    x,\n    y,\n    width,\n    height,\n    data,\n    direction = 'left-to-right',\n    justify = false,\n    textColor,\n    background = 'transparent',\n    opacity = 1,\n\n    symbolShape = 'square',\n    symbolSize = 16,\n    symbolSpacing = 8,\n    symbolBorderWidth = 0,\n    symbolBorderColor = 'transparent',\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    effects,\n}: LegendSvgItemProps) => {\n    const [style, setStyle] = useState<Style>({})\n    const theme = useTheme()\n\n    const handleMouseEnter = useCallback(\n        (event: React.MouseEvent<SVGRectElement>) => {\n            if (effects) {\n                const applyEffects = effects.filter(({ on }) => on === 'hover')\n                const style = applyEffects.reduce(\n                    (acc, effect) => ({\n                        ...acc,\n                        ...effect.style,\n                    }),\n                    {}\n                )\n                setStyle(style)\n            }\n\n            onMouseEnter?.(data, event)\n        },\n        [onMouseEnter, data, effects]\n    )\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent<SVGRectElement>) => {\n            if (effects) {\n                const applyEffects = effects.filter(({ on }) => on !== 'hover')\n                const style = applyEffects.reduce(\n                    (acc, effect) => ({\n                        ...acc,\n                        ...effect.style,\n                    }),\n                    {}\n                )\n                setStyle(style)\n            }\n\n            onMouseLeave?.(data, event)\n        },\n        [onMouseLeave, data, effects]\n    )\n\n    const { symbolX, symbolY, labelX, labelY, labelAnchor, labelAlignment } = computeItemLayout({\n        direction,\n        justify,\n        symbolSize: style.symbolSize ?? symbolSize,\n        symbolSpacing,\n        width,\n        height,\n    })\n\n    const isInteractive = [onClick, onMouseEnter, onMouseLeave].some(\n        handler => handler !== undefined\n    )\n\n    const SymbolShape = typeof symbolShape === 'function' ? symbolShape : symbolByShape[symbolShape]\n\n    return (\n        <g\n            transform={`translate(${x},${y})`}\n            style={{\n                opacity: style.itemOpacity ?? opacity,\n            }}\n        >\n            <rect\n                width={width}\n                height={height}\n                fill={style.itemBackground ?? background}\n                style={{\n                    cursor: isInteractive ? 'pointer' : 'auto',\n                }}\n                onClick={event => {\n                    onClick?.(data, event)\n                }}\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n            />\n            {React.createElement(SymbolShape, {\n                id: data.id,\n                x: symbolX,\n                y: symbolY,\n                size: style.symbolSize ?? symbolSize,\n                fill: data.fill ?? data.color ?? 'black',\n                borderWidth: style.symbolBorderWidth ?? symbolBorderWidth,\n                borderColor: style.symbolBorderColor ?? symbolBorderColor,\n            })}\n            <text\n                textAnchor={labelAnchor}\n                style={{\n                    ...theme.legends.text,\n                    fill: style.itemTextColor ?? textColor ?? theme.legends.text.fill ?? 'black',\n                    dominantBaseline: labelAlignment,\n                    pointerEvents: 'none',\n                    userSelect: 'none',\n                }}\n                x={labelX}\n                y={labelY}\n            >\n                {data.label}\n            </text>\n        </g>\n    )\n}\n","import React from 'react'\nimport { LegendSvgItem } from './LegendSvgItem'\nimport { LegendSvgProps } from '../types'\nimport { computeDimensions } from '../compute'\n\nexport const LegendSvg = ({\n    data,\n\n    x,\n    y,\n    direction,\n    padding: _padding = 0,\n    justify,\n    effects,\n\n    itemWidth,\n    itemHeight,\n    itemDirection = 'left-to-right',\n    itemsSpacing = 0,\n    itemTextColor,\n    itemBackground = 'transparent',\n    itemOpacity = 1,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n}: LegendSvgProps) => {\n    const { padding } = computeDimensions({\n        itemCount: data.length,\n        itemWidth,\n        itemHeight,\n        itemsSpacing,\n        direction,\n        padding: _padding,\n    })\n\n    const xStep = direction === 'row' ? itemWidth + itemsSpacing : 0\n    const yStep = direction === 'column' ? itemHeight + itemsSpacing : 0\n\n    return (\n        <g transform={`translate(${x},${y})`}>\n            {data.map((data, i) => (\n                <LegendSvgItem\n                    key={i}\n                    data={data}\n                    x={i * xStep + padding.left}\n                    y={i * yStep + padding.top}\n                    width={itemWidth}\n                    height={itemHeight}\n                    direction={itemDirection}\n                    justify={justify}\n                    effects={effects}\n                    textColor={itemTextColor}\n                    background={itemBackground}\n                    opacity={itemOpacity}\n                    symbolShape={symbolShape}\n                    symbolSize={symbolSize}\n                    symbolSpacing={symbolSpacing}\n                    symbolBorderWidth={symbolBorderWidth}\n                    symbolBorderColor={symbolBorderColor}\n                    onClick={onClick}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                />\n            ))}\n        </g>\n    )\n}\n","import React from 'react'\nimport { LegendSvg } from './LegendSvg'\nimport { BoxLegendSvgProps } from '../types'\nimport { computeDimensions, computePositionFromAnchor } from '../compute'\n\nexport const BoxLegendSvg = ({\n    data,\n\n    containerWidth,\n    containerHeight,\n    translateX = 0,\n    translateY = 0,\n    anchor,\n    direction,\n    padding = 0,\n    justify,\n\n    itemsSpacing = 0,\n    itemWidth,\n    itemHeight,\n    itemDirection,\n    itemTextColor,\n    itemBackground,\n    itemOpacity,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    effects,\n}: BoxLegendSvgProps) => {\n    const { width, height } = computeDimensions({\n        itemCount: data.length,\n        itemsSpacing,\n        itemWidth,\n        itemHeight,\n        direction,\n        padding,\n    })\n\n    const { x, y } = computePositionFromAnchor({\n        anchor,\n        translateX,\n        translateY,\n        containerWidth,\n        containerHeight,\n        width,\n        height,\n    })\n\n    return (\n        <LegendSvg\n            data={data}\n            x={x}\n            y={y}\n            direction={direction}\n            padding={padding}\n            justify={justify}\n            effects={effects}\n            itemsSpacing={itemsSpacing}\n            itemWidth={itemWidth}\n            itemHeight={itemHeight}\n            itemDirection={itemDirection}\n            itemTextColor={itemTextColor}\n            itemBackground={itemBackground}\n            itemOpacity={itemOpacity}\n            symbolShape={symbolShape}\n            symbolSize={symbolSize}\n            symbolSpacing={symbolSpacing}\n            symbolBorderWidth={symbolBorderWidth}\n            symbolBorderColor={symbolBorderColor}\n            onClick={onClick}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n        />\n    )\n}\n","import { computeDimensions, computePositionFromAnchor, computeItemLayout } from './compute'\nimport { LegendCanvasProps } from './types'\n\nconst textAlignMapping = {\n    start: 'left',\n    middle: 'center',\n    end: 'right',\n} as const\n\nexport const renderLegendToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    {\n        data,\n\n        containerWidth,\n        containerHeight,\n        translateX = 0,\n        translateY = 0,\n        anchor,\n        direction,\n        padding: _padding = 0,\n        justify = false,\n\n        // items\n        itemsSpacing = 0,\n        itemWidth,\n        itemHeight,\n        itemDirection = 'left-to-right',\n        itemTextColor,\n\n        // symbol\n        symbolSize = 16,\n        symbolSpacing = 8,\n        // @todo add support for shapes\n        // symbolShape = LegendSvgItem.defaultProps.symbolShape,\n\n        theme,\n    }: LegendCanvasProps\n) => {\n    const { width, height, padding } = computeDimensions({\n        itemCount: data.length,\n        itemWidth,\n        itemHeight,\n        itemsSpacing,\n        direction,\n        padding: _padding,\n    })\n\n    const { x, y } = computePositionFromAnchor({\n        anchor,\n        translateX,\n        translateY,\n        containerWidth,\n        containerHeight,\n        width,\n        height,\n    })\n\n    const xStep = direction === 'row' ? itemWidth + itemsSpacing : 0\n    const yStep = direction === 'column' ? itemHeight + itemsSpacing : 0\n\n    ctx.save()\n    ctx.translate(x, y)\n\n    ctx.font = `${theme.legends.text.fontSize}px ${theme.legends.text.fontFamily || 'sans-serif'}`\n\n    data.forEach((d, i) => {\n        const itemX = i * xStep + padding.left\n        const itemY = i * yStep + padding.top\n\n        const { symbolX, symbolY, labelX, labelY, labelAnchor, labelAlignment } = computeItemLayout(\n            {\n                direction: itemDirection,\n                justify,\n                symbolSize,\n                symbolSpacing,\n                width: itemWidth,\n                height: itemHeight,\n            }\n        )\n\n        ctx.fillStyle = d.color ?? 'black'\n        ctx.fillRect(itemX + symbolX, itemY + symbolY, symbolSize, symbolSize)\n\n        ctx.textAlign = textAlignMapping[labelAnchor]\n\n        if (labelAlignment === 'central') {\n            ctx.textBaseline = 'middle'\n        }\n\n        ctx.fillStyle = itemTextColor ?? theme.legends.text.fill ?? 'black'\n        ctx.fillText(String(d.label), itemX + labelX, itemY + labelY)\n    })\n\n    ctx.restore()\n}\n","import { useMemo } from 'react'\n\ntype Scale = {\n    (value: number): number\n    invertExtent: (value: number) => [number, number]\n    range: () => number[]\n}\n\nexport const useQuantizeColorScaleLegendData = ({\n    scale,\n    domain: overriddenDomain,\n    reverse = false,\n    valueFormat = v => v,\n    separator = ' - ',\n}: {\n    scale: Scale\n    domain?: number[]\n    reverse?: boolean\n    valueFormat?: <T, U>(value: T) => T | U\n    separator?: string\n}) => {\n    return useMemo(() => {\n        const domain = overriddenDomain ?? scale.range()\n\n        const items = domain.map((domainValue, index) => {\n            const [start, end] = scale.invertExtent(domainValue)\n\n            return {\n                id: domainValue,\n                index,\n                extent: [start, end],\n                label: `${valueFormat(start)}${separator}${valueFormat(end)}`,\n                value: scale(start),\n                color: domainValue,\n            }\n        })\n        if (reverse === true) items.reverse()\n\n        return items\n    }, [overriddenDomain, scale, reverse])\n}\n","import PropTypes from 'prop-types'\n\n/**\n * The prop type is exported as a simple object instead of `PropTypes.shape`\n * to be able to add extra properties.\n *\n * @example\n * ```javascript\n * import { LegendPropShape } from '@nivo/legends'\n *\n * const customLegendPropType = PropTypes.shape({\n *     ...LegendPropShape,\n *     extra: PropTypes.any.isRequired,\n * })\n * ```\n */\nexport const LegendPropShape = {\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string,\n            fill: PropTypes.string,\n        })\n    ),\n\n    // position & layout\n    anchor: PropTypes.oneOf([\n        'top',\n        'top-right',\n        'right',\n        'bottom-right',\n        'bottom',\n        'bottom-left',\n        'left',\n        'top-left',\n        'center',\n    ]).isRequired,\n    translateX: PropTypes.number,\n    translateY: PropTypes.number,\n    direction: PropTypes.oneOf(['row', 'column']).isRequired,\n\n    // item\n    itemsSpacing: PropTypes.number,\n    itemWidth: PropTypes.number.isRequired,\n    itemHeight: PropTypes.number.isRequired,\n    itemDirection: PropTypes.oneOf([\n        'left-to-right',\n        'right-to-left',\n        'top-to-bottom',\n        'bottom-to-top',\n    ]),\n    itemTextColor: PropTypes.string,\n    itemBackground: PropTypes.string,\n    itemOpacity: PropTypes.number,\n\n    symbolShape: PropTypes.oneOfType([\n        PropTypes.oneOf(['circle', 'diamond', 'square', 'triangle']),\n        PropTypes.func,\n    ]),\n    symbolSize: PropTypes.number,\n    symbolSpacing: PropTypes.number,\n    symbolBorderWidth: PropTypes.number,\n    symbolBorderColor: PropTypes.string,\n\n    onClick: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n\n    effects: PropTypes.arrayOf(\n        PropTypes.shape({\n            on: PropTypes.oneOfType([PropTypes.oneOf(['hover'])]).isRequired,\n            style: PropTypes.shape({\n                itemTextColor: PropTypes.string,\n                itemBackground: PropTypes.string,\n                itemOpacity: PropTypes.number,\n                symbolSize: PropTypes.number,\n                symbolBorderWidth: PropTypes.number,\n                symbolBorderColor: PropTypes.string,\n            }).isRequired,\n        })\n    ),\n}\n"]},"metadata":{},"sourceType":"module"}