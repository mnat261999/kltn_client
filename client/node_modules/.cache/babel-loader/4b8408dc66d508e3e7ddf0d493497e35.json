{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Profile\\\\HighLightStory.js\";\nimport React, { Component } from 'react';\nimport './Story.scss';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport { Snackbar } from '@material-ui/core';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { deleteHighLightStory, editHighLightStory } from '../../actions/user_action';\nimport FormField from '../ultils/Form/FormField';\nimport { populateOptionFields, update, ifFormValid, generateData, resetFields } from '../ultils/Form/FormActions';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/React.createElement(Slide, Object.assign({\n    direction: \"up\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 12\n    }\n  }));\n});\n\nclass HighLightStory extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      AdvancedBtn: \"\",\n      dialogType: \"\",\n      DialogShowing: false,\n      commentSelected: \"\",\n      confirmDialogShowing: false,\n      storyId: \"\",\n      setSnack: false,\n      Success: false,\n      Message: '',\n      highLightStory: [],\n      editHighlightStoryDiaglog: false,\n      formSuccess: false,\n      formMessage: \"\",\n      formData: {\n        name: {\n          element: 'input',\n          value: '',\n          config: {\n            placeholder: 'Tên',\n            label: 'Tên',\n            name: 'name',\n            options: []\n          },\n          validation: {\n            required: true\n          },\n          valid: false,\n          touched: false,\n          validationMessage: '',\n          showlabel: false\n        }\n      }\n    };\n\n    this.updateForm = element => {\n      const newFormdata = update(element, this.state.formData, 'story_name');\n\n      if (newFormdata.name.value.trim() != \"\") {\n        this.setState({\n          formSuccess: true,\n          formData: newFormdata\n        });\n      } else {\n        this.setState({\n          formSuccess: false,\n          formData: newFormdata\n        });\n      }\n    };\n  }\n\n  pullStory(item) {\n    let newhighLightStory = [...this.state.highLightStory];\n    newhighLightStory.splice(this.state.highLightStory.indexOf(item), 1);\n    console.log(newhighLightStory);\n    this.setState({\n      highLightStory: newhighLightStory\n    });\n  }\n\n  pushStory(item) {\n    let newhighLightStory = [...this.state.highLightStory];\n    newhighLightStory.push(item);\n    console.log(newhighLightStory);\n    this.setState({\n      highLightStory: newhighLightStory\n    });\n  }\n\n  render() {\n    console.log(this.props.list);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"highlightStory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stories\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, this.props.list ? this.props.list.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        onMouseEnter: () => this.setState({\n          AdvancedBtn: item._id\n        }),\n        onMouseLeave: () => this.setState({\n          AdvancedBtn: \"\"\n        }),\n        className: \"has-story\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"story_wrapper\",\n        onClick: () => {\n          this.props.setIndex(index);\n          this.props.openDialog();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.storyList[0].image.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 49\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 45\n        }\n      }, item.name), /*#__PURE__*/React.createElement(\"img\", {\n        onClick: () => {\n          this.setState({\n            DialogShowing: true,\n            storyId: item._id,\n            highLightStory: [...item.storyList.map(item => item._id)],\n            formData: { ...this.state.formData,\n              name: { ...this.state.formData.name,\n                value: item.name\n              }\n            },\n            formSuccess: true,\n            formMessage: \"Thêm thành công\"\n          });\n        },\n        className: `adavnced-btn ${this.state.AdvancedBtn == item._id ? \"btn-displayed\" : \"btn-hiden\"}`,\n        src: require('../../asset/headerIcon/advance_button2x.png'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 45\n        }\n      }));\n    }) : \"\", this.props.createButton ? /*#__PURE__*/React.createElement(\"li\", {\n      className: \"has-story\",\n      onClick: this.props.open,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story_add_button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar\",\n      onClick: () => {\n        this.props.openCreateHighlightStoryDiaglog();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"add_icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 41\n      }\n    }, \"+\"))), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 33\n      }\n    }, \"New\")) : null)), this.state.DialogShowing ? /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.DialogShowing,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: () => {\n        this.setState({\n          DialogShowing: false\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"commentHandle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"delete_button\",\n      onClick: () => {\n        this.setState({\n          confirmDialogShowing: true,\n          DialogShowing: false\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, \"X\\xF3a\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"report_button\",\n      onClick: () => {\n        this.setState({\n          editHighlightStoryDiaglog: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, \"Ch\\u1EC9nh s\\u1EEDa\")))) : \"\", this.state.confirmDialogShowing ? /*#__PURE__*/React.createElement(Dialog, {\n      open: this.state.confirmDialogShowing,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: () => {\n        this.setState({\n          confirmDialogShowing: false,\n          DialogShowing: true\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"commentHandle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"deleteConfirm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, \" B\\u1EA1n ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn_wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"cancel_btn\",\n      onClick: () => this.setState({\n        confirmDialogShowing: false,\n        DialogShowing: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 33\n      }\n    }, \"H\\u1EE7y\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"confirm_btn\",\n      onClick: () => this.props.dispatch(deleteHighLightStory(this.state.storyId)).then(response => {\n        console.log(response);\n\n        if (response.payload.success) {\n          this.setState({\n            setSnack: true,\n            Success: true,\n            Message: \"Xóa thành công\",\n            DialogShowing: false,\n            confirmDialogShowing: false\n          });\n        } else {\n          this.setState({\n            setSnack: true,\n            Success: false,\n            Message: \"Đã xãy ra lỗi!\",\n            DialogShowing: true,\n            confirmDialogShowing: false\n          });\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 33\n      }\n    }, \"X\\xF3a\"))))) : \"\", /*#__PURE__*/React.createElement(Dialog, {\n      fullWidth: true,\n      maxWidth: \"lg\",\n      className: \"createHighLightStoryForm\",\n      onClose: () => {\n        this.setState({\n          editHighlightStoryDiaglog: false\n        });\n      },\n      open: this.state.editHighlightStoryDiaglog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row no-gutters form-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 33\n      }\n    }, \"Ch\\u1EC9nh s\\u1EEDa\"), /*#__PURE__*/React.createElement(FormField, {\n      id: 'name',\n      formData: this.state.formData.name,\n      change: element => this.updateForm(element),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-feature\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-cancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 37\n      }\n    }, \"H\\u1EE7y\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: () => {\n        if (this.state.formSuccess && this.state.highLightStory.length != 0) {\n          let dataToSubmit = {\n            name: this.state.formData.name.value,\n            storyList: [...this.state.highLightStory],\n            storyId: this.state.storyId\n          };\n          console.log(\"dô\", dataToSubmit);\n          this.props.dispatch(editHighLightStory(dataToSubmit)).then(response => {\n            if (response.payload.success) {\n              this.setState({\n                setSnack: true,\n                Success: true,\n                Message: \"Chỉnh sửa thành công\",\n                DialogShowing: false,\n                editHighlightStoryDiaglog: false\n              });\n            } else {\n              this.setState({\n                Success: true,\n                Message: \"Lỗi! Vui lòng thử lại\",\n                setSnack: true\n              });\n            }\n          });\n        } else {\n          console.log(this.state.formError, this.state.highlightStory);\n          this.setState({\n            addStorySuccess: false,\n            formMessage: \"Vui lòng kiểm tra thông lại thông tin :(\",\n            setSnack: true\n          });\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 37\n      }\n    }, \"L\\u01B0u\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-9 no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 29\n      }\n    }, this.props.storyList ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row no-gutters form-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 37\n      }\n    }, this.props.storyList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: () => {\n          this.state.highLightStory.includes(item._id) ? this.pullStory(item._id) : this.pushStory(item._id);\n        },\n        className: `col-lg-3 no-gutters image-wrapper`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 52\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: `story-item ${this.state.highLightStory.includes(item._id) ? \"story_selected\" : \"unselected_story\"}`,\n        src: item.image.url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 49\n        }\n      }));\n    })) : \"loading\")))), /*#__PURE__*/React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left'\n      },\n      open: this.state.setSnack,\n      onClose: () => this.setState({\n        setSnack: false\n      }),\n      autoHideDuration: 1000,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      severity: `${this.state.Success ? \"success\" : \"warning\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }\n    }, this.state.Message)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(HighLightStory));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Profile/HighLightStory.js"],"names":["React","Component","connect","Link","withRouter","Dialog","Slide","Snackbar","MuiAlert","deleteHighLightStory","editHighLightStory","FormField","populateOptionFields","update","ifFormValid","generateData","resetFields","Transition","forwardRef","props","ref","HighLightStory","state","AdvancedBtn","dialogType","DialogShowing","commentSelected","confirmDialogShowing","storyId","setSnack","Success","Message","highLightStory","editHighlightStoryDiaglog","formSuccess","formMessage","formData","name","element","value","config","placeholder","label","options","validation","required","valid","touched","validationMessage","showlabel","updateForm","newFormdata","trim","setState","pullStory","item","newhighLightStory","splice","indexOf","console","log","pushStory","push","render","list","map","index","_id","setIndex","openDialog","storyList","image","url","require","createButton","open","openCreateHighlightStoryDiaglog","dispatch","then","response","payload","success","length","dataToSubmit","formError","highlightStory","addStorySuccess","includes","vertical","horizontal","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './Story.scss';\r\nimport { connect } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { Snackbar } from '@material-ui/core';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport {deleteHighLightStory,editHighLightStory} from '../../actions/user_action';\r\nimport FormField from '../ultils/Form/FormField';\r\nimport { populateOptionFields, update, ifFormValid, generateData, resetFields } from '../ultils/Form/FormActions';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass HighLightStory extends Component {\r\n  \r\n    state={\r\n        AdvancedBtn: \"\",\r\n        dialogType: \"\",\r\n        \r\n        DialogShowing: false,\r\n        commentSelected: \"\",\r\n\r\n        confirmDialogShowing: false,\r\n        storyId: \"\",\r\n\r\n        setSnack: false,\r\n        Success: false,\r\n        Message: '', \r\n\r\n        highLightStory: [],\r\n        editHighlightStoryDiaglog: false,\r\n\r\n        formSuccess: false,\r\n        formMessage: \"\",\r\n        formData: {\r\n            name: {\r\n                element: 'input',\r\n                value: '',\r\n                config: {\r\n                    placeholder: 'Tên',\r\n                    label: 'Tên',\r\n                    name: 'name',\r\n                    options: [],\r\n                },\r\n                validation: {\r\n                    required: true,\r\n                },\r\n                valid: false,\r\n                touched: false,\r\n                validationMessage: '',\r\n                showlabel: false\r\n            },\r\n        },\r\n    }\r\n\r\n\r\n    pullStory(item){\r\n        let newhighLightStory = [...this.state.highLightStory]\r\n        newhighLightStory.splice(this.state.highLightStory.indexOf(item), 1);\r\n        console.log(newhighLightStory);\r\n        this.setState({ highLightStory: newhighLightStory })\r\n    }\r\n\r\n    pushStory(item){\r\n        let newhighLightStory = [...this.state.highLightStory]\r\n        newhighLightStory.push(item);\r\n        console.log(newhighLightStory);\r\n        this.setState({ highLightStory: newhighLightStory })\r\n    }\r\n\r\n    updateForm = (element) => {\r\n        const newFormdata = update(element, this.state.formData, 'story_name');\r\n        if(newFormdata.name.value.trim() != \"\"){\r\n            this.setState({\r\n                formSuccess: true,\r\n                formData: newFormdata\r\n            });\r\n        }else{\r\n            this.setState({\r\n                formSuccess: false,\r\n                formData: newFormdata\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.list);\r\n        return (\r\n            <div className=\"highlightStory\">\r\n                <div className=\"stories\">\r\n                    <ul>\r\n                        {\r\n                            this.props.list ?\r\n                                this.props.list.map((item,index) =>{\r\n                                    return (\r\n                                        <li \r\n                                            onMouseEnter={() => this.setState({ AdvancedBtn: item._id})}\r\n                                            onMouseLeave={() => this.setState({ AdvancedBtn: \"\" })}\r\n                                            className=\"has-story\">\r\n                                          \r\n                                            <div className=\"story_wrapper\" onClick={() => {this.props.setIndex(index); this.props.openDialog()}} >\r\n                                                <img src={item.storyList[0].image.url}/>\r\n                                            </div>\r\n                                            <span className=\"user\">{item.name}</span>\r\n                                             \r\n                                            <img onClick={() => { this.setState({ \r\n                                                DialogShowing: true, \r\n                                                storyId: item._id,\r\n                                                highLightStory: [...item.storyList.map(item=>item._id)],\r\n                                                formData: {\r\n                                                        ...this.state.formData,\r\n                                                        name:{\r\n                                                            ...this.state.formData.name,\r\n                                                            value: item.name\r\n                                                        }\r\n                                                    },\r\n                                                formSuccess: true, \r\n                                                formMessage: \"Thêm thành công\",\r\n                                                })\r\n                                            }} \r\n                                                className={`adavnced-btn ${this.state.AdvancedBtn == item._id? \"btn-displayed\": \"btn-hiden\"}`}\r\n                                                src={require('../../asset/headerIcon/advance_button2x.png')}/>\r\n                                        </li>\r\n                                    )\r\n                                })\r\n                            : \"\"                            \r\n                        }\r\n                        {\r\n                        this.props.createButton ?   \r\n                            <li className=\"has-story\" onClick={this.props.open}>\r\n                                <div className=\"story_add_button\">\r\n                                    <div className=\"avatar\" onClick={()=>{this.props.openCreateHighlightStoryDiaglog()}}>\r\n                                        <div className=\"add_icon\" >\r\n                                            +\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <span className=\"user\">New</span>\r\n                            </li>\r\n                        :null\r\n                        }\r\n                    </ul>\r\n                </div>\r\n                {\r\n                    this.state.DialogShowing ?\r\n                    <Dialog\r\n                    open={this.state.DialogShowing}\r\n                    TransitionComponent={Transition}\r\n                    keepMounted\r\n                    onClose={() => { this.setState({ DialogShowing: false }) }}>\r\n                    <div className=\"commentHandle\">\r\n                    {\r\n                        <div>\r\n                            <p className=\"delete_button\"\r\n                                onClick={() => {\r\n                                    this.setState({confirmDialogShowing: true, DialogShowing: false})\r\n                                }}>Xóa</p>\r\n                            <hr />\r\n                            <p className=\"report_button\"\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        editHighlightStoryDiaglog: true,\r\n                                                                        \r\n                                    }) \r\n                                }}>Chỉnh sửa</p>\r\n                        </div>\r\n                    }\r\n                </div>\r\n                </Dialog>\r\n                : \"\"\r\n                }\r\n                {\r\n                    this.state.confirmDialogShowing?\r\n                    <Dialog\r\n                    open={this.state.confirmDialogShowing}\r\n                    TransitionComponent={Transition}\r\n                    keepMounted\r\n                    onClose={() => { this.setState({ confirmDialogShowing: false, DialogShowing: true }) }}>\r\n                    <div className=\"commentHandle\">\r\n                    {\r\n                         <div className=\"deleteConfirm\">\r\n                            <h5> Bạn chắc chắn muốn xóa?</h5>\r\n                            <div className=\"btn_wrapper\">\r\n                                <p className=\"cancel_btn\" \r\n                                    onClick={()=>this.setState({ \r\n                                        confirmDialogShowing: false, \r\n                                        DialogShowing: true\r\n                                    })}\r\n                                >Hủy</p>\r\n                                <p className=\"confirm_btn\" \r\n                                    onClick={() => this.props.dispatch(deleteHighLightStory(this.state.storyId))\r\n                                    .then((response) => {\r\n                                        console.log(response)\r\n                                        if(response.payload.success){\r\n                                            this.setState({setSnack: true,Success: true,Message: \"Xóa thành công\",DialogShowing: false,confirmDialogShowing: false,})\r\n                                        }else{\r\n                                            this.setState({setSnack: true,Success: false,Message: \"Đã xãy ra lỗi!\",DialogShowing: true,confirmDialogShowing: false})\r\n                                        }\r\n                                    })}\r\n                                >Xóa</p>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    </div>\r\n                    </Dialog>\r\n                    :\"\"\r\n                }\r\n                    <Dialog\r\n                        fullWidth={true}\r\n                        maxWidth=\"lg\"  \r\n                        className=\"createHighLightStoryForm\"  \r\n                        onClose={() => {this.setState({ editHighlightStoryDiaglog: false })}} \r\n                        open={this.state.editHighlightStoryDiaglog}\r\n                    >\r\n                    <div className=\"wrapper\">\r\n                        <div className=\"row no-gutters\">\r\n                            <div className=\"col-lg-3 no-gutters\">\r\n                                <div className=\"row no-gutters form-header\">\r\n                                <h5>Chỉnh sửa</h5>\r\n                                <FormField\r\n                                    id={'name'}\r\n                                    formData={this.state.formData.name}\r\n                                    change={(element) => this.updateForm(element)}\r\n                                />\r\n                                <div className=\"header-feature\">\r\n                                    <button className=\"btn btn-cancel\">Hủy</button>\r\n                                    <button className=\"btn\" \r\n                                        onClick={()=>{\r\n                                            if(this.state.formSuccess && this.state.highLightStory.length != 0)\r\n                                            {\r\n                                                let dataToSubmit = {\r\n                                                    name: this.state.formData.name.value,\r\n                                                    storyList: [...this.state.highLightStory],\r\n                                                    storyId: this.state.storyId,\r\n                                                }\r\n                                                console.log(\"dô\",dataToSubmit);\r\n                                                this.props.dispatch(editHighLightStory(dataToSubmit)).then(response=>{\r\n                                                    if(response.payload.success){\r\n                                                        this.setState({\r\n                                                            setSnack: true,\r\n                                                            Success: true,\r\n                                                            Message: \"Chỉnh sửa thành công\",\r\n                                                            DialogShowing: false,\r\n                                                            editHighlightStoryDiaglog: false,\r\n                                                        })\r\n                                                    }else{\r\n                                                        this.setState({\r\n                                                            Success: true,\r\n                                                            Message:\"Lỗi! Vui lòng thử lại\",\r\n                                                            setSnack: true\r\n                                                        })\r\n                                                    }\r\n                                                })\r\n                                            }else{\r\n                                                console.log(this.state.formError,this.state.highlightStory)\r\n                                                this.setState({addStorySuccess: false,formMessage:\"Vui lòng kiểm tra thông lại thông tin :(\",setSnack: true})\r\n                                            }\r\n                                    }}>Lưu</button>      \r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n                            <div className=\"col-lg-9 no-gutters\">\r\n                                {\r\n                                 this.props.storyList?                            \r\n                                    <div className=\"row no-gutters form-content\">\r\n                                    {\r\n                                    \r\n                                            this.props.storyList.map((item,index)=>{\r\n                                            return <div \r\n                                            onClick={()=>{\r\n                                                this.state.highLightStory.includes(item._id) ?\r\n                                                    this.pullStory(item._id) : this.pushStory(item._id)\r\n                                            }} \r\n                                            className={`col-lg-3 no-gutters image-wrapper` }>\r\n                                                <img className={`story-item ${this.state.highLightStory.includes(item._id) ? \"story_selected\":\"unselected_story\"}`} \r\n                                                    src={item.image.url}/>\r\n                                            </div>\r\n                                            })\r\n                                    }\r\n                                    </div>\r\n                                    :\"loading\"\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div> \r\n                </Dialog>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left'\r\n                }}\r\n                open={this.state.setSnack}\r\n                onClose={() => this.setState({ setSnack: false })}\r\n                autoHideDuration={1000}\r\n            >\r\n                <MuiAlert elevation={6} variant=\"filled\" severity={`${this.state.Success?\"success\":\"warning\"}`} >{this.state.Message}</MuiAlert>\r\n            </Snackbar>  \r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(HighLightStory));"]},"metadata":{},"sourceType":"module"}