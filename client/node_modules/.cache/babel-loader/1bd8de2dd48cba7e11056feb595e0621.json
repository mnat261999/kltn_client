{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kltn\\\\test\\\\social-media\\\\client\\\\src\\\\components\\\\Header_Footer\\\\Header\\\\index.js\";\nimport React, { Component } from \"react\";\nimport \"./header.scss\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logoutUser, auth, acceptfollow, declinefollow } from \"../../../actions/user_action\";\nimport NativeClickListener from \"../../ultils/NativeClickListener\";\nimport { getConversation } from \"../../../actions/message_action\";\nimport { getNotification, seenNotification, seenAllNotification, disablenotification } from \"../../../actions/notification_action\";\nimport NotificationDetail from \"./notification\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Send, Notification, BrandSafari, User, Settings, Point } from \"tabler-icons-react\";\nimport faUser from \"@fortawesome/fontawesome-free-solid/faUser\";\nimport faCog from \"@fortawesome/fontawesome-free-solid/faCog\";\nimport SearchBar from \"../../Search\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Pusher from \"pusher-js\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport moment from \"moment\";\nimport { Button } from \"@material-ui/core\";\n\nclass Header extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: [{\n        name: \"Explore\",\n        linkTo: \"/explore\"\n      }, {\n        name: \"Direct\",\n        linkTo: \"/users/direct\"\n      }, {\n        name: \"Notification\",\n        linkTo: \"/users/Notification\"\n      }, {\n        name: \"avt\"\n      }, {\n        name: \"Log in\",\n        linkTo: \"/register_login\"\n      }],\n      dropdown: false,\n      notifydropdown: false,\n      setSnack: false,\n      notifycontent: \"\",\n      notifylink: \"\",\n      notifyimg: \"\"\n    };\n\n    this.logoutHandler = () => {\n      this.props.dispatch(logoutUser()).then(response => {\n        if (response.payload.success) {\n          this.props.history.push(\"/\");\n        }\n      });\n    };\n\n    this.handleSeenall = () => {\n      this.props.dispatch(seenAllNotification());\n      this.props.dispatch(getNotification());\n    };\n\n    this.defaultLink = (item, i) => {\n      if (item.name === \"Log out\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: item.linkTo,\n          key: i,\n          onClick: this.logoutHandler,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }\n        }, item.name));\n      } else if (item.name === \"avt\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"menu\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }\n        }, this.props.user.userData.avt ? /*#__PURE__*/React.createElement(\"img\", {\n          onClick: this.toggleDropdown,\n          className: \"avt\",\n          alt: \"photo\",\n          src: this.props.user.userData.avt,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }\n        }) : /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"circle\",\n          width: 40,\n          height: 40,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }\n        }), this.state.dropdown ? /*#__PURE__*/React.createElement(NativeClickListener, {\n          onClick: () => this.setState({\n            dropdown: false\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"dropdown\",\n          onClick: this.handleBodyClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"user_navigation\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(User, {\n          size: 22,\n          strokeWidth: 1.5,\n          color: \"grey\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(Link, {\n          to: `/user/${this.props.user.userData._id}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 21\n          }\n        }, \"Profile\")), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Settings, {\n          size: 22,\n          strokeWidth: 1.5,\n          color: \"grey\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(Link, {\n          to: `/profilesettings`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 21\n          }\n        }, \"Setting\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"logout\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          key: i,\n          onClick: this.logoutHandler,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 19\n          }\n        }, \"Log out\")))) : null);\n      } else if (item.name === \"Explore\") {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/explore\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(BrandSafari, {\n          size: 30,\n          color: \"grey\",\n          strokeWidth: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }\n        })));\n      } else if (item.name === \"Notification\") {\n        var notinumber = 0;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"notify\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 11\n          }\n        }, this.props.notification ? this.props.notification.notifylist ? this.props.notification.notifylist.length > 0 ? this.props.notification.notifylist.forEach(item => {\n          console.log(item.seenStatus);\n\n          if (!item.seenStatus) {\n            notinumber = notinumber + 1;\n          }\n        }) : \"\" : \"\" : \"\", /*#__PURE__*/React.createElement(Badge, {\n          badgeContent: notinumber,\n          overlap: \"circle\",\n          color: \"secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Notification, {\n          onClick: this.toggleNofifyDropdown,\n          size: 34,\n          color: \"grey\",\n          strokeWidth: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }\n        }))), this.state.notifydropdown ? /*#__PURE__*/React.createElement(NativeClickListener, {\n          onClick: () => this.setState({\n            notifydropdown: false\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"notifydropdown\",\n          onClick: this.handleBodyClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"notifyheader\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }\n        }, \" \", /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 19\n          }\n        }, \"Th\\xF4ng b\\xE1o\"), \" \", /*#__PURE__*/React.createElement(\"h6\", {\n          onClick: this.handleSeenall,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 19\n          }\n        }, \"\\u0110\\xE1nh d\\u1EA5u t\\u1EA5t c\\u1EA3 \\u0111\\xE3 \\u0111\\u1ECDc\")), console.log(this.props.user), this.props.notification ? this.props.notification.notifylist ? this.props.notification.notifylist.map(data => {\n          return /*#__PURE__*/React.createElement(NotificationDetail, {\n            handleSeenNoti: this.handleSeenNoti,\n            handleDeleteNoti: this.handleDeleteNoti,\n            data: data,\n            acceptfollow: this.acceptfollow,\n            declinefollow: this.declinefollow,\n            handleNotiClick: this.handleNotiClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 27\n            }\n          });\n        }) : \"\" : \"\")) : null, /*#__PURE__*/React.createElement(Snackbar, {\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"right\"\n          },\n          open: this.state.setSnack,\n          onClose: () => this.setState({\n            setSnack: false\n          }),\n          autoHideDuration: 10000,\n          direction: \"up\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }\n        }, this.props.notification ? this.props.notification.notifylist ? this.props.notification.notifylist[0] ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"snack_noti\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"noti_wrapper\",\n          onClick: () => this.handleNotiClick(this.props.notification.notifylist[0]._id, this.props.notification.notifylist[0].type, this.props.notification.notifylist[0].link),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"user_avt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: this.props.notification.notifylist[0].sentFrom.role == 0 ? this.props.notification.notifylist[0].sentFrom.avt : \"https://res.cloudinary.com/dlikyyfd1/image/upload/v1610771639/logo2x_lzjmtn.png\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"content\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 27\n          }\n        }, this.props.notification.notifylist[0].sentFrom.userName), this.props.notification.notifylist[0].type == \"follow\" ? \" đã theo dõi bạn nè\" : this.props.notification.notifylist[0].type == \"likepost\" ? \" đã thích bài viết của bạn\" : this.props.notification.notifylist[0].type == \"comment\" ? \" đã bình luận về bài viết của bạn\" : this.props.notification.notifylist[0].type == \"likecomment\" ? \"đã thích bình luận của bạn\" : this.props.notification.notifylist[0].type == \"discardReport\" ? \"Báo cáo của bạn chưa phù hợp\" : this.props.notification.notifylist[0].type == \"deletePost\" ? \"Bài viết của bạn đã vi phạm chính sách\" : this.props.notification.notifylist[0].type == \"deleteComment\" ? \"Báo cáo của bạn đã vi phạm chính sách\" : this.props.notification.notifylist[0].type == \"askfollow\" ? \" đã yêu cầu theo dõi bạn\" : this.props.notification.notifylist[0].type == \"acceptfollow\" ? \" đã chấp nhập lời theo dõi của bạn\" : this.props.notification.notifylist[0].type == \"restrictUserFunction\" ? \" đã hạn chế tính năng của bạn\" : \"\"), /*#__PURE__*/React.createElement(\"h6\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 27\n          }\n        }, moment(this.props.notification.notifylist[0].createdAt).fromNow(), \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"status\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Point, {\n          visibility: \"hidden\",\n          size: 24,\n          strokeWidth: 5,\n          color: \"#0070F2\",\n          fill: \"#0070F2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }\n        })))) : \"\" : \"\" : \"\"));\n      } else if (item.name === \"Direct\") {\n        var messnumber = 0;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 9\n          }\n        }, this.props.messages ? this.props.messages.grouplist ? this.props.messages.grouplist.forEach(con => {\n          //console.log(con.seenBy)\n          if (con.seenBy.includes(this.props.user.userData._id) == false) {\n            messnumber = messnumber + 1;\n          }\n        }) : \"\" : \"\", /*#__PURE__*/React.createElement(Badge, {\n          badgeContent: messnumber,\n          overlap: \"circle\",\n          color: \"secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/message/inbox\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Send, {\n          size: 30,\n          color: \"grey\",\n          strokeWidth: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }\n        }))));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: item.linkTo,\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 11\n          }\n        }));\n      }\n    };\n\n    this.componentDidMount = () => {\n      this.props.dispatch(auth());\n      this.props.dispatch(getConversation());\n      console.log(this.props.user.userData);\n      console.log(this.props.messages ? this.props.messages.conlist : \"\");\n      this.props.dispatch(getNotification());\n      console.log(this.props.notification ? this.props.notification.notifylist : \"\");\n      const pusher = new Pusher(\"c0e96b0fff8d0edac17d\", {\n        cluster: \"mt1\"\n      });\n      const channel = pusher.subscribe(\"notifications\");\n      channel.bind(\"newNoti\", data => {\n        if (data.change.operationType == \"insert\") {\n          if (data.change.fullDocument.sentTo == this.props.user.userData._id) {\n            this.props.dispatch(getNotification());\n            this.setState({\n              setSnack: true\n            });\n          }\n        }\n\n        if (data.change.operationType == \"update\") {\n          this.props.notification.notifylist.map(noti => {\n            if (noti._id == data.change ? data.change.fullDocument ? data.change.fullDocument._id : \"\" : \"\") {\n              this.props.dispatch(getNotification());\n              this.setState({\n                setSnack: true\n              });\n            }\n          });\n        }\n      });\n      const channel2 = pusher.subscribe(\"messages\");\n      channel2.bind(\"newMessage\", data => {\n        if (data.change.operationType == \"insert\") {\n          if (data.change.fullDocument.sentTo == this.props.user.userData._id || data.change.fullDocument.sentBy == this.props.user.userData._id) {\n            this.props.dispatch(getConversation());\n          }\n        }\n      });\n    };\n\n    this.toggleDropdown = syntheticEvent => {\n      console.log(\"toggle dropdown\");\n      this.setState(prevState => ({\n        dropdown: !prevState.dropdown\n      }));\n    };\n\n    this.handleBodyClick = syntheticEvent => {\n      console.log(\"body click\");\n    };\n\n    this.toggleNofifyDropdown = syntheticEvent => {\n      console.log(\"toggle dropdown\");\n      this.setState(prevState => ({\n        notifydropdown: !prevState.notifydropdown\n      }));\n      this.props.dispatch(getNotification());\n      console.log(this.props.notification);\n    };\n\n    this.acceptfollow = async id => {\n      await this.props.dispatch(acceptfollow(id));\n      await this.props.dispatch(getNotification());\n    };\n\n    this.declinefollow = async id => {\n      await this.props.dispatch(declinefollow(id));\n      await this.props.dispatch(getNotification());\n    };\n\n    this.handleNotiClick = (id, type, link) => {\n      this.props.dispatch(seenNotification(id));\n      console.log(\"Đã xem thông báo\", id);\n\n      if (type == \"follow\") {\n        this.props.history.push(`/user/${link}`);\n      }\n\n      if (type == \"acceptfollow\") {\n        this.props.history.push(`/user/${link}`);\n      }\n\n      if (type == \"likepost\") {\n        this.props.history.push(`/postDetail/${link}`);\n      }\n\n      if (type == \"comment\") {\n        this.props.history.push(`/postDetail/${link}`);\n      }\n\n      if (type == \"likecomment\") {\n        this.props.history.push(`/postDetail/${link}`);\n      }\n\n      this.props.dispatch(getNotification());\n    };\n\n    this.handleDeleteNoti = async id => {\n      await this.props.dispatch(disablenotification(id));\n      await this.props.dispatch(getNotification());\n    };\n\n    this.handleSeenNoti = async id => {\n      await this.props.dispatch(seenNotification(id));\n      await this.props.dispatch(getNotification());\n    };\n\n    this.showLinks = type => {\n      let list = [];\n\n      if (this.props.user.userData) {\n        type.forEach(item => {\n          if (!this.props.user.userData.isAuth) {\n            if (item.name === \"Log in\") {\n              list.push(item);\n            }\n          } else {\n            if (item.name !== \"Log in\") {\n              list.push(item);\n            }\n          }\n        });\n      }\n\n      return list.map((item, i) => {\n        return this.defaultLink(item, i);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"header\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-4 col-sm-4 col-4 no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header__logo\",\n      onClick: () => {\n        this.props.history.push(\"/newfeed\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: require(\"../../../asset/logo/logo2x.png\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      class: \"Logo_stunn\",\n      src: require(\"../../../asset/logo/stunn2x.png\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-4 col-sm-4 col-1  no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header__nav-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-4 col-sm-4 col-7  no-gutters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header__nav-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 15\n      }\n    }, this.showLinks(this.state.user))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    notification: state.notification,\n    messages: state.messages\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(Header));","map":{"version":3,"sources":["D:/Kltn/test/social-media/client/src/components/Header_Footer/Header/index.js"],"names":["React","Component","Link","withRouter","connect","logoutUser","auth","acceptfollow","declinefollow","NativeClickListener","getConversation","getNotification","seenNotification","seenAllNotification","disablenotification","NotificationDetail","FontAwesomeIcon","Send","Notification","BrandSafari","User","Settings","Point","faUser","faCog","SearchBar","Skeleton","Pusher","Badge","Snackbar","moment","Button","Header","state","user","name","linkTo","dropdown","notifydropdown","setSnack","notifycontent","notifylink","notifyimg","logoutHandler","props","dispatch","then","response","payload","success","history","push","handleSeenall","defaultLink","item","i","userData","avt","toggleDropdown","setState","handleBodyClick","_id","notinumber","notification","notifylist","length","forEach","console","log","seenStatus","toggleNofifyDropdown","map","data","handleSeenNoti","handleDeleteNoti","handleNotiClick","vertical","horizontal","type","link","sentFrom","role","userName","createdAt","fromNow","messnumber","messages","grouplist","con","seenBy","includes","componentDidMount","conlist","pusher","cluster","channel","subscribe","bind","change","operationType","fullDocument","sentTo","noti","channel2","sentBy","syntheticEvent","prevState","id","showLinks","list","isAuth","render","require","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./header.scss\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport {\n  logoutUser,\n  auth,\n  acceptfollow,\n  declinefollow,\n} from \"../../../actions/user_action\";\nimport NativeClickListener from \"../../ultils/NativeClickListener\";\nimport { getConversation } from \"../../../actions/message_action\";\nimport {\n  getNotification,\n  seenNotification,\n  seenAllNotification,\n  disablenotification,\n} from \"../../../actions/notification_action\";\nimport NotificationDetail from \"./notification\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  Send,\n  Notification,\n  BrandSafari,\n  User,\n  Settings,\n  Point,\n} from \"tabler-icons-react\";\nimport faUser from \"@fortawesome/fontawesome-free-solid/faUser\";\nimport faCog from \"@fortawesome/fontawesome-free-solid/faCog\";\nimport SearchBar from \"../../Search\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Pusher from \"pusher-js\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport moment from \"moment\";\nimport { Button } from \"@material-ui/core\";\nclass Header extends Component {\n  state = {\n    user: [\n      {\n        name: \"Explore\",\n        linkTo: \"/explore\",\n      },\n      {\n        name: \"Direct\",\n        linkTo: \"/users/direct\",\n      },\n      {\n        name: \"Notification\",\n        linkTo: \"/users/Notification\",\n      },\n      {\n        name: \"avt\",\n      },\n      {\n        name: \"Log in\",\n        linkTo: \"/register_login\",\n      },\n    ],\n    dropdown: false,\n    notifydropdown: false,\n    setSnack: false,\n    notifycontent: \"\",\n    notifylink: \"\",\n    notifyimg: \"\",\n  };\n\n  logoutHandler = () => {\n    this.props.dispatch(logoutUser()).then((response) => {\n      if (response.payload.success) {\n        this.props.history.push(\"/\");\n      }\n    });\n  };\n\n  // handleDropdown = () => {\n  //     console.log(!this.state.dropdown)\n  //     this.setState({\n  //         dropdown: !this.state.dropdown\n  //     })\n  // }\n\n  handleSeenall = () => {\n    this.props.dispatch(seenAllNotification());\n    this.props.dispatch(getNotification());\n  };\n\n  defaultLink = (item, i) => {\n    if (item.name === \"Log out\") {\n      return (\n        <div>\n          <Link to={item.linkTo} key={i} onClick={this.logoutHandler}>\n            {item.name}\n          </Link>\n        </div>\n      );\n    } else if (item.name === \"avt\") {\n      return (\n        <div className=\"menu\">\n          {this.props.user.userData.avt ? (\n            <img\n              onClick={this.toggleDropdown}\n              className=\"avt\"\n              alt=\"photo\"\n              src={this.props.user.userData.avt}\n            />\n          ) : (\n            <Skeleton variant=\"circle\" width={40} height={40} />\n          )}\n          {this.state.dropdown ? (\n            <NativeClickListener\n              onClick={() => this.setState({ dropdown: false })}\n            >\n              <div className=\"dropdown\" onClick={this.handleBodyClick}>\n                <div className=\"user_navigation\">\n                  <div>\n                    <User size={22} strokeWidth={1.5} color=\"grey\"></User>\n                    <Link to={`/user/${this.props.user.userData._id}`}>\n                      Profile\n                    </Link>\n                  </div>\n                  <div>\n                    <Settings\n                      size={22}\n                      strokeWidth={1.5}\n                      color=\"grey\"\n                    ></Settings>\n                    <Link to={`/profilesettings`}>Setting</Link>\n                  </div>\n                </div>\n                <div className=\"logout\">\n                  <Link key={i} onClick={this.logoutHandler}>\n                    Log out\n                  </Link>\n                </div>\n              </div>\n            </NativeClickListener>\n          ) : null}\n        </div>\n      );\n    } else if (item.name === \"Explore\") {\n      return (\n        <div>\n          <Link to=\"/explore\">\n            <BrandSafari size={30} color=\"grey\" strokeWidth={1} />\n          </Link>\n        </div>\n      );\n    } else if (item.name === \"Notification\") {\n      var notinumber = 0;\n      return (\n        <div className=\"notify\">\n          <div>\n            {this.props.notification\n              ? this.props.notification.notifylist\n                ? this.props.notification.notifylist.length > 0\n                  ? this.props.notification.notifylist.forEach((item) => {\n                      console.log(item.seenStatus);\n                      if (!item.seenStatus) {\n                        notinumber = notinumber + 1;\n                      }\n                    })\n                  : \"\"\n                : \"\"\n              : \"\"}\n            <Badge badgeContent={notinumber} overlap=\"circle\" color=\"secondary\">\n              <Notification\n                onClick={this.toggleNofifyDropdown}\n                size={34}\n                color=\"grey\"\n                strokeWidth={1}\n              />\n            </Badge>\n          </div>\n          {this.state.notifydropdown ? (\n            <NativeClickListener\n              onClick={() => this.setState({ notifydropdown: false })}\n            >\n              <div className=\"notifydropdown\" onClick={this.handleBodyClick}>\n                <div className=\"notifyheader\">\n                  {\" \"}\n                  <h2>Thông báo</h2>{\" \"}\n                  <h6 onClick={this.handleSeenall}>Đánh dấu tất cả đã đọc</h6>\n                </div>\n                {console.log(this.props.user)}\n\n                {/* {\n                                        this.props.notification ? this.props.notification.notifylist ? this.props.notification.notifylist.map(data => {\n                                            return (\n                                                <NotificationDetail handleSeenNoti={this.handleSeenNoti} handleDeleteNoti={this.handleDeleteNoti} data={data} acceptfollow={this.acceptfollow} declinefollow={this.declinefollow} handleNotiClick={this.handleNotiClick}></NotificationDetail>\n                                            )\n                                        }) : null : null\n                                    } */}\n                {this.props.notification\n                  ? this.props.notification.notifylist\n                    ? this.props.notification.notifylist.map((data) => {\n                        return (\n                          <NotificationDetail\n                            handleSeenNoti={this.handleSeenNoti}\n                            handleDeleteNoti={this.handleDeleteNoti}\n                            data={data}\n                            acceptfollow={this.acceptfollow}\n                            declinefollow={this.declinefollow}\n                            handleNotiClick={this.handleNotiClick}\n                          ></NotificationDetail>\n                        );\n                      })\n                    : \"\"\n                  : \"\"}\n              </div>\n            </NativeClickListener>\n          ) : null}\n          <Snackbar\n            anchorOrigin={{\n              vertical: \"bottom\",\n              horizontal: \"right\",\n            }}\n            open={this.state.setSnack}\n            onClose={() => this.setState({ setSnack: false })}\n            autoHideDuration={10000}\n            direction=\"up\"\n          >\n            {this.props.notification ? (\n              this.props.notification.notifylist ? (\n                this.props.notification.notifylist[0] ? (\n                  <div className=\"snack_noti\">\n                    <div\n                      className=\"noti_wrapper\"\n                      onClick={() =>\n                        this.handleNotiClick(\n                          this.props.notification.notifylist[0]._id,\n                          this.props.notification.notifylist[0].type,\n                          this.props.notification.notifylist[0].link\n                        )\n                      }\n                    >\n                      <div className=\"user_avt\">\n                        <img\n                          src={\n                            this.props.notification.notifylist[0].sentFrom\n                              .role == 0\n                              ? this.props.notification.notifylist[0].sentFrom\n                                  .avt\n                              : \"https://res.cloudinary.com/dlikyyfd1/image/upload/v1610771639/logo2x_lzjmtn.png\"\n                          }\n                        ></img>\n                      </div>\n\n                      <div className=\"content\">\n                        <p>\n                          <h6>\n                            {\n                              this.props.notification.notifylist[0].sentFrom\n                                .userName\n                            }\n                          </h6>\n                          {this.props.notification.notifylist[0].type ==\n                          \"follow\"\n                            ? \" đã theo dõi bạn nè\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"likepost\"\n                            ? \" đã thích bài viết của bạn\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"comment\"\n                            ? \" đã bình luận về bài viết của bạn\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"likecomment\"\n                            ? \"đã thích bình luận của bạn\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"discardReport\"\n                            ? \"Báo cáo của bạn chưa phù hợp\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"deletePost\"\n                            ? \"Bài viết của bạn đã vi phạm chính sách\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"deleteComment\"\n                            ? \"Báo cáo của bạn đã vi phạm chính sách\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"askfollow\"\n                            ? \" đã yêu cầu theo dõi bạn\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"acceptfollow\"\n                            ? \" đã chấp nhập lời theo dõi của bạn\"\n                            : this.props.notification.notifylist[0].type ==\n                              \"restrictUserFunction\"\n                            ? \" đã hạn chế tính năng của bạn\"\n                            : \"\"}\n                        </p>\n                        <h6>\n                          <h6>\n                            {moment(\n                              this.props.notification.notifylist[0].createdAt\n                            ).fromNow()}{\" \"}\n                          </h6>\n                        </h6>\n                      </div>\n                      <div className=\"status\">\n                        <Point\n                          visibility=\"hidden\"\n                          size={24}\n                          strokeWidth={5}\n                          color=\"#0070F2\"\n                          fill=\"#0070F2\"\n                        ></Point>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  \"\"\n                )\n              ) : (\n                \"\"\n              )\n            ) : (\n              \"\"\n            )}\n          </Snackbar>\n        </div>\n      );\n    } else if (item.name === \"Direct\") {\n      var messnumber = 0;\n      return (\n        <div>\n          {this.props.messages\n            ? this.props.messages.grouplist\n              ? this.props.messages.grouplist.forEach((con) => {\n                  //console.log(con.seenBy)\n                  if (\n                    con.seenBy.includes(this.props.user.userData._id) == false\n                  ) {\n                    messnumber = messnumber + 1;\n                  }\n                })\n              : \"\"\n            : \"\"}\n          <Badge badgeContent={messnumber} overlap=\"circle\" color=\"secondary\">\n            <Link to=\"/message/inbox\">\n              <Send size={30} color=\"grey\" strokeWidth={1} />\n            </Link>\n          </Badge>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <Link to={item.linkTo} key={i}></Link>\n        </div>\n      );\n    }\n  };\n\n  componentDidMount = () => {\n    this.props.dispatch(auth());\n    this.props.dispatch(getConversation());\n    console.log(this.props.user.userData);\n    console.log(this.props.messages ? this.props.messages.conlist : \"\");\n    this.props.dispatch(getNotification());\n    console.log(\n      this.props.notification ? this.props.notification.notifylist : \"\"\n    );\n    const pusher = new Pusher(\"c0e96b0fff8d0edac17d\", {\n      cluster: \"mt1\",\n    });\n    const channel = pusher.subscribe(\"notifications\");\n    channel.bind(\"newNoti\", (data) => {\n      if (data.change.operationType == \"insert\") {\n        if (data.change.fullDocument.sentTo == this.props.user.userData._id) {\n          this.props.dispatch(getNotification());\n          this.setState({ setSnack: true });\n        }\n      }\n      if (data.change.operationType == \"update\") {\n        this.props.notification.notifylist.map((noti) => {\n          if (\n            noti._id == data.change\n              ? data.change.fullDocument\n                ? data.change.fullDocument._id\n                : \"\"\n              : \"\"\n          ) {\n            this.props.dispatch(getNotification());\n            this.setState({ setSnack: true });\n          }\n        });\n      }\n    });\n    const channel2 = pusher.subscribe(\"messages\");\n    channel2.bind(\"newMessage\", (data) => {\n      if (data.change.operationType == \"insert\") {\n        if (\n          data.change.fullDocument.sentTo == this.props.user.userData._id ||\n          data.change.fullDocument.sentBy == this.props.user.userData._id\n        ) {\n          this.props.dispatch(getConversation());\n        }\n      }\n    });\n  };\n\n  toggleDropdown = (syntheticEvent) => {\n    console.log(\"toggle dropdown\");\n    this.setState((prevState) => ({ dropdown: !prevState.dropdown }));\n  };\n\n  handleBodyClick = (syntheticEvent) => {\n    console.log(\"body click\");\n  };\n\n  toggleNofifyDropdown = (syntheticEvent) => {\n    console.log(\"toggle dropdown\");\n    this.setState((prevState) => ({\n      notifydropdown: !prevState.notifydropdown,\n    }));\n    this.props.dispatch(getNotification());\n    console.log(this.props.notification);\n  };\n\n  acceptfollow = async (id) => {\n    await this.props.dispatch(acceptfollow(id));\n    await this.props.dispatch(getNotification());\n  };\n\n  declinefollow = async (id) => {\n    await this.props.dispatch(declinefollow(id));\n    await this.props.dispatch(getNotification());\n  };\n\n  handleNotiClick = (id, type, link) => {\n    this.props.dispatch(seenNotification(id));\n    console.log(\"Đã xem thông báo\", id);\n    if (type == \"follow\") {\n      this.props.history.push(`/user/${link}`);\n    }\n    if (type == \"acceptfollow\") {\n      this.props.history.push(`/user/${link}`);\n    }\n    if (type == \"likepost\") {\n      this.props.history.push(`/postDetail/${link}`);\n    }\n    if (type == \"comment\") {\n      this.props.history.push(`/postDetail/${link}`);\n    }\n    if (type == \"likecomment\") {\n      this.props.history.push(`/postDetail/${link}`);\n    }\n    this.props.dispatch(getNotification());\n  };\n\n  handleDeleteNoti = async (id) => {\n    await this.props.dispatch(disablenotification(id));\n    await this.props.dispatch(getNotification());\n  };\n  handleSeenNoti = async (id) => {\n    await this.props.dispatch(seenNotification(id));\n    await this.props.dispatch(getNotification());\n  };\n\n  showLinks = (type) => {\n    let list = [];\n\n    if (this.props.user.userData) {\n      type.forEach((item) => {\n        if (!this.props.user.userData.isAuth) {\n          if (item.name === \"Log in\") {\n            list.push(item);\n          }\n        } else {\n          if (item.name !== \"Log in\") {\n            list.push(item);\n          }\n        }\n      });\n    }\n\n    return list.map((item, i) => {\n      return this.defaultLink(item, i);\n    });\n  };\n\n  render() {\n    return (\n      <header className=\"header\">\n        <div className=\"header__container\">\n          <div className=\"row no-gutters\">\n            <div className=\"col-xl-4 col-sm-4 col-4 no-gutters\">\n              <div\n                className=\"header__logo\"\n                onClick={() => {\n                  this.props.history.push(\"/newfeed\");\n                }}\n              >\n                <img src={require(\"../../../asset/logo/logo2x.png\")} />\n                <img\n                  class=\"Logo_stunn\"\n                  src={require(\"../../../asset/logo/stunn2x.png\")}\n                />\n              </div>\n            </div>\n            <div className=\"col-xl-4 col-sm-4 col-1  no-gutters\">\n              <div className=\"header__nav-page\">\n                <SearchBar />\n              </div>\n            </div>\n            <div className=\"col-xl-4 col-sm-4 col-7  no-gutters\">\n              <div className=\"header__nav-user\">\n                {this.showLinks(this.state.user)}\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n    notification: state.notification,\n    messages: state.messages,\n  };\n}\nexport default connect(mapStateToProps)(withRouter(Header));\n"]},"metadata":{},"sourceType":"module"}