!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("Stories",["React"],t):"object"==typeof exports?exports.Stories=t(require("react")):e.Stories=t(e.React)}(this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=r(n(0));t.initialContext={defaultInterval:4e3,width:360,height:640};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var o=r(n(0));t.initialContext={stories:[]};var i=o.default.createContext(t.initialContext);t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));t.default=o.default.createContext({currentId:0,videoDuration:0,bufferAction:!1,pause:!1,next:function(){}})},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a=o(n(19));t.default=function(e){var t=e.story,n=e.globalHeader,o=e.children;return i.default.createElement(i.default.Fragment,null,o,t.header&&i.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"===r(t)?n?n(t.header):i.default.createElement(a.default,{heading:t.header.heading,subheading:t.header.subheading,profileImage:t.header.profileImage}):null))}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(0)),f=l(n(20));t.default=function(e){var t=e.story,n=e.action,o=e.customCollapsed,i=e.children,a=r(c.useState(!1),2),u=a[0],l=a[1],s=f.default;return c.default.createElement(c.default.Fragment,null,i,t.seeMore&&c.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:u?"unset":0,zIndex:9999,width:"100%",height:u?"100%":"auto"}},c.default.createElement(s,{action:n,toggleMore:function(e){n(e?"pause":"play"),l(e)},showContent:u,seeMoreContent:t.seeMore,customCollapsed:o||t.seeMoreCollapsed})))}},function(e,t,n){var r=n(16),o=n(17);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return u(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WithSeeMore=t.WithHeader=void 0;var f=l(n(0)),s=c(n(8)),d=c(n(1)),p=c(n(2)),y=n(13),h=n(14),m=c(n(4)),v=c(n(5)),b=function(e){var t=e.renderers?e.renderers.concat(h.renderers):h.renderers,n={width:e.width,height:e.height,loader:e.loader,header:e.header,storyStyles:e.storyStyles,loop:e.loop,defaultInterval:e.defaultInterval,isPaused:e.isPaused,currentIndex:e.currentIndex,onStoryStart:e.onStoryStart,onStoryEnd:e.onStoryEnd,onAllStoriesEnd:e.onAllStoriesEnd,keyboardNavigation:e.keyboardNavigation},r=o(f.useState({stories:g(e.stories,t)}),2),i=r[0],a=r[1];return f.useEffect((function(){a({stories:g(e.stories,t)})}),[e.stories,e.renderers]),f.default.createElement(d.default.Provider,{value:n},f.default.createElement(p.default.Provider,{value:i},f.default.createElement(s.default,null)))},g=function(e,t){return e.map((function(e){var n={};"string"==typeof e?(n.url=e,n.type="image"):"object"===r(e)&&(n=Object.assign(n,e));var o=y.getRenderer(n,t);return n.originalContent=n.content,n.content=o,n}))};b.defaultProps={width:360,height:640,defaultInterval:4e3},t.WithHeader=m.default,t.WithSeeMore=v.default,t.default=b},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(0)),f=l(n(1)),s=l(n(2)),d=l(n(3)),p=l(n(9)),y=l(n(10));t.default=function(){var e=r(c.useState(0),2),t=e[0],n=e[1],o=r(c.useState(!0),2),i=o[0],a=o[1],u=r(c.useState(!0),2),l=u[0],m=u[1],v=r(c.useState(0),2),b=v[0],g=v[1],_=c.useRef(),j=c.useContext(f.default),O=j.width,w=j.height,S=j.loop,x=j.currentIndex,M=j.isPaused,E=j.keyboardNavigation,P=c.useContext(s.default).stories;c.useEffect((function(){"number"==typeof x&&(x>=0&&x<P.length?A((function(){return x})):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",x))}),[x]),c.useEffect((function(){"boolean"==typeof M&&a(M)}),[M]),c.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof E&&E)return document.addEventListener("keydown",C),function(){document.removeEventListener("keydown",C)}}),[E]);var C=function(e){"ArrowLeft"===e.key?D():"ArrowRight"===e.key&&k()},I=function(e,t){a("pause"===e),m(!!t)},A=function(e){n(e),I("pause",!0)},D=function(){A((function(e){return e>0?e-1:e}))},k=function(){S?T():R()},T=function(){A((function(e){return(e+1)%P.length}))},R=function(){A((function(e){return e<P.length-1?e+1:e}))},z=function(e){e.preventDefault(),_.current=setTimeout((function(){I("pause")}),200)},B=function(e,t){e.preventDefault(),_.current&&clearTimeout(_.current),i?I("play"):"next"===t?k():D()};return c.default.createElement("div",{style:Object.assign(Object.assign({},h.container),{width:O,height:w})},c.default.createElement(d.default.Provider,{value:{bufferAction:l,videoDuration:b,currentId:t,pause:i,next:k}},c.default.createElement(y.default,null)),c.default.createElement(p.default,{action:I,bufferAction:l,playState:i,story:P[t],getVideoDuration:function(e){g(1e3*e)}}),c.default.createElement("div",{style:h.overlay},c.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:z,onTouchEnd:function(e){return B(e,"previous")},onMouseDown:z,onMouseUp:function(e){return B(e,"previous")}}),c.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:z,onTouchEnd:function(e){return B(e,"next")},onMouseDown:z,onMouseUp:function(e){return B(e,"next")}})))};var h={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),l=a(n(1)),c={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.default=function(e){var t,n,r=u.useContext(l.default),o=r.width,i=r.height,a=r.loader,f=r.header,s=r.storyStyles,d=function(t,n){switch(t){case"UPDATE_VIDEO_DURATION":return e.getVideoDuration(n.duration),{ack:"OK"}}};return u.default.createElement("div",{style:Object.assign(Object.assign({},c.story),{width:o,height:i})},(t=e.story.content,n={width:o,height:i,loader:a,header:f,storyStyles:s},u.default.createElement(t,{action:e.action,isPaused:e.playState,story:e.story,config:n,messageHandler:d})))}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(0)),f=l(n(11)),s=l(n(3)),d=l(n(1)),p=l(n(2));t.default=function(){var e=r(c.useState(0),2),t=e[0],n=e[1],o=c.useContext(s.default),i=o.currentId,a=o.next,u=o.videoDuration,l=o.pause,h=c.useContext(d.default),m=h.defaultInterval,v=h.onStoryEnd,b=h.onStoryStart,g=h.onAllStoriesEnd,_=c.useContext(p.default).stories;c.useEffect((function(){n(0)}),[i,_]),c.useEffect((function(){return l||(j.current=requestAnimationFrame(w)),function(){cancelAnimationFrame(j.current)}}),[i,l]);var j=c.useRef(),O=t,w=function e(){0===O&&S(),n((function(e){var t=E();return O=e+100/(t/1e3*60),e+100/(t/1e3*60)})),O<100?j.current=requestAnimationFrame(e):(x(),i===_.length-1&&M(),cancelAnimationFrame(j.current),a())},S=function(){b&&b(i,_[i])},x=function(){v&&v(i,_[i])},M=function(){g&&g(i,_)},E=function(){return"video"===_[i].type?u:"number"==typeof _[i].duration?_[i].duration:m};return c.default.createElement("div",{style:y.progressArr},_.map((function(e,n){return c.default.createElement(f.default,{key:n,count:t,width:1/_.length,active:n===i?1:n<i?2:0})})))};var y={progressArr:{display:"flex",justifyContent:"center",maxWidth:"100%",flexWrap:"row",position:"absolute",width:"98%",padding:5,paddingTop:7,alignSelf:"center",zIndex:99,filter:"drop-shadow(0 1px 8px #222)"}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),l=a(n(12)),c=a(n(3));t.default=function(e){var t=u.useContext(c.default),n=t.bufferAction,r=t.pause,o=e.width,i=e.active;return u.default.createElement(l.default,{width:o,pause:r,bufferAction:n},u.default.createElement("div",{style:Object.assign(Object.assign({},function(t){switch(t.active){case 2:return{width:"100%"};case 1:return{transform:"scaleX(".concat(e.count/100,")")};case 0:default:return{width:0}}}({active:i})),f.inner)}))};var f={inner:{background:"#fff",height:"100%",maxWidth:"100%",borderRadius:2,transformOrigin:"center left",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitPerspective:1e3,MozPerspective:1e3,msPerspective:1e3,perspective:1e3}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=function(e){var t=e.width,n=e.pause,r=e.bufferAction;return{width:"".concat(100*t,"%"),opacity:n&&!r?0:1}},a={progress:{height:2,maxWidth:"100%",background:"#555",margin:2,borderRadius:2,transition:"opacity 400ms ease-in-out"}};t.default=function(e){return o.default.createElement("div",{style:Object.assign(Object.assign({},a.progress),i(e))},e.children)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderer=void 0,t.getRenderer=function(e,t){var n=t.map((function(t){return Object.assign(Object.assign({},t),{testerResult:t.tester(e)})})).filter((function(e){return e.testerResult.condition}));return n.sort((function(e,t){return t.testerResult.priority-e.testerResult.priority})),n[0].renderer}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderers=void 0;var o=r(n(15)),i=r(n(21)),a=r(n(22)),u=r(n(23));t.renderers=[o.default,i.default,u.default,a.default]},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(n(0)),f=l(n(6)),s=l(n(4)),d=l(n(5));t.renderer=function(e){var t=e.story,n=e.action,o=(e.isPaused,e.config),i=r(c.useState(!1),2),a=i[0],u=i[1],l=o.width,y=o.height,h=o.loader,m=o.storyStyles,v=Object.assign(Object.assign({},p.storyContent),m||{});return c.createElement(s.default,{story:t,globalHeader:o.header},c.createElement(d.default,{story:t,action:n},c.createElement("div",null,c.createElement("img",{style:v,src:t.url,onLoad:function(){u(!0),n("play")}}),!a&&c.createElement("div",{style:{width:l,height:y,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},h||c.createElement("div",{className:f.default.spinner})))))};var p={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.tester=function(e){return{condition:!(e.content||e.type&&"image"!==e.type),priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function u(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],c=n[l]||0,f="".concat(l," ").concat(c);n[l]=c+1;var s=u(f),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==s?(a[s].references++,a[s].updater(d)):a.push({identifier:f,updater:m(d,t),references:1}),r.push(f)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var f,s=(f=[],function(e,t){return f[e]=t,f.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=s(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var y=null,h=0;function m(e,t){var n,r,o;if(t.singleton){var i=h++;n=y||(y=c(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=c(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=u(n[r]);a[o].references--}for(var i=l(e,t),c=0;c<n.length;c++){var f=u(n[c]);0===a[f].references&&(a[f].updater(),a.splice(f,1))}n=i}}}},function(e,t,n){(t=n(18)(!1)).push([e.i,"._1CK7FHVwhiOnuCiZJwiPq1 {\n\twidth: 40px;\n\theight: 40px;\n\tmargin: 100px auto;\n\tbackground-color: #fff;\n\n\tborder-radius: 100%;\n\t-webkit-animation: _1hEQ2VzIkTiZ-9jZoLI3JC 1s infinite ease-in-out;\n\tanimation: _1hEQ2VzIkTiZ-9jZoLI3JC 1s infinite ease-in-out;\n}\n\n@-webkit-keyframes _1hEQ2VzIkTiZ-9jZoLI3JC {\n\t0% {\n\t\t-webkit-transform: scale(0);\n\t}\n\t100% {\n\t\t-webkit-transform: scale(1);\n\t\topacity: 0;\n\t}\n}\n\n@keyframes _1hEQ2VzIkTiZ-9jZoLI3JC {\n\t0% {\n\t\t-webkit-transform: scale(0);\n\t\ttransform: scale(0);\n\t}\n\t100% {\n\t\t-webkit-transform: scale(1);\n\t\ttransform: scale(1);\n\t\topacity: 0;\n\t}\n}\n",""]),t.locals={spinner:"_1CK7FHVwhiOnuCiZJwiPq1","sk-scaleout":"_1hEQ2VzIkTiZ-9jZoLI3JC"},e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(l," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,u,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};t.default=function(e){var t=e.profileImage,n=e.heading,r=e.subheading;return o.default.createElement("div",{style:i.main},t&&o.default.createElement("img",{style:i.img,src:t}),o.default.createElement("span",{style:i.text},o.default.createElement("p",{style:i.heading},n),o.default.createElement("p",{style:i.subheading},r)))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(n(0)),l=a(n(1));t.default=function(e){var t=e.seeMoreContent,n=e.customCollapsed,r=u.useContext(l.default).keyboardNavigation;u.useEffect((function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof r&&r)return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[r]);var o=function(t){"ArrowUp"===t.key?(t.preventDefault(),e.toggleMore(!0)):"ArrowDown"!==t.key&&"Escape"!==t.key||(t.preventDefault(),e.toggleMore(!1))};return e.showContent?u.default.createElement("div",{style:c.seeMoreExpanded},u.default.createElement(t,{close:function(){return e.toggleMore(!1)}})):n?u.default.createElement(n,{action:e.action,toggleMore:e.toggleMore}):u.default.createElement("div",{style:c.seeMore,onClick:function(t){t.preventDefault(),t.stopPropagation(),e.toggleMore(!0)}},u.default.createElement("span",{style:c.seeMoreIcon},"⌃"),u.default.createElement("span",{style:c.seeMoreText},"See more"))};var c={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"},seeMoreClose:{position:"absolute",filter:"drop-shadow(0 3px 2px #ccc)",right:"0.5rem",top:"0.5rem",fontSize:"1.5rem",opacity:"0.7",padding:"1rem"}}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(n(0)),f=l(n(6)),s=l(n(4)),d=l(n(5));t.renderer=function(e){var t=e.story,n=e.action,o=e.isPaused,i=e.config,a=e.messageHandler,u=r(c.useState(!1),2),l=u[0],y=u[1],h=r(c.useState(!1),2),m=h[0],v=h[1],b=i.width,g=i.height,_=i.loader,j=i.storyStyles,O=Object.assign(Object.assign({},p.storyContent),j||{}),w=c.useRef(null);c.useEffect((function(){w.current&&(o?w.current.pause():w.current.play().catch((function(){})))}),[o]);return c.createElement(s.default,{story:t,globalHeader:i.header},c.createElement(d.default,{story:t,action:n},c.createElement("div",{style:p.videoContainer},c.createElement("video",{ref:w,style:O,src:t.url,controls:!1,onLoadedData:function(){a("UPDATE_VIDEO_DURATION",{duration:w.current.duration}),y(!0),w.current.play().then((function(){n("play")})).catch((function(){v(!0),w.current.play().finally((function(){n("play")}))}))},playsInline:!0,onWaiting:function(){n("pause",!0)},onPlaying:function(){n("play",!0)},muted:m}),!l&&c.createElement("div",{style:{width:b,height:g,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},_||c.createElement("div",{className:f.default.spinner})))))};var p={storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},videoContainer:{display:"flex",alignItems:"center",justifyContent:"center"}};t.tester=function(e){return{condition:"video"===e.type,priority:2}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(n(0));t.renderer=function(e){var t=e.story,n=e.action;return a.useEffect((function(){n("play")}),[t]),a.createElement("div",{style:u.storyContent},a.createElement("p",{style:u.text},"This story could not be loaded."))};var u={storyContent:{width:"100%",maxHeight:"100%",margin:"auto"},text:{textAlign:"center",color:"white",width:"90%",margin:"auto"}};t.tester=function(){return{condition:!0,priority:1}},t.default={renderer:t.renderer,tester:t.tester}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var a=i(n(0));t.renderer=function(e){a.useEffect((function(){e.action("play")}),[e.story]);var t=e.story.originalContent;return a.createElement(t,Object.assign({},e))},t.tester=function(e){return{condition:!!e.content,priority:2}},t.default={renderer:t.renderer,tester:t.tester}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TdG9yaWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1N0b3JpZXMvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInJlYWN0XCIsXCJjb21tb25qczJcIjpcInJlYWN0XCIsXCJhbWRcIjpcIlJlYWN0XCIsXCJyb290XCI6XCJSZWFjdFwifSIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbnRleHQvR2xvYmFsLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9TdG9yaWVzLnRzIiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvY29udGV4dC9Qcm9ncmVzcy50cyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoSGVhZGVyLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy93cmFwcGVycy93aXRoU2VlTW9yZS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9zdHlsZXMuY3NzP2JiYmYiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL0NvbnRhaW5lci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1N0b3J5LnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbXBvbmVudHMvUHJvZ3Jlc3NBcnJheS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1Byb2dyZXNzLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL2NvbXBvbmVudHMvUHJvZ3Jlc3NXcmFwcGVyLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3V0aWwvcmVuZGVyZXJzLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9pbmRleC50cyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9JbWFnZS50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL0hlYWRlci50c3giLCJ3ZWJwYWNrOi8vU3Rvcmllcy8uL3NyYy9jb21wb25lbnRzL1NlZU1vcmUudHN4Iiwid2VicGFjazovL1N0b3JpZXMvLi9zcmMvcmVuZGVyZXJzL1ZpZGVvLnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9EZWZhdWx0LnRzeCIsIndlYnBhY2s6Ly9TdG9yaWVzLy4vc3JjL3JlbmRlcmVycy9BdXRvUGxheUNvbnRlbnQudHN4Il0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMF9fIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImluaXRpYWxDb250ZXh0IiwiZGVmYXVsdEludGVydmFsIiwid2lkdGgiLCJoZWlnaHQiLCJHbG9iYWxDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInN0b3JpZXMiLCJTdG9yaWVzQ29udGV4dCIsImN1cnJlbnRJZCIsInZpZGVvRHVyYXRpb24iLCJidWZmZXJBY3Rpb24iLCJwYXVzZSIsIm5leHQiLCJzdG9yeSIsImdsb2JhbEhlYWRlciIsImNoaWxkcmVuIiwiaGVhZGVyIiwic3R5bGUiLCJwb3NpdGlvbiIsImxlZnQiLCJ0b3AiLCJ6SW5kZXgiLCJoZWFkaW5nIiwic3ViaGVhZGluZyIsInByb2ZpbGVJbWFnZSIsImFjdGlvbiIsImN1c3RvbUNvbGxhcHNlZCIsInVzZVN0YXRlIiwic2hvd01vcmUiLCJzZXRTaG93TW9yZSIsIkNvbGxhcHNlZENvbXBvbmVudCIsInNlZU1vcmUiLCJtYXJnaW4iLCJib3R0b20iLCJ0b2dnbGVNb3JlIiwic2hvdyIsInNob3dDb250ZW50Iiwic2VlTW9yZUNvbnRlbnQiLCJzZWVNb3JlQ29sbGFwc2VkIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwibG9jYWxzIiwiUmVhY3RJbnN0YVN0b3JpZXMiLCJwcm9wcyIsInJlbmRlcmVycyIsImNvbmNhdCIsImNvbnRleHQiLCJsb2FkZXIiLCJzdG9yeVN0eWxlcyIsImxvb3AiLCJpc1BhdXNlZCIsImN1cnJlbnRJbmRleCIsIm9uU3RvcnlTdGFydCIsIm9uU3RvcnlFbmQiLCJvbkFsbFN0b3JpZXNFbmQiLCJrZXlib2FyZE5hdmlnYXRpb24iLCJnZW5lcmF0ZVN0b3JpZXMiLCJzZXRTdG9yaWVzIiwidXNlRWZmZWN0IiwiUHJvdmlkZXIiLCJtYXAiLCJ1cmwiLCJ0eXBlIiwiYXNzaWduIiwicmVuZGVyZXIiLCJnZXRSZW5kZXJlciIsIm9yaWdpbmFsQ29udGVudCIsImRlZmF1bHRQcm9wcyIsIldpdGhIZWFkZXIiLCJXaXRoU2VlTW9yZSIsInNldEN1cnJlbnRJZCIsInNldFBhdXNlIiwic2V0QnVmZmVyQWN0aW9uIiwic2V0VmlkZW9EdXJhdGlvbiIsIm1vdXNlZG93bklkIiwidXNlUmVmIiwidXNlQ29udGV4dCIsImxlbmd0aCIsInNldEN1cnJlbnRJZFdyYXBwZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVLZXlEb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2aW91cyIsInRvZ2dsZVN0YXRlIiwiY2FsbGJhY2siLCJwcmV2IiwidXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wIiwidXBkYXRlTmV4dFN0b3J5SWQiLCJkZWJvdW5jZVBhdXNlIiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50Iiwic2V0VGltZW91dCIsIm1vdXNlVXAiLCJjbGVhclRpbWVvdXQiLCJzdHlsZXMiLCJjb250YWluZXIiLCJwbGF5U3RhdGUiLCJnZXRWaWRlb0R1cmF0aW9uIiwiZHVyYXRpb24iLCJvdmVybGF5Iiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaEVuZCIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJiYWNrZ3JvdW5kIiwib3ZlcmZsb3ciLCJzdG9yeUNvbnRlbnQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIklubmVyQ29udGVudCIsImNvbmZpZyIsImdsb2JhbENvbnRleHQiLCJyZW5kZXJlck1lc3NhZ2VIYW5kbGVyIiwiZGF0YSIsImFjayIsIm1lc3NhZ2VIYW5kbGVyIiwiY291bnQiLCJzZXRDb3VudCIsImFuaW1hdGlvbkZyYW1lSWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpbmNyZW1lbnRDb3VudCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY291bnRDb3B5Iiwic3RvcnlTdGFydENhbGxiYWNrIiwiaW50ZXJ2YWwiLCJnZXRDdXJyZW50SW50ZXJ2YWwiLCJzdG9yeUVuZENhbGxiYWNrIiwiYWxsU3Rvcmllc0VuZENhbGxiYWNrIiwicHJvZ3Jlc3NBcnIiLCJfIiwiYWN0aXZlIiwianVzdGlmeUNvbnRlbnQiLCJmbGV4V3JhcCIsInBhZGRpbmciLCJwYWRkaW5nVG9wIiwiYWxpZ25TZWxmIiwiZmlsdGVyIiwidHJhbnNmb3JtIiwiZ2V0UHJvZ3Jlc3NTdHlsZSIsImlubmVyIiwiYm9yZGVyUmFkaXVzIiwidHJhbnNmb3JtT3JpZ2luIiwiV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5IiwiTW96QmFja2ZhY2VWaXNpYmlsaXR5IiwibXNCYWNrZmFjZVZpc2liaWxpdHkiLCJiYWNrZmFjZVZpc2liaWxpdHkiLCJXZWJraXRQZXJzcGVjdGl2ZSIsIk1velBlcnNwZWN0aXZlIiwibXNQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwiZ2V0UHJvZ3Jlc3NXcmFwcGVyU3R5bGUiLCJvcGFjaXR5IiwicHJvZ3Jlc3MiLCJ0cmFuc2l0aW9uIiwicHJvYmFibGUiLCJ0ZXN0ZXJSZXN1bHQiLCJ0ZXN0ZXIiLCJjb25kaXRpb24iLCJzb3J0IiwiYSIsImIiLCJwcmlvcml0eSIsIlJlYWN0IiwibG9hZGVkIiwic2V0TG9hZGVkIiwiY29tcHV0ZWRTdHlsZXMiLCJzcmMiLCJvbkxvYWQiLCJhbGlnbkl0ZW1zIiwiY29sb3IiLCJjbGFzc05hbWUiLCJzcGlubmVyIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJwdXNoIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsIl9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyIsInVzZVNvdXJjZU1hcCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwiYmFzZTY0Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibWFpbiIsImltZyIsIm1hcmdpblJpZ2h0IiwiYm9yZGVyIiwidGV4dCIsImZvbnRTaXplIiwibWFyZ2luQm90dG9tIiwiU2VlTW9yZUNvbnRlbnQiLCJDdXN0b21Db2xsYXBzZWQiLCJzZWVNb3JlRXhwYW5kZWQiLCJjbG9zZSIsIm9uQ2xpY2siLCJzdG9wUHJvcGFnYXRpb24iLCJzZWVNb3JlSWNvbiIsInNlZU1vcmVUZXh0IiwiYm94U2l6aW5nIiwidGV4dEFsaWduIiwibGV0dGVyU3BhY2luZyIsInRleHRUcmFuc2Zvcm0iLCJzZWVNb3JlQ2xvc2UiLCJyaWdodCIsIm11dGVkIiwic2V0TXV0ZWQiLCJ2aWQiLCJwbGF5IiwidmlkZW9Db250YWluZXIiLCJyZWYiLCJjb250cm9scyIsIm9uTG9hZGVkRGF0YSIsInRoZW4iLCJwbGF5c0lubGluZSIsIm9uV2FpdGluZyIsIm9uUGxheWluZyIsIkNvbnRlbnQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLFVBQ1IsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxVQUFXLENBQUMsU0FBVUosR0FDSCxpQkFBWkMsUUFDZEEsUUFBaUIsUUFBSUQsRUFBUUcsUUFBUSxVQUVyQ0osRUFBYyxRQUFJQyxFQUFRRCxFQUFZLE9BUnhDLENBU0dPLE1BQU0sU0FBU0MsR0FDbEIsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVULFFBR25DLElBQUlDLEVBQVNNLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hYLFFBQVMsSUFVVixPQU5BWSxFQUFRSCxHQUFVSSxLQUFLWixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTUSxHQUcvRFAsRUFBT1UsR0FBSSxFQUdKVixFQUFPRCxRQTBEZixPQXJEQVEsRUFBb0JNLEVBQUlGLEVBR3hCSixFQUFvQk8sRUFBSVIsRUFHeEJDLEVBQW9CUSxFQUFJLFNBQVNoQixFQUFTaUIsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFbkIsRUFBU2lCLElBQ2xDRyxPQUFPQyxlQUFlckIsRUFBU2lC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QU0vRyxXQUFVLFdBQ1pmLEVBQU1wQixPQUFPLFVBQ2QsQ0FBQ29CLEVBQU1oQyxRQUNWLElBQU1tUyxFQUFVblEsRUFBTWhDLE1BQU11RCxnQkFDNUIsT0FBTyxnQkFBQzRPLEVBQU8saUJBQUtuUSxLQUdYLEVBQUF3SCxPQUFpQixTQUFDeEosR0FDM0IsTUFBTyxDQUNIeUosWUFBYXpKLEVBQU0yQixRQUNuQmtJLFNBQVUsSUFJbEIsVUFBZSxDQUNYeEcsU0FBQSxFQUFBQSxTQUNBbUcsT0FBQSxFQUFBQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiU3Rvcmllc1wiLCBbXCJSZWFjdFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTdG9yaWVzXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlN0b3JpZXNcIl0gPSBmYWN0b3J5KHJvb3RbXCJSZWFjdFwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzBfXzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgR2xvYmFsQ3R4IH0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsQ29udGV4dCA9IHtcblx0ZGVmYXVsdEludGVydmFsOiA0MDAwLFxuXHR3aWR0aDogMzYwLFxuXHRoZWlnaHQ6IDY0MCxcbn07XG5cbmNvbnN0IEdsb2JhbENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PEdsb2JhbEN0eD4oaW5pdGlhbENvbnRleHQpO1xuXG5leHBvcnQgZGVmYXVsdCBHbG9iYWxDb250ZXh0O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG5cdFN0b3JpZXNDb250ZXh0IGFzIFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlLFxuXHRTdG9yeSxcbn0gZnJvbSAnLi4vaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsQ29udGV4dDogeyBzdG9yaWVzOiBTdG9yeVtdIH0gPSB7XG5cdHN0b3JpZXM6IFtdLFxufTtcblxuY29uc3QgU3Rvcmllc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlPihcblx0aW5pdGlhbENvbnRleHRcbik7XG5cbmV4cG9ydCBkZWZhdWx0IFN0b3JpZXNDb250ZXh0O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvZ3Jlc3NDb250ZXh0IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5jcmVhdGVDb250ZXh0PFByb2dyZXNzQ29udGV4dD4oe1xuICAgIGN1cnJlbnRJZDogMCxcbiAgICB2aWRlb0R1cmF0aW9uOiAwLFxuICAgIGJ1ZmZlckFjdGlvbjogZmFsc2UsXG4gICAgcGF1c2U6IGZhbHNlLFxuICAgIG5leHQ6ICgpID0+IHsgfVxufSkiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3RvcnkgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzJztcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vLi4vLi4vY29tcG9uZW50cy9IZWFkZXJcIjtcblxuY29uc3Qgd2l0aEhlYWRlcjogUmVhY3QuRkM8eyBzdG9yeTogU3RvcnksIGdsb2JhbEhlYWRlcjogRnVuY3Rpb24gfT4gPSAoeyBzdG9yeSwgZ2xvYmFsSGVhZGVyLCBjaGlsZHJlbiB9KSA9PiB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAge3N0b3J5LmhlYWRlciAmJiAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIGxlZnQ6IDEyLCB0b3A6IDIwLCB6SW5kZXg6IDE5IH19PlxuICAgICAgICAgICAgICAgIHt0eXBlb2Ygc3RvcnkgPT09IFwib2JqZWN0XCIgPyAoXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEhlYWRlciA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEhlYWRlcihzdG9yeS5oZWFkZXIpXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nPXtzdG9yeS5oZWFkZXIuaGVhZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViaGVhZGluZz17c3RvcnkuaGVhZGVyLnN1YmhlYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVJbWFnZT17c3RvcnkuaGVhZGVyLnByb2ZpbGVJbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgPC8+XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhIZWFkZXI7IiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudFR5cGUsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQWN0aW9uLCBTZWVNb3JlUHJvcHMsIFN0b3J5IH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgU2VlTW9yZSBmcm9tIFwiLi8uLi8uLi9jb21wb25lbnRzL1NlZU1vcmVcIjtcblxuY29uc3Qgd2l0aFNlZU1vcmU6IFJlYWN0LkZDPHtcbiAgICBzdG9yeTogU3RvcnksXG4gICAgYWN0aW9uOiBBY3Rpb24sXG4gICAgY3VzdG9tQ29sbGFwc2VkPzogU2VlTW9yZVByb3BzW1wiY3VzdG9tQ29sbGFwc2VkXCJdXG59PiA9ICh7IHN0b3J5LCBhY3Rpb24sIGN1c3RvbUNvbGxhcHNlZCwgY2hpbGRyZW4gfSkgPT4ge1xuICAgIGNvbnN0IFtzaG93TW9yZSwgc2V0U2hvd01vcmVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHRvZ2dsZU1vcmUgPSAoc2hvdykgPT4ge1xuICAgICAgICBhY3Rpb24oc2hvdyA/ICdwYXVzZScgOiAncGxheScpO1xuICAgICAgICBzZXRTaG93TW9yZShzaG93KTtcbiAgICB9XG4gICAgY29uc3QgQ29sbGFwc2VkQ29tcG9uZW50ID0gU2VlTW9yZTtcbiAgICByZXR1cm4gPD5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgICB7c3Rvcnkuc2VlTW9yZSAmJiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBzaG93TW9yZSA/ICd1bnNldCcgOiAwLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDk5OTksXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBzaG93TW9yZSA/ICcxMDAlJyA6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPENvbGxhcHNlZENvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb249e2FjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlTW9yZT17dG9nZ2xlTW9yZX1cbiAgICAgICAgICAgICAgICAgICAgc2hvd0NvbnRlbnQ9e3Nob3dNb3JlfVxuICAgICAgICAgICAgICAgICAgICBzZWVNb3JlQ29udGVudD17c3Rvcnkuc2VlTW9yZX1cbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ29sbGFwc2VkPXtjdXN0b21Db2xsYXBzZWQgfHwgc3Rvcnkuc2VlTW9yZUNvbGxhcHNlZH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgPC8+XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhTZWVNb3JlOyIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL0B0ZWFtc3VwZXJjZWxsL3R5cGluZ3MtZm9yLWNzcy1tb2R1bGVzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNS0yIS4vc3R5bGVzLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJlYWN0SW5zdGFTdG9yaWVzUHJvcHMsIEdsb2JhbEN0eCwgU3RvcnksIFRlc3RlciwgUmVuZGVyZXIgfSBmcm9tICcuL2ludGVyZmFjZXMnXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vY29tcG9uZW50cy9Db250YWluZXInXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuL2NvbnRleHQvR2xvYmFsJ1xuaW1wb3J0IFN0b3JpZXNDb250ZXh0IGZyb20gJy4vY29udGV4dC9TdG9yaWVzJztcbmltcG9ydCB7IGdldFJlbmRlcmVyIH0gZnJvbSAnLi91dGlsL3JlbmRlcmVycydcbmltcG9ydCB7IHJlbmRlcmVycyBhcyBkZWZhdWx0UmVuZGVyZXJzIH0gZnJvbSAnLi9yZW5kZXJlcnMvaW5kZXgnO1xuaW1wb3J0IHdpdGhIZWFkZXIgZnJvbSAnLi9yZW5kZXJlcnMvd3JhcHBlcnMvd2l0aEhlYWRlcidcbmltcG9ydCB3aXRoU2VlTW9yZSBmcm9tICcuL3JlbmRlcmVycy93cmFwcGVycy93aXRoU2VlTW9yZSdcblxuY29uc3QgUmVhY3RJbnN0YVN0b3JpZXMgPSBmdW5jdGlvbiAocHJvcHM6IFJlYWN0SW5zdGFTdG9yaWVzUHJvcHMpIHtcbiAgICBsZXQgcmVuZGVyZXJzID0gcHJvcHMucmVuZGVyZXJzID8gcHJvcHMucmVuZGVyZXJzLmNvbmNhdChkZWZhdWx0UmVuZGVyZXJzKSA6IGRlZmF1bHRSZW5kZXJlcnM7XG4gICAgbGV0IGNvbnRleHQ6IEdsb2JhbEN0eCA9IHtcbiAgICAgICAgd2lkdGg6IHByb3BzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHByb3BzLmhlaWdodCxcbiAgICAgICAgbG9hZGVyOiBwcm9wcy5sb2FkZXIsXG4gICAgICAgIGhlYWRlcjogcHJvcHMuaGVhZGVyLFxuICAgICAgICBzdG9yeVN0eWxlczogcHJvcHMuc3RvcnlTdHlsZXMsXG4gICAgICAgIGxvb3A6IHByb3BzLmxvb3AsXG4gICAgICAgIGRlZmF1bHRJbnRlcnZhbDogcHJvcHMuZGVmYXVsdEludGVydmFsLFxuICAgICAgICBpc1BhdXNlZDogcHJvcHMuaXNQYXVzZWQsXG4gICAgICAgIGN1cnJlbnRJbmRleDogcHJvcHMuY3VycmVudEluZGV4LFxuICAgICAgICBvblN0b3J5U3RhcnQ6IHByb3BzLm9uU3RvcnlTdGFydCxcbiAgICAgICAgb25TdG9yeUVuZDogcHJvcHMub25TdG9yeUVuZCxcbiAgICAgICAgb25BbGxTdG9yaWVzRW5kOiBwcm9wcy5vbkFsbFN0b3JpZXNFbmQsXG4gICAgICAgIGtleWJvYXJkTmF2aWdhdGlvbjogcHJvcHMua2V5Ym9hcmROYXZpZ2F0aW9uXG4gICAgfVxuICAgIGNvbnN0IFtzdG9yaWVzLCBzZXRTdG9yaWVzXSA9IHVzZVN0YXRlPHsgc3RvcmllczogU3RvcnlbXSB9Pih7IHN0b3JpZXM6IGdlbmVyYXRlU3Rvcmllcyhwcm9wcy5zdG9yaWVzLCByZW5kZXJlcnMpIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldFN0b3JpZXMoeyBzdG9yaWVzOiBnZW5lcmF0ZVN0b3JpZXMocHJvcHMuc3RvcmllcywgcmVuZGVyZXJzKSB9KTtcbiAgICB9LCBbcHJvcHMuc3RvcmllcywgcHJvcHMucmVuZGVyZXJzXSk7XG5cbiAgICByZXR1cm4gPEdsb2JhbENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuICAgICAgICA8U3Rvcmllc0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3N0b3JpZXN9PlxuICAgICAgICAgICAgPENvbnRhaW5lciAvPlxuICAgICAgICA8L1N0b3JpZXNDb250ZXh0LlByb3ZpZGVyPlxuICAgIDwvR2xvYmFsQ29udGV4dC5Qcm92aWRlcj5cbn1cblxuY29uc3QgZ2VuZXJhdGVTdG9yaWVzID0gKHN0b3JpZXM6IFN0b3J5W10sIHJlbmRlcmVyczogeyByZW5kZXJlcjogUmVuZGVyZXIsIHRlc3RlcjogVGVzdGVyIH1bXSkgPT4ge1xuICAgIHJldHVybiBzdG9yaWVzLm1hcChzID0+IHtcbiAgICAgICAgbGV0IHN0b3J5OiBTdG9yeSA9IHt9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHN0b3J5LnVybCA9IHM7XG4gICAgICAgICAgICBzdG9yeS50eXBlID0gJ2ltYWdlJztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHN0b3J5ID0gT2JqZWN0LmFzc2lnbihzdG9yeSwgcyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVuZGVyZXIgPSBnZXRSZW5kZXJlcihzdG9yeSwgcmVuZGVyZXJzKTtcbiAgICAgICAgc3Rvcnkub3JpZ2luYWxDb250ZW50ID0gc3RvcnkuY29udGVudDtcbiAgICAgICAgc3RvcnkuY29udGVudCA9IHJlbmRlcmVyO1xuICAgICAgICByZXR1cm4gc3RvcnlcbiAgICB9KVxufTtcblxuUmVhY3RJbnN0YVN0b3JpZXMuZGVmYXVsdFByb3BzID0ge1xuICAgIHdpZHRoOiAzNjAsXG4gICAgaGVpZ2h0OiA2NDAsXG4gICAgZGVmYXVsdEludGVydmFsOiA0MDAwXG59XG5cbmV4cG9ydCBjb25zdCBXaXRoSGVhZGVyID0gd2l0aEhlYWRlcjtcbmV4cG9ydCBjb25zdCBXaXRoU2VlTW9yZSA9IHdpdGhTZWVNb3JlO1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdEluc3RhU3RvcmllcyIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBHbG9iYWxDb250ZXh0IGZyb20gJy4vLi4vY29udGV4dC9HbG9iYWwnXG5pbXBvcnQgU3Rvcmllc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1N0b3JpZXMnXG5pbXBvcnQgUHJvZ3Jlc3NDb250ZXh0IGZyb20gJy4vLi4vY29udGV4dC9Qcm9ncmVzcydcbmltcG9ydCBTdG9yeSBmcm9tICcuL1N0b3J5J1xuaW1wb3J0IFByb2dyZXNzQXJyYXkgZnJvbSAnLi9Qcm9ncmVzc0FycmF5J1xuaW1wb3J0IHsgR2xvYmFsQ3R4LCBTdG9yaWVzQ29udGV4dCBhcyBTdG9yaWVzQ29udGV4dEludGVyZmFjZSB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IFtjdXJyZW50SWQsIHNldEN1cnJlbnRJZF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApXG4gICAgY29uc3QgW3BhdXNlLCBzZXRQYXVzZV0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKVxuICAgIGNvbnN0IFtidWZmZXJBY3Rpb24sIHNldEJ1ZmZlckFjdGlvbl0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKVxuICAgIGNvbnN0IFt2aWRlb0R1cmF0aW9uLCBzZXRWaWRlb0R1cmF0aW9uXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcblxuICAgIGxldCBtb3VzZWRvd25JZCA9IHVzZVJlZjxhbnk+KCk7XG5cbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxvb3AsIGN1cnJlbnRJbmRleCwgaXNQYXVzZWQsIGtleWJvYXJkTmF2aWdhdGlvbiB9ID0gdXNlQ29udGV4dDxHbG9iYWxDdHg+KEdsb2JhbENvbnRleHQpO1xuICAgIGNvbnN0IHsgc3RvcmllcyB9ID0gdXNlQ29udGV4dDxTdG9yaWVzQ29udGV4dEludGVyZmFjZT4oU3Rvcmllc0NvbnRleHQpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50SW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID49IDAgJiYgY3VycmVudEluZGV4IDwgc3Rvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SWRXcmFwcGVyKCgpID0+IGN1cnJlbnRJbmRleClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW5kZXggb3V0IG9mIGJvdW5kcy4gQ3VycmVudCBpbmRleCB3YXMgc2V0IHRvIHZhbHVlIG1vcmUgdGhhbiB0aGUgbGVuZ3RoIG9mIHN0b3JpZXMgYXJyYXkuJywgY3VycmVudEluZGV4KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2N1cnJlbnRJbmRleF0pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGlzUGF1c2VkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHNldFBhdXNlKGlzUGF1c2VkKVxuICAgICAgICB9XG4gICAgfSwgW2lzUGF1c2VkXSlcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzQ2xpZW50ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCk7XG4gICAgICAgIGlmIChpc0NsaWVudCAmJiAodHlwZW9mIGtleWJvYXJkTmF2aWdhdGlvbiA9PT0gJ2Jvb2xlYW4nICYmIGtleWJvYXJkTmF2aWdhdGlvbikpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtrZXlib2FyZE5hdmlnYXRpb25dKVxuXG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0Fycm93TGVmdCcpIHtcbiAgICAgICAgICAgIHByZXZpb3VzKClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgICAgICBuZXh0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHRvZ2dsZVN0YXRlID0gKGFjdGlvbjogc3RyaW5nLCBidWZmZXJBY3Rpb24/OiBib29sZWFuKSA9PiB7XG4gICAgICAgIHNldFBhdXNlKGFjdGlvbiA9PT0gJ3BhdXNlJylcbiAgICAgICAgc2V0QnVmZmVyQWN0aW9uKCEhYnVmZmVyQWN0aW9uKVxuICAgIH1cblxuICAgIGNvbnN0IHNldEN1cnJlbnRJZFdyYXBwZXIgPSAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgc2V0Q3VycmVudElkKGNhbGxiYWNrKTtcbiAgICAgICAgdG9nZ2xlU3RhdGUoJ3BhdXNlJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXMgPSAoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRJZFdyYXBwZXIocHJldiA9PiBwcmV2ID4gMCA/IHByZXYgLSAxIDogcHJldilcbiAgICB9XG5cbiAgICBjb25zdCBuZXh0ID0gKCkgPT4ge1xuICAgICAgICBpZiAobG9vcCkge1xuICAgICAgICAgICAgdXBkYXRlTmV4dFN0b3J5SWRGb3JMb29wKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZU5leHRTdG9yeUlkKClcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1cGRhdGVOZXh0U3RvcnlJZEZvckxvb3AgPSAoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRJZFdyYXBwZXIocHJldiA9PiAocHJldiArIDEpICUgc3Rvcmllcy5sZW5ndGgpXG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlTmV4dFN0b3J5SWQgPSAoKSA9PiB7XG4gICAgICAgIHNldEN1cnJlbnRJZFdyYXBwZXIocHJldiA9PiB7XG4gICAgICAgICAgICBpZiAocHJldiA8IHN0b3JpZXMubGVuZ3RoIC0gMSkgcmV0dXJuIHByZXYgKyAxXG4gICAgICAgICAgICByZXR1cm4gcHJldlxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IGRlYm91bmNlUGF1c2UgPSAoZTogUmVhY3QuTW91c2VFdmVudCB8IFJlYWN0LlRvdWNoRXZlbnQpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIG1vdXNlZG93bklkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZVN0YXRlKCdwYXVzZScpXG4gICAgICAgIH0sIDIwMClcbiAgICB9XG5cbiAgICBjb25zdCBtb3VzZVVwID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5Ub3VjaEV2ZW50LCB0eXBlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIG1vdXNlZG93bklkLmN1cnJlbnQgJiYgY2xlYXJUaW1lb3V0KG1vdXNlZG93bklkLmN1cnJlbnQpXG4gICAgICAgIGlmIChwYXVzZSkge1xuICAgICAgICAgICAgdG9nZ2xlU3RhdGUoJ3BsYXknKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9PT0gJ25leHQnID8gbmV4dCgpIDogcHJldmlvdXMoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0VmlkZW9EdXJhdGlvbiA9IChkdXJhdGlvbjogbnVtYmVyKSA9PiB7XG4gICAgICAgIHNldFZpZGVvRHVyYXRpb24oZHVyYXRpb24gKiAxMDAwKVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLmNvbnRhaW5lciwgLi4ueyB3aWR0aCwgaGVpZ2h0IH0gfX0+XG4gICAgICAgICAgICA8UHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7XG4gICAgICAgICAgICAgICAgYnVmZmVyQWN0aW9uOiBidWZmZXJBY3Rpb24sXG4gICAgICAgICAgICAgICAgdmlkZW9EdXJhdGlvbjogdmlkZW9EdXJhdGlvbixcbiAgICAgICAgICAgICAgICBjdXJyZW50SWQsXG4gICAgICAgICAgICAgICAgcGF1c2UsXG4gICAgICAgICAgICAgICAgbmV4dFxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPFByb2dyZXNzQXJyYXkgLz5cbiAgICAgICAgICAgIDwvUHJvZ3Jlc3NDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICAgPFN0b3J5XG4gICAgICAgICAgICAgICAgYWN0aW9uPXt0b2dnbGVTdGF0ZX1cbiAgICAgICAgICAgICAgICBidWZmZXJBY3Rpb249e2J1ZmZlckFjdGlvbn1cbiAgICAgICAgICAgICAgICBwbGF5U3RhdGU9e3BhdXNlfVxuICAgICAgICAgICAgICAgIHN0b3J5PXtzdG9yaWVzW2N1cnJlbnRJZF19XG4gICAgICAgICAgICAgICAgZ2V0VmlkZW9EdXJhdGlvbj17Z2V0VmlkZW9EdXJhdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMub3ZlcmxheX0+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzUwJScsIHpJbmRleDogOTk5IH19IG9uVG91Y2hTdGFydD17ZGVib3VuY2VQYXVzZX0gb25Ub3VjaEVuZD17ZSA9PiBtb3VzZVVwKGUsICdwcmV2aW91cycpfSBvbk1vdXNlRG93bj17ZGVib3VuY2VQYXVzZX0gb25Nb3VzZVVwPXsoZSkgPT4gbW91c2VVcChlLCAncHJldmlvdXMnKX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAnNTAlJywgekluZGV4OiA5OTkgfX0gb25Ub3VjaFN0YXJ0PXtkZWJvdW5jZVBhdXNlfSBvblRvdWNoRW5kPXtlID0+IG1vdXNlVXAoZSwgJ25leHQnKX0gb25Nb3VzZURvd249e2RlYm91bmNlUGF1c2V9IG9uTW91c2VVcD17KGUpID0+IG1vdXNlVXAoZSwgJ25leHQnKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICApXG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgYmFja2dyb3VuZDogJyMxMTEnLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG4gICAgb3ZlcmxheToge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgaGVpZ2h0OiAnaW5oZXJpdCcsXG4gICAgICAgIHdpZHRoOiAnaW5oZXJpdCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgIH1cbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3RvcnlQcm9wcywgR2xvYmFsQ3R4IH0gZnJvbSBcIi4vLi4vaW50ZXJmYWNlc1wiO1xuaW1wb3J0IEdsb2JhbENvbnRleHQgZnJvbSBcIi4vLi4vY29udGV4dC9HbG9iYWxcIjtcblxuY29uc3QgU3RvcnkgPSAocHJvcHM6IFN0b3J5UHJvcHMpID0+IHtcblx0Y29uc3QgZ2xvYmFsQ29udGV4dCA9IHVzZUNvbnRleHQ8R2xvYmFsQ3R4Pihcblx0XHRHbG9iYWxDb250ZXh0XG5cdCk7XG5cblx0Y29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBsb2FkZXIsIGhlYWRlciwgc3RvcnlTdHlsZXMgfSA9IGdsb2JhbENvbnRleHQ7XG5cblx0Y29uc3QgcmVuZGVyZXJNZXNzYWdlSGFuZGxlciA9ICh0eXBlOiBzdHJpbmcsIGRhdGE6IGFueSkgPT4ge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnVVBEQVRFX1ZJREVPX0RVUkFUSU9OJzpcblx0XHRcdFx0cHJvcHMuZ2V0VmlkZW9EdXJhdGlvbihkYXRhLmR1cmF0aW9uKTtcblx0XHRcdFx0cmV0dXJuIHsgYWNrOiAnT0snIGFzICdPSycgfVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGdldFN0b3J5Q29udGVudCA9ICgpID0+IHtcblx0XHRsZXQgSW5uZXJDb250ZW50ID0gcHJvcHMuc3RvcnkuY29udGVudDtcblx0XHRsZXQgY29uZmlnID0geyB3aWR0aCwgaGVpZ2h0LCBsb2FkZXIsIGhlYWRlciwgc3RvcnlTdHlsZXMgfTtcblx0XHRyZXR1cm4gPElubmVyQ29udGVudFxuXHRcdFx0YWN0aW9uPXtwcm9wcy5hY3Rpb259XG5cdFx0XHRpc1BhdXNlZD17cHJvcHMucGxheVN0YXRlfVxuXHRcdFx0c3Rvcnk9e3Byb3BzLnN0b3J5fVxuXHRcdFx0Y29uZmlnPXtjb25maWd9XG5cdFx0XHRtZXNzYWdlSGFuZGxlcj17cmVuZGVyZXJNZXNzYWdlSGFuZGxlcn1cblx0XHQvPlxuXHR9O1xuXG5cdHJldHVybiAoXG5cdFx0PGRpdiBzdHlsZT17eyAuLi5zdHlsZXMuc3RvcnksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfX0+XG5cdFx0XHR7Z2V0U3RvcnlDb250ZW50KCl9XG5cdFx0PC9kaXY+XG5cdCk7XG59O1xuXG5jb25zdCBzdHlsZXMgPSB7XG5cdHN0b3J5OiB7XG5cdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHR9LFxuXHRzdG9yeUNvbnRlbnQ6IHtcblx0XHR3aWR0aDogXCJhdXRvXCIsXG5cdFx0bWF4V2lkdGg6IFwiMTAwJVwiLFxuXHRcdG1heEhlaWdodDogXCIxMDAlXCIsXG5cdFx0bWFyZ2luOiBcImF1dG9cIlxuXHR9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTdG9yeTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBQcm9ncmVzcyBmcm9tICcuL1Byb2dyZXNzJ1xuaW1wb3J0IHsgUHJvZ3Jlc3NDb250ZXh0LCBHbG9iYWxDdHgsIFN0b3JpZXNDb250ZXh0IGFzIFN0b3JpZXNDb250ZXh0SW50ZXJmYWNlIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IFByb2dyZXNzQ3R4IGZyb20gJy4vLi4vY29udGV4dC9Qcm9ncmVzcydcbmltcG9ydCBHbG9iYWxDb250ZXh0IGZyb20gJy4vLi4vY29udGV4dC9HbG9iYWwnXG5pbXBvcnQgU3Rvcmllc0NvbnRleHQgZnJvbSAnLi8uLi9jb250ZXh0L1N0b3JpZXMnXG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IHVzZVN0YXRlPG51bWJlcj4oMClcbiAgICBjb25zdCB7IGN1cnJlbnRJZCwgbmV4dCwgdmlkZW9EdXJhdGlvbiwgcGF1c2UgfSA9IHVzZUNvbnRleHQ8UHJvZ3Jlc3NDb250ZXh0PihQcm9ncmVzc0N0eClcbiAgICBjb25zdCB7IGRlZmF1bHRJbnRlcnZhbCwgb25TdG9yeUVuZCwgb25TdG9yeVN0YXJ0LCBvbkFsbFN0b3JpZXNFbmQgfSA9IHVzZUNvbnRleHQ8R2xvYmFsQ3R4PihHbG9iYWxDb250ZXh0KTtcbiAgICBjb25zdCB7IHN0b3JpZXMgfSA9IHVzZUNvbnRleHQ8U3Rvcmllc0NvbnRleHRJbnRlcmZhY2U+KFN0b3JpZXNDb250ZXh0KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldENvdW50KDApXG4gICAgfSwgW2N1cnJlbnRJZCwgc3Rvcmllc10pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXBhdXNlKSB7XG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZUlkLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5jcmVtZW50Q291bnQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQuY3VycmVudClcbiAgICAgICAgfVxuICAgIH0sIFtjdXJyZW50SWQsIHBhdXNlXSlcblxuICAgIGxldCBhbmltYXRpb25GcmFtZUlkID0gdXNlUmVmPG51bWJlcj4oKVxuXG4gICAgbGV0IGNvdW50Q29weSA9IGNvdW50O1xuICAgIGNvbnN0IGluY3JlbWVudENvdW50ID0gKCkgPT4ge1xuICAgICAgICBpZiAoY291bnRDb3B5ID09PSAwKSBzdG9yeVN0YXJ0Q2FsbGJhY2soKVxuICAgICAgICBzZXRDb3VudCgoY291bnQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBnZXRDdXJyZW50SW50ZXJ2YWwoKVxuICAgICAgICAgICAgY291bnRDb3B5ID0gY291bnQgKyAoMTAwIC8gKChpbnRlcnZhbCAvIDEwMDApICogNjApKVxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ICsgKDEwMCAvICgoaW50ZXJ2YWwgLyAxMDAwKSAqIDYwKSlcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKGNvdW50Q29weSA8IDEwMCkge1xuICAgICAgICAgICAgYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGluY3JlbWVudENvdW50KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcnlFbmRDYWxsYmFjaygpXG4gICAgICAgICAgICBpZiAoY3VycmVudElkID09PSBzdG9yaWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBhbGxTdG9yaWVzRW5kQ2FsbGJhY2soKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZC5jdXJyZW50KVxuICAgICAgICAgICAgbmV4dCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzdG9yeVN0YXJ0Q2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIG9uU3RvcnlTdGFydCAmJiBvblN0b3J5U3RhcnQoY3VycmVudElkLCBzdG9yaWVzW2N1cnJlbnRJZF0pXG4gICAgfVxuXG4gICAgY29uc3Qgc3RvcnlFbmRDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgb25TdG9yeUVuZCAmJiBvblN0b3J5RW5kKGN1cnJlbnRJZCwgc3Rvcmllc1tjdXJyZW50SWRdKVxuICAgIH1cblxuICAgIGNvbnN0IGFsbFN0b3JpZXNFbmRDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgb25BbGxTdG9yaWVzRW5kICYmIG9uQWxsU3Rvcmllc0VuZChjdXJyZW50SWQsIHN0b3JpZXMpXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0Q3VycmVudEludGVydmFsID0gKCkgPT4ge1xuICAgICAgICBpZiAoc3Rvcmllc1tjdXJyZW50SWRdLnR5cGUgPT09ICd2aWRlbycpIHJldHVybiB2aWRlb0R1cmF0aW9uXG4gICAgICAgIGlmICh0eXBlb2Ygc3Rvcmllc1tjdXJyZW50SWRdLmR1cmF0aW9uID09PSAnbnVtYmVyJykgcmV0dXJuIHN0b3JpZXNbY3VycmVudElkXS5kdXJhdGlvblxuICAgICAgICByZXR1cm4gZGVmYXVsdEludGVydmFsXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLnByb2dyZXNzQXJyfT5cbiAgICAgICAgICAgIHtzdG9yaWVzLm1hcCgoXywgaSkgPT5cbiAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgICBjb3VudD17Y291bnR9XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPXsxIC8gc3Rvcmllcy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZT17aSA9PT0gY3VycmVudElkID8gMSA6IChpIDwgY3VycmVudElkID8gMiA6IDApfVxuICAgICAgICAgICAgICAgIC8+KX1cbiAgICAgICAgPC9kaXY+XG4gICAgKVxufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gICAgcHJvZ3Jlc3NBcnI6IHtcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgIGZsZXhXcmFwOiAncm93JyxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIHdpZHRoOiAnOTglJyxcbiAgICAgICAgcGFkZGluZzogNSxcbiAgICAgICAgcGFkZGluZ1RvcDogNyxcbiAgICAgICAgYWxpZ25TZWxmOiAnY2VudGVyJyxcbiAgICAgICAgekluZGV4OiA5OSxcbiAgICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMCAxcHggOHB4ICMyMjIpJ1xuICAgIH1cbn0iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvZ3Jlc3NQcm9wcywgUHJvZ3Jlc3NDb250ZXh0IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IFByb2dyZXNzV3JhcHBlciBmcm9tICcuL1Byb2dyZXNzV3JhcHBlcidcbmltcG9ydCBQcm9ncmVzc0N0eCBmcm9tICcuLy4uL2NvbnRleHQvUHJvZ3Jlc3MnXG5cbmV4cG9ydCBkZWZhdWx0IChwcm9wczogUHJvZ3Jlc3NQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgYnVmZmVyQWN0aW9uLCBwYXVzZSB9ID0gdXNlQ29udGV4dDxQcm9ncmVzc0NvbnRleHQ+KFByb2dyZXNzQ3R4KVxuXG4gICAgY29uc3QgZ2V0UHJvZ3Jlc3NTdHlsZSA9ICh7IGFjdGl2ZSB9KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoYWN0aXZlKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6ICcxMDAlJyB9XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHJhbnNmb3JtOiBgc2NhbGVYKCR7cHJvcHMuY291bnQgLyAxMDB9KWAgfVxuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHdpZHRoOiAwIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6IDAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyB3aWR0aCwgYWN0aXZlIH0gPSBwcm9wc1xuICAgIHJldHVybiAoXG4gICAgICAgIDxQcm9ncmVzc1dyYXBwZXIgd2lkdGg9e3dpZHRofSBwYXVzZT17cGF1c2V9IGJ1ZmZlckFjdGlvbj17YnVmZmVyQWN0aW9ufT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17eyAuLi5nZXRQcm9ncmVzc1N0eWxlKHsgYWN0aXZlIH0pLCAuLi5zdHlsZXMuaW5uZXIgfX0gLz5cbiAgICAgICAgPC9Qcm9ncmVzc1dyYXBwZXI+XG4gICAgKVxufVxuXG5jb25zdCBzdHlsZXM6IGFueSA9IHtcbiAgICBpbm5lcjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBsZWZ0JyxcblxuICAgICAgICBXZWJraXRCYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgICAgICBNb3pCYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgICAgICBtc0JhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgIGJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG5cbiAgICAgICAgV2Via2l0UGVyc3BlY3RpdmU6IDEwMDAsXG4gICAgICAgIE1velBlcnNwZWN0aXZlOiAxMDAwLFxuICAgICAgICBtc1BlcnNwZWN0aXZlOiAxMDAwLFxuICAgICAgICBwZXJzcGVjdGl2ZTogMTAwMFxuICAgIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9ncmVzc1dyYXBwZXJQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcblxuY29uc3QgUHJvZ3Jlc3NXcmFwcGVyID0gKHByb3BzOiBQcm9ncmVzc1dyYXBwZXJQcm9wcykgPT4gKFxuICAgIDxkaXYgc3R5bGU9e3sgLi4uc3R5bGVzLnByb2dyZXNzLCAuLi5nZXRQcm9ncmVzc1dyYXBwZXJTdHlsZShwcm9wcykgfX0+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICA8L2Rpdj5cbilcblxuY29uc3QgZ2V0UHJvZ3Jlc3NXcmFwcGVyU3R5bGUgPSAoeyB3aWR0aCwgcGF1c2UsIGJ1ZmZlckFjdGlvbiB9KSA9PiAoe1xuICAgIHdpZHRoOiBgJHt3aWR0aCAqIDEwMH0lYCxcbiAgICBvcGFjaXR5OiBwYXVzZSAmJiAhYnVmZmVyQWN0aW9uID8gMCA6IDFcbn0pXG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBwcm9ncmVzczoge1xuICAgICAgICBoZWlnaHQ6IDIsXG4gICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgIGJhY2tncm91bmQ6ICcjNTU1JyxcbiAgICAgICAgbWFyZ2luOiAyLFxuICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDQwMG1zIGVhc2UtaW4tb3V0J1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZ3Jlc3NXcmFwcGVyIiwiaW1wb3J0IHsgUmVuZGVyZXIsIFN0b3J5LCBUZXN0ZXIgfSBmcm9tIFwiLi4vaW50ZXJmYWNlc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0UmVuZGVyZXIgPSAoc3Rvcnk6IFN0b3J5LCByZW5kZXJlcnM6IHsgcmVuZGVyZXI6IFJlbmRlcmVyLCB0ZXN0ZXI6IFRlc3RlciB9W10pOiBSZW5kZXJlciA9PiB7XG4gICAgbGV0IHByb2JhYmxlID0gcmVuZGVyZXJzLm1hcChyID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnIsXG4gICAgICAgICAgICB0ZXN0ZXJSZXN1bHQ6IHIudGVzdGVyKHN0b3J5KVxuICAgICAgICB9XG4gICAgfSkuZmlsdGVyKHIgPT4gci50ZXN0ZXJSZXN1bHQuY29uZGl0aW9uKTtcbiAgICBwcm9iYWJsZS5zb3J0KChhLCBiKSA9PiBiLnRlc3RlclJlc3VsdC5wcmlvcml0eSAtIGEudGVzdGVyUmVzdWx0LnByaW9yaXR5KTtcbiAgICByZXR1cm4gcHJvYmFibGVbMF0ucmVuZGVyZXI7XG59IiwiaW1wb3J0IGltYWdlIGZyb20gJy4vSW1hZ2UnO1xuaW1wb3J0IHZpZGVvIGZyb20gJy4vVmlkZW8nO1xuaW1wb3J0IGRlZmF1bHRSZW5kZXJlciBmcm9tICcuL0RlZmF1bHQnO1xuaW1wb3J0IGF1dG9wbGF5Q29udGVudCBmcm9tICcuL0F1dG9QbGF5Q29udGVudCc7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJlcnMgPSBbaW1hZ2UsIHZpZGVvLCBhdXRvcGxheUNvbnRlbnQsIGRlZmF1bHRSZW5kZXJlcl07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgVGVzdGVyIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJztcbmltcG9ydCBnbG9iYWxTdHlsZSBmcm9tICcuLy4uL3N0eWxlcy5jc3MnXG5pbXBvcnQgV2l0aEhlYWRlciBmcm9tICcuL3dyYXBwZXJzL3dpdGhIZWFkZXInO1xuaW1wb3J0IFdpdGhTZWVNb3JlIGZyb20gJy4vd3JhcHBlcnMvd2l0aFNlZU1vcmUnO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyZXI6IFJlbmRlcmVyID0gKHsgc3RvcnksIGFjdGlvbiwgaXNQYXVzZWQsIGNvbmZpZyB9KSA9PiB7XG4gICAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGxvYWRlciwgc3RvcnlTdHlsZXMgfSA9IGNvbmZpZztcbiAgICBsZXQgY29tcHV0ZWRTdHlsZXMgPSB7XG4gICAgICAgIC4uLnN0eWxlcy5zdG9yeUNvbnRlbnQsXG4gICAgICAgIC4uLihzdG9yeVN0eWxlcyB8fCB7fSlcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZUxvYWRlZCA9ICgpID0+IHtcbiAgICAgICAgc2V0TG9hZGVkKHRydWUpO1xuICAgICAgICBhY3Rpb24oJ3BsYXknKTtcbiAgICB9XG5cbiAgICByZXR1cm4gPFdpdGhIZWFkZXIgc3Rvcnk9e3N0b3J5fSBnbG9iYWxIZWFkZXI9e2NvbmZpZy5oZWFkZXJ9PlxuICAgICAgICA8V2l0aFNlZU1vcmUgc3Rvcnk9e3N0b3J5fSBhY3Rpb249e2FjdGlvbn0+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxpbWcgc3R5bGU9e2NvbXB1dGVkU3R5bGVzfSBzcmM9e3N0b3J5LnVybH0gb25Mb2FkPXtpbWFnZUxvYWRlZH0gLz5cbiAgICAgICAgICAgICAgICB7IWxvYWRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsIDAsIDAsIDAuOSlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjY2NjXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtsb2FkZXIgfHwgPGRpdiBjbGFzc05hbWU9e2dsb2JhbFN0eWxlLnNwaW5uZXJ9IC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvV2l0aFNlZU1vcmU+XG4gICAgPC9XaXRoSGVhZGVyPlxufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gICAgc3Rvcnk6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgfSxcbiAgICBzdG9yeUNvbnRlbnQ6IHtcbiAgICAgICAgd2lkdGg6IFwiYXV0b1wiLFxuICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCIsXG4gICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIG1hcmdpbjogXCJhdXRvXCJcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoc3RvcnkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25kaXRpb246ICFzdG9yeS5jb250ZW50ICYmICghc3RvcnkudHlwZSB8fCBzdG9yeS50eXBlID09PSAnaW1hZ2UnKSxcbiAgICAgICAgcHJpb3JpdHk6IDJcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZW5kZXJlcixcbiAgICB0ZXN0ZXJcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLl8xQ0s3RkhWd2hpT251Q2laSndpUHExIHtcXG5cXHR3aWR0aDogNDBweDtcXG5cXHRoZWlnaHQ6IDQwcHg7XFxuXFx0bWFyZ2luOiAxMDBweCBhdXRvO1xcblxcdGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuXFxuXFx0Ym9yZGVyLXJhZGl1czogMTAwJTtcXG5cXHQtd2Via2l0LWFuaW1hdGlvbjogXzFoRVEyVnpJa1RpWi05alpvTEkzSkMgMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XFxuXFx0YW5pbWF0aW9uOiBfMWhFUTJWeklrVGlaLTlqWm9MSTNKQyAxcyBpbmZpbml0ZSBlYXNlLWluLW91dDtcXG59XFxuXFxuQC13ZWJraXQta2V5ZnJhbWVzIF8xaEVRMlZ6SWtUaVotOWpab0xJM0pDIHtcXG5cXHQwJSB7XFxuXFx0XFx0LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDApO1xcblxcdH1cXG5cXHQxMDAlIHtcXG5cXHRcXHQtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7XFxuXFx0XFx0b3BhY2l0eTogMDtcXG5cXHR9XFxufVxcblxcbkBrZXlmcmFtZXMgXzFoRVEyVnpJa1RpWi05alpvTEkzSkMge1xcblxcdDAlIHtcXG5cXHRcXHQtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMCk7XFxuXFx0XFx0dHJhbnNmb3JtOiBzY2FsZSgwKTtcXG5cXHR9XFxuXFx0MTAwJSB7XFxuXFx0XFx0LXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpO1xcblxcdFxcdHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuXFx0XFx0b3BhY2l0eTogMDtcXG5cXHR9XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5leHBvcnRzLmxvY2FscyA9IHtcblx0XCJzcGlubmVyXCI6IFwiXzFDSzdGSFZ3aGlPbnVDaVpKd2lQcTFcIixcblx0XCJzay1zY2FsZW91dFwiOiBcIl8xaEVRMlZ6SWtUaVotOWpab0xJM0pDXCJcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBIZWFkZXJQcm9wcyB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcydcblxuY29uc3QgSGVhZGVyID0gKHsgcHJvZmlsZUltYWdlLCBoZWFkaW5nLCBzdWJoZWFkaW5nIH06IEhlYWRlclByb3BzKSA9PlxuICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5tYWlufT5cbiAgICAgICAge3Byb2ZpbGVJbWFnZSAmJiA8aW1nIHN0eWxlPXtzdHlsZXMuaW1nfSBzcmM9e3Byb2ZpbGVJbWFnZX0gLz59XG4gICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMudGV4dH0+XG4gICAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmhlYWRpbmd9PntoZWFkaW5nfTwvcD5cbiAgICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuc3ViaGVhZGluZ30+e3N1YmhlYWRpbmd9PC9wPlxuICAgICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgICBtYWluOiB7XG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICB9LFxuICAgIGltZzoge1xuICAgICAgICB3aWR0aDogNDAsXG4gICAgICAgIGhlaWdodDogNDAsXG4gICAgICAgIGJvcmRlclJhZGl1czogNDAsXG4gICAgICAgIG1hcmdpblJpZ2h0OiAxMCxcbiAgICAgICAgZmlsdGVyOiAnZHJvcC1zaGFkb3coMCAwcHggMnB4IHJnYmEoMCwgMCwgMCwgMC41KSknLFxuICAgICAgICBib3JkZXI6ICcycHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJ1xuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICBmaWx0ZXI6ICdkcm9wLXNoYWRvdygwIDBweCAzcHggcmdiYSgwLCAwLCAwLCAwLjkpKSdcbiAgICB9LFxuICAgIGhlYWRpbmc6IHtcbiAgICAgICAgZm9udFNpemU6ICcxcmVtJyxcbiAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSknLFxuICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMlxuICAgIH0sXG4gICAgc3ViaGVhZGluZzoge1xuICAgICAgICBmb250U2l6ZTogJzAuNnJlbScsXG4gICAgICAgIGNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpJyxcbiAgICAgICAgbWFyZ2luOiAwXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXIiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgR2xvYmFsQ29udGV4dCBmcm9tICcuLy4uL2NvbnRleHQvR2xvYmFsJ1xuaW1wb3J0IHsgR2xvYmFsQ3R4IH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuaW1wb3J0IHsgU2VlTW9yZVByb3BzIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZWVNb3JlKHByb3BzOiBTZWVNb3JlUHJvcHMpIHtcbiAgICBjb25zdCBTZWVNb3JlQ29udGVudCA9IHByb3BzLnNlZU1vcmVDb250ZW50O1xuICAgIGNvbnN0IEN1c3RvbUNvbGxhcHNlZCA9IHByb3BzLmN1c3RvbUNvbGxhcHNlZDtcblxuICAgIGNvbnN0IHsga2V5Ym9hcmROYXZpZ2F0aW9uIH0gPSB1c2VDb250ZXh0PEdsb2JhbEN0eD4oR2xvYmFsQ29udGV4dCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBpc0NsaWVudCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xuICAgICAgICBpZiAoaXNDbGllbnQgJiYgKHR5cGVvZiBrZXlib2FyZE5hdmlnYXRpb24gPT09ICdib29sZWFuJyAmJiBrZXlib2FyZE5hdmlnYXRpb24pKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBba2V5Ym9hcmROYXZpZ2F0aW9uXSlcblxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd1VwJykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBwcm9wcy50b2dnbGVNb3JlKHRydWUpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09ICdBcnJvd0Rvd24nIHx8IGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBwcm9wcy50b2dnbGVNb3JlKGZhbHNlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgcHJvcHMuc2hvd0NvbnRlbnRcbiAgICAgICAgICAgID8gPGRpdiBzdHlsZT17c3R5bGVzLnNlZU1vcmVFeHBhbmRlZH0+XG4gICAgICAgICAgICAgICAgPFNlZU1vcmVDb250ZW50IGNsb3NlPXsoKSA9PiBwcm9wcy50b2dnbGVNb3JlKGZhbHNlKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgKEN1c3RvbUNvbGxhcHNlZCA/IDxDdXN0b21Db2xsYXBzZWQgYWN0aW9uPXtwcm9wcy5hY3Rpb259IHRvZ2dsZU1vcmU9e3Byb3BzLnRvZ2dsZU1vcmV9IC8+IDogPGRpdiBzdHlsZT17c3R5bGVzLnNlZU1vcmV9IG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgcHJvcHMudG9nZ2xlTW9yZSh0cnVlKVxuICAgICAgICAgICAgfX0gPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMuc2VlTW9yZUljb259PuKMgzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLnNlZU1vcmVUZXh0fT5TZWUgbW9yZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgIClcbn1cblxuY29uc3Qgc3R5bGVzOiBhbnkgPSB7XG4gICAgc2VlTW9yZToge1xuICAgICAgICBoZWlnaHQ6IFwiMTB2aFwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcImxpbmVhci1ncmFkaWVudChyZ2JhKDAsIDAsIDAsIDApLCByZ2JhKDAsIDAsIDAsIDAuMikpXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCIsXG4gICAgICAgIGJvdHRvbTogMFxuICAgIH0sXG4gICAgc2VlTW9yZUV4cGFuZGVkOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgekluZGV4OiA5OTk5OVxuICAgIH0sXG4gICAgc2VlTW9yZVRleHQ6IHtcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBsZXR0ZXJTcGFjaW5nOiBcIjAuMWVtXCIsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogXCIyLjJ2aFwiLFxuICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcImNhcGl0YWxpemVcIixcbiAgICAgICAgb3BhY2l0eTogXCIxXCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXG4gICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAzMDBtcyBlYXNlLWluLW91dFwiXG4gICAgfSxcbiAgICBzZWVNb3JlSWNvbjoge1xuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC4yZW1cIixcbiAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNHZoXCIsXG4gICAgICAgIG9wYWNpdHk6IFwiMVwiLFxuICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMCAwIDVweCBibGFjaylcIixcbiAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJjYXBpdGFsaXplXCIsXG4gICAgICAgIHRyYW5zaXRpb246IFwib3BhY2l0eSAzMDBtcyBlYXNlLWluLW91dFwiXG4gICAgfSxcbiAgICBzZWVNb3JlQ2xvc2U6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgZmlsdGVyOiBcImRyb3Atc2hhZG93KDAgM3B4IDJweCAjY2NjKVwiLFxuICAgICAgICByaWdodDogXCIwLjVyZW1cIixcbiAgICAgICAgdG9wOiBcIjAuNXJlbVwiLFxuICAgICAgICBmb250U2l6ZTogXCIxLjVyZW1cIixcbiAgICAgICAgb3BhY2l0eTogXCIwLjdcIixcbiAgICAgICAgcGFkZGluZzogXCIxcmVtXCJcbiAgICB9XG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVuZGVyZXIsIFRlc3RlciB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgZ2xvYmFsU3R5bGUgZnJvbSAnLi8uLi9zdHlsZXMuY3NzJ1xuaW1wb3J0IFdpdGhIZWFkZXIgZnJvbSAnLi93cmFwcGVycy93aXRoSGVhZGVyJztcbmltcG9ydCBXaXRoU2VlTW9yZSBmcm9tICcuL3dyYXBwZXJzL3dpdGhTZWVNb3JlJztcblxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyOiBSZW5kZXJlciA9ICh7IHN0b3J5LCBhY3Rpb24sIGlzUGF1c2VkLCBjb25maWcsIG1lc3NhZ2VIYW5kbGVyIH0pID0+IHtcbiAgICBjb25zdCBbbG9hZGVkLCBzZXRMb2FkZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFttdXRlZCwgc2V0TXV0ZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgbG9hZGVyLCBzdG9yeVN0eWxlcyB9ID0gY29uZmlnO1xuXG4gICAgbGV0IGNvbXB1dGVkU3R5bGVzID0ge1xuICAgICAgICAuLi5zdHlsZXMuc3RvcnlDb250ZW50LFxuICAgICAgICAuLi4oc3RvcnlTdHlsZXMgfHwge30pXG4gICAgfVxuXG4gICAgbGV0IHZpZCA9IFJlYWN0LnVzZVJlZjxIVE1MVmlkZW9FbGVtZW50PihudWxsKTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh2aWQuY3VycmVudCkge1xuICAgICAgICAgICAgaWYgKGlzUGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgdmlkLmN1cnJlbnQucGF1c2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlkLmN1cnJlbnQucGxheSgpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbaXNQYXVzZWRdKTtcblxuICAgIGNvbnN0IG9uV2FpdGluZyA9ICgpID0+IHtcbiAgICAgICAgYWN0aW9uKFwicGF1c2VcIiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3Qgb25QbGF5aW5nID0gKCkgPT4ge1xuICAgICAgICBhY3Rpb24oXCJwbGF5XCIsIHRydWUpO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZGVvTG9hZGVkID0gKCkgPT4ge1xuICAgICAgICBtZXNzYWdlSGFuZGxlcignVVBEQVRFX1ZJREVPX0RVUkFUSU9OJywgeyBkdXJhdGlvbjogdmlkLmN1cnJlbnQuZHVyYXRpb24gfSk7XG4gICAgICAgIHNldExvYWRlZCh0cnVlKTtcbiAgICAgICAgdmlkLmN1cnJlbnQucGxheSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgYWN0aW9uKCdwbGF5Jyk7XG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIHNldE11dGVkKHRydWUpO1xuICAgICAgICAgICAgdmlkLmN1cnJlbnQucGxheSgpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGlvbigncGxheScpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDxXaXRoSGVhZGVyIHN0b3J5PXtzdG9yeX0gZ2xvYmFsSGVhZGVyPXtjb25maWcuaGVhZGVyfT5cbiAgICAgICAgPFdpdGhTZWVNb3JlIHN0b3J5PXtzdG9yeX0gYWN0aW9uPXthY3Rpb259PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLnZpZGVvQ29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICA8dmlkZW9cbiAgICAgICAgICAgICAgICAgICAgcmVmPXt2aWR9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtjb21wdXRlZFN0eWxlc31cbiAgICAgICAgICAgICAgICAgICAgc3JjPXtzdG9yeS51cmx9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgb25Mb2FkZWREYXRhPXt2aWRlb0xvYWRlZH1cbiAgICAgICAgICAgICAgICAgICAgcGxheXNJbmxpbmVcbiAgICAgICAgICAgICAgICAgICAgb25XYWl0aW5nPXtvbldhaXRpbmd9XG4gICAgICAgICAgICAgICAgICAgIG9uUGxheWluZz17b25QbGF5aW5nfVxuICAgICAgICAgICAgICAgICAgICBtdXRlZD17bXV0ZWR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7IWxvYWRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsIDAsIDAsIDAuOSlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjY2NjXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtsb2FkZXIgfHwgPGRpdiBjbGFzc05hbWU9e2dsb2JhbFN0eWxlLnNwaW5uZXJ9IC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvV2l0aFNlZU1vcmU+XG4gICAgPC9XaXRoSGVhZGVyPlxufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gICAgc3RvcnlDb250ZW50OiB7XG4gICAgICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICAgICAgbWF4V2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBtYXhIZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICBtYXJnaW46IFwiYXV0b1wiXG4gICAgfSxcbiAgICB2aWRlb0NvbnRhaW5lcjoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoc3RvcnkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25kaXRpb246IHN0b3J5LnR5cGUgPT09ICd2aWRlbycsXG4gICAgICAgIHByaW9yaXR5OiAyXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgcmVuZGVyZXIsXG4gICAgdGVzdGVyXG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVuZGVyZXIsIFRlc3RlciB9IGZyb20gJy4vLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgZ2xvYmFsU3R5bGUgZnJvbSAnLi8uLi9zdHlsZXMuY3NzJ1xuaW1wb3J0IFdpdGhIZWFkZXIgZnJvbSAnLi93cmFwcGVycy93aXRoSGVhZGVyJztcbmltcG9ydCBXaXRoU2VlTW9yZSBmcm9tICcuL3dyYXBwZXJzL3dpdGhTZWVNb3JlJztcblxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyOiBSZW5kZXJlciA9ICh7IHN0b3J5LCBhY3Rpb24gfSkgPT4ge1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGFjdGlvbigncGxheScpO1xuICAgIH0sIFtzdG9yeV0pXG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGVzLnN0b3J5Q29udGVudH0+XG4gICAgICAgIDxwIHN0eWxlPXtzdHlsZXMudGV4dH0+VGhpcyBzdG9yeSBjb3VsZCBub3QgYmUgbG9hZGVkLjwvcD5cbiAgICA8L2Rpdj5cbn1cblxuY29uc3Qgc3R5bGVzID0ge1xuICAgIHN0b3J5Q29udGVudDoge1xuICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgIG1heEhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIG1hcmdpbjogXCJhdXRvXCJcbiAgICB9LFxuICAgIHRleHQ6IHtcbiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgIHdpZHRoOiAnOTAlJyxcbiAgICAgICAgbWFyZ2luOiAnYXV0bydcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29uZGl0aW9uOiB0cnVlLFxuICAgICAgICBwcmlvcml0eTogMVxuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZW5kZXJlcixcbiAgICB0ZXN0ZXJcbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgVGVzdGVyIH0gZnJvbSAnLi8uLi9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNvbnN0IHJlbmRlcmVyOiBSZW5kZXJlciA9IChwcm9wcykgPT4ge1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHByb3BzLmFjdGlvbigncGxheScpO1xuICAgIH0sIFtwcm9wcy5zdG9yeV0pXG4gICAgY29uc3QgQ29udGVudCA9IHByb3BzLnN0b3J5Lm9yaWdpbmFsQ29udGVudDtcbiAgICByZXR1cm4gPENvbnRlbnQgey4uLnByb3BzfSAvPlxufVxuXG5leHBvcnQgY29uc3QgdGVzdGVyOiBUZXN0ZXIgPSAoc3RvcnkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25kaXRpb246ICEhc3RvcnkuY29udGVudCxcbiAgICAgICAgcHJpb3JpdHk6IDJcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZW5kZXJlcixcbiAgICB0ZXN0ZXJcbn0iXSwic291cmNlUm9vdCI6IiJ9